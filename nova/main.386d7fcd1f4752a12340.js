(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"98P5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{};e.BigIntPolyfill="undefined"!=typeof BigInt?BigInt:r.BigInt||Number},"9EUN":function(t,e,n){"use strict";var r=n("w53j"),i=n("py2f"),o={nul:0,control:0};function s(t,e){if("string"!=typeof t)return a(t,e);for(var n=0,r=0;r<t.length;r++){var i=a(t.charCodeAt(r),e);if(i<0)return-1;n+=i}return n}function a(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,n=0,r=i.length-1;if(t<i[0][0]||t>i[r][1])return!1;for(;r>=n;)if(e=Math.floor((n+r)/2),t>i[e][1])n=e+1;else{if(!(t<i[e][0]))return!0;r=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}t.exports=function(t){return s(t,o)},t.exports.config=function(t){return t=r(t||{},o),function(e){return s(e,t)}}},Du9B:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Buffer;e.default=r},Edxu:function(t,e,n){"use strict";var r=65536,i=n("hwdV").Buffer,o=global.crypto||global.msCrypto;t.exports=o&&o.getRandomValues?function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(t);if(t>0)if(t>r)for(var s=0;s<t;s+=r)o.getRandomValues(n.slice(s,s+r));else o.getRandomValues(n);return"function"==typeof e?process.nextTick(function(){e(null,n)}):n}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},JBAE:function(t,e,n){var r=function(){"use strict";function t(e,r,i,o){"object"==typeof r&&(i=r.depth,o=r.prototype,r=r.circular);var s=[],a=[],u="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===i&&(i=1/0),function e(i,l){if(null===i)return null;if(0==l)return i;var c,h;if("object"!=typeof i)return i;if(t.__isArray(i))c=[];else if(t.__isRegExp(i))c=new RegExp(i.source,n(i)),i.lastIndex&&(c.lastIndex=i.lastIndex);else if(t.__isDate(i))c=new Date(i.getTime());else{if(u&&Buffer.isBuffer(i))return c=Buffer.allocUnsafe?Buffer.allocUnsafe(i.length):new Buffer(i.length),i.copy(c),c;void 0===o?(h=Object.getPrototypeOf(i),c=Object.create(h)):(c=Object.create(o),h=o)}if(r){var f=s.indexOf(i);if(-1!=f)return a[f];s.push(i),a.push(c)}for(var p in i){var d;h&&(d=Object.getOwnPropertyDescriptor(h,p)),d&&null==d.set||(c[p]=e(i[p],l-1))}return c}(e,i)}function e(t){return Object.prototype.toString.call(t)}function n(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=n,t}();t.exports&&(t.exports=r)},MqkW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("98P5");e.WASI_ESUCCESS=0,e.WASI_E2BIG=1,e.WASI_EACCES=2,e.WASI_EADDRINUSE=3,e.WASI_EADDRNOTAVAIL=4,e.WASI_EAFNOSUPPORT=5,e.WASI_EAGAIN=6,e.WASI_EALREADY=7,e.WASI_EBADF=8,e.WASI_EBADMSG=9,e.WASI_EBUSY=10,e.WASI_ECANCELED=11,e.WASI_ECHILD=12,e.WASI_ECONNABORTED=13,e.WASI_ECONNREFUSED=14,e.WASI_ECONNRESET=15,e.WASI_EDEADLK=16,e.WASI_EDESTADDRREQ=17,e.WASI_EDOM=18,e.WASI_EDQUOT=19,e.WASI_EEXIST=20,e.WASI_EFAULT=21,e.WASI_EFBIG=22,e.WASI_EHOSTUNREACH=23,e.WASI_EIDRM=24,e.WASI_EILSEQ=25,e.WASI_EINPROGRESS=26,e.WASI_EINTR=27,e.WASI_EINVAL=28,e.WASI_EIO=29,e.WASI_EISCONN=30,e.WASI_EISDIR=31,e.WASI_ELOOP=32,e.WASI_EMFILE=33,e.WASI_EMLINK=34,e.WASI_EMSGSIZE=35,e.WASI_EMULTIHOP=36,e.WASI_ENAMETOOLONG=37,e.WASI_ENETDOWN=38,e.WASI_ENETRESET=39,e.WASI_ENETUNREACH=40,e.WASI_ENFILE=41,e.WASI_ENOBUFS=42,e.WASI_ENODEV=43,e.WASI_ENOENT=44,e.WASI_ENOEXEC=45,e.WASI_ENOLCK=46,e.WASI_ENOLINK=47,e.WASI_ENOMEM=48,e.WASI_ENOMSG=49,e.WASI_ENOPROTOOPT=50,e.WASI_ENOSPC=51,e.WASI_ENOSYS=52,e.WASI_ENOTCONN=53,e.WASI_ENOTDIR=54,e.WASI_ENOTEMPTY=55,e.WASI_ENOTRECOVERABLE=56,e.WASI_ENOTSOCK=57,e.WASI_ENOTSUP=58,e.WASI_ENOTTY=59,e.WASI_ENXIO=60,e.WASI_EOVERFLOW=61,e.WASI_EOWNERDEAD=62,e.WASI_EPERM=63,e.WASI_EPIPE=64,e.WASI_EPROTO=65,e.WASI_EPROTONOSUPPORT=66,e.WASI_EPROTOTYPE=67,e.WASI_ERANGE=68,e.WASI_EROFS=69,e.WASI_ESPIPE=70,e.WASI_ESRCH=71,e.WASI_ESTALE=72,e.WASI_ETIMEDOUT=73,e.WASI_ETXTBSY=74,e.WASI_EXDEV=75,e.WASI_ENOTCAPABLE=76,e.WASI_SIGABRT=0,e.WASI_SIGALRM=1,e.WASI_SIGBUS=2,e.WASI_SIGCHLD=3,e.WASI_SIGCONT=4,e.WASI_SIGFPE=5,e.WASI_SIGHUP=6,e.WASI_SIGILL=7,e.WASI_SIGINT=8,e.WASI_SIGKILL=9,e.WASI_SIGPIPE=10,e.WASI_SIGQUIT=11,e.WASI_SIGSEGV=12,e.WASI_SIGSTOP=13,e.WASI_SIGTERM=14,e.WASI_SIGTRAP=15,e.WASI_SIGTSTP=16,e.WASI_SIGTTIN=17,e.WASI_SIGTTOU=18,e.WASI_SIGURG=19,e.WASI_SIGUSR1=20,e.WASI_SIGUSR2=21,e.WASI_SIGVTALRM=22,e.WASI_SIGXCPU=23,e.WASI_SIGXFSZ=24,e.WASI_FILETYPE_UNKNOWN=0,e.WASI_FILETYPE_BLOCK_DEVICE=1,e.WASI_FILETYPE_CHARACTER_DEVICE=2,e.WASI_FILETYPE_DIRECTORY=3,e.WASI_FILETYPE_REGULAR_FILE=4,e.WASI_FILETYPE_SOCKET_DGRAM=5,e.WASI_FILETYPE_SOCKET_STREAM=6,e.WASI_FILETYPE_SYMBOLIC_LINK=7,e.WASI_FDFLAG_APPEND=1,e.WASI_FDFLAG_DSYNC=2,e.WASI_FDFLAG_NONBLOCK=4,e.WASI_FDFLAG_RSYNC=8,e.WASI_FDFLAG_SYNC=16,e.WASI_RIGHT_FD_DATASYNC=r.BigIntPolyfill(1),e.WASI_RIGHT_FD_READ=r.BigIntPolyfill(2),e.WASI_RIGHT_FD_SEEK=r.BigIntPolyfill(4),e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=r.BigIntPolyfill(8),e.WASI_RIGHT_FD_SYNC=r.BigIntPolyfill(16),e.WASI_RIGHT_FD_TELL=r.BigIntPolyfill(32),e.WASI_RIGHT_FD_WRITE=r.BigIntPolyfill(64),e.WASI_RIGHT_FD_ADVISE=r.BigIntPolyfill(128),e.WASI_RIGHT_FD_ALLOCATE=r.BigIntPolyfill(256),e.WASI_RIGHT_PATH_CREATE_DIRECTORY=r.BigIntPolyfill(512),e.WASI_RIGHT_PATH_CREATE_FILE=r.BigIntPolyfill(1024),e.WASI_RIGHT_PATH_LINK_SOURCE=r.BigIntPolyfill(2048),e.WASI_RIGHT_PATH_LINK_TARGET=r.BigIntPolyfill(4096),e.WASI_RIGHT_PATH_OPEN=r.BigIntPolyfill(8192),e.WASI_RIGHT_FD_READDIR=r.BigIntPolyfill(16384),e.WASI_RIGHT_PATH_READLINK=r.BigIntPolyfill(32768),e.WASI_RIGHT_PATH_RENAME_SOURCE=r.BigIntPolyfill(65536),e.WASI_RIGHT_PATH_RENAME_TARGET=r.BigIntPolyfill(131072),e.WASI_RIGHT_PATH_FILESTAT_GET=r.BigIntPolyfill(262144),e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=r.BigIntPolyfill(524288),e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=r.BigIntPolyfill(1048576),e.WASI_RIGHT_FD_FILESTAT_GET=r.BigIntPolyfill(2097152),e.WASI_RIGHT_FD_FILESTAT_SET_SIZE=r.BigIntPolyfill(4194304),e.WASI_RIGHT_FD_FILESTAT_SET_TIMES=r.BigIntPolyfill(8388608),e.WASI_RIGHT_PATH_SYMLINK=r.BigIntPolyfill(16777216),e.WASI_RIGHT_PATH_REMOVE_DIRECTORY=r.BigIntPolyfill(33554432),e.WASI_RIGHT_PATH_UNLINK_FILE=r.BigIntPolyfill(67108864),e.WASI_RIGHT_POLL_FD_READWRITE=r.BigIntPolyfill(134217728),e.WASI_RIGHT_SOCK_SHUTDOWN=r.BigIntPolyfill(268435456),e.RIGHTS_ALL=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_BLOCK_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_BLOCK_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_REGULAR_FILE_BASE=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_REGULAR_FILE_INHERITING=r.BigIntPolyfill(0),e.RIGHTS_DIRECTORY_BASE=e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_DIRECTORY_INHERITING=e.RIGHTS_DIRECTORY_BASE|e.RIGHTS_REGULAR_FILE_BASE,e.RIGHTS_SOCKET_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_SOCKET_INHERITING=e.RIGHTS_ALL,e.RIGHTS_TTY_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_TTY_INHERITING=r.BigIntPolyfill(0),e.WASI_CLOCK_REALTIME=0,e.WASI_CLOCK_MONOTONIC=1,e.WASI_CLOCK_PROCESS_CPUTIME_ID=2,e.WASI_CLOCK_THREAD_CPUTIME_ID=3,e.WASI_EVENTTYPE_CLOCK=0,e.WASI_EVENTTYPE_FD_READ=1,e.WASI_EVENTTYPE_FD_WRITE=2,e.WASI_FILESTAT_SET_ATIM=1,e.WASI_FILESTAT_SET_ATIM_NOW=2,e.WASI_FILESTAT_SET_MTIM=4,e.WASI_FILESTAT_SET_MTIM_NOW=8,e.WASI_O_CREAT=1,e.WASI_O_DIRECTORY=2,e.WASI_O_EXCL=4,e.WASI_O_TRUNC=8,e.WASI_PREOPENTYPE_DIR=0,e.WASI_DIRCOOKIE_START=0,e.WASI_STDIN_FILENO=0,e.WASI_STDOUT_FILENO=1,e.WASI_STDERR_FILENO=2,e.WASI_WHENCE_SET=0,e.WASI_WHENCE_CUR=1,e.WASI_WHENCE_END=2,e.ERROR_MAP={E2BIG:e.WASI_E2BIG,EACCES:e.WASI_EACCES,EADDRINUSE:e.WASI_EADDRINUSE,EADDRNOTAVAIL:e.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:e.WASI_EAFNOSUPPORT,EALREADY:e.WASI_EALREADY,EAGAIN:e.WASI_EAGAIN,EBADF:e.WASI_EBADF,EBADMSG:e.WASI_EBADMSG,EBUSY:e.WASI_EBUSY,ECANCELED:e.WASI_ECANCELED,ECHILD:e.WASI_ECHILD,ECONNABORTED:e.WASI_ECONNABORTED,ECONNREFUSED:e.WASI_ECONNREFUSED,ECONNRESET:e.WASI_ECONNRESET,EDEADLOCK:e.WASI_EDEADLK,EDESTADDRREQ:e.WASI_EDESTADDRREQ,EDOM:e.WASI_EDOM,EDQUOT:e.WASI_EDQUOT,EEXIST:e.WASI_EEXIST,EFAULT:e.WASI_EFAULT,EFBIG:e.WASI_EFBIG,EHOSTDOWN:e.WASI_EHOSTUNREACH,EHOSTUNREACH:e.WASI_EHOSTUNREACH,EIDRM:e.WASI_EIDRM,EILSEQ:e.WASI_EILSEQ,EINPROGRESS:e.WASI_EINPROGRESS,EINTR:e.WASI_EINTR,EINVAL:e.WASI_EINVAL,EIO:e.WASI_EIO,EISCONN:e.WASI_EISCONN,EISDIR:e.WASI_EISDIR,ELOOP:e.WASI_ELOOP,EMFILE:e.WASI_EMFILE,EMLINK:e.WASI_EMLINK,EMSGSIZE:e.WASI_EMSGSIZE,EMULTIHOP:e.WASI_EMULTIHOP,ENAMETOOLONG:e.WASI_ENAMETOOLONG,ENETDOWN:e.WASI_ENETDOWN,ENETRESET:e.WASI_ENETRESET,ENETUNREACH:e.WASI_ENETUNREACH,ENFILE:e.WASI_ENFILE,ENOBUFS:e.WASI_ENOBUFS,ENODEV:e.WASI_ENODEV,ENOENT:e.WASI_ENOENT,ENOEXEC:e.WASI_ENOEXEC,ENOLCK:e.WASI_ENOLCK,ENOLINK:e.WASI_ENOLINK,ENOMEM:e.WASI_ENOMEM,ENOMSG:e.WASI_ENOMSG,ENOPROTOOPT:e.WASI_ENOPROTOOPT,ENOSPC:e.WASI_ENOSPC,ENOSYS:e.WASI_ENOSYS,ENOTCONN:e.WASI_ENOTCONN,ENOTDIR:e.WASI_ENOTDIR,ENOTEMPTY:e.WASI_ENOTEMPTY,ENOTRECOVERABLE:e.WASI_ENOTRECOVERABLE,ENOTSOCK:e.WASI_ENOTSOCK,ENOTTY:e.WASI_ENOTTY,ENXIO:e.WASI_ENXIO,EOVERFLOW:e.WASI_EOVERFLOW,EOWNERDEAD:e.WASI_EOWNERDEAD,EPERM:e.WASI_EPERM,EPIPE:e.WASI_EPIPE,EPROTO:e.WASI_EPROTO,EPROTONOSUPPORT:e.WASI_EPROTONOSUPPORT,EPROTOTYPE:e.WASI_EPROTOTYPE,ERANGE:e.WASI_ERANGE,EROFS:e.WASI_EROFS,ESPIPE:e.WASI_ESPIPE,ESRCH:e.WASI_ESRCH,ESTALE:e.WASI_ESTALE,ETIMEDOUT:e.WASI_ETIMEDOUT,ETXTBSY:e.WASI_ETXTBSY,EXDEV:e.WASI_EXDEV},e.SIGNAL_MAP={[e.WASI_SIGHUP]:"SIGHUP",[e.WASI_SIGINT]:"SIGINT",[e.WASI_SIGQUIT]:"SIGQUIT",[e.WASI_SIGILL]:"SIGILL",[e.WASI_SIGTRAP]:"SIGTRAP",[e.WASI_SIGABRT]:"SIGABRT",[e.WASI_SIGBUS]:"SIGBUS",[e.WASI_SIGFPE]:"SIGFPE",[e.WASI_SIGKILL]:"SIGKILL",[e.WASI_SIGUSR1]:"SIGUSR1",[e.WASI_SIGSEGV]:"SIGSEGV",[e.WASI_SIGUSR2]:"SIGUSR2",[e.WASI_SIGPIPE]:"SIGPIPE",[e.WASI_SIGALRM]:"SIGALRM",[e.WASI_SIGTERM]:"SIGTERM",[e.WASI_SIGCHLD]:"SIGCHLD",[e.WASI_SIGCONT]:"SIGCONT",[e.WASI_SIGSTOP]:"SIGSTOP",[e.WASI_SIGTSTP]:"SIGTSTP",[e.WASI_SIGTTIN]:"SIGTTIN",[e.WASI_SIGTTOU]:"SIGTTOU",[e.WASI_SIGURG]:"SIGURG",[e.WASI_SIGXCPU]:"SIGXCPU",[e.WASI_SIGXFSZ]:"SIGXFSZ",[e.WASI_SIGVTALRM]:"SIGVTALRM"}},Njdo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addCustomTypes=e.Schema=e.t=void 0;var r,i=(r=n("kli3"))&&r.__esModule?r:{default:r},o=function(t,e){return(new i.default).t(t,e)},s=i.default.Schema;e.default=o,e.t=o,e.Schema=s,e.addCustomTypes=function(t){if(!o(t).isObject)throw new Error("validators must be key value pairs");Object.keys(t).forEach(function(e){if(!o(t[e]).isFunction)throw new Error("validator "+e+" is not a function");i.default.prototype.__defineGetter__(e,function(){return t[e](this.input)})})}},NpuA:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},o=0,s={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,a=(n=e.URL||e.webkitURL||null,r=t.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(a);return u.onmessage=y,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var p=null;return"string"==typeof n?p=r.download?new l(r):new h(r):!0===n.readable&&w(n.read)&&w(n.on)?p=new f(r):(e.File&&n instanceof File||n instanceof Object)&&(p=new c(r)),p.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",a='"',u=a+a,l=!1,c=null;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||s.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+a)}}();var h=new RegExp(d(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,l);if("object"==typeof t[0])return p(c||f(t[0]),t,l)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:f(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),p(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function p(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&r){for(var l=0;l<t.length;l++)0<l&&(s+=i),s+=g(t[l],l);0<e.length&&(s+=o)}for(var c=0;c<e.length;c++){var h=a?t.length:e[c].length,f=!1,p=a?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!a&&(f="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&a){for(var d=[],y=0;y<h;y++)d.push(e[c][u?t[y]:y]);f=""===d.join("").trim()}if(!f){for(var m=0;m<h;m++)0<m&&!p&&(s+=i),s+=g(e[c][a&&u?t[m]:m],m);c<e.length-1&&(!n||0<h&&!p)&&(s+=o)}}return s}function g(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var r=t.toString().replace(h,u);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,s.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?a+r+a:r}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=g,s.ParserHandle=p,s.NetworkStreamer=l,s.FileStreamer=c,s.StringStreamer=h,s.ReadableStreamStreamer=f,e.jQuery){var a=e.jQuery;a.fn.parse=function(t){var n=t.config||{},r=[];return this.each(function(t){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:a.extend({},n)})}),i(),this;function i(){if(0!==r.length){var e,n,i,u=r[0];if(w(t.before)){var l=t.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return e=u.file,n=u.inputElem,i=l.reason,void(w(t.error)&&t.error({name:"AbortError"},e,n,i));if("skip"===l.action)return void o();"object"==typeof l.config&&(u.instanceConfig=a.extend(u.instanceConfig,l.config))}else if("skip"===l)return void o()}var c=u.instanceConfig.complete;u.instanceConfig.complete=function(t){w(c)&&c(t,u.file,u.inputElem),o()},s.parse(u.file,u.instanceConfig)}else w(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}).call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:a,workerId:s.WORKER_ID,finished:l});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!l||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=E(this._chunkLoaded,this),e.onerror=E(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}this._config.chunkSize&&e.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){this._sendError(new Error(e.statusText||t))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),u.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=E(this._chunkLoaded,this),e.onerror=E(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){u.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=E(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=E(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=E(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(t){var e,n,r,i=Math.pow(2,53),o=-i,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,l=this,c=0,h=0,f=!1,p=!1,y=[],m={data:[],errors:[],meta:{}};if(w(t.step)){var _=t.step;t.step=function(e){if(m=e,S())b();else{if(b(),0===m.data.length)return;c+=e.data.length,t.preview&&c>t.preview?n.abort():(m.data=m.data[0],_(m,l))}}}function E(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function b(){if(m&&r&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<m.data.length;e++)E(m.data[e])&&m.data.splice(e--,1);return S()&&function(){if(m)if(Array.isArray(m.data[0])){for(var e=0;S()&&e<m.data.length;e++)m.data[e].forEach(n);m.data.splice(0,1)}else m.data.forEach(n);function n(e){w(t.transformHeader)&&(e=t.transformHeader(e)),y.push(e)}}(),function(){if(!m||!t.header&&!t.dynamicTyping&&!t.transform)return m;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,s=e[r];t.header&&(o=r>=y.length?"__parsed_extra":y[r]),t.transform&&(s=t.transform(s,o)),s=C(o,s),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(s)):i[o]=s}return t.header&&(r>y.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+r,h+n):r<y.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+r,h+n)),i}var n=1;return!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(e),n=m.data.length):m.data=e(m.data,0),t.header&&m.meta&&(m.meta.fields=y),h+=n,m}()}function S(){return t.header&&0===y.length}function C(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(a.test(t)){var e=parseFloat(t);if(o<e&&e<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function x(t,e,n,r){var i={type:t,code:e,message:n};void 0!==r&&(i.row=r),m.errors.push(i)}this.parse=function(i,o,a){if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n");if(1===r.length||1<i.length&&i[0].length<r[0].length)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,t.quoteChar||'"')),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(i),m.meta.delimiter=t.delimiter);else{var u=function(e,n,r,i,o){var a,u,l,c;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var h=0;h<o.length;h++){var f=o[h],p=0,d=0,y=0;l=void 0;for(var m=new g({comments:i,delimiter:f,newline:n,preview:10}).parse(e),_=0;_<m.data.length;_++)if(r&&E(m.data[_]))y++;else{var v=m.data[_].length;d+=v,void 0!==l?0<v&&(p+=Math.abs(v-l),l=v):l=v}0<m.data.length&&(d/=m.data.length-y),(void 0===u||p<=u)&&(void 0===c||c<d)&&1.99<d&&(u=p,a=f,c=d)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);u.successful?t.delimiter=u.bestDelimiter:(r=!0,t.delimiter=s.DefaultDelimiter),m.meta.delimiter=t.delimiter}var l=v(t);return t.preview&&t.header&&l.preview++,e=i,n=new g(l),m=n.parse(e,o,a),b(),f?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),e=w(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(f=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),m.meta.aborted=!0,w(t.complete)&&t.complete(m),e=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,a=t.preview,u=t.fastMode,l=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,h=!1;this.parse=function(t,s,f){if("string"!=typeof t)throw new Error("Input must be a string");var p=t.length,g=n.length,y=r.length,m=i.length,_=w(o),v=[],E=[],b=[],S=c=0;if(!t)return k();if(u||!1!==u&&-1===t.indexOf(e)){for(var C=t.split(r),x=0;x<C.length;x++){if(c+=(b=C[x]).length,x!==C.length-1)c+=r.length;else if(f)return k();if(!i||b.substring(0,m)!==i){if(_){if(v=[],F(b.split(n)),B(),h)return k()}else F(b.split(n));if(a&&a<=x)return v=v.slice(0,a),k(!0)}}return k()}for(var I=t.indexOf(n,c),A=t.indexOf(r,c),D=new RegExp(d(l)+d(e),"g"),T=t.indexOf(e,c);;)if(t[c]!==e)if(i&&0===b.length&&t.substring(c,c+m)===i){if(-1===A)return k();A=t.indexOf(r,c=A+y),I=t.indexOf(n,c)}else{if(-1!==I&&(I<A||-1===A)){if(!(I<T)){b.push(t.substring(c,I)),I=t.indexOf(n,c=I+g);continue}var N=U(I,T,A);if(N&&void 0!==N.nextDelim){T=N.quoteSearch,b.push(t.substring(c,I=N.nextDelim)),I=t.indexOf(n,c=I+g);continue}}if(-1===A)break;if(b.push(t.substring(c,A)),M(A+y),_&&(B(),h))return k();if(a&&v.length>=a)return k(!0)}else for(T=c,c++;;){if(-1===(T=t.indexOf(e,T+1)))return f||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:c}),L();if(T===p-1)return L(t.substring(c,T).replace(D,e));if(e!==l||t[T+1]!==l){if(e===l||0===T||t[T-1]!==l){-1!==I&&I<T+1&&(I=t.indexOf(n,T+1)),-1!==A&&A<T+1&&(A=t.indexOf(r,T+1));var O=P(-1===A?I:Math.min(I,A));if(t[T+1+O]===n){b.push(t.substring(c,T).replace(D,e)),t[c=T+1+O+g]!==e&&(T=t.indexOf(e,c)),I=t.indexOf(n,c),A=t.indexOf(r,c);break}var R=P(A);if(t.substring(T+1+R,T+1+R+y)===r){if(b.push(t.substring(c,T).replace(D,e)),M(T+1+R+y),I=t.indexOf(n,c),T=t.indexOf(e,c),_&&(B(),h))return k();if(a&&v.length>=a)return k(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:c}),T++}}else T++}return L();function F(t){v.push(t),S=c}function P(e){var n=0;if(-1!==e){var r=t.substring(T+1,e);r&&""===r.trim()&&(n=r.length)}return n}function L(e){return f||(void 0===e&&(e=t.substring(c)),b.push(e),c=p,F(b),_&&B()),k()}function M(e){c=e,F(b),b=[],A=t.indexOf(r,c)}function k(t){return{data:v,errors:E,meta:{delimiter:n,linebreak:r,aborted:h,truncated:!!t,cursor:S+(s||0)}}}function B(){o(k()),v=[],E=[]}function U(r,i,o){var s={nextDelim:void 0,quoteSearch:void 0},a=t.indexOf(e,i+1);if(i<r&&r<a&&(a<o||-1===o)){var u=t.indexOf(n,a);if(-1===u)return s;a<u&&(a=t.indexOf(e,a+1)),s=U(u,a,o)}else s={nextDelim:r,quoteSearch:i};return s}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function y(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(w(n.userStep)){for(var s=0;s<e.results.data.length&&(n.userStep({data:e.results.data[s],errors:e.results.errors,meta:e.results.meta},o),!r);s++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&m(e.workerId,e.results)}function m(t,e){var n=i[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function _(){throw new Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=v(t[n]);return e}function E(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&e.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,s})?r.apply(e,[]):r)||(t.exports=i)},P442:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>e=>{const n=t(e);return 1e9*n[0]+n[1]}},"WVt+":function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&x(r),i&&I(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,s=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(s&&x(s),t){case"Point":i=r(e).geometry;break;case"LineString":i=a(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=h(e).geometry;break;case"MultiLineString":i=c(e).geometry;break;case"MultiPolygon":i=f(e).geometry;break;default:throw new Error(t+" is invalid")}return s&&(i.bbox=s),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(t[0])||!S(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return r(t,e)}),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++){if(0===i&&0===s&&!S(o[0][0])||!S(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return o(t,e)}),n)}function a(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!S(t[0][1])||!S(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return a(t,e)}),n)}function l(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&x(n),r&&I(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function c(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function d(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function g(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=To[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function y(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=To[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function m(t,e){return v(y(t,e))}function _(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function E(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function w(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return g(y(t,e),n||"kilometers")}function b(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Oo[e||"meters"];if(!r)throw new Error("invalid original units");var i=Oo[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function S(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function x(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!S(t))throw new Error("bbox must only contain numbers")})}function I(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function A(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,g="Feature"===p,y=d?t.features.length:1,m=0;m<y;m++){a=(c=!!(l=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<a;_++){var v=0,E=0;if(null!==(s=c?l.geometries[_]:l)){u=s.coordinates;var w=s.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":e(u,f,m,v,E),f++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],f,m,v,E),f++,"MultiPoint"===w&&v++;"LineString"===w&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++)e(u[r][i],f,m,v,E),f++;"MultiLineString"===w&&v++,"Polygon"===w&&E++}"Polygon"===w&&v++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===w&&(E=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++)e(u[r][i][o],f,m,v,E),f++;E++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)A(s.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function D(t,e,n,r){var i=n;return A(t,function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)},r),i}function T(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function N(t,e,n){var r=n;return T(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function O(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function R(t,e,n){var r=n;return O(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function F(t){var e=[];return A(t,function(t){e.push(t)}),e}function P(t,e){var n,r,i,o,s,a,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(l=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,h=p?t.features[n].id:d?t.id:void 0,s=(u=!!(a=p?t.features[n].geometry:d?t.geometry:t)&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,l,c,h);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],f,l,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,l,c,h);f++}}function L(t,e,n){var r=n;return P(t,function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),r}function M(t,n){P(t,function(t,r,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:s}),r,0)}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach(function(t,o){n(e({type:a,coordinates:t},i),r,o)})})}function k(t,e,n){var r=n;return M(t,function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)}),r}function B(t,e){M(t,function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&D(t,function(o,s,u,l,c,h){var f=a([o,s],t.properties);return e(f,n,r,h,i),i++,s})}})}function U(t,e,n){var r=n,i=!1;return B(t,function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0}),r}function j(t,e){if(!t)throw new Error("geojson is required");M(t,function(t,n,r){if(null!==t.geometry){var i=t.geometry.coordinates;switch(t.geometry.type){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var o=0;o<i.length;o++)e(a(i[o],t.properties),n,r,o)}}})}function G(t,e,n){var r=n;return j(t,function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)}),r}function V(t){var e=[1/0,1/0,-1/0,-1/0];return A(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function W(t){if(!t)throw new Error("obj is required");var e=q(t);if(e.length>1&&S(e[0])&&S(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function q(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return H(e),e;throw new Error("No valid coordinates")}function H(t){if(t.length>1&&S(t[0])&&S(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return H(t[0]);throw new Error("coordinates must only contain numbers")}function z(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function Y(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function $(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function X(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function K(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Z(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Q(t,e,n){n=n||{};for(var r=Object.keys(Lo),i=0;i<r.length;i++){var o=r[i],s=n[o];Mo[o]=s=null!=s?s:Lo[o]}Mo.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0;return t.cells.forEach(function(r,i){r.forEach(function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var s=function(t,e,n){var r,i,o,s=t.length,a=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=t[e][n],f=h.cval,p=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);a.push([n+p[0],e+p[1]]),p=nt(h,o=c[f]),a.push([n+p[0],e+p[1]]),et(h);for(var d=n+u[f],g=e+l[f],y=f;d>=0&&g>=0&&g<s&&(d!=n||g!=e)&&void 0!==(h=t[g][d]);){if(0===(f=h.cval)||15===f)return{path:a,info:"mergeable"};o=c[f],r=u[f],i=l[f],5!==f&&10!==f||(5===f?h.flipped?-1===l[y]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===u[y]&&(o="bottom",r=0,i=-1):10===f&&(h.flipped?-1===u[y]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===l[y]&&(o="left",r=-1,i=0))),p=nt(h,o),a.push([d+p[0],g+p[1]]),et(h),d+=r,g+=i,y=f}return{path:a,info:"closed"}}(t.cells,i,o),a=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],l=s.path[s.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=s.path.length-2;h>=0;--h)e[c].unshift(s.path[h]);a=!0;break}a||(e[n++]=s.path)}})}),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){a|=u>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0;var f,p,d,g,y=!1;if(5==(a|=h>=e?1:0)||10===a){var m=(u+l+c+h)/4;5===a&&m<e?(a=10,y=!0):10===a&&m<e&&(a=5,y=!0)}0!==a&&15!==a&&(f=p=d=g=.5,1===a?(d=1-J(e,u,h),p=1-J(e,c,h)):2===a?(p=J(e,h,c),g=1-J(e,l,c)):3===a?(d=1-J(e,u,h),g=1-J(e,l,c)):4===a?(f=J(e,u,l),g=J(e,c,l)):5===a?(f=J(e,u,l),g=J(e,c,l),p=1-J(e,c,h),d=1-J(e,u,h)):6===a?(p=J(e,h,c),f=J(e,u,l)):7===a?(d=1-J(e,u,h),f=J(e,u,l)):8===a?(d=J(e,h,u),f=1-J(e,l,u)):9===a?(p=1-J(e,c,h),f=1-J(e,l,u)):10===a?(f=1-J(e,l,u),g=1-J(e,l,c),p=J(e,h,c),d=J(e,h,u)):11===a?(f=1-J(e,l,u),g=1-J(e,l,c)):12===a?(d=J(e,h,u),g=J(e,c,l)):13===a?(p=1-J(e,c,h),g=J(e,c,l)):14===a?(d=J(e,h,u),p=J(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[o][s]={cval:a,flipped:y,top:f,right:g,bottom:p,left:d})}}}return i}(t,e));return"function"==typeof Mo.successCallback&&Mo.successCallback(a),a}function J(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function it(t,e){if(!(this instanceof it))return new it(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){st(t,0,t.children.length,e,t)}function st(t,e,n,r,i){i||(i=dt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],at(i,t.leaf?r(o):o);return i}function at(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ut(t,e){return t.minX-e.minX}function lt(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ft(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gt(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,ko(t,o,e,n,i),s.push(e,o,o,n))}function yt(t,e){return t(e={exports:{}},e.exports),e.exports}function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var a=[e,n,r,i],u=a.slice();for(o=0;o<t.length;o++)Ko(t[o],a)||u.push(t[o]);var l=zo(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=Bo(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),r=St(u,r),s.push(r)}var l=Bo(16);for(a=0;a<s.length;a++)l.insert(bt(s[a]));for(var c=e*e,h=n*n;s.length;){var f=s.shift(),p=f.p,d=f.next.p,g=Ct(p,d);if(!(g<h)){var y=g/c;(u=function(t,e,n,r,i,o,s){for(var a=new $o(null,vt),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?xt(c,n,r):function(t,e,n){if(Et(t,n)||Et(e,n))return 0;var r=It(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=It(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=It(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=It(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}(n,r,c);h>o||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=xt(p,e,n),g=xt(p,r,i);if(f.dist<d&&f.dist<g&&wt(n,p,s)&&wt(r,p,s))return p}(u=a.pop())&&(u=u.node)}return null}(o,f.prev.p,p,d,f.next.next.p,y,l))&&Math.min(Ct(u,p),Ct(u,d))<=y&&(s.push(f),s.push(St(u,f)),o.remove(u),l.remove(f),l.insert(bt(f)),l.insert(bt(f.next)))}}f=r;var m=[];do{m.push(f.p),f=f.next}while(f!==r);return m.push(f.p),m}function vt(t,e){return t.dist-e.dist}function Et(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function wt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:r,minY:i,maxX:o,maxY:s}),u=0;u<a.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&Zo(t,e,n)>0!=Zo(t,e,r)>0&&Zo(n,r,t)>0!=Zo(n,r,e)>0}(a[u].p,a[u].next.p,t,e))return!1;return!0}function bt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function St(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function xt(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function It(t,e,n,r,i,o,s,a){var u,l,c,h,f=n-t,p=r-e,d=s-i,g=a-o,y=t-i,m=e-o,_=f*f+p*p,v=f*d+p*g,E=d*d+g*g,w=f*y+p*m,b=d*y+g*m,S=_*E-v*v,C=S,x=S;0===S?(l=0,C=1,h=b,x=E):(h=_*b-v*w,(l=v*b-E*w)<0?(l=0,h=b,x=E):l>C&&(l=C,h=b+v,x=E)),h<0?(h=0,-w<0?l=0:-w>_?l=C:(l=-w,C=_)):h>x&&(h=x,-w+v<0?l=0:-w+v>_?l=C:(l=-w+v,C=_));var I=(1-(c=0===h?0:h/x))*i+c*s-((1-(u=0===l?0:l/C))*t+u*n),A=(1-c)*o+c*a-((1-u)*e+u*r);return I*I+A*A}function At(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(A(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var i=Qo(r,n);return i.length>3?o([i]):null}function Dt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=W(t),o=q(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,a))return!1;"Polygon"===s&&(o=[o]);for(var u=0,l=!1;u<o.length&&!l;u++)if(Tt(i,o[u][0],r)){for(var c=!1,h=1;h<o[u].length&&!c;)Tt(i,o[u][h],!r)&&(c=!0),h++;c||(l=!0)}return l}function Tt(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(r=!r)}return r}function Nt(t,e){var n=[];return P(e,function(e){O(t,function(t){Dt(t,e)&&n.push(t)})}),l(n)}function Ot(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(Ft);for(var e,n,r,i=t.length-1,o=t[i].x,s=t[0].x,a=t[i].y,u=a;i--;)t[i].y<a&&(a=t[i].y),t[i].y>u&&(u=t[i].y);var l,c=s-o,h=u-a,f=c>h?c:h,p=.5*(s+o),d=.5*(u+a),g=[new Rt({x:p-20*f,y:d-f,__sentinel:!0},{x:p,y:d+20*f,__sentinel:!0},{x:p+20*f,y:d-f,__sentinel:!0})],y=[],m=[];for(i=t.length;i--;){for(m.length=0,l=g.length;l--;)(c=t[i].x-g[l].x)>0&&c*c>g[l].r?(y.push(g[l]),g.splice(l,1)):c*c+(h=t[i].y-g[l].y)*h>g[l].r||(m.push(g[l].a,g[l].b,g[l].b,g[l].c,g[l].c,g[l].a),g.splice(l,1));for(Pt(m),l=m.length;l;)n=m[--l],e=m[--l],r=t[i],Math.abs(2*((n.x-e.x)*(r.y-n.y)-(n.y-e.y)*(r.x-n.x)))>1e-12&&g.push(new Rt(e,n,r))}for(Array.prototype.push.apply(y,g),i=y.length;i--;)(y[i].a.__sentinel||y[i].b.__sentinel||y[i].c.__sentinel)&&y.splice(i,1);return y}(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r})).map(function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],s)}))}function Rt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*c)/h,this.y=(o*c-a*l)/h,this.r=(r=this.x-t.x)*r+(i=this.y-t.y)*i}function Ft(t,e){return e.x-t.x}function Pt(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function Lt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=W(t),o=W(e),s=E(o[1]-i[1]),a=E(o[0]-i[0]),u=E(i[1]),l=E(o[1]),c=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(l);return g(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Mt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return kt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return kt(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ut(t);default:throw new Error("unknown GeoJSON type")}}function kt(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=Bt(t.properties),e.geometry=Ut(t.geometry),e}function Bt(t){var e={};return t?(Object.keys(t).forEach(function(n){var r=t[n];e[n]="object"==typeof r?null===r?null:r.length?r.map(function(t){return t}):Bt(r):r}),e):e}function Ut(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return Ut(t)}),e):(e.coordinates=jt(t.coordinates),e)}function jt(t){return"object"!=typeof t[0]?t.slice():t.map(function(t){return jt(t)})}function Gt(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(a(n[r],r));t<0&&es(e,i)}function r(t){return a(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}var a=ts(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:o,coordinates:n}}(e)}function Vt(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)})}),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)o+=(e=i)[0]*(i=t[n])[1]-e[1]*i[0];return Math.abs(o)}(Gt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],s=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].length<2&&o.push(t)})})}),(n=(o=ns(t,o)).length)>1)for(var s,a,u=1,l=r(o[0]);u<n;++u)(s=r(o[u]))>l&&(a=o[0],o[0]=o[u],o[u]=a,l=s);return o})}}function Wt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function qt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Ht)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Ht:zt)(t)}function Ht(t){var e,n=zt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function zt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(zt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Yt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function $t(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function Xt(t){return t[0].toString()+","+t[1].toString()}function Kt(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=Z(t),o=[];switch(i){case"LineString":o=Zt(t);break;case"MultiLineString":case"Polygon":q(t).forEach(function(t){o.push(Zt(t))});break;case"MultiPolygon":q(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Zt(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var s={};q(t).forEach(function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox)}function Zt(t){var e=q(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i=[],o=e.length-1;i.push(e[0]);for(var s=1;s<o;s++)(function(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return(r-o)*c-(i-s)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=a:a<=r&&r<=o:c>0?s<=i&&i<=u:u<=i&&i<=s)})(e[s-1],r=e[s+1],n=e[s])||i.push(n);return i.push(r),i}function Qt(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Jt(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return(o=t.x-r)*o+(s=t.y-i)*s}function te(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=Jt(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&te(t,e,o,r,i),i.push(t[o]),n-o>1&&te(t,o,n,r,i))}function ee(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return te(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,s=t.length;o<s;o++)Qt(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function ne(t,e,n){return ee(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function re(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error("invalid polygon");for(var i=ee(r,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=ee(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function ie(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!S(n))throw new Error("resolution must be an number");if(!S(r))throw new Error("sharpness must be an number");for(var i=[],o=new hs({points:X(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:r}),s=0;s<o.duration;s+=10){var u=o.pos(s);Math.floor(s/100)%2==0&&i.push([u.x,u.y])}return a(i,t.properties)}function oe(t){x(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,n];return o([[s,[r,n],[r,i],[e,i],s]])}function se(t){return oe(V(t))}function ae(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Lt(t.slice(0,2),[r,n])>=Lt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function ue(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,s=i.properties,a=W(t),u=E(a[0]),l=E(a[1]),c=E(n),h=y(e,o),f=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(c));return r([v(u+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(f))),v(f)],s)}function le(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var s=[],a=0;a<r;a++)s.push(ue(t,e,-360*a/r,n).geometry.coordinates);return s.push(s[0]),o([s],i)}function ce(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){return(ce(e,t)+180)%360}(t,e);var r=W(t),i=W(e),o=E(r[0]),s=E(i[0]),a=E(r[1]),u=E(i[1]),l=Math.sin(s-o)*Math.cos(u),c=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return v(Math.atan2(l,c))}function he(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=V(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function fe(t,e){var n=0,i=0,o=0;return A(t,function(t){n+=t[0],i+=t[1],o++},!0),r([n/o,i/o],e)}function pe(t){var e=[];return"FeatureCollection"===t.type?O(t,function(t){A(t,function(n){e.push(r(n,t.properties))})}):A(t,function(n){e.push(r(n,t.properties))}),l(e)}function de(t,e,n){n=n||2;var r,i,o,s,a,u,l,c=e&&e.length,h=c?e[0]*n:t.length,f=ge(t,0,h,n,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,n,r){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)(s=ge(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===s.next&&(s.steiner=!0),a.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(s));for(a.sort(_e),i=0;i<a.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Ee(o<h?i:s,o,c,h,o<h?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&Ce(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=xe(e,t);ye(n,n.next)}}(a[i],n),n=ye(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=s=t[1];for(var d=n;d<h;d+=n)(a=t[d])<r&&(r=a),(u=t[d+1])<i&&(i=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-r,s-i))?1/l:0}return me(f,p,n,r,i,l),p}function ge(t,e,n,r,i){var o,s;if(i===Te(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Ie(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Ie(o,t[o],t[o+1],s);return s&&be(s,s.next)&&(Ae(s),s=s.next),s}function ye(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!be(r,r.next)&&0!==we(r.prev,r,r.next))r=r.next;else{if(Ae(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function me(t,e,n,r,i,o,s){if(t){!s&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ve(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,r,i,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?function(t,e,n,r){var i=t.prev,o=t,s=t.next;if(we(i,o,s)>=0)return!1;for(var a=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,l=ve(i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,e,n,r),c=ve(a,u,e,n,r),h=t.nextZ;h&&h.z<=c;){if(h!==t.prev&&h!==t.next&&Ee(i.x,i.y,o.x,o.y,s.x,s.y,h.x,h.y)&&we(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&Ee(i.x,i.y,o.x,o.y,s.x,s.y,h.x,h.y)&&we(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(we(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ee(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&we(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),Ae(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?me(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!be(i,o)&&Se(i,r,r.next,o)&&Ce(i,o)&&Ce(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ae(r),Ae(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===s&&function(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Se(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Ce(t,e)&&Ce(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,a)){var u=xe(s,a);return s=ye(s,s.next),u=ye(u,u.next),me(s,e,n,r,i,o),void me(u,e,n,r,i,o)}a=a.next}s=s.next}while(s!==t)}(t,e,n,r,i,o):me(ye(t),e,n,r,i,o,1);break}}}function _e(t,e){return t.x-e.x}function ve(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ee(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function we(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function be(t,e){return t.x===e.x&&t.y===e.y}function Se(t,e,n,r){return!!(be(t,e)&&be(n,r)||be(t,r)&&be(n,e))||we(t,e,n)>0!=we(t,e,r)>0&&we(n,r,t)>0!=we(n,r,e)>0}function Ce(t,e){return we(t.prev,t,t.next)<0?we(t,e,t.next)>=0&&we(t,t.prev,e)>=0:we(t,e,t.prev)<0||we(t,t.next,e)<0}function xe(t,e){var n=new De(t.i,t.x,t.y),r=new De(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ie(t,e,n,r){var i=new De(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ae(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function De(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Te(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function Ne(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&n.holes.push(r+=t[i-1].length)}return n}(t),n=fs(e.vertices,e.holes,2),r=[],i=[];n.forEach(function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var s=0;s<i.length;s+=3){var a=i.slice(s,s+3);a.push(i[s]),r.push(o([a]))}return r}function Oe(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return O(e,function(e,i){var o=Lt(t,e);o<r&&((n=Mt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)}),n}function Re(t,e,n,r,i){Fe(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Fe(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Fe(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(r,Math.floor(e+(o-s)*u/o+l)),i)}var c=t[e],h=n,f=r;for(Pe(t,n,e),i(t[r],c)>0&&Pe(t,n,r);h<f;){for(Pe(t,h,f),h++,f--;i(t[h],c)<0;)h++;for(;i(t[f],c)>0;)f--}0===i(t[n],c)?Pe(t,n,f):Pe(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function Pe(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Le(t,e){if(!(this instanceof Le))return new Le(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Me(t,e){ke(t,0,t.children.length,e,t)}function ke(t,e,n,r,i){i||(i=He(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Be(i,t.leaf?r(o):o);return i}function Be(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ue(t,e){return t.minX-e.minX}function je(t,e){return t.minY-e.minY}function Ge(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ve(t){return t.maxX-t.minX+(t.maxY-t.minY)}function We(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function qe(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function He(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ze(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(Re(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),s.push(e,o,o,n))}function Ye(t){var e=Le(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}else t.bbox=t.bbox?t.bbox:Xe(t);return Le.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=$e(t);n.bbox=t,e.push(n)}):O(t,function(t){t.bbox=t.bbox?t.bbox:Xe(t),e.push(t)}),Le.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}return Le.prototype.remove.call(this,t)},e.clear=function(){return Le.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Le.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Le.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Le.prototype.all.call(this)}},e.toJSON=function(){return Le.prototype.toJSON.call(this)},e.fromJSON=function(t){return Le.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:Xe(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function $e(t){var e=[t[0],t[1]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]]}}}function Xe(t){var e=[1/0,1/0,-1/0,-1/0];return A(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function Ke(t){if(!t)throw new Error("geojson is required");var e=[];return M(t,function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=q(r);break;case"LineString":n=[q(r)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,r){var i=a([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),l(e)}function Ze(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Qe(t,n);return o&&i.push(o),l(i)}var s=Ye();return s.load(Ke(n)),O(Ke(t),function(t){O(s.search(t),function(e){var n=Qe(t,e);if(n){var o=q(n).join(",");r[o]||(r[o]=!0,i.push(n))}})}),l(i)}function Qe(t,e){var n=q(t),i=q(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],h=i[1][0],f=i[1][1],p=(f-c)*(a-o)-(h-l)*(u-s);if(0===p)return null;var d=((h-l)*(s-c)-(f-c)*(o-l))/p,g=((a-o)*(s-c)-(u-s)*(o-l))/p;return d>=0&&d<=1&&g>=0&&g<=1?r([o+d*(a-o),s+d*(u-s)]):null}function Je(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),s=0;return M(t,function(t){for(var i=q(t),u=0;u<i.length-1;u++){var l=r(i[u]);l.properties.dist=Lt(e,l,n);var c=r(i[u+1]);c.properties.dist=Lt(e,c,n);var h=Lt(l,c,n),f=Math.max(l.properties.dist,c.properties.dist),p=ce(l,c),d=ue(e,f,p+90,n),g=ue(e,f,p-90,n),y=Ze(a([d.geometry.coordinates,g.geometry.coordinates]),a([l.geometry.coordinates,c.geometry.coordinates])),m=null;y.features.length>0&&((m=y.features[0]).properties.dist=Lt(e,m,n),m.properties.location=s+Lt(l,m,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=u,o.properties.location=s),c.properties.dist<o.properties.dist&&((o=c).properties.index=u+1,o.properties.location=s+h),m&&m.properties.dist<o.properties.dist&&((o=m).properties.index=u),s+=h}}),o}function tn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?en(W(e),W(t)):en(W(t),W(e)))>180?-(360-r):r}function en(t,e){var n=E(t[1]),r=E(e[1]),i=E(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(i,o))+360)%360}function nn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=W(t),o=W(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,w(function(t,e,n){var r=n=void 0===n?Do:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-i,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+l*l*a*a)*r}(i,o),"meters",r)}function rn(t,e){return sn(t,"mercator",e)}function on(t,e){return sn(t,"wgs84",e)}function sn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&S(t[0])?t="mercator"===e?an(t):un(t):(!0!==r&&(t=Mt(t)),A(t,function(t){var n="mercator"===e?an(t):un(t);t[0]=n[0],t[1]=n[1]})),t}function an(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function un(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function ln(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):Y(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=e(n):Y(n,"LineString","line");var o=1/0,s=t.geometry.coordinates;return B(n,function(t){var e=function(t,e,n,i){var o=i.mercator,s=!0!==o?Lt(e,t,i):cn(e,t,i),a=_(!0!==o?ce(e,t):tn(e,t)),u=_(!0!==o?ce(e,n):tn(e,n)),l=Math.abs(a-u);if(l>90)return s;var c=(u+180)%360,h=_(!0!==o?ce(n,t):tn(n,t)),f=Math.abs(h-c);return f>180&&(f=Math.abs(f-360)),f>90?!0!==o?Lt(t,n,i):cn(t,n,i):!0!==o?s*Math.sin(E(l)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=r(n),a=on(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,s=e[1]-i,a=((n[0]-r)*o+(n[1]-i)*s)/(o*o+s*s);return[r+a*o,i+a*s]}(rn([t[0]+o,t[1]]),rn([e[0]+o,e[1]]),rn([n[0]+o,n[1]])));return 0!==o&&(a[0]-=o),nn(s,a,i)}(e,n,t,i)}(s,t.geometry.coordinates[0],t.geometry.coordinates[1],i);o>e&&(o=e)}),o}function cn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=rn([t[0]+i,t[1]]),s=rn([e[0]+i,e[1]]),a=function(t){return t*t},u=a(o[0]-s[0])+a(o[1]-s[1]);return w(Math.sqrt(u),"meters",r)}function hn(t){for(var n=function(t){return"FeatureCollection"!==t.type?l("Feature"!==t.type?[e(t)]:[t]):t}(t),i=he(n),o=!1,s=0;!o&&s<n.features.length;){var a,u=n.features[s].geometry,c=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var h=!1;for(a=0;!h&&a<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[a][0]&&i.geometry.coordinates[1]===u.coordinates[a][1]&&(o=!0,h=!0),a++}else if("LineString"===u.type)for(a=0;!c&&a<u.coordinates.length-1;)fn(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[a][0],u.coordinates[a][1],u.coordinates[a+1][0],u.coordinates[a+1][1])&&(c=!0,o=!0),a++;else if("MultiLineString"===u.type)for(var f=0;f<u.coordinates.length;){c=!1,a=0;for(var p=u.coordinates[f];!c&&a<p.length-1;)fn(i.geometry.coordinates[0],i.geometry.coordinates[1],p[a][0],p[a][1],p[a+1][0],p[a+1][1])&&(c=!0,o=!0),a++;f++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Dt(i,u)&&(o=!0);s++}if(o)return i;var d=l([]);for(s=0;s<n.features.length;s++)d.features=d.features.concat(pe(n.features[s]).features);return r(Oe(i,d).geometry.coordinates)}function fn(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function pn(t){return L(t,function(t,e){return t+dn(e)},0)}function dn(t){var e,n=0;switch(t.type){case"Polygon":return gn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=gn(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=dn(t.geometries[e]);return n}}function gn(t){var e=0;if(t&&t.length>0){e+=Math.abs(yn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(yn(t[n]))}return e}function yn(t){var e,n,r,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(r=u-2,i=u-1,o=0):s===u-1?(r=u-1,i=0,o=1):(r=s,i=s+1,o=s+2),e=t[r],n=t[i],a+=(mn(t[o][0])-mn(e[0]))*Math.sin(mn(n[1]));a=a*gs*gs/2}return a}function mn(t){return t*Math.PI/180}function _n(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return U(t,function(t,n){var r=n.geometry.coordinates;return t+Lt(r[0],r[1],e)},0)}function vn(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var s,u,l,c=0,h=0;h<i.length&&!(e>=c&&h===i.length-1);h++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(i[h]),a(o);u=ce(i[h],i[h-1])-180,l=ue(i[h],s,u,r),o.push(l.geometry.coordinates)}if(c>=n)return(s=n-c)?(u=ce(i[h],i[h-1])-180,l=ue(i[h],s,u,r),o.push(l.geometry.coordinates),a(o)):(o.push(i[h]),a(o));if(c>=e&&o.push(i[h]),h===i.length-1)return a(o);c+=Lt(i[h],i[h+1],r)}return a(i[i.length-1])}function En(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=W(t),o=q(e),s=0;s<o.length-1;s++){var a=!1;if(r&&(0===s&&(a="start"),s===o.length-2&&(a="end"),0===s&&s+1===o.length-1&&(a="both")),function(t,e,n,r){var i=n[0],o=n[1],s=t[0],a=t[1],u=e[0],l=e[1],c=u-s,h=l-a;return(n[0]-s)*h-(n[1]-a)*c==0&&(r?"start"===r?Math.abs(c)>=Math.abs(h)?c>0?s<i&&i<=u:u<=i&&i<s:h>0?a<o&&o<=l:l<=o&&o<a:"end"===r?Math.abs(c)>=Math.abs(h)?c>0?s<=i&&i<u:u<i&&i<=s:h>0?a<=o&&o<l:l<o&&o<=a:"both"===r?Math.abs(c)>=Math.abs(h)?c>0?s<i&&i<u:u<i&&i<s:h>0?a<o&&o<l:l<o&&o<a:void 0:Math.abs(c)>=Math.abs(h)?c>0?s<=i&&i<=u:u<=i&&i<=s:h>0?a<=o&&o<=l:l<=o&&o<=a)}(o[s],o[s+1],i,a))return!0}return!1}function wn(t,e){var n=Z(t),r=Z(e),i=X(t),o=X(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Sn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return En(i,o,{ignoreEndVertices:!0});case"Polygon":return Dt(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Sn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!En(t.coordinates[r],e))return!1;n||(n=En(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Dt(t.coordinates[1],e);if(!i){n=!1;break}i=Dt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!En(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!bn(V(e),V(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Dt(t.coordinates[r],e))return!1;n||(n=Dt(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=Dt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=V(t);if(!bn(V(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Dt(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function bn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Sn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Cn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,s=[];if(null==e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Z(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],c=t[2],h=t[3],f=e/Lt([a,u],[c,u],n)*(c-a),p=e/Lt([a,u],[a,h],n)*(h-u),d=c-a,g=h-u,y=Math.floor(d/f),m=(g-Math.floor(g/p)*p)/2,_=a+(d-y*f)/2;_<=c;){for(var v=u+m;v<=h;){var E=r([_,v],o);i?wn(E,i)&&s.push(E):s.push(E),v+=p}_+=f}return l(s)}function xn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return A(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)}),t}function In(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!In(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function An(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Dn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Dn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Tn(t,e){var n=[],r=Ye();return M(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var i=r.search(e);if(i.features.length){var o=On(e,i);n=n.filter(function(t){return t.id!==o.id}),r.remove(o),O(Nn(o,e),function(t){n.push(t),r.insert(t)})}}else(n=Nn(t,e).features).forEach(function(t){t.bbox||(t.bbox=ae(V(t)))}),r.load(l(n))}),l(n)}function Nn(t,e){var n=[],r=q(t)[0],i=q(t)[t.geometry.coordinates.length-1];if(Rn(r,W(e))||Rn(i,W(e)))return l([t]);var o=Ye(),s=Ke(t);o.load(s);var u=o.search(e);if(!u.features.length)return l([t]);var c=On(e,u),h=R(s,function(t,r,i){var o=q(r)[1],s=W(e);return i===c.id?(t.push(s),n.push(a(t)),Rn(s,o)?[s]:[s,o]):(t.push(o),t)},[r]);return h.length>1&&n.push(a(h)),l(n)}function On(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return O(e,function(e){var i=Je(e,t).properties.dist;i<r&&(n=e,r=i)}),n}function Rn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Fn(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.steps,s=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var u=Pn(n),l=Pn(r),c=t.properties;if(u===l)return a(le(t,e,i).geometry.coordinates[0],c);for(var h=u,f=u<l?l:l+360,p=h,d=[],g=0;p<f;)d.push(ue(t,e,p,s).geometry.coordinates),p=h+360*++g/o;return p>f&&d.push(ue(t,e,f,s).geometry.coordinates),a(d,c)}function Pn(t){var e=t%360;return e<0&&(e+=360),e}function Ln(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=Z(t),i=q(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Mn(i,n);case"MultiPolygon":var o=[];return i.forEach(function(t){o.push(Mn(t,n))}),l(o);default:throw new Error("geom "+r+" not supported")}}function Mn(t,e){return t.length>1?c(t,e):a(t[0],e)}function kn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,Z(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push(q(Bn(t,{},r,i)))}),f(o,n)}return Bn(t,n,r,i)}function Bn(t,e,n,r){e=e||t.properties||{};var i=q(t),s=Z(t);if(!i.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(i=Un(i)),o([i],e);case"MultiLineString":var u=[],l=0;return i.forEach(function(t){if(n&&(t=Un(t)),r){var e=function(t){var e=t[1],n=t[3];return Math.abs(t[0]-t[2])*Math.abs(e-n)}(V(a(t)));e>l?(u.unshift(t),l=e):u.push(t)}else u.push(t)}),o(u,e);default:throw new Error("geometry type "+s+" is not supported")}}function Un(t){var e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]||t.push(e),t}function jn(t,e,n){var r,i,o,s,a,u=t.length,l=Vn(t[0],e),c=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],s=a=Vn(o=t[r],e);;){if(!(l|s)){c.push(i),s!==a?(c.push(o),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(o);break}if(l&s)break;l?l=Vn(i=Gn(i,o,l,e),e):s=Vn(o=Gn(i,o,s,e),e)}l=a}return c.length&&n.push(c),n}function Gn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Vn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Wn(t,e){for(var n=[],r=0;r<t.length;r++){var i=Cs.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function qn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Hn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?t===e:function(t,e,n){var r,i;if(zn(t)||zn(e))return!1;if(t.prototype!==e.prototype)return!1;if(qn(t))return!!qn(e)&&Hn(t=xs.call(t),e=xs.call(e),n);if(Yn(t)){if(!Yn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),r=o.length-1;r>=0;r--)if(o[r]!==s[r])return!1;for(r=o.length-1;r>=0;r--)if(!Hn(t[i=o[r]],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function zn(t){return null==t}function Yn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function $n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],s=Ye();return s.load(Ke(t)),B(e,function(t){var e=!1;O(s.search(t),function(n){if(!1===e){var o=q(t).sort(),s=q(n).sort();Hn(o,s)||(0===i?En(o[0],n)&&En(o[1],n):Je(n,o[0]).properties.dist<=i&&Je(n,o[1]).properties.dist<=i)?(e=!0,r=r?Xn(r,t):t):(0===i?En(s[0],t)&&En(s[1],t):Je(t,s[0]).properties.dist<=i&&Je(t,s[1]).properties.dist<=i)&&(r=r?Xn(r,n):n)}}),!1===e&&r&&(o.push(r),r=void 0)}),r&&o.push(r),l(o)}function Xn(t,e){var n=q(e),r=q(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return Hn(n[0],i)?s.unshift(n[1]):Hn(n[0],o)?s.push(n[1]):Hn(n[1],i)?s.unshift(n[0]):Hn(n[1],o)&&s.push(n[0]),t}function Kn(t){var e=t%360;return e<0&&(e+=360),e}function Zn(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,s=i.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=w(e,o,"meters"),u=W(t),l=function(t,e,n,r){var i=e/(r=void 0===r?Do:Number(r)),o=t[0]*Math.PI/180,s=E(t[1]),a=E(n),u=i*Math.cos(a),l=s+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(s);return[(180*(o+i*Math.sin(a)/h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,a,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r(l,s)}function Qn(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=Jn(a,u,e),n<=0&&r>0?function(t,e,n){return Jn(t,e,n)<0}(e,a,i)||(i=a):n>0&&r<=0&&(function(t,e,n){return Jn(t,e,n)>0}(e,a,o)||(o=a)),n=r}return[i,o]}function Jn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function tr(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=q(t),o=0,s=1;s<i.length;)n=r||i[0],o+=((r=i[s])[0]-n[0])*(r[1]+n[1]),s++;return o>0}function er(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return P(t,function(t){er(t,e)}),t;case"LineString":return nr(q(t),e),t;case"Polygon":return rr(q(t),e),t;case"MultiLineString":return q(t).forEach(function(t){nr(t,e)}),t;case"MultiPolygon":return q(t).forEach(function(t){rr(t,e)}),t;case"Point":case"MultiPoint":return t}}function nr(t,e){tr(t)===e&&t.reverse()}function rr(t,e){tr(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)tr(t[n])===e&&t[n].reverse()}function ir(t,e,n,r){r=r||{};for(var i=Object.keys(Is),o=0;o<i.length;o++){var s=i[o],a=r[s];As[s]=a=null!=a?a:Is[s]}As.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,c=t[a+1][u],h=t[a+1][u+1],f=t[a][u+1],p=t[a][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){l|=c<e?0:c>s?128:64,l|=h<e?0:h>s?32:16,l|=f<e?0:f>s?8:4;var d=+(l|=p<e?0:p>s?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var y=(c+h+f+p)/4;g=y>s?2:y<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){var m,_,v,E,w,b,S,C;m=_=v=E=w=b=S=C=.5;var x=[];1===l?(v=1-or(e,f,p),C=1-or(e,c,p),x.push(pa[l])):169===l?(v=or(s,p,f),C=or(s,p,c),x.push(pa[l])):4===l?(b=1-or(e,h,f),E=or(e,p,f),x.push(ha[l])):166===l?(b=or(s,f,h),E=1-or(s,f,p),x.push(ha[l])):16===l?(w=or(e,f,h),_=or(e,c,h),x.push(ca[l])):154===l?(w=1-or(s,h,f),_=1-or(s,h,c),x.push(ca[l])):64===l?(S=or(e,p,c),m=1-or(e,h,c),x.push(ga[l])):106===l?(S=1-or(s,c,p),m=or(s,c,h),x.push(ga[l])):168===l?(E=or(s,p,f),v=or(e,p,f),C=or(e,p,c),S=or(s,p,c),x.push(fa[l]),x.push(pa[l])):2===l?(E=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),x.push(fa[l]),x.push(pa[l])):162===l?(w=or(s,f,h),b=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),x.push(fa[l]),x.push(pa[l])):8===l?(w=1-or(e,h,f),b=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),x.push(ca[l]),x.push(ha[l])):138===l?(w=1-or(e,h,f),b=1-or(s,h,f),m=1-or(s,h,c),_=1-or(e,h,c),x.push(ca[l]),x.push(ha[l])):32===l?(w=or(s,f,h),b=or(e,f,h),m=or(e,c,h),_=or(s,c,h),x.push(ca[l]),x.push(ha[l])):42===l?(C=1-or(s,c,p),S=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h),x.push(da[l]),x.push(ga[l])):128===l&&(C=or(e,p,c),S=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c),x.push(da[l]),x.push(ga[l])),5===l?(b=1-or(e,h,f),C=1-or(e,c,p),x.push(ha[l])):165===l?(b=or(s,f,h),C=or(s,p,c),x.push(ha[l])):20===l?(E=or(e,p,f),_=or(e,c,h),x.push(fa[l])):150===l?(E=1-or(s,f,p),_=1-or(s,h,c),x.push(fa[l])):80===l?(w=or(e,f,h),S=or(e,p,c),x.push(ca[l])):90===l?(w=1-or(s,h,f),S=1-or(s,c,p),x.push(ca[l])):65===l?(v=1-or(e,f,p),m=1-or(e,h,c),x.push(pa[l])):105===l?(v=or(s,p,f),m=or(s,c,h),x.push(pa[l])):160===l?(w=or(s,f,h),b=or(e,f,h),C=or(e,p,c),S=or(s,p,c),x.push(ca[l]),x.push(ha[l])):10===l?(w=1-or(e,h,f),b=1-or(s,h,f),C=1-or(s,c,p),S=1-or(e,c,p),x.push(ca[l]),x.push(ha[l])):130===l?(E=1-or(e,f,p),v=1-or(s,f,p),m=1-or(s,h,c),_=1-or(e,h,c),x.push(fa[l]),x.push(pa[l])):40===l?(E=or(s,p,f),v=or(e,p,f),m=or(e,c,h),_=or(s,c,h),x.push(fa[l]),x.push(pa[l])):101===l?(b=or(s,f,h),m=or(s,c,h),x.push(ha[l])):69===l?(b=1-or(e,h,f),m=1-or(e,h,c),x.push(ha[l])):149===l?(C=or(s,p,c),_=1-or(s,h,c),x.push(da[l])):21===l?(C=1-or(e,c,p),_=or(e,c,h),x.push(da[l])):86===l?(E=1-or(s,f,p),S=1-or(s,c,p),x.push(fa[l])):84===l?(E=or(e,p,f),S=or(e,p,c),x.push(fa[l])):89===l?(w=1-or(s,h,f),v=or(s,p,f),x.push(pa[l])):81===l?(w=or(e,f,h),v=1-or(e,f,p),x.push(pa[l])):96===l?(w=or(s,f,h),b=or(e,f,h),S=or(e,p,c),m=or(s,c,h),x.push(ca[l]),x.push(ha[l])):74===l?(w=1-or(e,h,f),b=1-or(s,h,f),S=1-or(s,c,p),m=1-or(e,h,c),x.push(ca[l]),x.push(ha[l])):24===l?(w=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),_=or(e,c,h),x.push(ca[l]),x.push(pa[l])):146===l?(w=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),_=1-or(s,h,c),x.push(ca[l]),x.push(pa[l])):6===l?(b=1-or(e,h,f),E=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),x.push(ha[l]),x.push(fa[l])):164===l?(b=or(s,f,h),E=or(e,p,f),C=or(e,p,c),S=or(s,p,c),x.push(ha[l]),x.push(fa[l])):129===l?(v=1-or(e,f,p),C=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c),x.push(pa[l]),x.push(da[l])):41===l?(v=or(s,p,f),C=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h),x.push(pa[l]),x.push(da[l])):66===l?(E=1-or(e,f,p),v=1-or(s,f,p),S=1-or(s,c,p),m=1-or(e,h,c),x.push(fa[l]),x.push(pa[l])):104===l?(E=or(s,p,f),v=or(e,p,f),S=or(e,p,c),m=or(s,c,h),x.push(pa[l]),x.push(ya[l])):144===l?(w=or(e,f,h),C=or(e,p,c),S=or(s,p,c),_=1-or(s,h,c),x.push(ca[l]),x.push(ga[l])):26===l?(w=1-or(s,h,f),C=1-or(s,c,p),S=1-or(e,c,p),_=or(e,c,h),x.push(ca[l]),x.push(ga[l])):36===l?(b=or(s,f,h),E=or(e,p,f),m=or(e,c,h),_=or(s,c,h),x.push(ha[l]),x.push(fa[l])):134===l?(b=1-or(e,h,f),E=1-or(s,f,p),m=1-or(s,h,c),_=1-or(e,h,c),x.push(ha[l]),x.push(fa[l])):9===l?(w=1-or(e,h,f),b=1-or(s,h,f),v=or(s,p,f),C=1-or(e,c,p),x.push(ca[l]),x.push(ha[l])):161===l?(w=or(s,f,h),b=or(e,f,h),v=1-or(e,f,p),C=or(s,p,c),x.push(ca[l]),x.push(ha[l])):37===l?(b=or(s,f,h),C=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h),x.push(ha[l]),x.push(da[l])):133===l?(b=1-or(e,h,f),C=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c),x.push(ha[l]),x.push(da[l])):148===l?(E=or(e,p,f),C=or(e,p,c),S=or(s,p,c),_=1-or(s,h,c),x.push(fa[l]),x.push(ga[l])):22===l?(E=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),_=or(e,c,h),x.push(fa[l]),x.push(ga[l])):82===l?(w=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),S=1-or(s,c,p),x.push(ca[l]),x.push(pa[l])):88===l?(w=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),S=or(e,p,c),x.push(ca[l]),x.push(pa[l])):73===l?(w=1-or(e,h,f),b=1-or(s,h,f),v=or(s,p,f),m=1-or(e,h,c),x.push(ca[l]),x.push(ha[l])):97===l?(w=or(s,f,h),b=or(e,f,h),v=1-or(e,f,p),m=or(s,c,h),x.push(ca[l]),x.push(ha[l])):145===l?(w=or(e,f,h),v=1-or(e,f,p),C=or(s,p,c),_=1-or(s,h,c),x.push(ca[l]),x.push(da[l])):25===l?(w=1-or(s,h,f),v=or(s,p,f),C=1-or(e,c,p),_=or(e,c,h),x.push(ca[l]),x.push(da[l])):70===l?(b=1-or(e,h,f),E=1-or(s,f,p),S=1-or(s,c,p),m=1-or(e,h,c),x.push(ha[l]),x.push(fa[l])):100===l?(b=or(s,f,h),E=or(e,p,f),S=or(e,p,c),m=or(s,c,h),x.push(ha[l]),x.push(fa[l])):34===l?(0===g?(w=1-or(e,h,f),b=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),C=or(e,p,c),S=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)):(w=or(s,f,h),b=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)),x.push(ca[l]),x.push(ha[l]),x.push(da[l]),x.push(ga[l])):35===l?(4===g?(w=1-or(e,h,f),b=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),C=or(e,p,c),S=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)):(w=or(s,f,h),b=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)),x.push(ca[l]),x.push(ha[l]),x.push(pa[l]),x.push(ga[l])):136===l?(0===g?(w=or(s,f,h),b=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)):(w=1-or(e,h,f),b=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),C=or(e,p,c),S=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)),x.push(ca[l]),x.push(ha[l]),x.push(da[l]),x.push(ga[l])):153===l?(0===g?(w=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),_=1-or(s,h,c)),x.push(ca[l]),x.push(pa[l])):102===l?(0===g?(b=1-or(e,h,f),E=or(e,p,f),S=or(e,p,c),m=1-or(e,h,c)):(b=or(s,f,h),E=1-or(s,f,p),S=1-or(s,c,p),m=or(s,c,h)),x.push(ha[l]),x.push(ga[l])):155===l?(4===g?(w=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),_=1-or(s,h,c)),x.push(ca[l]),x.push(da[l])):103===l?(4===g?(b=1-or(e,h,f),E=or(e,p,f),S=or(e,p,c),m=1-or(e,h,c)):(b=or(s,f,h),E=1-or(s,f,p),S=1-or(s,c,p),m=or(s,c,h)),x.push(ha[l]),x.push(fa[l])):152===l?(0===g?(w=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),C=or(e,p,c),S=or(s,p,c),_=1-or(s,h,c)),x.push(ca[l]),x.push(fa[l]),x.push(pa[l])):156===l?(4===g?(w=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),C=or(e,p,c),S=or(s,p,c),_=1-or(s,h,c)),x.push(ca[l]),x.push(pa[l]),x.push(ga[l])):137===l?(0===g?(w=or(s,f,h),b=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)):(w=1-or(e,h,f),b=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)),x.push(ca[l]),x.push(ha[l]),x.push(pa[l])):139===l?(4===g?(w=or(s,f,h),b=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)):(w=1-or(e,h,f),b=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)),x.push(ca[l]),x.push(ha[l]),x.push(da[l])):98===l?(0===g?(w=1-or(e,h,f),b=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),S=or(e,p,c),m=1-or(e,h,c)):(w=or(s,f,h),b=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),S=1-or(s,c,p),m=or(s,c,h)),x.push(ca[l]),x.push(ha[l]),x.push(ga[l])):99===l?(4===g?(w=1-or(e,h,f),b=1-or(s,h,f),E=or(s,p,f),v=or(e,p,f),S=or(e,p,c),m=1-or(e,h,c)):(w=or(s,f,h),b=or(e,f,h),E=1-or(e,f,p),v=1-or(s,f,p),S=1-or(s,c,p),m=or(s,c,h)),x.push(ca[l]),x.push(ha[l]),x.push(pa[l])):38===l?(0===g?(b=1-or(e,h,f),E=or(e,p,f),C=or(e,p,c),S=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)):(b=or(s,f,h),E=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)),x.push(ha[l]),x.push(da[l]),x.push(ga[l])):39===l?(4===g?(b=1-or(e,h,f),E=or(e,p,f),C=or(e,p,c),S=or(s,p,c),m=1-or(s,h,c),_=1-or(e,h,c)):(b=or(s,f,h),E=1-or(s,f,p),C=1-or(s,c,p),S=1-or(e,c,p),m=or(e,c,h),_=or(s,c,h)),x.push(ha[l]),x.push(fa[l]),x.push(ga[l])):85===l&&(w=1,b=0,E=1,v=0,C=0,S=1,m=0,_=1),(m<0||m>1||_<0||_>1||w<0||w>1||E<0||E>1||C<0||C>1||S<0||S>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+h+","+f+","+p+" "+g+" "+m+" "+_+" "+w+" "+b+" "+E+" "+v+" "+C+" "+S),o.cells[a][u]={cval:l,cval_real:d,flipped:g,topleft:m,topright:_,righttop:w,rightbottom:b,bottomright:E,bottomleft:v,leftbottom:C,lefttop:S,edges:x}}}}}return o}(t,e,n);return As.polygons?(As.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach(function(t,r){t.forEach(function(t,i){if(void 0!==t){var o=_a[t.cval](t);"object"==typeof o&&sr(o)?"object"==typeof o[0]&&sr(o[0])?"object"==typeof o[0][0]&&sr(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=t}):(o.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(As.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=function(t){if(t.edges.length>0){var e=t.cval_real;switch(t.edges[t.edges.length-1]){case 0:return e&Ts?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return e&Ns?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return e&Ns?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return e&Os?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&Ts?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return e&Ns?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return e&Ns?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return e&Os?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return e&Ns?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return e&Os?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return e&Os?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&Ds?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return e&Ns?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return e&Os?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return e&Os?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&Ds?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return e&Ns?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&Ds?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return e&Os?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&Ds?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&Ds?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&Ds?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&Ts?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][s]),u=null,l=s,c=o;null!==a&&i.push([a.p[0]+l,a.p[1]+c]);do{if(null===(u=function(t,e,n,r){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=ha[l],s=Gs[l],a=Vs[l],u=Ws[l];break;default:i=ca[l],s=Bs[l],a=Us[l],u=js[l]}break;case 1:switch(r){case 0:i=da[l],s=Js[l],a=ta[l],u=ea[l];break;default:i=ga[l],s=Ks[l],a=Zs[l],u=Qs[l]}break;default:switch(n){case-1:switch(r){case 0:i=ya[l],s=Rs[l],a=Fs[l],u=Ps[l];break;default:i=ma[l],s=Ls[l],a=Ms[l],u=ks[l]}break;case 1:switch(r){case 0:i=pa[l],s=qs[l],a=Hs[l],u=zs[l];break;default:i=fa[l],s=Ys[l],a=$s[l],u=Xs[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&Ts?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&Ns?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&Ns?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&Os?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&Ts?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&Ns?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&Ns?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&Os?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&Ns?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&Os?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&Os?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&Ds?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&Ns?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&Os?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&Os?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&Ds?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&Ns?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&Ds?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&Os?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&Ds?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&Ds?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&Ts?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&Ds?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&Ts?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}(t.cells[c][l],a.x,a.y,a.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,a=u,(c+=u.y)<0||c>=n||l<0||l>=r||void 0===t.cells[c][l]){var h=function(t,e,n,r,i,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,l=n+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(a=(s=t.cells[l-=i][u-=r]).cval_real,-1===i)if(0===o)if(a&Os)c.push([u,l]),r=-1,i=0,o=0;else{if(!(a&Ns)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(a&Os)){if(a&Ns){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+s.bottomleft,l]),r=0,i=1,o=0,h=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&Ts)){if(a&Ds){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+s.topright,l+1]),r=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(a&Ds)){if(a&Os){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+s.lefttop]),r=1,i=0,o=1,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(a&Ds)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&Ns)){c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(a&Ns)){if(a&Ts){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(a&Os)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(a&Ds)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(a&Ts)){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(a&Ns)){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(a&Ds)){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(l+=i,(u+=r)===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:o}}(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(t){i.push(t)}),l=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),"function"==typeof As.successCallback&&As.successCallback(u),u}function or(t,e,n){return(t-e)/(n-e)}function sr(t){return t.constructor.toString().indexOf("Array")>-1}function ar(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=fe(t)),!1!==i&&void 0!==i||(t=Mt(t)),A(t,function(t){var n=tn(r,t)+e,i=nn(r,t),o=q(Zn(r,i,n));t[0]=o[0],t[1]=o[1]})),t}function ur(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Mt(t)),"FeatureCollection"!==t.type||o?lr(t,e,r):(O(t,function(n,i){t.features[i]=lr(n,e,r)}),t)}function lr(t,e,n){var i="Point"===Z(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return W(e);var n=t.bbox?t.bbox:V(t),i=n[0],o=n[1],s=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return r([s,a]);case"center":return he(t);case void 0:case null:case"centroid":return fe(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||A(t,function(t){var r=nn(n,t),i=tn(n,t),o=q(Zn(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t}function cr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function hr(t,e){return t[0]*e[1]-e[0]*t[1]}function fr(t,e,n){var r=[],i=m(e,n),o=q(t),s=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]));return[[t[0]+n*(e[1]-t[1])/r,t[1]+n*(t[0]-e[0])/r],[e[0]+n*(e[1]-t[1])/r,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var a=r[e-1],u=function(t,e){return!function(t,e){return 0===hr(cr(t),cr(e))}(t,e)&&function(t,e){var n=t[0],r=cr(t),i=e[0],o=cr(e),s=hr(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(hr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/s,r))}(t,e)}(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}}),a(s,t.properties)}function pr(t,e,n){return Math.sign((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function dr(t,e){return e.geometry.coordinates[0].every(function(e){return Dt(r(e),t)})}function gr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=e[0]-t[0],i=e[1]-t[1];return(n[0]-t[0])*i-(n[1]-t[1])*r==0&&(Math.abs(r)>=Math.abs(i)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:i>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function yr(t,e){return Ze(e,Ln(t)).features.length>0}function mr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function _r(t,e){return t[0]===e[0]&&t[1]===e[1]}function vr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),br(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function Er(t,e){return Ze(t,Ln(e)).features.length>0}function wr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,s=0;s<o&&n&&i;)Dt(r(t.coordinates[0][s]),e)?n=!0:i=!0,s++;return i&&i}function br(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];return 0==(n[0]-t[0])*o-(n[1]-t[1])*i&&(r?Math.abs(i)>=Math.abs(o)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:o>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(i)>=Math.abs(o)?i>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:o>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Sr(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function Cr(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function xr(t,e){return Ia(t,e,{strict:!0})}function Ir(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Z(t);if(n!==Z(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Da({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=F(t),o=F(e);i.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&r++})});break;case"LineString":case"MultiLineString":B(t,function(t){B(e,function(e){$n(t,e).features.length&&r++})});break;case"Polygon":case"MultiPolygon":B(t,function(t){B(e,function(e){Ze(t,e).features.length&&r++})})}return r>0}function Ar(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function Dr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Tr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Nr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Or(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Or(t,e,n){this.x=t,this.y=e,this.weight=n}function Rr(t){this.content=[],this.scoreFunction=t}function Fr(t){return t[0]}function Pr(t){return t[1]}function Lr(){this._=null}function Mr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function kr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Br(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ur(t){for(;t.L;)t=t.L;return t}function jr(t,e,n,r){var i=[null,null],o=qa.push(i)-1;return i.left=t,i.right=e,n&&Vr(i,t,e,n),r&&Vr(i,e,t,r),Va[t.index].halfedges.push(o),Va[e.index].halfedges.push(o),i}function Gr(t,e,n){var r=[e,n];return r.left=t,r}function Vr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Wr(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,p=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function qr(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],g=(h+p)/2;if(d===f){if(g<e||g>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(a=(f+d)/2-(s=(h-p)/(d-f))*g,s<-1||s>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Hr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function zr(t,e){return e[+(e.left!==t.site)]}function Yr(t,e){return e[+(e.left===t.site)]}function $r(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,c=o[0]-s,h=o[1]-a,f=2*(u*h-l*c);if(!(f>=-$a)){var p=u*u+l*l,d=c*c+h*h,g=(h*p-l*d)/f,y=(u*d-c*p)/f,m=Ha.pop()||new function(){Mr(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=g+s,m.y=(m.cy=y+a)+Math.sqrt(g*g+y*y),t.circle=m;for(var _=null,v=Wa._;v;)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}Wa.insert(_,m),_||(ja=m)}}}}function Xr(t){var e=t.circle;e&&(e.P||(ja=e.N),Wa.remove(e),Ha.push(e),Mr(e),t.circle=null)}function Kr(t){var e=za.pop()||new function(){Mr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Zr(t){Xr(t),Ga.remove(t),za.push(t),Mr(t)}function Qr(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];Zr(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ya&&Math.abs(r-u.circle.cy)<Ya;)o=u.P,a.unshift(u),Zr(u),u=o;a.unshift(u),Xr(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<Ya&&Math.abs(r-l.circle.cy)<Ya;)s=l.N,a.push(l),Zr(l),l=s;a.push(l),Xr(l);var c,h=a.length;for(c=1;c<h;++c)Vr((l=a[c]).edge,(u=a[c-1]).site,l.site,i);(l=a[h-1]).edge=jr((u=a[0]).site,l.site,null,i),$r(u),$r(l)}function Jr(t){for(var e,n,r,i,o=t[0],s=t[1],a=Ga._;a;)if((r=ti(a,s)-o)>Ya)a=a.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return ti(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(a,s))>Ya)){r>-Ya?(e=a.P,n=a):i>-Ya?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Va[t.index]={site:t,halfedges:[]}}(t);var u=Kr(t);if(Ga.insert(e,u),e||n){if(e===n)return Xr(e),n=Kr(e.site),Ga.insert(u,n),u.edge=n.edge=jr(e.site,u.site),$r(e),void $r(n);if(n){Xr(e),Xr(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,g=d[0]-c,y=d[1]-h,m=2*(f*y-p*g),_=f*f+p*p,v=g*g+y*y,E=[(y*_-p*v)/m+c,(f*v-g*_)/m+h];Vr(n.edge,l,d,E),u.edge=jr(l,t,null,E),n.edge=jr(t,d,null,E),$r(e),$r(n)}else u.edge=jr(e.site,u.site)}}function ti(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+a)/2}function ei(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ni(t,e){return e[1]-t[1]||e[0]-t[0]}function ri(t,e){var n,r,i,o=t.sort(ni).pop();for(qa=[],Va=new Array(t.length),Ga=new Lr,Wa=new Lr;;)if(i=ja,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Jr(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Qr(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Va.length;i<o;++i)if((t=Va[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Hr(t,qa[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=qa.length;o--;)qr(i=qa[o],t,e,n,r)&&Wr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ya||Math.abs(i[0][1]-i[1][1])>Ya)||delete qa[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,c,h,f,p,d,g,y=Va.length,m=!0;for(i=0;i<y;++i)if(o=Va[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)qa[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(p=Yr(o,qa[u[a]]))[0],g=p[1],h=(c=zr(o,qa[u[++a%l]]))[0],f=c[1],(Math.abs(d-h)>Ya||Math.abs(g-f)>Ya)&&(u.splice(a,0,qa.push(Gr(s,p,Math.abs(d-t)<Ya&&r-g>Ya?[t,Math.abs(h-t)<Ya?f:r]:Math.abs(g-r)<Ya&&n-d>Ya?[Math.abs(f-r)<Ya?h:n,r]:Math.abs(d-n)<Ya&&g-e>Ya?[n,Math.abs(h-n)<Ya?f:e]:Math.abs(g-e)<Ya&&d-t>Ya?[Math.abs(f-e)<Ya?h:t,e]:null))-1),++l);l&&(m=!1)}if(m){var _,v,E,w=1/0;for(i=0,m=null;i<y;++i)(o=Va[i])&&(E=(_=(s=o.site)[0]-t)*_+(v=s[1]-e)*v)<w&&(w=E,m=o);if(m){var b=[t,e],S=[t,r],C=[n,r],x=[n,e];m.halfedges.push(qa.push(Gr(s=m.site,b,S))-1,qa.push(Gr(s,S,C))-1,qa.push(Gr(s,C,x))-1,qa.push(Gr(s,x,b))-1)}}for(i=0;i<y;++i)(o=Va[i])&&(o.halfedges.length||delete Va[i])}(s,a,u,l)}this.edges=qa,this.cells=Va,Ga=Wa=qa=Va=null}function ii(t){return(t=t.slice()).push(t[0]),o([t])}function oi(t,e,n,r){var i=(r=r||{}).steps||64,s=r.units||"kilometers",a=r.angle||0,u=r.pivot||t,l=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!S(i))throw new Error("steps must be a number");if(!S(a))throw new Error("angle must be a number");var c=W(t);if("degrees"===s)var h=E(a);else e=Zn(t,e,90,{units:s}),n=Zn(t,n,0,{units:s}),e=W(e)[0]-c[0],n=W(n)[1]-c[1];for(var f=[],p=0;p<i;p+=1){var d=-360*p/i,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(si(d),2)),y=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(si(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(y=-y),"degrees"===s){var m=g*Math.cos(h)+y*Math.sin(h),_=y*Math.cos(h)-g*Math.sin(h);g=m,y=_}f.push([g+c[0],y+c[1]])}return f.push(f[0]),"degrees"===s?o([f],l):ar(o([f],l),a,{pivot:u})}function si(t){var e=t*Math.PI/180;return Math.tan(e)}function ai(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,s=0,a=0;return P(t,function(t,e,n){var r=n[i];if(!S(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&A(t,function(t){o+=t[0]*r,s+=t[1]*r,a+=r})}),r([o/a,s/a],n)}function ui(t,e,n,i){var o=n.properties.tolerance||.001,s=0,a=0,u=0,l=0;if(O(n,function(e){var n=e.properties.weight,r=null==n?1:n;if(!S(r=Number(r)))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*Lt(e,t);0===i&&(i=1);var o=r/i;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,u+=o}}),l<1)throw new Error("no features to measure");var c=s/u,h=a/u;return 1===l||0===i||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?r([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),ui([c,h],t,n,i-1))}function li(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function ci(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*di(),180*di()]}function hi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(ci(n)));return l(i)}function fi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;null!=t||(t=1),S(r)||(r=10),S(i)||(i=10);for(var s=[],a=0;a<t;a++){var u=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),c.forEach(function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])}),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(ci(n))),s.push(o([u]))}return l(s)}function pi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null!=t||(t=1),(!S(r)||r<2)&&(r=10),S(i)||(i=1e-4),S(o)||(o=Math.PI/8);for(var s=[],u=0;u<t;u++){for(var c=[ci(n)],h=0;h<r-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*i;c.push([c[h][0]+p*Math.cos(f),c[h][1]+p*Math.sin(f)])}s.push(a(c))}return l(s)}function di(){return Math.random()-.5}function gi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return O(t,function(t){vi(t.properties,e)&&n.push(t)}),l(n)}function yi(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=_i(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],c=0;c<a.length;c++)u.push(t.features[a[c]]);n(l(u),s,o)}}function mi(t,e,n,r){var i=r;return yi(t,e,function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)}),i}function _i(t,e){var n={};return O(t,function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}}),n}function vi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!vi(t,e[r]))return!1;return!0}return Ei(t,e)}function Ei(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function wi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function bi(){}function Si(t){this.message=t||""}function Ci(t){this.message=t||""}function xi(){}function Ii(t){return null===t?gl:t.color}function Ai(t){return null===t?null:t.parent}function Di(t,e){null!==t&&(t.color=e)}function Ti(t){return null===t?null:t.left}function Ni(t){return null===t?null:t.right}function Oi(){this.root_=null,this.size_=0}function Ri(){}function Fi(){this.array_=[],arguments[0]instanceof tl&&this.addAll(arguments[0])}function Pi(){}function Li(t){this.message=t||""}function Mi(){this.array_=[]}function ki(t){switch(t.type){case"Polygon":return pn(t)>1?t:null;case"MultiPolygon":var e=[];if(M(t,function(t){pn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Bi(){this.reset()}function Ui(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}function ji(t){return t>1?wp:t<-1?-wp:Math.asin(t)}function Gi(){}function Vi(t,e){t&&Mp.hasOwnProperty(t.type)&&Mp[t.type](t,e)}function Wi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function qi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Wi(t[n],e,1);e.polygonEnd()}function Hi(t){return[Dp(t[1],t[0]),ji(t[2])]}function zi(t){var e=t[0],n=t[1],r=Tp(n);return[r*Tp(e),r*Rp(e),Rp(n)]}function Yi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $i(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Xi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ki(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Zi(t){var e=Fp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Qi(t,e){return[t>Ep?t-Sp:t<-Ep?t+Sp:t,e]}function Ji(t,e,n){return(t%=Sp)?e||n?Bp(eo(t),no(e,n)):eo(t):e||n?no(e,n):Qi}function to(t){return function(e,n){return[(e+=t)>Ep?e-Sp:e<-Ep?e+Sp:e,n]}}function eo(t){var e=to(t);return e.invert=to(-t),e}function no(t,e){function n(t,e){var n=Tp(e),a=Tp(t)*n,u=Rp(t)*n,l=Rp(e),c=l*r+a*i;return[Dp(u*o-c*s,a*r-l*i),ji(c*o+u*s)]}var r=Tp(t),i=Rp(t),o=Tp(e),s=Rp(e);return n.invert=function(t,e){var n=Tp(e),a=Tp(t)*n,u=Rp(t)*n,l=Rp(e),c=l*o-u*s;return[Dp(u*o+l*s,a*r+c*i),ji(c*r-a*i)]},n}function ro(t,e){(e=zi(e))[0]-=t,Zi(e);var n=function(t){return t>1?0:t<-1?Ep:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Sp-vp)%Sp}function io(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function oo(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function so(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,l){var c=0,h=0;if(null==i||(c=s(i,a))!==(h=s(o,a))||u(i,o)<0^a>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+a+4)%4)!==h);else l.point(o[0],o[1])}function s(r,i){return Ip(r[0]-t)<vp?i>0?0:3:Ip(r[0]-n)<vp?i>0?2:1:Ip(r[1]-e)<vp?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){i(t,e)&&w.point(t,e)}function l(o,s){var a=i(o,s);if(h&&f.push([o,s]),v)p=o,d=s,g=a,v=!1,a&&(w.lineStart(),w.point(o,s));else if(a&&_)w.point(o,s);else{var u=[y=Math.max(zp,Math.min(Hp,y)),m=Math.max(zp,Math.min(Hp,m))],l=[o=Math.max(zp,Math.min(Hp,o)),s=Math.max(zp,Math.min(Hp,s))];jp(u,l,t,e,n,r)?(_||(w.lineStart(),w.point(u[0],u[1])),w.point(l[0],l[1]),a||w.lineEnd(),E=!1):a&&(w.lineStart(),w.point(o,s),E=!1)}y=o,m=s,_=a}var c,h,f,p,d,g,y,m,_,v,E,w=s,b=Up(),S={point:u,lineStart:function(){S.point=l,h&&h.push(f=[]),v=!0,_=!1,y=m=NaN},lineEnd:function(){c&&(l(p,d),g&&_&&b.rejoin(),c.push(b.result())),S.point=u,_&&w.lineEnd()},polygonStart:function(){w=b,c=[],h=[],E=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=h.length;n<i;++n)for(var o,s,a=h[n],u=1,l=a.length,c=a[0],f=c[0],p=c[1];u<l;++u)o=f,s=p,f=(c=a[u])[0],p=c[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}(),n=E&&e,i=(c=qp(c)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Vp(c,a,e,o,s),s.polygonEnd()),w=s,c=h=f=null}};return S}}function ao(t){return t.length>1}function uo(t,e){return((t=t.x)[0]<0?t[1]-wp-vp:wp-t[1])-((e=e.x)[0]<0?e[1]-wp-vp:wp-e[1])}function lo(t){return function(e){var n=new co;for(var r in t)n[r]=t[r];return n.stream=e,n}}function co(){}function ho(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),kp(n,t.stream(Jp));var s=Jp.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}function fo(t,e){return[t,Op(Pp((wp+e)/2))]}function po(t,e){return[Op(Pp((wp+e)/2)),-t]}function go(t,n,r,i){var o=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var a=[];return P(t,function(t){var e=go(t,n,r,i);e&&a.push(e)}),l(a)}var u,c=V(t),h=c[1]>50&&c[3]>50;u=h?{type:s.type,coordinates:mo(s.coordinates,vo(s))}:rn(s);var f,p=(new ic).read(u),d=g(y(n,r),"meters"),m=Xh.bufferOp(p,d);if(!yo((m=(new oc).write(m)).coordinates))return(f=h?{type:m.type,coordinates:_o(m.coordinates,vo(s))}:on(m)).geometry?f:e(f,o)}function yo(t){return Array.isArray(t[0])?yo(t[0]):isNaN(t[0])}function mo(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return mo(t,e)})}function _o(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return _o(t,e)})}function vo(t){var e=he(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return sd().center(e).rotate(n).scale(Do)}function Eo(){for(var t=new ic,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=yp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new oc).write(e),properties:arguments[0].properties}}function wo(t,n){var r=X(t),i=X(n);if(Kt(xn(i,{precision:4})).coordinates[0].length<4)return null;if(Kt(xn(r,{precision:4})).coordinates[0].length<4)return null;var o=new ic,s=o.read(xn(r)),a=o.read(xn(i)),u=ap.intersection(s,a);return u.isEmpty()?null:e((new oc).write(u))}function bo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,r=n)}),r}(t,e)}function So(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,s=n.mask;if(null==e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(s&&-1===["Polygon","MultiPolygon"].indexOf(Z(s)))throw new Error("options.mask must be a (Multi)Polygon");var a=t[0],u=t[1],c=t[2],h=t[3],f=(u+h)/2,p=(a+c)/2,d=2*e/Lt([a,f],[c,f],n)*(c-a),g=2*e/Lt([p,u],[p,h],n)*(h-u),y=d/2,m=2*y,_=Math.sqrt(3)/2*g,v=c-a,E=h-u,w=.75*m,b=_,x=Math.floor((v-m)/(m-y/2)),I=(x*w-y/2-v)/2-y/2+w/2,A=Math.floor((E-_)/_),D=(E-A*_)/2,T=A*_-E>_/2;T&&(D-=_/4);for(var N=[],O=[],R=0;R<6;R++){var F=2*Math.PI/6*R;N.push(Math.cos(F)),O.push(Math.sin(F))}for(var P=[],L=0;L<=x;L++)for(var M=0;M<=A;M++){var k=L%2==1;if(!(0===M&&k||0===M&&T)){var B=L*w+a-I,U=M*b+u+D;if(k&&(U-=_/2),!0===i)(function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*i[u],t[1]+n*s[u]]),l.push([t[0]+e*i[(u+1)%6],t[1]+n*s[(u+1)%6]]),l.push(t),a.push(o([l],r))}return a})([B,U],d/2,g/2,r,N,O).forEach(function(t){s?wo(s,t)&&P.push(t):P.push(t)});else{var j=function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++)a.push([t[0]+e*i[u],t[1]+n*s[u]]);return a.push(a[0].slice()),o([a],r)}([B,U],d/2,g/2,r,N,O);s?wo(s,j)&&P.push(j):P.push(j)}}}return l(P)}function Co(t){if(t.features.length<=1)return t;var e=function(t){var e=Bo(),n=[];return M(t,function(t,e){var r=V(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return M(t,function(t,i){if(r[i])return!0;for(e.remove({index:i},xo),r[i]=!0;;){var o=V(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map(function(t){return r[t.index]=!0,e.remove({index:t.index},xo),t.geojson});a.push(t),t=Eo.apply(this,a)}if(0===s.length)break}n.push(t)}),l(n)}function xo(t,e){return t.index===e.index}function Io(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Z(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],c=t[2],h=t[3],f=e/Lt([a,u],[c,u],n)*(c-a),p=e/Lt([a,u],[a,h],n)*(h-u),d=c-a,g=h-u,y=Math.floor(d/f),m=Math.floor(g/p),_=(g-m*p)/2,v=a+(d-y*f)/2,E=0;E<y;E++){for(var w=u+_,b=0;b<m;b++){var x=o([[[v,w],[v,w+p],[v+f,w+p],[v+f,w],[v,w]]],r);i?wo(i,x)&&s.push(x):s.push(x),w+=p}v+=f}return l(s)}function Ao(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Z(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/Lt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Lt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var f=0,p=t[1];p<=t[3];){var d=null,g=null;c%2==0&&f%2==0?(d=o([[[h,p],[h,p+u],[h+a,p],[h,p]]],r),g=o([[[h,p+u],[h+a,p+u],[h+a,p],[h,p+u]]],r)):c%2==0&&f%2==1?(d=o([[[h,p],[h+a,p+u],[h+a,p],[h,p]]],r),g=o([[[h,p],[h,p+u],[h+a,p+u],[h,p]]],r)):f%2==0&&c%2==1?(d=o([[[h,p],[h,p+u],[h+a,p+u],[h,p]]],r),g=o([[[h,p],[h+a,p+u],[h+a,p],[h,p]]],r)):f%2==1&&c%2==1&&(d=o([[[h,p],[h,p+u],[h+a,p],[h,p]]],r),g=o([[[h,p+u],[h+a,p+u],[h+a,p],[h,p+u]]],r)),i?(wo(i,d)&&s.push(d),wo(i,g)&&s.push(g)):(s.push(d),s.push(g)),p+=u,f++}c++,h+=a}return l(s)}var Do=6371008.8,To={meters:Do,metres:Do,millimeters:1e3*Do,millimetres:1e3*Do,centimeters:100*Do,centimetres:100*Do,kilometers:Do/1e3,kilometres:Do/1e3,miles:Do/1609.344,nauticalmiles:Do/1852,inches:39.37*Do,yards:Do/1.0936,feet:3.28084*Do,radians:1,degrees:Do/111325},No={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Do,degrees:1/111325},Oo={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Ro=Object.freeze({earthRadius:Do,factors:To,unitsFactors:No,areaFactors:Oo,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:s,lineString:a,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:h,multiPolygon:f,geometryCollection:p,round:d,radiansToLength:g,lengthToRadians:y,lengthToDegrees:m,bearingToAzimuth:_,radiansToDegrees:v,degreesToRadians:E,convertLength:w,convertArea:b,isNumber:S,isObject:C,validateBBox:x,validateId:I,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Fo=Object.freeze({coordEach:A,coordReduce:D,propEach:T,propReduce:N,featureEach:O,featureReduce:R,coordAll:F,geomEach:P,geomReduce:L,flattenEach:M,flattenReduce:k,segmentEach:B,segmentReduce:U,lineEach:j,lineReduce:G}),Po=Object.freeze({getCoord:W,getCoords:q,containsNumber:H,geojsonType:z,featureOf:Y,collectionOf:$,getGeom:X,getGeomType:K,getType:Z}),Lo={successCallback:null,verbose:!1},Mo={},ko=function t(e,n,r,i,o){for(r=r||0,i=i||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};i>r;){if(i-r>600){var s=i-r+1,a=n-r+1,u=Math.log(s),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-a*l/s+c)),Math.min(i,Math.floor(n+(s-a)*l/s+c)),o)}var h=e[n],f=r,p=i;for(rt(e,r,n),o(e[i],h)>0&&rt(e,r,i);f<p;){for(rt(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[r],h)?rt(e,r,p):rt(e,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}},Bo=it;it.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!pt(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],pt(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):ft(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],pt(t,s=e.leaf?n(o):o)){if(e.leaf||ft(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=dt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!ft(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:ut,compareMinY:lt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return ot(i=dt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=dt([])).leaf=!1,i.height=r;var a,u,l,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(gt(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(gt(t,a,l=Math.min(a+f-1,n),h,this.compareMinY),u=a;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return ot(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=ct(s=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),at(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=dt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ot(n,this.toBBox),ot(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=st(t,0,r,this.toBBox),o=st(t,r,n,this.toBBox)),a=ct(i)+ct(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ut,i=t.leaf?this.compareMinY:lt;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=st(t,0,e,s),u=st(t,n-e,n,s),l=ht(a)+ht(u);for(i=e;i<n-e;i++)o=t.children[i],at(a,t.leaf?s(o):o),l+=ht(a);for(i=n-e-1;i>=e;i--)o=t.children[i],at(u,t.leaf?s(o):o),l+=ht(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)at(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Uo=function(t,e,n){var r=t*e,i=jo*t,o=i-(i-t),s=t-o,a=jo*e,u=a-(a-e),l=e-u,c=s*l-(r-o*u-s*u-o*l);return n?(n[0]=c,n[1]=r,n):[c,r]},jo=+(Math.pow(2,27)+1),Go=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=e[l],d=c(p);f<d?(o=h,(u+=1)<n&&(f=c(h=t[u]))):(o=p,(l+=1)<r&&(d=c(p=e[l]))),u<n&&f<d||l>=r?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=e[l])));for(var g,y,m=i+o,_=m-i,v=o-_,E=v,w=m;u<n&&l<r;)f<d?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=e[l]))),(v=(o=E)-(_=(m=i+o)-i))&&(s[a++]=v),E=w-((g=w+m)-(y=g-w))+(m-y),w=g;for(;u<n;)(v=(o=E)-(_=(m=(i=h)+o)-i))&&(s[a++]=v),E=w-((g=w+m)-(y=g-w))+(m-y),w=g,(u+=1)<n&&(h=t[u]);for(;l<r;)(v=(o=E)-(_=(m=(i=p)+o)-i))&&(s[a++]=v),E=w-((g=w+m)-(y=g-w))+(m-y),w=g,(l+=1)<r&&(p=e[l]);return E&&(s[a++]=E),w&&(s[a++]=w),a||(s[a++]=0),s.length=a,s},Vo=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);return n?(n[0]=s+o,n[1]=r,n):[s+o,r]},Wo=function(t,e){var n=t.length;if(1===n){var r=Uo(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Uo(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<n;++u){Uo(t[u],e,s),Vo(o[1],s[0],o),o[0]&&(i[a++]=o[0]);var l=s[1],c=o[1],h=l+c,f=c-(h-l);o[1]=h,f&&(i[a++]=f)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},qo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=-e[l],d=c(p);f<d?(o=h,(u+=1)<n&&(f=c(h=t[u]))):(o=p,(l+=1)<r&&(d=c(p=-e[l]))),u<n&&f<d||l>=r?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=-e[l])));for(var g,y,m=i+o,_=m-i,v=o-_,E=v,w=m;u<n&&l<r;)f<d?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=-e[l]))),(v=(o=E)-(_=(m=i+o)-i))&&(s[a++]=v),E=w-((g=w+m)-(y=g-w))+(m-y),w=g;for(;u<n;)(v=(o=E)-(_=(m=(i=h)+o)-i))&&(s[a++]=v),E=w-((g=w+m)-(y=g-w))+(m-y),w=g,(u+=1)<n&&(h=t[u]);for(;l<r;)(v=(o=E)-(_=(m=(i=p)+o)-i))&&(s[a++]=v),E=w-((g=w+m)-(y=g-w))+(m-y),w=g,(l+=1)<r&&(p=-e[l]);return E&&(s[a++]=E),w&&(s[a++]=w),a||(s[a++]=0),s.length=a,s},Ho=yt(function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],s=0;s<t.length;++s)o.push(["scale(",r(i(e(t,s))),",",n(s),t[0][s],")"].join(""));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(s,u))):o.push.apply(o,i(e(s,u))),a.push("m"+u);var l=r(n),c=r(o),h="orientation"+t+"Exact",f=["function ",h,"(",a.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(Go,Uo,Wo,qo)}var s=o(3),a=o(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var u=33306690738754716e-32*r;return a>=u||a<=-u?a:s(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],s=n[0]-r[0],u=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],h=t[2]-r[2],f=e[2]-r[2],p=n[2]-r[2],d=o*c,g=s*l,y=s*u,m=i*c,_=i*l,v=o*u,E=h*(d-g)+f*(y-m)+p*(_-v),w=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(h)+(Math.abs(y)+Math.abs(m))*Math.abs(f)+(Math.abs(_)+Math.abs(v))*Math.abs(p));return E>w||-E>w?E:a(t,e,n,r)}];!function(){for(;u.length<=5;)u.push(o(u.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}].concat(u)),r=0;r<=5;++r)t.exports[r]=u[r]}()}),zo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var o=[i[0],i[1]],s=[i[0],i[1]];for(r=2;r<e;++r){for(var a=i[r],u=t[a],l=o.length;l>1&&Yo(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(a),l=s.length;l>1&&Yo(t[s[l-2]],t[s[l-1]],u)>=0;)l-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var c=0,h=(r=0,o.length);r<h;++r)n[c++]=o[r];for(var f=s.length-2;f>0;--f)n[c++]=s[f];return n},Yo=Ho[3],$o=mt,Xo=mt;mt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},$o.default=Xo;var Ko=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][1];u>r!=l>r&&n<(e[s][0]-a)*(r-u)/(l-u)+a&&(i=!i)}return i},Zo=Ho[3],Qo=_t;Qo.default=_t;var Jo=function(t){return t},ts=function(t){if(null==t)return Jo;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+s;u<l;)c[u]=t[u],++u;return c}},es=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},ns=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),s.push(i)}}var r={},i={},o={},s=[],a=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)}),e.forEach(function(e){var n,r,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=a,r=o[a]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=a]=o[n.end=u]=n}),n(o,i),n(i,o),e.forEach(function(t){r[t<0?~t:t]||s.push([t])}),s},rs=function(t){return Gt(t,Vt.apply(this,arguments))},is=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;return{set:function(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l]=o;if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o},get:function(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)break;c=s[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}}},os=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ss=new ArrayBuffer(16),as=new Float64Array(ss),us=new Uint32Array(ss),ls=function(t){as[0]=t[0],as[1]=t[1];var e=us[0]^us[1];return 2147483647&(e<<5^e>>7^us[2]^us[3])},cs=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,s=1/0,a=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return a>=o&&u>=s?[o,s,a,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=qt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-l)*p),Math.round((t[1]-c)*d)]}function i(t,e){for(var n,r,i,o,s,a=-1,u=0,h=t.length,f=new Array(h);++a<h;)n=t[a],o=Math.round((n[0]-l)*p),s=Math.round((n[1]-c)*d),o===r&&s===i||(f[u++]=[r=o,i=s]);for(f.length=u;u<e;)u=f.push([f[0][0],f[0][1]]);return f}function o(t){return i(t,2)}function s(t){return i(t,4)}function a(t){return t.map(s)}function u(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var l=e[0],c=e[1],h=e[2],f=e[3],p=h-l?(n-1)/(h-l):1,d=f-c?(n-1)/(f-c):1,g={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var y in t)u(t[y]);return{scale:[1/p,1/d],translate:[l,c]}}(t,o,e),a=function(t){function e(t){var e,n,r,i,o,s,a,u;if(r=p.get(e=l[t[0]]))for(a=0,u=r.length;a<u;++a)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!os(l[n],l[r]))return!1;return!0}(i=r[a],t))return t[0]=i[0],void(t[1]=i[1]);if(o=p.get(n=l[t[1]]))for(a=0,u=o.length;a<u;++a)if(function(t,e){var n=t[0],r=t[1],i=e[1];if(n-r!=e[0]-i)return!1;for(;n<=r;++n,--i)if(!os(l[n],l[i]))return!1;return!0}(s=o[a],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var s=i(t),a=i(e),u=0;u<o;++u)if(!os(l[n+(u+s)%o],l[r+(u+a)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[1],o=t[1]-n;if(o!==r-e[0])return!1;for(var s=i(t),a=o-i(e),u=0;u<o;++u)if(!os(l[n+(u+s)%o],l[r-(u+a)%o]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=l[r];++r<n;){var s=l[r];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(i=r,o=s)}return i-e}var o,s,a,u,l=t.coordinates,c=t.lines,h=t.rings,f=c.length+h.length;for(delete t.lines,delete t.rings,a=0,u=c.length;a<u;++a)for(o=c[a];o=o.next;)++f;for(a=0,u=h.length;a<u;++a)for(s=h[a];s=s.next;)++f;var p=is(2*f*1.4,ls,os),d=t.arcs=[];for(a=0,u=c.length;a<u;++a){o=c[a];do{e(o)}while(o=o.next)}for(a=0,u=h.length;a<u;++a)if((s=h[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,u;if(o=p.get(l[t[0]]))for(a=0,u=o.length;a<u;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=p.get(e=l[t[0]+i(t)]))for(a=0,u=o.length;a<u;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(s);return t}(function(t){var e,n,r,i=function(t){function e(t,e,n,r){if(f[n]!==t){f[n]=t;var i=p[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++y,g[n]=1)}else p[n]=e,d[n]=r}}function n(t){return ls(u[t])}function r(t,e){return os(u[t],u[e])}var i,o,s,a,u=t.coordinates,l=t.lines,c=t.rings,h=function(){for(var t=is(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),f=new Int32Array(u.length),p=new Int32Array(u.length),d=new Int32Array(u.length),g=new Int8Array(u.length),y=0;for(i=0,o=u.length;i<o;++i)f[i]=p[i]=d[i]=-1;for(i=0,o=l.length;i<o;++i){var m=l[i],_=m[0],v=m[1];for(s=h[_],a=h[++_],++y,g[s]=1;++_<=v;)e(i,s,s=a,a=h[_]);++y,g[a]=1}for(i=0,o=u.length;i<o;++i)f[i]=-1;for(i=0,o=c.length;i<o;++i){var E=c[i],w=E[0]+1,b=E[1];for(e(i,h[b-1],s=h[w-1],a=h[w]);++w<=b;)e(i,s,s=a,a=h[w])}f=p=d=null;var S,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;return{add:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=r,!0},has:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*y,ls,os);for(i=0,o=u.length;i<o;++i)g[S=h[i]]&&C.add(u[S]);return C}(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var h=a[n],f=h[0],p=f,d=h[1],g=i.has(o[f]);++p<d;)i.has(o[p])&&(g?(e={0:p,1:h[1]},h[1]=p,h=h.next=e):(function(t,e,n,r){Wt(t,e,n),Wt(t,e,e+r),Wt(t,e+r,n)}(o,f,d,d-p),o[d]=o[f],g=!0,p=f));return t}(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function i(t){return t.map(r)}var o=-1,s=[],a=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:s,rings:a,objects:t}}(t))),u=a.coordinates,l=is(1.4*a.arcs.length,Yt,$t);t=a.objects,a.bbox=o,a.arcs=a.arcs.map(function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)}),delete a.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var h in t)n(t[h]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],h=l[1];++s<u;)r=(l=o[s])[0],i=l[1],r===c&&i===h||(o[a++]=[r-c,i-h],c=r,h=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},hs=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};hs.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},hs.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},hs.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var fs=de,ps=de;de.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(Te(t,0,i?e[0]*n:t.length,n));if(i)for(var s=0,a=e.length;s<a;s++)o-=Math.abs(Te(t,e[s]*n,s<a-1?e[s+1]*n:t.length,n));var u=0;for(s=0;s<r.length;s+=3){var l=r[s]*n,c=r[s+1]*n,h=r[s+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},de.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&n.holes.push(r+=t[i-1].length)}return n},fs.default=ps,Le.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!qe(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],qe(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):We(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!qe(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],qe(t,s=e.leaf?n(o):o)){if(e.leaf||We(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=He([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!We(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Ue,compareMinY:je,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return Me(i=He(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=He([])).leaf=!1,i.height=r;var a,u,l,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(ze(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(ze(t,a,l=Math.min(a+f-1,n),h,this.compareMinY),u=a;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return Me(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=Ge(s=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),Be(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=He(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Me(n,this.toBBox),Me(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=He([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Me(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ke(t,0,r,this.toBBox),o=ke(t,r,n,this.toBBox)),a=Ge(i)+Ge(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ue,i=t.leaf?this.compareMinY:je;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=ke(t,0,e,s),u=ke(t,n-e,n,s),l=Ve(a)+Ve(u);for(i=e;i<n-e;i++)o=t.children[i],Be(a,t.leaf?s(o):o),l+=Ve(a);for(i=n-e-1;i>=e;i--)o=t.children[i],Be(u,t.leaf?s(o):o),l+=Ve(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Be(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Me(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ds=Object.freeze({toMercator:rn,toWgs84:on}),gs=6378137,ys=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},ms=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var _s=Math.PI/180,vs=180/Math.PI,Es=function(t,e){this.lon=t,this.lat=e,this.x=_s*t,this.y=_s*e};Es.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Es.prototype.antipode=function(){return new Es(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var ws=function(){this.coords=[],this.length=0};ws.prototype.move_to=function(t){this.length++,this.coords.push(t)};var bs=function(t){this.properties=t||{},this.geometries=[]};bs.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},bs.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Ss=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Es(t.x,t.y),this.end=new Es(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Ss.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=vs*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[vs*Math.atan2(i,r),s]},Ss.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=this.interpolate(r*i);n.push(o)}for(var s=!1,a=0,u=e&&e.offset?e.offset:10,l=180-u,c=-180+u,h=360-u,f=1;f<n.length;++f){var p=n[f-1][0],d=n[f][0],g=Math.abs(d-p);g>h&&(d>l&&p<c||p>l&&d<c)?s=!0:g>a&&(a=g)}var y=[];if(s&&a<u){var m=[];y.push(m);for(var _=0;_<n.length;++_){var v=parseFloat(n[_][0]);if(_>0&&Math.abs(v-n[_-1][0])>h){var E=parseFloat(n[_-1][0]),w=parseFloat(n[_-1][1]),b=parseFloat(n[_][0]),S=parseFloat(n[_][1]);if(E>-180&&E<c&&180===b&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<c){m.push([-180,n[_][1]]),_++,m.push([n[_][0],n[_][1]]);continue}if(E>l&&E<180&&-180===b&&_+1<n.length&&n[_-1][0]>l&&n[_-1][0]<180){m.push([180,n[_][1]]),_++,m.push([n[_][0],n[_][1]]);continue}if(E<c&&b>l){var C=E;E=b,b=C;var x=w;w=S,S=x}if(E>l&&b<c&&(b+=360),E<=180&&b>=180&&E<b){var I=(180-E)/(b-E),A=I*S+(1-I)*w;m.push([n[_-1][0]>l?180:-180,A]),(m=[]).push([n[_-1][0]>l?-180:180,A]),y.push(m)}else y.push(m=[]);m.push([v,n[_][1]])}else m.push([n[_][0],n[_][1]])}}else{var D=[];y.push(D);for(var T=0;T<n.length;++T)D.push([n[T][0],n[T][1]])}for(var N=new bs(this.properties),O=0;O<y.length;++O){var R=new ws;N.geometries.push(R);for(var F=y[O],P=0;P<F.length;++P)R.move_to(F[P])}return N};var Cs=jn;jn.polyline=jn,jn.polygon=function(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Vn(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(Vn(a=t[s],e)&r))!==o&&n.push(Gn(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n};var xs=Array.prototype.slice,Is={successCallback:null,verbose:!1,polygons:!1},As={},Ds=64,Ts=16,Ns=4,Os=1,Rs=[],Fs=[],Ps=[],Ls=[],Ms=[],ks=[],Bs=[],Us=[],js=[],Gs=[],Vs=[],Ws=[],qs=[],Hs=[],zs=[],Ys=[],$s=[],Xs=[],Ks=[],Zs=[],Qs=[],Js=[],ta=[],ea=[];Bs[85]=Gs[85]=-1,Us[85]=Vs[85]=0,js[85]=Ws[85]=1,Ks[85]=Js[85]=1,Zs[85]=ta[85]=0,Qs[85]=ea[85]=1,Rs[85]=Ls[85]=0,Fs[85]=Ms[85]=-1,Ps[85]=zs[85]=0,Ys[85]=qs[85]=0,$s[85]=Hs[85]=1,ks[85]=Xs[85]=1,Js[1]=Js[169]=0,ta[1]=ta[169]=-1,ea[1]=ea[169]=0,qs[1]=qs[169]=-1,Hs[1]=Hs[169]=0,zs[1]=zs[169]=0,Gs[4]=Gs[166]=0,Vs[4]=Vs[166]=-1,Ws[4]=Ws[166]=1,Ys[4]=Ys[166]=1,$s[4]=$s[166]=0,Xs[4]=Xs[166]=0,Bs[16]=Bs[154]=0,Us[16]=Us[154]=1,js[16]=js[154]=1,Ls[16]=Ls[154]=1,Ms[16]=Ms[154]=0,ks[16]=ks[154]=1,Ks[64]=Ks[106]=0,Zs[64]=Zs[106]=1,Qs[64]=Qs[106]=0,Rs[64]=Rs[106]=-1,Fs[64]=Fs[106]=0,Ps[64]=Ps[106]=1,Ks[2]=Ks[168]=0,Zs[2]=Zs[168]=-1,Qs[2]=Qs[168]=1,Js[2]=Js[168]=0,ta[2]=ta[168]=-1,ea[2]=ea[168]=0,qs[2]=qs[168]=-1,Hs[2]=Hs[168]=0,zs[2]=zs[168]=0,Ys[2]=Ys[168]=-1,$s[2]=$s[168]=0,Xs[2]=Xs[168]=1,Bs[8]=Bs[162]=0,Us[8]=Us[162]=-1,js[8]=js[162]=0,Gs[8]=Gs[162]=0,Vs[8]=Vs[162]=-1,Ws[8]=Ws[162]=1,qs[8]=qs[162]=1,Hs[8]=Hs[162]=0,zs[8]=zs[162]=1,Ys[8]=Ys[162]=1,$s[8]=$s[162]=0,Xs[8]=Xs[162]=0,Bs[32]=Bs[138]=0,Us[32]=Us[138]=1,js[32]=js[138]=1,Gs[32]=Gs[138]=0,Vs[32]=Vs[138]=1,Ws[32]=Ws[138]=0,Rs[32]=Rs[138]=1,Fs[32]=Fs[138]=0,Ps[32]=Ps[138]=0,Ls[32]=Ls[138]=1,Ms[32]=Ms[138]=0,ks[32]=ks[138]=1,Js[128]=Js[42]=0,ta[128]=ta[42]=1,ea[128]=ea[42]=1,Ks[128]=Ks[42]=0,Zs[128]=Zs[42]=1,Qs[128]=Qs[42]=0,Rs[128]=Rs[42]=-1,Fs[128]=Fs[42]=0,Ps[128]=Ps[42]=1,Ls[128]=Ls[42]=-1,Ms[128]=Ms[42]=0,ks[128]=ks[42]=0,Gs[5]=Gs[165]=-1,Vs[5]=Vs[165]=0,Ws[5]=Ws[165]=0,Js[5]=Js[165]=1,ta[5]=ta[165]=0,ea[5]=ea[165]=0,Ys[20]=Ys[150]=0,$s[20]=$s[150]=1,Xs[20]=Xs[150]=1,Ls[20]=Ls[150]=0,Ms[20]=Ms[150]=-1,ks[20]=ks[150]=1,Bs[80]=Bs[90]=-1,Us[80]=Us[90]=0,js[80]=js[90]=1,Ks[80]=Ks[90]=1,Zs[80]=Zs[90]=0,Qs[80]=Qs[90]=1,qs[65]=qs[105]=0,Hs[65]=Hs[105]=1,zs[65]=zs[105]=0,Rs[65]=Rs[105]=0,Fs[65]=Fs[105]=-1,Ps[65]=Ps[105]=0,Bs[160]=Bs[10]=-1,Us[160]=Us[10]=0,js[160]=js[10]=1,Gs[160]=Gs[10]=-1,Vs[160]=Vs[10]=0,Ws[160]=Ws[10]=0,Js[160]=Js[10]=1,ta[160]=ta[10]=0,ea[160]=ea[10]=0,Ks[160]=Ks[10]=1,Zs[160]=Zs[10]=0,Qs[160]=Qs[10]=1,Ys[130]=Ys[40]=0,$s[130]=$s[40]=1,Xs[130]=Xs[40]=1,qs[130]=qs[40]=0,Hs[130]=Hs[40]=1,zs[130]=zs[40]=0,Rs[130]=Rs[40]=0,Fs[130]=Fs[40]=-1,Ps[130]=Ps[40]=0,Ls[130]=Ls[40]=0,Ms[130]=Ms[40]=-1,ks[130]=ks[40]=1,Gs[37]=Gs[133]=0,Vs[37]=Vs[133]=1,Ws[37]=Ws[133]=1,Js[37]=Js[133]=0,ta[37]=ta[133]=1,ea[37]=ea[133]=0,Rs[37]=Rs[133]=-1,Fs[37]=Fs[133]=0,Ps[37]=Ps[133]=0,Ls[37]=Ls[133]=1,Ms[37]=Ms[133]=0,ks[37]=ks[133]=0,Ys[148]=Ys[22]=-1,$s[148]=$s[22]=0,Xs[148]=Xs[22]=0,Js[148]=Js[22]=0,ta[148]=ta[22]=-1,ea[148]=ea[22]=1,Ks[148]=Ks[22]=0,Zs[148]=Zs[22]=1,Qs[148]=Qs[22]=1,Ls[148]=Ls[22]=-1,Ms[148]=Ms[22]=0,ks[148]=ks[22]=1,Bs[82]=Bs[88]=0,Us[82]=Us[88]=-1,js[82]=js[88]=1,Ys[82]=Ys[88]=1,$s[82]=$s[88]=0,Xs[82]=Xs[88]=1,qs[82]=qs[88]=-1,Hs[82]=Hs[88]=0,zs[82]=zs[88]=1,Ks[82]=Ks[88]=0,Zs[82]=Zs[88]=-1,Qs[82]=Qs[88]=0,Bs[73]=Bs[97]=0,Us[73]=Us[97]=1,js[73]=js[97]=0,Gs[73]=Gs[97]=0,Vs[73]=Vs[97]=-1,Ws[73]=Ws[97]=0,qs[73]=qs[97]=1,Hs[73]=Hs[97]=0,zs[73]=zs[97]=0,Rs[73]=Rs[97]=1,Fs[73]=Fs[97]=0,Ps[73]=Ps[97]=1,Bs[145]=Bs[25]=0,Us[145]=Us[25]=-1,js[145]=js[25]=0,qs[145]=qs[25]=1,Hs[145]=Hs[25]=0,zs[145]=zs[25]=1,Js[145]=Js[25]=0,ta[145]=ta[25]=1,ea[145]=ea[25]=1,Ls[145]=Ls[25]=-1,Ms[145]=Ms[25]=0,ks[145]=ks[25]=0,Gs[70]=Gs[100]=0,Vs[70]=Vs[100]=1,Ws[70]=Ws[100]=0,Ys[70]=Ys[100]=-1,$s[70]=$s[100]=0,Xs[70]=Xs[100]=1,Ks[70]=Ks[100]=0,Zs[70]=Zs[100]=-1,Qs[70]=Qs[100]=1,Rs[70]=Rs[100]=1,Fs[70]=Fs[100]=0,Ps[70]=Ps[100]=0,Gs[101]=Gs[69]=0,Vs[101]=Vs[69]=1,Ws[101]=Ws[69]=0,Rs[101]=Rs[69]=1,Fs[101]=Fs[69]=0,Ps[101]=Ps[69]=0,Js[149]=Js[21]=0,ta[149]=ta[21]=1,ea[149]=ea[21]=1,Ls[149]=Ls[21]=-1,Ms[149]=Ms[21]=0,ks[149]=ks[21]=0,Ys[86]=Ys[84]=-1,$s[86]=$s[84]=0,Xs[86]=Xs[84]=1,Ks[86]=Ks[84]=0,Zs[86]=Zs[84]=-1,Qs[86]=Qs[84]=1,Bs[89]=Bs[81]=0,Us[89]=Us[81]=-1,js[89]=js[81]=0,qs[89]=qs[81]=1,Hs[89]=Hs[81]=0,zs[89]=zs[81]=1,Bs[96]=Bs[74]=0,Us[96]=Us[74]=1,js[96]=js[74]=0,Gs[96]=Gs[74]=-1,Vs[96]=Vs[74]=0,Ws[96]=Ws[74]=1,Ks[96]=Ks[74]=1,Zs[96]=Zs[74]=0,Qs[96]=Qs[74]=0,Rs[96]=Rs[74]=1,Fs[96]=Fs[74]=0,Ps[96]=Ps[74]=1,Bs[24]=Bs[146]=0,Us[24]=Us[146]=-1,js[24]=js[146]=1,Ys[24]=Ys[146]=1,$s[24]=$s[146]=0,Xs[24]=Xs[146]=1,qs[24]=qs[146]=0,Hs[24]=Hs[146]=1,zs[24]=zs[146]=1,Ls[24]=Ls[146]=0,Ms[24]=Ms[146]=-1,ks[24]=ks[146]=0,Gs[6]=Gs[164]=-1,Vs[6]=Vs[164]=0,Ws[6]=Ws[164]=1,Ys[6]=Ys[164]=-1,$s[6]=$s[164]=0,Xs[6]=Xs[164]=0,Js[6]=Js[164]=0,ta[6]=ta[164]=-1,ea[6]=ea[164]=1,Ks[6]=Ks[164]=1,Zs[6]=Zs[164]=0,Qs[6]=Qs[164]=0,qs[129]=qs[41]=0,Hs[129]=Hs[41]=1,zs[129]=zs[41]=1,Js[129]=Js[41]=0,ta[129]=ta[41]=1,ea[129]=ea[41]=0,Rs[129]=Rs[41]=-1,Fs[129]=Fs[41]=0,Ps[129]=Ps[41]=0,Ls[129]=Ls[41]=0,Ms[129]=Ms[41]=-1,ks[129]=ks[41]=0,Ys[66]=Ys[104]=0,$s[66]=$s[104]=1,Xs[66]=Xs[104]=0,qs[66]=qs[104]=-1,Hs[66]=Hs[104]=0,zs[66]=zs[104]=1,Ks[66]=Ks[104]=0,Zs[66]=Zs[104]=-1,Qs[66]=Qs[104]=0,Rs[66]=Rs[104]=0,Fs[66]=Fs[104]=-1,Ps[66]=Ps[104]=1,Bs[144]=Bs[26]=-1,Us[144]=Us[26]=0,js[144]=js[26]=0,Js[144]=Js[26]=1,ta[144]=ta[26]=0,ea[144]=ea[26]=1,Ks[144]=Ks[26]=0,Zs[144]=Zs[26]=1,Qs[144]=Qs[26]=1,Ls[144]=Ls[26]=-1,Ms[144]=Ms[26]=0,ks[144]=ks[26]=1,Gs[36]=Gs[134]=0,Vs[36]=Vs[134]=1,Ws[36]=Ws[134]=1,Ys[36]=Ys[134]=0,$s[36]=$s[134]=1,Xs[36]=Xs[134]=0,Rs[36]=Rs[134]=0,Fs[36]=Fs[134]=-1,Ps[36]=Ps[134]=1,Ls[36]=Ls[134]=1,Ms[36]=Ms[134]=0,ks[36]=ks[134]=0,Bs[9]=Bs[161]=-1,Us[9]=Us[161]=0,js[9]=js[161]=0,Gs[9]=Gs[161]=0,Vs[9]=Vs[161]=-1,Ws[9]=Ws[161]=0,qs[9]=qs[161]=1,Hs[9]=Hs[161]=0,zs[9]=zs[161]=0,Js[9]=Js[161]=1,ta[9]=ta[161]=0,ea[9]=ea[161]=1,Bs[136]=0,Us[136]=1,js[136]=1,Gs[136]=0,Vs[136]=1,Ws[136]=0,Ys[136]=-1,$s[136]=0,Xs[136]=1,qs[136]=-1,Hs[136]=0,zs[136]=0,Js[136]=0,ta[136]=-1,ea[136]=0,Ks[136]=0,Zs[136]=-1,Qs[136]=1,Rs[136]=1,Fs[136]=0,Ps[136]=0,Ls[136]=1,Ms[136]=0,ks[136]=1,Bs[34]=0,Us[34]=-1,js[34]=0,Gs[34]=0,Vs[34]=-1,Ws[34]=1,Ys[34]=1,$s[34]=0,Xs[34]=0,qs[34]=1,Hs[34]=0,zs[34]=1,Js[34]=0,ta[34]=1,ea[34]=1,Ks[34]=0,Zs[34]=1,Qs[34]=0,Rs[34]=-1,Fs[34]=0,Ps[34]=1,Ls[34]=-1,Ms[34]=0,ks[34]=0,Bs[35]=0,Us[35]=1,js[35]=1,Gs[35]=0,Vs[35]=-1,Ws[35]=1,Ys[35]=1,$s[35]=0,Xs[35]=0,qs[35]=-1,Hs[35]=0,zs[35]=0,Js[35]=0,ta[35]=-1,ea[35]=0,Ks[35]=0,Zs[35]=1,Qs[35]=0,Rs[35]=-1,Fs[35]=0,Ps[35]=1,Ls[35]=1,Ms[35]=0,ks[35]=1,Bs[153]=0,Us[153]=1,js[153]=1,qs[153]=-1,Hs[153]=0,zs[153]=0,Js[153]=0,ta[153]=-1,ea[153]=0,Ls[153]=1,Ms[153]=0,ks[153]=1,Gs[102]=0,Vs[102]=-1,Ws[102]=1,Ys[102]=1,$s[102]=0,Xs[102]=0,Ks[102]=0,Zs[102]=1,Qs[102]=0,Rs[102]=-1,Fs[102]=0,Ps[102]=1,Bs[155]=0,Us[155]=-1,js[155]=0,qs[155]=1,Hs[155]=0,zs[155]=1,Js[155]=0,ta[155]=1,ea[155]=1,Ls[155]=-1,Ms[155]=0,ks[155]=0,Gs[103]=0,Vs[103]=1,Ws[103]=0,Ys[103]=-1,$s[103]=0,Xs[103]=1,Ks[103]=0,Zs[103]=-1,Qs[103]=1,Rs[103]=1,Fs[103]=0,Ps[103]=0,Bs[152]=0,Us[152]=1,js[152]=1,Ys[152]=-1,$s[152]=0,Xs[152]=1,qs[152]=-1,Hs[152]=0,zs[152]=0,Js[152]=0,ta[152]=-1,ea[152]=0,Ks[152]=0,Zs[152]=-1,Qs[152]=1,Ls[152]=1,Ms[152]=0,ks[152]=1,Bs[156]=0,Us[156]=-1,js[156]=1,Ys[156]=1,$s[156]=0,Xs[156]=1,qs[156]=-1,Hs[156]=0,zs[156]=0,Js[156]=0,ta[156]=-1,ea[156]=0,Ks[156]=0,Zs[156]=1,Qs[156]=1,Ls[156]=-1,Ms[156]=0,ks[156]=1,Bs[137]=0,Us[137]=1,js[137]=1,Gs[137]=0,Vs[137]=1,Ws[137]=0,qs[137]=-1,Hs[137]=0,zs[137]=0,Js[137]=0,ta[137]=-1,ea[137]=0,Rs[137]=1,Fs[137]=0,Ps[137]=0,Ls[137]=1,Ms[137]=0,ks[137]=1,Bs[139]=0,Us[139]=1,js[139]=1,Gs[139]=0,Vs[139]=-1,Ws[139]=0,qs[139]=1,Hs[139]=0,zs[139]=0,Js[139]=0,ta[139]=1,ea[139]=0,Rs[139]=-1,Fs[139]=0,Ps[139]=0,Ls[139]=1,Ms[139]=0,ks[139]=1,Bs[98]=0,Us[98]=-1,js[98]=0,Gs[98]=0,Vs[98]=-1,Ws[98]=1,Ys[98]=1,$s[98]=0,Xs[98]=0,qs[98]=1,Hs[98]=0,zs[98]=1,Ks[98]=0,Zs[98]=1,Qs[98]=0,Rs[98]=-1,Fs[98]=0,Ps[98]=1,Bs[99]=0,Us[99]=1,js[99]=0,Gs[99]=0,Vs[99]=-1,Ws[99]=1,Ys[99]=1,$s[99]=0,Xs[99]=0,qs[99]=-1,Hs[99]=0,zs[99]=1,Ks[99]=0,Zs[99]=-1,Qs[99]=0,Rs[99]=1,Fs[99]=0,Ps[99]=1,Gs[38]=0,Vs[38]=-1,Ws[38]=1,Ys[38]=1,$s[38]=0,Xs[38]=0,Js[38]=0,ta[38]=1,ea[38]=1,Ks[38]=0,Zs[38]=1,Qs[38]=0,Rs[38]=-1,Fs[38]=0,Ps[38]=1,Ls[38]=-1,Ms[38]=0,ks[38]=0,Gs[39]=0,Vs[39]=1,Ws[39]=1,Ys[39]=-1,$s[39]=0,Xs[39]=0,Js[39]=0,ta[39]=-1,ea[39]=1,Ks[39]=0,Zs[39]=1,Qs[39]=0,Rs[39]=-1,Fs[39]=0,Ps[39]=1,Ls[39]=1,Ms[39]=0,ks[39]=0;var na=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ra=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ia=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},oa=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},sa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},aa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},ua=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},la=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ca=[],ha=[],fa=[],pa=[],da=[],ga=[],ya=[],ma=[];pa[1]=da[1]=18,pa[169]=da[169]=18,fa[4]=ha[4]=12,fa[166]=ha[166]=12,ca[16]=ma[16]=4,ca[154]=ma[154]=4,ga[64]=ya[64]=22,ga[106]=ya[106]=22,fa[2]=ga[2]=17,pa[2]=da[2]=18,fa[168]=ga[168]=17,pa[168]=da[168]=18,ca[8]=pa[8]=9,ha[8]=fa[8]=12,ca[162]=pa[162]=9,ha[162]=fa[162]=12,ca[32]=ma[32]=4,ha[32]=ya[32]=1,ca[138]=ma[138]=4,ha[138]=ya[138]=1,da[128]=ma[128]=21,ga[128]=ya[128]=22,da[42]=ma[42]=21,ga[42]=ya[42]=22,ha[5]=da[5]=14,ha[165]=da[165]=14,fa[20]=ma[20]=6,fa[150]=ma[150]=6,ca[80]=ga[80]=11,ca[90]=ga[90]=11,pa[65]=ya[65]=3,pa[105]=ya[105]=3,ca[160]=ga[160]=11,ha[160]=da[160]=14,ca[10]=ga[10]=11,ha[10]=da[10]=14,fa[130]=ma[130]=6,pa[130]=ya[130]=3,fa[40]=ma[40]=6,pa[40]=ya[40]=3,ha[101]=ya[101]=1,ha[69]=ya[69]=1,da[149]=ma[149]=21,da[21]=ma[21]=21,fa[86]=ga[86]=17,fa[84]=ga[84]=17,ca[89]=pa[89]=9,ca[81]=pa[81]=9,ca[96]=ya[96]=0,ha[96]=ga[96]=15,ca[74]=ya[74]=0,ha[74]=ga[74]=15,ca[24]=fa[24]=8,pa[24]=ma[24]=7,ca[146]=fa[146]=8,pa[146]=ma[146]=7,ha[6]=ga[6]=15,fa[6]=da[6]=16,ha[164]=ga[164]=15,fa[164]=da[164]=16,pa[129]=ma[129]=7,da[129]=ya[129]=20,pa[41]=ma[41]=7,da[41]=ya[41]=20,fa[66]=ya[66]=2,pa[66]=ga[66]=19,fa[104]=ya[104]=2,pa[104]=ga[104]=19,ca[144]=da[144]=10,ga[144]=ma[144]=23,ca[26]=da[26]=10,ga[26]=ma[26]=23,ha[36]=ma[36]=5,fa[36]=ya[36]=2,ha[134]=ma[134]=5,fa[134]=ya[134]=2,ca[9]=da[9]=10,ha[9]=pa[9]=13,ca[161]=da[161]=10,ha[161]=pa[161]=13,ha[37]=ma[37]=5,da[37]=ya[37]=20,ha[133]=ma[133]=5,da[133]=ya[133]=20,fa[148]=da[148]=16,ga[148]=ma[148]=23,fa[22]=da[22]=16,ga[22]=ma[22]=23,ca[82]=fa[82]=8,pa[82]=ga[82]=19,ca[88]=fa[88]=8,pa[88]=ga[88]=19,ca[73]=ya[73]=0,ha[73]=pa[73]=13,ca[97]=ya[97]=0,ha[97]=pa[97]=13,ca[145]=pa[145]=9,da[145]=ma[145]=21,ca[25]=pa[25]=9,da[25]=ma[25]=21,ha[70]=ya[70]=1,fa[70]=ga[70]=17,ha[100]=ya[100]=1,fa[100]=ga[100]=17,ca[34]=pa[34]=9,ha[34]=fa[34]=12,da[34]=ma[34]=21,ga[34]=ya[34]=22,ca[136]=ma[136]=4,ha[136]=ya[136]=1,fa[136]=ga[136]=17,pa[136]=da[136]=18,ca[35]=ma[35]=4,ha[35]=fa[35]=12,pa[35]=da[35]=18,ga[35]=ya[35]=22,ca[153]=ma[153]=4,pa[153]=da[153]=18,ha[102]=fa[102]=12,ga[102]=ya[102]=22,ca[155]=pa[155]=9,da[155]=ma[155]=23,ha[103]=ya[103]=1,fa[103]=ga[103]=17,ca[152]=ma[152]=4,fa[152]=ga[152]=17,pa[152]=da[152]=18,ca[156]=fa[156]=8,pa[156]=da[156]=18,ga[156]=ma[156]=23,ca[137]=ma[137]=4,ha[137]=ya[137]=1,pa[137]=da[137]=18,ca[139]=ma[139]=4,ha[139]=pa[139]=13,da[139]=ya[139]=20,ca[98]=pa[98]=9,ha[98]=fa[98]=12,ga[98]=ya[98]=22,ca[99]=ya[99]=0,ha[99]=fa[99]=12,pa[99]=ga[99]=19,ha[38]=fa[38]=12,da[38]=ma[38]=21,ga[38]=ya[38]=22,ha[39]=ma[39]=5,fa[39]=da[39]=16,ga[39]=ya[39]=22;var _a=[];_a[1]=_a[169]=na,_a[4]=_a[166]=ra,_a[16]=_a[154]=ia,_a[64]=_a[106]=oa,_a[168]=_a[2]=sa,_a[162]=_a[8]=aa,_a[138]=_a[32]=ua,_a[42]=_a[128]=la,_a[5]=_a[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},_a[20]=_a[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},_a[80]=_a[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},_a[65]=_a[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},_a[160]=_a[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},_a[130]=_a[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},_a[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},_a[101]=_a[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},_a[149]=_a[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},_a[86]=_a[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},_a[89]=_a[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},_a[96]=_a[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[24]=_a[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},_a[6]=_a[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},_a[129]=_a[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},_a[66]=_a[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[144]=_a[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},_a[36]=_a[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},_a[9]=_a[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},_a[37]=_a[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},_a[148]=_a[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},_a[82]=_a[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},_a[73]=_a[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},_a[145]=_a[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},_a[70]=_a[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[34]=function(t){return[la(t),aa(t)]},_a[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},_a[136]=function(t){return[ua(t),sa(t)]},_a[153]=function(t){return[ia(t),na(t)]},_a[102]=function(t){return[ra(t),oa(t)]},_a[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},_a[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[152]=function(t){return[ia(t),sa(t)]},_a[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},_a[137]=function(t){return[ua(t),na(t)]},_a[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},_a[98]=function(t){return[aa(t),oa(t)]},_a[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[38]=function(t){return[ra(t),la(t)]},_a[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var va=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};va.buildId=function(t){return t.join(",")},va.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},va.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},va.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},va.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=pr(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},va.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},va.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},va.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var Ea=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};Ea.prototype.getSymetric=function(){return this.symetric||(this.symetric=new Ea(this.to,this.from),this.symetric.symetric=this),this.symetric},Ea.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},Ea.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},Ea.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},Ea.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},Ea.prototype.compareTo=function(t){return pr(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var wa=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},ba={length:{configurable:!0}};wa.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},wa.prototype.get=function(t){return this.edges[t]},ba.length.get=function(){return this.edges.length},wa.prototype.forEach=function(t){this.edges.forEach(t)},wa.prototype.map=function(t){return this.edges.map(t)},wa.prototype.some=function(t){return this.edges.some(t)},wa.prototype.isValid=function(){return!0},wa.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e},0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=pr(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},wa.prototype.toMultiPoint=function(){return h(this.edges.map(function(t){return t.from.coordinates}))},wa.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},wa.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=se(this.toPolygon())},wa.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach(function(e){var s=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),r=t.geometry.coordinates.map(function(t){return t[1]}),i=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(s,o)&&dr(s,o)){var a=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});a&&e.inside(r(a))&&(i&&!dr(n,s)||(i=e))}}),i},wa.prototype.inside=function(t){return Dt(t,this.toPolygon())},Object.defineProperties(wa.prototype,ba);var Sa=function(){this.edges=[],this.nodes={}};Sa.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new Sa;return M(t,function(t){Y(t,"LineString","Graph::fromGeoJson"),D(t,function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n})}),e},Sa.prototype.getNode=function(t){var e=va.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new va(t)),n},Sa.prototype.addEdge=function(t,e){var n=new Ea(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Sa.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},Sa.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},Sa.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},Sa.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},Sa.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},Sa.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}}),t},Sa.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},Sa.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++r}),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},Sa.prototype._findEdgeRing=function(t){var e=t,n=new wa;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},Sa.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},Sa.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var Ca=yt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),xa=yt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}),Ia=yt(function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(xa(t))return!!xa(o)&&(t=r.call(t),o=r.call(o),i(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var l=Ca(t),c=Ca(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),a=l.length-1;a>=0;a--)if(l[a]!=c[a])return!1;for(a=l.length-1;a>=0;a--)if(!i(t[u=l[a]],o[u],s))return!1;return typeof t==typeof o}(t,o,s))}}),Aa=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:xr};Aa.prototype.compare=function(t,e){if(t.type!==e.type||!Cr(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=Sr(t),i=Sr(e);return r.every(function(t){return this.some(function(e){return n.compare(t,e)})},i)}}return!1},Aa.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Aa.prototype.compareLine=function(t,e,n,r){if(!Cr(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Aa.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Aa.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},Aa.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every(function(t){return this.some(function(e){return i.compareLine(t,e,1,!0)})},r)}return!1},Aa.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Aa.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Aa.prototype.removePseudo=function(t){return t};var Da=Aa,Ta=yt(function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Na=yt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,u=0;u<c;u++)s[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<c;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Oa=yt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Ra=yt(function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Oa;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e];t.push([r,this._reachability[r]])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Fa=yt(function(t){t.exports&&(t.exports={DBSCAN:Ta,KMEANS:Na,OPTICS:Ra,PriorityQueue:Oa})}),Pa=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},La=Pa,Ma=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},ka=Pa,Ba={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Ba.heuristics.manhattan,o=r.closest||!1,s=new Rr(function(t){return t.f}),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return Tr(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?Tr(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Nr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Ba.cleanNode(this.nodes[t])},Nr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Ba.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Nr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Nr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Nr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Or.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Or.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Or.prototype.isWall=function(){return 0===this.weight},Rr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e&&(i=this.scoreFunction(this.content[s]))<r&&(a=s),o<e&&this.scoreFunction(this.content[o])<(null===a?r:i)&&(a=o),null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var Ua=function(t){return function(){return t}};Lr.prototype={constructor:Lr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ur(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(kr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Br(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Br(this,n),n=(t=n).U),n.C=!1,r.C=!0,kr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Ur(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,kr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Br(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,kr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Br(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,kr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Br(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ja,Ga,Va,Wa,qa,Ha=[],za=[],Ya=1e-6,$a=1e-12;ri.prototype={constructor:ri,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return zr(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,u=-1,l=e[i[o-1]],c=l.left===a?l.right:l.left;++u<o;)s=c,c=(l=e[i[u]]).left===a?l.right:l.left,s&&c&&r<s.index&&r<c.index&&ei(a,s,c)<0&&t.push([a.data,s.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach(function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=r,null==n||c<=n*n?i.site:null}};var Xa=Object.freeze({randomPosition:ci,randomPoint:hi,randomPolygon:fi,randomLineString:pi}),Ka=Object.freeze({getCluster:gi,clusterEach:yi,clusterReduce:mi,createBins:_i,applyFilter:vi,propertiesContainsFilter:Ei,filterProperties:wi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Za=function(){};Za.prototype.interfaces_=function(){return[]},Za.prototype.getClass=function(){return Za},Za.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Qa=function(){},Ja=function(){},tu={MAX_VALUE:{configurable:!0}};Ja.isNaN=function(t){return Number.isNaN(t)},Ja.doubleToLongBits=function(t){return t},Ja.longBitsToDouble=function(t){return t},Ja.isInfinite=function(t){return!Number.isFinite(t)},tu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Ja,tu);var eu=function(){},nu=function(){},ru=function(){},iu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ou={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};iu.prototype.setOrdinate=function(t,e){switch(t){case iu.X:this.x=e;break;case iu.Y:this.y=e;break;case iu.Z:this.z=e;break;default:throw new Qa("Invalid ordinate index: "+t)}},iu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Za.equalsWithTolerance(this.x,e.x,n)&&!!Za.equalsWithTolerance(this.y,e.y,n)}},iu.prototype.getOrdinate=function(t){switch(t){case iu.X:return this.x;case iu.Y:return this.y;case iu.Z:return this.z}throw new Qa("Invalid ordinate index: "+t)},iu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Ja.isNaN(this.z))&&Ja.isNaN(t.z)},iu.prototype.equals=function(t){return t instanceof iu&&this.equals2D(t)},iu.prototype.equalInZ=function(t,e){return Za.equalsWithTolerance(this.z,t.z,e)},iu.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},iu.prototype.clone=function(){},iu.prototype.copy=function(){return new iu(this)},iu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},iu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},iu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},iu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+iu.hashCode(this.x))+iu.hashCode(this.y)},iu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},iu.prototype.interfaces_=function(){return[eu,nu,bi]},iu.prototype.getClass=function(){return iu},iu.hashCode=function(){if(1===arguments.length){var t=Ja.doubleToLongBits(arguments[0]);return Math.trunc((t^t)>>>32)}},ou.DimensionalComparator.get=function(){return su},ou.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ou.NULL_ORDINATE.get=function(){return Ja.NaN},ou.X.get=function(){return 0},ou.Y.get=function(){return 1},ou.Z.get=function(){return 2},Object.defineProperties(iu,ou);var su=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Qa("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};su.prototype.compare=function(t,e){var n=t,r=e,i=su.compare(n.x,r.x);if(0!==i)return i;var o=su.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:su.compare(n.z,r.z)},su.prototype.interfaces_=function(){return[ru]},su.prototype.getClass=function(){return su},su.compare=function(t,e){return t<e?-1:t>e?1:Ja.isNaN(t)?Ja.isNaN(e)?0:-1:Ja.isNaN(e)?1:0};var au=function(){};au.prototype.create=function(){},au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au};var uu=function(){},lu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};uu.prototype.interfaces_=function(){return[]},uu.prototype.getClass=function(){return uu},uu.toLocationSymbol=function(t){switch(t){case uu.EXTERIOR:return"e";case uu.BOUNDARY:return"b";case uu.INTERIOR:return"i";case uu.NONE:return"-"}throw new Qa("Unknown location value: "+t)},lu.INTERIOR.get=function(){return 0},lu.BOUNDARY.get=function(){return 1},lu.EXTERIOR.get=function(){return 2},lu.NONE.get=function(){return-1},Object.defineProperties(uu,lu);var cu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},hu=function(){},fu={LOG_10:{configurable:!0}};hu.prototype.interfaces_=function(){return[]},hu.prototype.getClass=function(){return hu},hu.log10=function(t){var e=Math.log(t);return Ja.isInfinite(e)||Ja.isNaN(e)?e:e/hu.LOG_10},hu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},hu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},hu.wrap=function(t,e){return t<0?e- -t%e:t%e},hu.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}},hu.average=function(t,e){return(t+e)/2},fu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(hu,fu);var pu=function(t){this.str=t};pu.prototype.append=function(t){this.str+=t},pu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},pu.prototype.toString=function(t){return this.str};var du=function(t){this.value=t};du.prototype.intValue=function(){return this.value},du.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},du.isNaN=function(t){return Number.isNaN(t)};var gu=function(){};gu.isWhitespace=function(t){return t<=32&&t>=0||127===t},gu.toUpperCase=function(t){return t.toUpperCase()};var yu=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},mu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};yu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},yu.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=yu.magnitude(n._hi),i=yu.TEN.pow(r);(n=n.divide(i)).gt(yu.TEN)?(n=n.divide(yu.TEN),r+=1):n.lt(yu.ONE)&&(n=n.multiply(yu.TEN),r-=1);for(var o=r+1,s=new pu,a=yu.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,s.append(h),n=n.subtract(yu.valueOf(l)).multiply(yu.TEN),c&&n.selfAdd(yu.TEN);var f=!0,p=yu.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=r,s.toString()},yu.prototype.sqr=function(){return this.multiply(this)},yu.prototype.doubleValue=function(){return this._hi+this._lo},yu.prototype.subtract=function(){return arguments[0]instanceof yu?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},yu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},yu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},yu.prototype.selfSubtract=function(){if(arguments[0]instanceof yu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},yu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},yu.prototype.min=function(t){return this.le(t)?this:t},yu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof yu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null,u=null,l=null;return this._hi=l=(s=this._hi/e)+(a=(this._hi-(u=s*e)-(l=(n=(a=yu.SPLIT*s)-(n=a-s))*(i=(l=yu.SPLIT*e)-(i=l-e))-u+n*(o=e-i)+(r=s-n)*i+r*o)+this._lo-s*arguments[1])/e),this._lo=s-l+a,this}},yu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},yu.prototype.divide=function(){if(arguments[0]instanceof yu){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=yu.SPLIT*o)-(e=s-o)),u=e*(r=(u=yu.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,new yu(u=o+(s=(this._hi-a-u+this._lo-o*t._lo)/t._hi),o-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return Ja.isNaN(l)?yu.createNaN():yu.copy(this).selfDivide(l,0)}},yu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},yu.prototype.pow=function(t){if(0===t)return yu.valueOf(1);var e=new yu(this),n=yu.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},yu.prototype.ceil=function(){if(this.isNaN())return yu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new yu(t,e)},yu.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},yu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},yu.prototype.setValue=function(){return arguments[0]instanceof yu||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},yu.prototype.max=function(t){return this.ge(t)?this:t},yu.prototype.sqrt=function(){if(this.isZero())return yu.valueOf(0);if(this.isNegative())return yu.NaN;var t=1/Math.sqrt(this._hi),e=yu.valueOf(this._hi*t),n=this.subtract(e.sqr())._hi*(.5*t);return e.add(n)},yu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof yu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null;return this._hi=(n=(i=this._hi+e)+(s=e-(o=i-this._hi)+(this._hi-(i-o))+this._lo))+(r=s+(i-n)),this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var a=arguments[0],u=arguments[1],l=null,c=null,h=null,f=null,p=null,d=null,g=null;p=(f=this._hi+a)-(d=f-this._hi),h=(c=this._lo+u)-(g=c-this._lo);var y=(l=f+(d=(p=a-d+(this._hi-p))+c))+(d=(h=u-g+(this._lo-h))+(d+(f-l))),m=d+(l-y);return this._hi=y,this._lo=m,this}},yu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof yu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;n=(s=yu.SPLIT*this._hi)-this._hi,n=s-n;var u=(s=this._hi*e)+(a=n*(i=(a=yu.SPLIT*e)-(i=a-e))-s+n*(o=e-i)+(r=this._hi-n)*i+r*o+(this._hi*arguments[1]+this._lo*e)),l=a+(n=s-u);return this._hi=u,this._lo=l,this}},yu.prototype.selfSqr=function(){return this.selfMultiply(this)},yu.prototype.floor=function(){if(this.isNaN())return yu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new yu(t,e)},yu.prototype.negate=function(){return this.isNaN()?this:new yu(-this._hi,-this._lo)},yu.prototype.clone=function(){},yu.prototype.multiply=function(){if(arguments[0]instanceof yu){var t=arguments[0];return t.isNaN()?yu.createNaN():yu.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Ja.isNaN(e)?yu.createNaN():yu.copy(this).selfMultiply(e,0)}},yu.prototype.isNaN=function(){return Ja.isNaN(this._hi)},yu.prototype.intValue=function(){return Math.trunc(this._hi)},yu.prototype.toString=function(){var t=yu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},yu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;return"."===n.charAt(0)?i="0"+n:r<0?i="0."+yu.stringOfChar("0",-r)+n:-1===n.indexOf(".")&&(i=n+yu.stringOfChar("0",r-n.length)+".0"),this.isNegative()?"-"+i:i},yu.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,s=null,a=null;t=(n=1/this._hi)-(i=(s=yu.SPLIT*n)-(i=s-n)),o=(a=yu.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(a=i*(o=a-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new yu(u,n-u+s)},yu.prototype.toSciNotation=function(){if(this.isZero())return yu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=yu.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},yu.prototype.abs=function(){return this.isNaN()?yu.NaN:this.isNegative()?this.negate():new yu(this)},yu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},yu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},yu.prototype.add=function(){if(arguments[0]instanceof yu){var t=arguments[0];return yu.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return yu.copy(this).selfAdd(e)}},yu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof yu){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var e=arguments[1];this._hi=arguments[0],this._lo=e}},yu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},yu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},yu.prototype.trunc=function(){return this.isNaN()?yu.NaN:this.isPositive()?this.floor():this.ceil()},yu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},yu.prototype.interfaces_=function(){return[bi,eu,nu]},yu.prototype.getClass=function(){return yu},yu.sqr=function(t){return yu.valueOf(t).selfMultiply(t)},yu.valueOf=function(){return"string"==typeof arguments[0]?yu.parse(arguments[0]):"number"==typeof arguments[0]?new yu(arguments[0]):void 0},yu.sqrt=function(t){return yu.valueOf(t).sqrt()},yu.parse=function(t){for(var e=0,n=t.length;gu.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new yu,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,gu.isDigit(l)){var c=l-"0";o.selfMultiply(yu.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=du.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=yu.TEN.pow(p);f=o.divide(d)}else if(p<0){var g=yu.TEN.pow(-p);f=o.multiply(g)}return r?f.negate():f},yu.createNaN=function(){return new yu(Ja.NaN,Ja.NaN)},yu.copy=function(t){return new yu(t)},yu.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},yu.stringOfChar=function(t,e){for(var n=new pu,r=0;r<e;r++)n.append(t);return n.toString()},mu.PI.get=function(){return new yu(3.141592653589793,12246467991473532e-32)},mu.TWO_PI.get=function(){return new yu(6.283185307179586,24492935982947064e-32)},mu.PI_2.get=function(){return new yu(1.5707963267948966,6123233995736766e-32)},mu.E.get=function(){return new yu(2.718281828459045,14456468917292502e-32)},mu.NaN.get=function(){return new yu(Ja.NaN,Ja.NaN)},mu.EPS.get=function(){return 123259516440783e-46},mu.SPLIT.get=function(){return 134217729},mu.MAX_PRINT_DIGITS.get=function(){return 32},mu.TEN.get=function(){return yu.valueOf(10)},mu.ONE.get=function(){return yu.valueOf(1)},mu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},mu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(yu,mu);var _u=function(){},vu={DP_SAFE_EPSILON:{configurable:!0}};_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u},_u.orientationIndex=function(t,e,n){var r=_u.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=yu.valueOf(e.x).selfAdd(-t.x),o=yu.valueOf(e.y).selfAdd(-t.y),s=yu.valueOf(n.x).selfAdd(-e.x),a=yu.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},_u.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},_u.intersection=function(t,e,n,r){var i=yu.valueOf(r.y).selfSubtract(n.y).selfMultiply(yu.valueOf(e.x).selfSubtract(t.x)),o=yu.valueOf(r.x).selfSubtract(n.x).selfMultiply(yu.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=yu.valueOf(r.x).selfSubtract(n.x).selfMultiply(yu.valueOf(t.y).selfSubtract(n.y)),u=yu.valueOf(r.y).selfSubtract(n.y).selfMultiply(yu.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=yu.valueOf(t.x).selfAdd(yu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=yu.valueOf(e.x).selfSubtract(t.x).selfMultiply(yu.valueOf(t.y).selfSubtract(n.y)),f=yu.valueOf(e.y).selfSubtract(t.y).selfMultiply(yu.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue(),d=yu.valueOf(n.y).selfAdd(yu.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new iu(c,d)},_u.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return _u.signum(s);r=i+o}else{if(!(i<0))return _u.signum(s);if(o>=0)return _u.signum(s);r=-i-o}var a=_u.DP_SAFE_EPSILON*r;return s>=a||-s>=a?_u.signum(s):2},_u.signum=function(t){return t>0?1:t<0?-1:0},vu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(_u,vu);var Eu=function(){},wu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};wu.X.get=function(){return 0},wu.Y.get=function(){return 1},wu.Z.get=function(){return 2},wu.M.get=function(){return 3},Eu.prototype.setOrdinate=function(t,e,n){},Eu.prototype.size=function(){},Eu.prototype.getOrdinate=function(t,e){},Eu.prototype.getCoordinate=function(){},Eu.prototype.getCoordinateCopy=function(t){},Eu.prototype.getDimension=function(){},Eu.prototype.getX=function(t){},Eu.prototype.clone=function(){},Eu.prototype.expandEnvelope=function(t){},Eu.prototype.copy=function(){},Eu.prototype.getY=function(t){},Eu.prototype.toCoordinateArray=function(){},Eu.prototype.interfaces_=function(){return[nu]},Eu.prototype.getClass=function(){return Eu},Object.defineProperties(Eu,wu);var bu=function(){},Su=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bu),Cu=function(){};Cu.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},Cu.getProperty=function(t){return{"line.separator":"\n"}[t]};var xu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[1];this.x=arguments[0],this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[1],u=arguments[2];this.x=arguments[0],this.y=a,this.w=u}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=l.y-c.y,d=c.x-l.x,g=l.x*c.y-c.x*l.y,y=h.y-f.y,m=f.x-h.x,_=h.x*f.y-f.x*h.y;this.x=d*_-m*g,this.y=y*g-p*_,this.w=p*m-y*d}};xu.prototype.getY=function(){var t=this.y/this.w;if(Ja.isNaN(t)||Ja.isInfinite(t))throw new Su;return t},xu.prototype.getX=function(){var t=this.x/this.w;if(Ja.isNaN(t)||Ja.isInfinite(t))throw new Su;return t},xu.prototype.getCoordinate=function(){var t=new iu;return t.x=this.getX(),t.y=this.getY(),t},xu.prototype.interfaces_=function(){return[]},xu.prototype.getClass=function(){return xu},xu.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-a*o,h=(o*l-u*s)/c,f=(a*s-i*l)/c;if(Ja.isNaN(h)||Ja.isInfinite(h)||Ja.isNaN(f)||Ja.isInfinite(f))throw new Su;return new iu(h,f)};var Iu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof iu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Au={serialVersionUID:{configurable:!0}};Iu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Iu.prototype.equals=function(t){if(!(t instanceof Iu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Iu.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new Iu:new Iu(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},Iu.prototype.isNull=function(){return this._maxx<this._minx},Iu.prototype.getMaxX=function(){return this._maxx},Iu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Iu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Iu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Iu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof iu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Iu.prototype.getMinY=function(){return this._miny},Iu.prototype.getMinX=function(){return this._minx},Iu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Iu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Iu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Iu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Iu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Iu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Iu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Iu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Iu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Iu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Iu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Iu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Iu)return this.covers(arguments[0]);if(arguments[0]instanceof iu)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Iu.prototype.centre=function(){return this.isNull()?null:new iu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Iu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Iu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Iu.prototype.getMaxY=function(){return this._maxy},Iu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Iu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+iu.hashCode(this._minx))+iu.hashCode(this._maxx))+iu.hashCode(this._miny))+iu.hashCode(this._maxy)},Iu.prototype.interfaces_=function(){return[eu,bi]},Iu.prototype.getClass=function(){return Iu},Iu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<a))}},Au.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Iu,Au);var Du={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Tu=function(t){this.geometryFactory=t||new Ql};Tu.prototype.read=function(t){var e,n;t=t.replace(/[\n\r]/g," ");var r=Du.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Du.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),Ou[n]&&(e=Ou[n].apply(this,[r[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Tu.prototype.write=function(t){return this.extractGeometry(t)},Tu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Nu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Nu[e].apply(this,[t])+")"};var Nu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Nu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Nu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Nu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Nu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Nu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Nu.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Nu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Nu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Ou={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Du.spaces);return this.geometryFactory.createPoint(new iu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Du.trimParens,"$1"),r.push(Ou.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Du.spaces),r.push(new iu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Du.spaces),r.push(new iu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Du.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Du.trimParens,"$1"),r.push(Ou.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Du.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Du.trimParens,"$1"),n=Ou.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Du.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Du.trimParens,"$1"),r.push(Ou.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Ru=function(t){this.parser=new Tu(t)};Ru.prototype.write=function(t){return this.parser.write(t)},Ru.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Fu=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Pu=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fu),Lu=function(){};Lu.prototype.interfaces_=function(){return[]},Lu.prototype.getClass=function(){return Lu},Lu.shouldNeverReachHere=function(){if(0===arguments.length)Lu.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Pu("Should never reach here"+(null!==t?": "+t:""))}},Lu.isTrue=function(){var t;if(1===arguments.length)Lu.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Pu:new Pu(t)},Lu.equals=function(){var t,e,n;if(2===arguments.length)Lu.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new Pu("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Mu=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new iu,this._intPt[1]=new iu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},ku={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Mu.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Mu.prototype.getTopologySummary=function(){var t=new pu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Mu.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},Mu.prototype.getIntersectionNum=function(){return this._result},Mu.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Mu.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Mu.prototype.setPrecisionModel=function(t){this._precisionModel=t},Mu.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Mu.prototype.getIntersection=function(t){return this._intPt[t]},Mu.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Mu.prototype.hasIntersection=function(){return this._result!==Mu.NO_INTERSECTION},Mu.prototype.getEdgeDistance=function(t,e){return Mu.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Mu.prototype.isCollinear=function(){return this._result===Mu.COLLINEAR_INTERSECTION},Mu.prototype.toString=function(){return Ru.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ru.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Mu.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Mu.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Mu.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu},Mu.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return Lu.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Mu.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Lu.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},ku.DONT_INTERSECT.get=function(){return 0},ku.DO_INTERSECT.get=function(){return 1},ku.COLLINEAR.get=function(){return 2},ku.NO_INTERSECTION.get=function(){return 0},ku.POINT_INTERSECTION.get=function(){return 1},ku.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Mu,ku);var Bu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Iu(this._inputLines[0][0],this._inputLines[0][1]),n=new Iu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Iu.intersects(n,r,e)&&0===Gu.orientationIndex(n,r,e)&&0===Gu.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=xu.intersection(t,n,r,i)}catch(s){if(!(s instanceof Su))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new iu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=_u.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);Cu.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&Cu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new iu(t),o=new iu(e),s=new iu(n),a=new iu(r),u=new iu;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Iu.intersects(e,n,r),s=Iu.intersects(e,n,i),a=Iu.intersects(r,i,e),u=Iu.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,p=((s>c?s:c)+(u<f?u:f))/2;i.x=((o>l?o:l)+(a<h?a:h))/2,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Iu.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=Gu.orientationIndex(e,n,r),s=Gu.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=Gu.orientationIndex(r,i,e),u=Gu.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new iu(r):0===s?this._intPt[0]=new iu(i):0===a?this._intPt[0]=new iu(e):0===u&&(this._intPt[0]=new iu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=Gu.distancePointLine(t,n,r),s=Gu.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=Gu.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=Gu.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(Mu),Uu=function(){};Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu},Uu.orientationIndex=function(t,e,n){return Uu.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},Uu.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var ju=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};ju.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.y-this._p.y,o=e.y-this._p.y,s=Uu.signOfDet2x2(t.x-this._p.x,i,e.x-this._p.x,o);if(0===s)return this._isPointOnSegment=!0,null;o<i&&(s=-s),s>0&&this._crossingCount++}},ju.prototype.isPointInPolygon=function(){return this.getLocation()!==uu.EXTERIOR},ju.prototype.getLocation=function(){return this._isPointOnSegment?uu.BOUNDARY:this._crossingCount%2==1?uu.INTERIOR:uu.EXTERIOR},ju.prototype.isOnSegment=function(){return this._isPointOnSegment},ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.locatePointInRing=function(){if(arguments[0]instanceof iu&&cu(arguments[1],Eu)){for(var t=arguments[1],e=new ju(arguments[0]),n=new iu,r=new iu,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof iu&&arguments[1]instanceof Array){for(var o=arguments[1],s=new ju(arguments[0]),a=1;a<o.length;a++)if(s.countSegment(o[a],o[a-1]),s.isOnSegment())return s.getLocation();return s.getLocation()}};var Gu=function(){},Vu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu},Gu.orientationIndex=function(t,e,n){return _u.orientationIndex(t,e,n)},Gu.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++)e+=(t[r].x-n)*(t[r-1].y-t[r+1].y);return e/2}if(cu(arguments[0],Eu)){var i=arguments[0],o=i.size();if(o<3)return 0;var s=new iu,a=new iu,u=new iu;i.getCoordinate(0,a),i.getCoordinate(1,u);var l=a.x;u.x-=l;for(var c=0,h=1;h<o-1;h++)s.y=a.y,a.x=u.x,a.y=u.y,i.getCoordinate(h+1,u),u.x-=l,c+=a.x*(s.y-u.y);return c/2}},Gu.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Gu.distancePointLine(t,n,r);if(n.equals(r))return Gu.distancePointLine(r,t,e);var i=!1;if(Iu.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,a=((t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y))/o;(a<0||a>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?hu.min(Gu.distancePointLine(t,n,r),Gu.distancePointLine(e,n,r),Gu.distancePointLine(n,t,e),Gu.distancePointLine(r,t,e)):0},Gu.isPointInRing=function(t,e){return Gu.locatePointInRing(t,e)!==uu.EXTERIOR},Gu.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new iu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=a,o=u}return n},Gu.isCCW=function(t){var e=t.length-1;if(e<3)throw new Qa("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=Gu.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},Gu.locatePointInRing=function(t,e){return ju.locatePointInRing(t,e)},Gu.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r)*Math.sqrt(r)},Gu.computeOrientation=function(t,e,n){return Gu.orientationIndex(t,e,n)},Gu.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Qa("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=Gu.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;return l<=0?o.distance(s):l>=1?o.distance(a):Math.abs(((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u)*Math.sqrt(u)}},Gu.isOnLine=function(t,e){for(var n=new Bu,r=1;r<e.length;r++)if(n.computeIntersection(t,e[r-1],e[r]),n.hasIntersection())return!0;return!1},Vu.CLOCKWISE.get=function(){return-1},Vu.RIGHT.get=function(){return Gu.CLOCKWISE},Vu.COUNTERCLOCKWISE.get=function(){return 1},Vu.LEFT.get=function(){return Gu.COUNTERCLOCKWISE},Vu.COLLINEAR.get=function(){return 0},Vu.STRAIGHT.get=function(){return Gu.COLLINEAR},Object.defineProperties(Gu,Vu);var Wu=function(){};Wu.prototype.filter=function(t){},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu};var qu=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Hu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};qu.prototype.isGeometryCollection=function(){return this.getSortIndex()===qu.SORTINDEX_GEOMETRYCOLLECTION},qu.prototype.getFactory=function(){return this._factory},qu.prototype.getGeometryN=function(t){return this},qu.prototype.getArea=function(){return 0},qu.prototype.isRectangle=function(){return!1},qu.prototype.equals=function(){if(arguments[0]instanceof qu){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof qu&&this.equalsExact(e)}},qu.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},qu.prototype.geometryChanged=function(){this.apply(qu.geometryChangedFilter)},qu.prototype.geometryChangedAction=function(){this._envelope=null},qu.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},qu.prototype.getLength=function(){return 0},qu.prototype.getNumGeometries=function(){return 1},qu.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},qu.prototype.getUserData=function(){return this._userData},qu.prototype.getSRID=function(){return this._SRID},qu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},qu.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===qu.SORTINDEX_GEOMETRYCOLLECTION)throw new Qa("This method does not support GeometryCollection arguments")},qu.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},qu.prototype.norm=function(){var t=this.copy();return t.normalize(),t},qu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},qu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Iu(this._envelope)},qu.prototype.setSRID=function(t){this._SRID=t},qu.prototype.setUserData=function(t){this._userData=t},qu.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},qu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},qu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===qu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===qu.SORTINDEX_MULTIPOINT||this.getSortIndex()===qu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===qu.SORTINDEX_MULTIPOLYGON},qu.prototype.interfaces_=function(){return[nu,eu,bi]},qu.prototype.getClass=function(){return qu},qu.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},qu.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Hu.serialVersionUID.get=function(){return 0x799ea46522854c00},Hu.SORTINDEX_POINT.get=function(){return 0},Hu.SORTINDEX_MULTIPOINT.get=function(){return 1},Hu.SORTINDEX_LINESTRING.get=function(){return 2},Hu.SORTINDEX_LINEARRING.get=function(){return 3},Hu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Hu.SORTINDEX_POLYGON.get=function(){return 5},Hu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Hu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Hu.geometryChangedFilter.get=function(){return zu},Object.defineProperties(qu,Hu);var zu=function(){};zu.interfaces_=function(){return[Wu]},zu.filter=function(t){t.geometryChangedAction()};var Yu=function(){};Yu.prototype.filter=function(t){},Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu};var $u=function(){},Xu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};$u.prototype.isInBoundary=function(t){},$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u},Xu.Mod2BoundaryNodeRule.get=function(){return Ku},Xu.EndPointBoundaryNodeRule.get=function(){return Zu},Xu.MultiValentEndPointBoundaryNodeRule.get=function(){return Qu},Xu.MonoValentEndPointBoundaryNodeRule.get=function(){return Ju},Xu.MOD2_BOUNDARY_RULE.get=function(){return new Ku},Xu.ENDPOINT_BOUNDARY_RULE.get=function(){return new Zu},Xu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Qu},Xu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ju},Xu.OGC_SFS_BOUNDARY_RULE.get=function(){return $u.MOD2_BOUNDARY_RULE},Object.defineProperties($u,Xu);var Ku=function(){};Ku.prototype.isInBoundary=function(t){return t%2==1},Ku.prototype.interfaces_=function(){return[$u]},Ku.prototype.getClass=function(){return Ku};var Zu=function(){};Zu.prototype.isInBoundary=function(t){return t>0},Zu.prototype.interfaces_=function(){return[$u]},Zu.prototype.getClass=function(){return Zu};var Qu=function(){};Qu.prototype.isInBoundary=function(t){return t>1},Qu.prototype.interfaces_=function(){return[$u]},Qu.prototype.getClass=function(){return Qu};var Ju=function(){};Ju.prototype.isInBoundary=function(t){return 1===t},Ju.prototype.interfaces_=function(){return[$u]},Ju.prototype.getClass=function(){return Ju};var tl=function(){};tl.prototype.add=function(){},tl.prototype.addAll=function(){},tl.prototype.isEmpty=function(){},tl.prototype.iterator=function(){},tl.prototype.size=function(){},tl.prototype.toArray=function(){},tl.prototype.remove=function(){};var el=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),nl=function(){};nl.prototype.hasNext=function(){},nl.prototype.next=function(){},nl.prototype.remove=function(){};var rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(tl);(Si.prototype=new Error).name="NoSuchElementException";var il=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof tl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,tl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new ol(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new el;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(rl),ol=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Si;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(nl),sl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof iu&&"boolean"==typeof arguments[1]){var e=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(e))return null;t.prototype.add.call(this,e)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];if(arguments[2])for(var i=0;i<n.length;i++)this.add(n[i],r);else for(var o=n.length-1;o>=0;o--)this.add(n[o],r);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof iu){var s=arguments[0],a=arguments[1];if(!arguments[2]){var u=this.size();if(u>0){if(s>0&&this.get(s-1).equals2D(a))return null;if(s<u&&this.get(s).equals2D(a))return null}}t.prototype.add.call(this,s,a)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=1;h>f&&(p=-1);for(var d=h;d!==f;d+=p)this.add(l[d],c);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new iu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(il),al=function(){},ul={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ul.ForwardComparator.get=function(){return ll},ul.BidirectionalComparator.get=function(){return cl},ul.coordArrayType.get=function(){return new Array(0).fill(null)},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},al.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(al.indexOf(r,e)<0)return r}return null},al.scroll=function(t,e){var n=al.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Cu.arraycopy(t,n,r,0,t.length-n),Cu.arraycopy(t,0,r,t.length-n,n),Cu.arraycopy(r,0,t,0,t.length)},al.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},al.intersection=function(t,e){for(var n=new sl,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},al.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},al.removeRepeatedPoints=function(t){return al.hasRepeatedPoints(t)?new sl(t,!1).toCoordinateArray():t},al.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},al.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},al.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new iu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new iu(r[i+u])},al.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},al.envelope=function(t){for(var e=new Iu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},al.toCoordinateArray=function(t){return t.toArray(al.coordArrayType)},al.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},al.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},al.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},al.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},al.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},al.extract=function(t,e,n){e=hu.clamp(e,0,t.length);var r=(n=hu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(al,ul);var ll=function(){};ll.prototype.compare=function(t,e){return al.compare(t,e)},ll.prototype.interfaces_=function(){return[ru]},ll.prototype.getClass=function(){return ll};var cl=function(){};cl.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=al.compare(n,r);return al.isEqualReversed(n,r)?0:i},cl.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=al.increasingDirection(n),o=al.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0},cl.prototype.interfaces_=function(){return[ru]},cl.prototype.getClass=function(){return cl};var hl=function(){};hl.prototype.get=function(){},hl.prototype.put=function(){},hl.prototype.size=function(){},hl.prototype.values=function(){},hl.prototype.entrySet=function(){};var fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(hl);(Ci.prototype=new Error).name="OperationNotSupported",(xi.prototype=new tl).contains=function(){};var pl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof tl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new dl(this)},e}(xi),dl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Si;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Ci},e}(nl),gl=0;(Oi.prototype=new fl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Oi.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:gl,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:gl,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Oi.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Ai(t)===Ti(Ai(Ai(t)))){var e=Ni(Ai(Ai(t)));1===Ii(e)?(Di(Ai(t),gl),Di(e,gl),Di(Ai(Ai(t)),1),t=Ai(Ai(t))):(t===Ni(Ai(t))&&(t=Ai(t),this.rotateLeft(t)),Di(Ai(t),gl),Di(Ai(Ai(t)),1),this.rotateRight(Ai(Ai(t))))}else{var n=Ti(Ai(Ai(t)));1===Ii(n)?(Di(Ai(t),gl),Di(n,gl),Di(Ai(Ai(t)),1),t=Ai(Ai(t))):(t===Ti(Ai(t))&&(t=Ai(t),this.rotateRight(t)),Di(Ai(t),gl),Di(Ai(Ai(t)),1),this.rotateLeft(Ai(Ai(t))))}this.root_.color=gl},Oi.prototype.values=function(){var t=new il,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Oi.successor(e));)t.add(e.value);return t},Oi.prototype.entrySet=function(){var t=new pl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Oi.successor(e));)t.add(e);return t},Oi.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Oi.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Oi.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Oi.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Oi.prototype.size=function(){return this.size_};var yl=function(){};yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl},Ri.prototype=new xi,(Fi.prototype=new Ri).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Fi.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Fi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Fi.prototype.remove=function(t){throw new Ci},Fi.prototype.size=function(){return this.array_.length},Fi.prototype.isEmpty=function(){return 0===this.array_.length},Fi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Fi.prototype.iterator=function(){return new ml(this)};var ml=function(t){this.treeSet_=t,this.position_=0};ml.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Si;return this.treeSet_.array_[this.position_++]},ml.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ml.prototype.remove=function(){throw new Ci};var _l=function(){};_l.sort=function(){var t,e,n,r=arguments[0];if(1===arguments.length)r.sort(function(t,e){return t.compareTo(e)});else if(2===arguments.length)n=arguments[1],r.sort(function(t,e){return n.compare(t,e)});else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])},_l.asList=function(t){for(var e=new il,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var vl=function(){},El={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};El.P.get=function(){return 0},El.L.get=function(){return 1},El.A.get=function(){return 2},El.FALSE.get=function(){return-1},El.TRUE.get=function(){return-2},El.DONTCARE.get=function(){return-3},El.SYM_FALSE.get=function(){return"F"},El.SYM_TRUE.get=function(){return"T"},El.SYM_DONTCARE.get=function(){return"*"},El.SYM_P.get=function(){return"0"},El.SYM_L.get=function(){return"1"},El.SYM_A.get=function(){return"2"},vl.prototype.interfaces_=function(){return[]},vl.prototype.getClass=function(){return vl},vl.toDimensionSymbol=function(t){switch(t){case vl.FALSE:return vl.SYM_FALSE;case vl.TRUE:return vl.SYM_TRUE;case vl.DONTCARE:return vl.SYM_DONTCARE;case vl.P:return vl.SYM_P;case vl.L:return vl.SYM_L;case vl.A:return vl.SYM_A}throw new Qa("Unknown dimension value: "+t)},vl.toDimensionValue=function(t){switch(gu.toUpperCase(t)){case vl.SYM_FALSE:return vl.FALSE;case vl.SYM_TRUE:return vl.TRUE;case vl.SYM_DONTCARE:return vl.DONTCARE;case vl.SYM_P:return vl.P;case vl.SYM_L:return vl.L;case vl.SYM_A:return vl.A}throw new Qa("Unknown dimension symbol: "+t)},Object.defineProperties(vl,El);var wl=function(){};wl.prototype.filter=function(t){},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl};var bl=function(){};bl.prototype.filter=function(t,e){},bl.prototype.isDone=function(){},bl.prototype.isGeometryChanged=function(){},bl.prototype.interfaces_=function(){return[]},bl.prototype.getClass=function(){return bl};var Sl=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Qa("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Iu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();_l.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=vl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=vl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Fi(_l.asList(this._geometries)),n=new Fi(_l.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),s=i.getNumGeometries(),a=0;a<o&&a<s;){var u=this.getGeometryN(a),l=i.getGeometryN(a),c=u.compareToSameClass(l,r);if(0!==c)return c;a++}return a<o?1:a<s?-1:0}},e.prototype.apply=function(){if(cu(arguments[0],Yu))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(cu(arguments[0],bl)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(cu(arguments[0],wl)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(cu(arguments[0],Wu)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Lu.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(qu),Cl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return qu.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?vl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new xl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[yl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Sl),xl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=$u.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};xl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},xl.prototype.getBoundary=function(){return this._geom instanceof Nl?this.boundaryLineString(this._geom):this._geom instanceof Cl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},xl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},xl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},xl.prototype.computeBoundaryCoordinates=function(t){var e=new il;this._endpointMap=new Oi;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return al.toCoordinateArray(e)},xl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Il,this._endpointMap.put(t,e)),e.count++},xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl},xl.getBoundary=function(){return 1===arguments.length?new xl(arguments[0]).getBoundary():2===arguments.length?new xl(arguments[0],arguments[1]).getBoundary():void 0};var Il=function(){this.count=null};Il.prototype.interfaces_=function(){return[]},Il.prototype.getClass=function(){return Il};var Al=function(){},Dl={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Al.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[1],i="",o=new function(){}(new function(){}(Al.getStackTrace(arguments[0]))),s=0;s<r;s++)try{i+=o.readLine()+Al.NEWLINE}catch(t){if(!(t instanceof Pi))throw t;Lu.shouldNeverReachHere()}return i}},Al.split=function(t,e){for(var n=e.length,r=new il,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Al.toString=function(){if(1===arguments.length)return Al.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Al.spaces=function(t){return Al.chars(" ",t)},Dl.NEWLINE.get=function(){return Cu.getProperty("line.separator")},Dl.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Al,Dl);var Tl=function(){};Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl},Tl.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Tl.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Eu.X)===t.getOrdinate(e-1,Eu.X)&&t.getOrdinate(0,Eu.Y)===t.getOrdinate(e-1,Eu.Y)},Tl.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||Ja.isNaN(s)&&Ja.isNaN(a)))return!1}return!0},Tl.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Tl.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Tl.copy(e,i-1,r,o,1);return r},Tl.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Tl.swap(t,r,e-r)},Tl.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Tl.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Tl.copyCoord(t,e+o,n,r+o)},Tl.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new pu;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Al.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Tl.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Tl.createClosedRing(t,e,4):e.getOrdinate(0,Eu.X)===e.getOrdinate(n-1,Eu.X)&&e.getOrdinate(0,Eu.Y)===e.getOrdinate(n-1,Eu.Y)?e:Tl.createClosedRing(t,e,n+1)},Tl.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Tl.copy(e,0,r,0,i);for(var o=i;o<n;o++)Tl.copy(e,0,r,o,1);return r};var Nl=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Iu:this._points.expandEnvelope(new Iu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Tl.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?vl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Gu.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Tl.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(cu(arguments[0],Yu))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(cu(arguments[0],bl)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(cu(arguments[0],wl)||cu(arguments[0],Wu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new xl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Qa("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[yl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(qu),Ol=function(){};Ol.prototype.interfaces_=function(){return[]},Ol.prototype.getClass=function(){return Ol};var Rl=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Iu;var t=new Iu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return vl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(cu(arguments[0],Yu)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(cu(arguments[0],bl)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(cu(arguments[0],wl)||cu(arguments[0],Wu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Lu.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Ol]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(qu),Fl=function(){};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var Pl=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Qa("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Qa("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Gu.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Gu.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(!this._shell.equalsExact(r._shell,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var i=0;i<this._holes.length;i++)if(!this._holes[i].equalsExact(r._holes[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);_l.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);Cu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=al.minCoordinate(e.getCoordinates());al.scroll(r,i),Cu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],Gu.isCCW(e.getCoordinates())===n&&al.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var t=arguments[1],e=arguments[0],n=this._shell.compareToSameClass(e._shell,t);if(0!==n)return n;for(var r=this.getNumInteriorRing(),i=e.getNumInteriorRing(),o=0;o<r&&o<i;){var s=this.getInteriorRingN(o),a=e.getInteriorRingN(o),u=s.compareToSameClass(a,t);if(0!==u)return u;o++}return o<r?1:o<i?-1:0}},e.prototype.apply=function(t){if(cu(t,Yu)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(cu(t,bl)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(cu(t,wl))t.filter(this);else if(cu(t,Wu)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Fl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(qu),Ll=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return qu.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return vl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ol]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Sl),Ml=function(t){function e(e,n){e instanceof iu&&n instanceof Ql&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return qu.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return vl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Tl.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Qa("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Qa("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Nl),kl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return qu.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new il,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Fl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Sl),Bl=function(t){this._factory=t||null,this._isUserDataCopied=!1},Ul={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Bl.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Bl.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Bl.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Sl?this.editGeometryCollection(t,e):t instanceof Pl?this.editPolygon(t,e):t instanceof Rl||t instanceof Nl?e.edit(t,this._factory):(Lu.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Bl.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new il,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Ll?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Cl?this._factory.createMultiLineString(r.toArray([])):n.getClass()===kl?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Bl.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new il,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl},Bl.GeometryEditorOperation=function(){},Ul.NoOpGeometryOperation.get=function(){return jl},Ul.CoordinateOperation.get=function(){return Gl},Ul.CoordinateSequenceOperation.get=function(){return Vl},Object.defineProperties(Bl,Ul);var jl=function(){};jl.prototype.edit=function(t,e){return t},jl.prototype.interfaces_=function(){return[Bl.GeometryEditorOperation]},jl.prototype.getClass=function(){return jl};var Gl=function(){};Gl.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Ml?e.createLinearRing(n):t instanceof Nl?e.createLineString(n):t instanceof Rl?n.length>0?e.createPoint(n[0]):e.createPoint():t},Gl.prototype.interfaces_=function(){return[Bl.GeometryEditorOperation]},Gl.prototype.getClass=function(){return Gl};var Vl=function(){};Vl.prototype.edit=function(t,e){return t instanceof Ml?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Nl?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Rl?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Vl.prototype.interfaces_=function(){return[Bl.GeometryEditorOperation]},Vl.prototype.getClass=function(){return Vl};var Wl=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new iu}else if(cu(arguments[0],Eu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new iu}},ql={serialVersionUID:{configurable:!0}};Wl.prototype.setOrdinate=function(t,e,n){switch(e){case Eu.X:this._coordinates[t].x=n;break;case Eu.Y:this._coordinates[t].y=n;break;case Eu.Z:this._coordinates[t].z=n;break;default:throw new Qa("invalid ordinateIndex")}},Wl.prototype.size=function(){return this._coordinates.length},Wl.prototype.getOrdinate=function(t,e){switch(e){case Eu.X:return this._coordinates[t].x;case Eu.Y:return this._coordinates[t].y;case Eu.Z:return this._coordinates[t].z}return Ja.NaN},Wl.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}},Wl.prototype.getCoordinateCopy=function(t){return new iu(this._coordinates[t])},Wl.prototype.getDimension=function(){return this._dimension},Wl.prototype.getX=function(t){return this._coordinates[t].x},Wl.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Wl(t,this._dimension)},Wl.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Wl.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Wl(t,this._dimension)},Wl.prototype.toString=function(){if(this._coordinates.length>0){var t=new pu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Wl.prototype.getY=function(t){return this._coordinates[t].y},Wl.prototype.toCoordinateArray=function(){return this._coordinates},Wl.prototype.interfaces_=function(){return[Eu,bi]},Wl.prototype.getClass=function(){return Wl},ql.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Wl,ql);var Hl=function(){},zl={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Hl.prototype.readResolve=function(){return Hl.instance()},Hl.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Wl(arguments[0]);if(cu(arguments[0],Eu))return new Wl(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new Wl(t):new Wl(t,e)}},Hl.prototype.interfaces_=function(){return[au,bi]},Hl.prototype.getClass=function(){return Hl},Hl.instance=function(){return Hl.instanceObject},zl.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},zl.instanceObject.get=function(){return new Hl},Object.defineProperties(Hl,zl);var Yl=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new il,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new pl;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(hl),$l=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Kl){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Xl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};$l.prototype.equals=function(t){return t instanceof $l&&this._modelType===t._modelType&&this._scale===t._scale},$l.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new du(n).compareTo(new du(r))},$l.prototype.getScale=function(){return this._scale},$l.prototype.isFloating=function(){return this._modelType===$l.FLOATING||this._modelType===$l.FLOATING_SINGLE},$l.prototype.getType=function(){return this._modelType},$l.prototype.toString=function(){var t="UNKNOWN";return this._modelType===$l.FLOATING?t="Floating":this._modelType===$l.FLOATING_SINGLE?t="Floating-Single":this._modelType===$l.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},$l.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Ja.isNaN(t)||this._modelType===$l.FLOATING_SINGLE?t:this._modelType===$l.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof iu){var e=arguments[0];if(this._modelType===$l.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},$l.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===$l.FLOATING?t=16:this._modelType===$l.FLOATING_SINGLE?t=6:this._modelType===$l.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},$l.prototype.setScale=function(t){this._scale=Math.abs(t)},$l.prototype.interfaces_=function(){return[bi,eu]},$l.prototype.getClass=function(){return $l},$l.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Xl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Xl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties($l,Xl);var Kl=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Zl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Kl.prototype.readResolve=function(){return Kl.nameToTypeMap.get(this._name)},Kl.prototype.toString=function(){return this._name},Kl.prototype.interfaces_=function(){return[bi]},Kl.prototype.getClass=function(){return Kl},Zl.serialVersionUID.get=function(){return-552860263173159e4},Zl.nameToTypeMap.get=function(){return new Yl},Object.defineProperties(Kl,Zl),$l.Type=Kl,$l.FIXED=new Kl("FIXED"),$l.FLOATING=new Kl("FLOATING"),$l.FLOATING_SINGLE=new Kl("FLOATING SINGLE");var Ql=function t(){this._precisionModel=new $l,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?cu(arguments[0],au)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof $l&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Jl={serialVersionUID:{configurable:!0}};Ql.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new iu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new iu(t.getMinX(),t.getMinY()),new iu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new iu(t.getMinX(),t.getMinY()),new iu(t.getMinX(),t.getMaxY()),new iu(t.getMaxX(),t.getMaxY()),new iu(t.getMaxX(),t.getMinY()),new iu(t.getMinX(),t.getMinY())]),null)},Ql.prototype.createLineString=function(t){return t?t instanceof Array?new Nl(this.getCoordinateSequenceFactory().create(t),this):cu(t,Eu)?new Nl(t,this):void 0:new Nl(this.getCoordinateSequenceFactory().create([]),this)},Ql.prototype.createMultiLineString=function(){return 0===arguments.length?new Cl(null,this):1===arguments.length?new Cl(arguments[0],this):void 0},Ql.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Ql.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Pl)return this.createMultiPolygon(Ql.toPolygonArray(t));if(a instanceof Nl)return this.createMultiLineString(Ql.toLineStringArray(t));if(a instanceof Rl)return this.createMultiPoint(Ql.toPointArray(t));Lu.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},Ql.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Ql.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(cu(arguments[0],Eu))return new Rl(arguments[0],this)}},Ql.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ql.prototype.createPolygon=function(){if(0===arguments.length)return new Pl(null,null,this);if(1===arguments.length){if(cu(arguments[0],Eu))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Ml)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Pl(arguments[0],arguments[1],this)},Ql.prototype.getSRID=function(){return this._SRID},Ql.prototype.createGeometryCollection=function(){return 0===arguments.length?new Sl(null,this):1===arguments.length?new Sl(arguments[0],this):void 0},Ql.prototype.createGeometry=function(t){return new Bl(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Ql.prototype.getPrecisionModel=function(){return this._precisionModel},Ql.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(cu(arguments[0],Eu))return new Ml(arguments[0],this)}},Ql.prototype.createMultiPolygon=function(){return 0===arguments.length?new kl(null,this):1===arguments.length?new kl(arguments[0],this):void 0},Ql.prototype.createMultiPoint=function(){if(0===arguments.length)return new Ll(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ll(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(cu(arguments[0],Eu)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());Tl.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},Ql.prototype.interfaces_=function(){return[bi]},Ql.prototype.getClass=function(){return Ql},Ql.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.getDefaultCoordinateSequenceFactory=function(){return Hl.instance()},Ql.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ql.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Jl.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ql,Jl);var tc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ec=function(t){this.geometryFactory=t||new Ql};ec.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!nc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==tc.indexOf(n)?nc[n].apply(this,[e.coordinates]):nc[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},ec.prototype.write=function(t){var e=t.getGeometryType();if(!rc[e])throw new Error("Geometry is not supported");return rc[e].apply(this,[t])};var nc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!nc[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=nc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new iu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new iu(t[0],t[1]),new iu(t[2],t[1]),new iu(t[2],t[3]),new iu(t[0],t[3]),new iu(t[0],t[1])])},Point:function(t){var e=new iu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(nc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=nc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(nc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=nc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=nc.coordinates.apply(this,[t[i]]),s=this.geometryFactory.createLinearRing(o);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push(nc.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},rc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:rc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=rc.Point.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r)e.push(rc.coordinate.apply(this,[n[r]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=rc.LineString.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=rc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=rc.LineString.apply(this,[t._holes[r]]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=rc.Polygon.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(rc[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},ic=function(t){this.geometryFactory=t||new Ql,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ec(this.geometryFactory)};ic.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===$l.FIXED&&this.reducePrecision(e),e},ic.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var oc=function(){this.parser=new ec(this.geometryFactory)};oc.prototype.write=function(t){return this.parser.write(t)};var sc=function(){},ac={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc},sc.opposite=function(t){return t===sc.LEFT?sc.RIGHT:t===sc.RIGHT?sc.LEFT:t},ac.ON.get=function(){return 0},ac.LEFT.get=function(){return 1},ac.RIGHT.get=function(){return 2},Object.defineProperties(sc,ac),(Li.prototype=new Error).name="EmptyStackException",(Mi.prototype=new rl).add=function(t){return this.array_.push(t),!0},Mi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Mi.prototype.push=function(t){return this.array_.push(t),t},Mi.prototype.pop=function(t){if(0===this.array_.length)throw new Li;return this.array_.pop()},Mi.prototype.peek=function(){if(0===this.array_.length)throw new Li;return this.array_[this.array_.length-1]},Mi.prototype.empty=function(){return 0===this.array_.length},Mi.prototype.isEmpty=function(){return this.empty()},Mi.prototype.search=function(t){return this.array_.indexOf(t)},Mi.prototype.size=function(){return this.array_.length},Mi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var uc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};uc.prototype.getCoordinate=function(){return this._minCoord},uc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},uc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Lu.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=Gu.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Gu.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Gu.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},uc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=sc.LEFT;return n[e].y<n[e+1].y&&(r=sc.RIGHT),r},uc.prototype.getEdge=function(){return this._orientedDe},uc.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},uc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},uc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Lu.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===sc.LEFT&&(this._orientedDe=this._minDe.getSym())},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var lc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new iu(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Fu),cc=function(){this.array_=[]};cc.prototype.addLast=function(t){this.array_.push(t)},cc.prototype.removeFirst=function(){return this.array_.shift()},cc.prototype.isEmpty=function(){return 0===this.array_.length};var hc=function(){this._finder=null,this._dirEdgeList=new il,this._nodes=new il,this._rightMostCoord=null,this._env=null,this._finder=new uc};hc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},hc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},hc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new lc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},hc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(sc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},hc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},hc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(sc.RIGHT)>=1&&e.getDepth(sc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},hc.prototype.computeDepths=function(t){var e=new pl,n=new cc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},hc.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},hc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Iu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},hc.prototype.addReachable=function(t){var e=new Mi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},hc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(sc.LEFT,t.getDepth(sc.RIGHT)),e.setDepth(sc.RIGHT,t.getDepth(sc.LEFT))},hc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},hc.prototype.getNodes=function(){return this._nodes},hc.prototype.getDirectedEdges=function(){return this._dirEdgeList},hc.prototype.interfaces_=function(){return[eu]},hc.prototype.getClass=function(){return hc};var fc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[sc.ON]=e}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[sc.ON]=i,this.location[sc.LEFT]=o,this.location[sc.RIGHT]=s}};fc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},fc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==uu.NONE)return!1;return!0},fc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===uu.NONE&&(this.location[e]=t)},fc.prototype.isLine=function(){return 1===this.location.length},fc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[sc.ON]=this.location[sc.ON],e[sc.LEFT]=uu.NONE,e[sc.RIGHT]=uu.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===uu.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},fc.prototype.getLocations=function(){return this.location},fc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[sc.LEFT];this.location[sc.LEFT]=this.location[sc.RIGHT],this.location[sc.RIGHT]=t},fc.prototype.toString=function(){var t=new pu;return this.location.length>1&&t.append(uu.toLocationSymbol(this.location[sc.LEFT])),t.append(uu.toLocationSymbol(this.location[sc.ON])),this.location.length>1&&t.append(uu.toLocationSymbol(this.location[sc.RIGHT])),t.toString()},fc.prototype.setLocations=function(t,e,n){this.location[sc.ON]=t,this.location[sc.LEFT]=e,this.location[sc.RIGHT]=n},fc.prototype.get=function(t){return t<this.location.length?this.location[t]:uu.NONE},fc.prototype.isArea=function(){return this.location.length>1},fc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===uu.NONE)return!0;return!1},fc.prototype.setLocation=function(){1===arguments.length?this.setLocation(sc.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},fc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(uu.NONE)},fc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},fc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var pc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new fc(e),this.elt[1]=new fc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new fc(n.elt[0]),this.elt[1]=new fc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new fc(uu.NONE),this.elt[1]=new fc(uu.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new fc(o,s,a),this.elt[1]=new fc(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new fc(uu.NONE,uu.NONE,uu.NONE),this.elt[1]=new fc(uu.NONE,uu.NONE,uu.NONE),this.elt[u].setLocations(l,c,h)}};pc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},pc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},pc.prototype.isNull=function(t){return this.elt[t].isNull()},pc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},pc.prototype.isLine=function(t){return this.elt[t].isLine()},pc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new fc(t.elt[e]):this.elt[e].merge(t.elt[e])},pc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},pc.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(sc.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},pc.prototype.toString=function(){var t=new pu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},pc.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},pc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},pc.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(sc.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},pc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},pc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},pc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new fc(this.elt[t].location[0]))},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc},pc.toLineLabel=function(t){for(var e=new pc(uu.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var dc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new il,this._pts=new il,this._label=new pc(uu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new il,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};dc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Gu.isCCW(this._ring.getCoordinates())},dc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},dc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new lc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new lc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();Lu.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},dc.prototype.getLinearRing=function(){return this._ring},dc.prototype.getCoordinate=function(t){return this._pts.get(t)},dc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},dc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},dc.prototype.isHole=function(){return this._isHole},dc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},dc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Gu.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},dc.prototype.addHole=function(t){this._holes.add(t)},dc.prototype.isShell=function(){return null===this._shell},dc.prototype.getLabel=function(){return this._label},dc.prototype.getEdges=function(){return this._edges},dc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},dc.prototype.getShell=function(){return this._shell},dc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,sc.RIGHT);if(n===uu.NONE)return null;if(this._label.getLocation(e)===uu.NONE)return this._label.setLocation(e,n),null}},dc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},dc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var gc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),yc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var t=new il,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new gc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),mc=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(this._label=arguments[0])};mc.prototype.setVisited=function(t){this._isVisited=t},mc.prototype.setInResult=function(t){this._isInResult=t},mc.prototype.isCovered=function(){return this._isCovered},mc.prototype.isCoveredSet=function(){return this._isCoveredSet},mc.prototype.setLabel=function(t){this._label=t},mc.prototype.getLabel=function(){return this._label},mc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},mc.prototype.updateIM=function(t){Lu.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},mc.prototype.isInResult=function(){return this._isInResult},mc.prototype.isVisited=function(){return this._isVisited},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var _c=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[1];this._coord=arguments[0],this._edges=e,this._label=new pc(0,uu.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=uu.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==uu.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new pc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof pc)for(var t=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(t,n);this._label.getLocation(n)===uu.NONE&&this._label.setLocation(n,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=uu.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case uu.BOUNDARY:n=uu.INTERIOR;break;case uu.INTERIOR:default:n=uu.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mc),vc=function(){this.nodeMap=new Oi,this.nodeFact=null,this.nodeFact=arguments[0]};vc.prototype.find=function(t){return this.nodeMap.get(t)},vc.prototype.addNode=function(){if(arguments[0]instanceof iu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof _c){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},vc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},vc.prototype.iterator=function(){return this.nodeMap.values().iterator()},vc.prototype.values=function(){return this.nodeMap.values()},vc.prototype.getBoundaryNodes=function(t){for(var e=new il,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===uu.BOUNDARY&&e.add(r)}return e},vc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc};var Ec=function(){},wc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec},Ec.isNorthern=function(t){return t===Ec.NE||t===Ec.NW},Ec.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Ec.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Ec.isInHalfPlane=function(t,e){return e===Ec.SE?t===Ec.SE||t===Ec.SW:t===e||t===e+1},Ec.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Qa("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Ec.NE:Ec.SE:e>=0?Ec.NW:Ec.SW}if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new Qa("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Ec.NE:Ec.SE:r.y>=n.y?Ec.NW:Ec.SW}},wc.NE.get=function(){return 0},wc.NW.get=function(){return 1},wc.SW.get=function(){return 2},wc.SE.get=function(){return 3},Object.defineProperties(Ec,wc);var bc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var t=arguments[1],e=arguments[2];this._edge=arguments[0],this.init(t,e),this._label=null}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this._edge=arguments[0],this.init(n,r),this._label=i}};bc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Gu.computeOrientation(t._p0,t._p1,this._p1)},bc.prototype.getDy=function(){return this._dy},bc.prototype.getCoordinate=function(){return this._p0},bc.prototype.setNode=function(t){this._node=t},bc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},bc.prototype.compareTo=function(t){return this.compareDirection(t)},bc.prototype.getDirectedCoordinate=function(){return this._p1},bc.prototype.getDx=function(){return this._dx},bc.prototype.getLabel=function(){return this._label},bc.prototype.getEdge=function(){return this._edge},bc.prototype.getQuadrant=function(){return this._quadrant},bc.prototype.getNode=function(){return this._node},bc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},bc.prototype.computeLabel=function(t){},bc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Ec.quadrant(this._dx,this._dy),Lu.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},bc.prototype.interfaces_=function(){return[eu]},bc.prototype.getClass=function(){return bc};var Sc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new pc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new lc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,sc.LEFT)===uu.INTERIOR&&this._label.getLocation(e,sc.RIGHT)===uu.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[sc.LEFT]+"/"+this._depth[sc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,uu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,uu.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===sc.LEFT&&(r=-1);var i=sc.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===uu.EXTERIOR&&e===uu.INTERIOR?1:t===uu.INTERIOR&&e===uu.EXTERIOR?-1:0},e}(bc),Cc=function(){};Cc.prototype.createNode=function(t){return new _c(t,null)},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var xc=function(){this._edges=new il,this._nodes=null,this._edgeEndList=new il,0===arguments.length?this._nodes=new vc(new Cc):1===arguments.length&&(this._nodes=new vc(arguments[0]))};xc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},xc.prototype.find=function(t){return this._nodes.find(t)},xc.prototype.addNode=function(){return arguments[0]instanceof _c||arguments[0]instanceof iu?this._nodes.addNode(arguments[0]):void 0},xc.prototype.getNodeIterator=function(){return this._nodes.iterator()},xc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},xc.prototype.debugPrintln=function(t){Cu.out.println(t)},xc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===uu.BOUNDARY},xc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},xc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&Gu.computeOrientation(t,e,r)===Gu.COLLINEAR&&Ec.quadrant(t,e)===Ec.quadrant(n,r)},xc.prototype.getEdgeEnds=function(){return this._edgeEndList},xc.prototype.debugPrint=function(t){Cu.out.print(t)},xc.prototype.getEdgeIterator=function(){return this._edges.iterator()},xc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},xc.prototype.insertEdge=function(t){this._edges.add(t)},xc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},xc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Sc(n,!0),i=new Sc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},xc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},xc.prototype.getNodes=function(){return this._nodes.values()},xc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc},xc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Ic=function(){this._geometryFactory=null,this._shellList=new il,this._geometryFactory=arguments[0]};Ic.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Ic.prototype.computePolygons=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Ic.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new lc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Ic.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new il,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Ic.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Ic.prototype.buildMaximalEdgeRings=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new yc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Ic.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Ic.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ic.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&Gu.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},Ic.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Lu.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Ic.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];xc.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(e),r=new il,i=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(i,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Ac=function(){};Ac.prototype.getBounds=function(){},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac};var Dc=function(){this._bounds=null,this._item=null;var t=arguments[1];this._bounds=arguments[0],this._item=t};Dc.prototype.getItem=function(){return this._item},Dc.prototype.getBounds=function(){return this._bounds},Dc.prototype.interfaces_=function(){return[Ac,bi]},Dc.prototype.getClass=function(){return Dc};var Tc=function(){this._size=null,this._items=null,this._size=0,this._items=new il,this._items.add(null)};Tc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Tc.prototype.size=function(){return this._size},Tc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Tc.prototype.clear=function(){this._size=0,this._items.clear()},Tc.prototype.isEmpty=function(){return 0===this._size},Tc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc};var Nc=function(){};Nc.prototype.visitItem=function(t){},Nc.prototype.interfaces_=function(){return[]},Nc.prototype.getClass=function(){return Nc};var Oc=function(){};Oc.prototype.insert=function(t,e){},Oc.prototype.remove=function(t,e){},Oc.prototype.query=function(){},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc};var Rc=function(){this._childBoundables=new il,this._bounds=null,this._level=null,0===arguments.length||1===arguments.length&&(this._level=arguments[0])},Fc={serialVersionUID:{configurable:!0}};Rc.prototype.getLevel=function(){return this._level},Rc.prototype.size=function(){return this._childBoundables.size()},Rc.prototype.getChildBoundables=function(){return this._childBoundables},Rc.prototype.addChildBoundable=function(t){Lu.isTrue(null===this._bounds),this._childBoundables.add(t)},Rc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Rc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Rc.prototype.interfaces_=function(){return[Ac,bi]},Rc.prototype.getClass=function(){return Rc},Fc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Rc,Fc);var Pc=function(){};Pc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Pc.min=function(t){return Pc.sort(t),t.get(0)},Pc.sort=function(t,e){var n=t.toArray();e?_l.sort(n,e):_l.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Pc.singletonList=function(t){var e=new il;return e.add(t),e};var Lc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[1],e=arguments[2];this._boundable1=arguments[0],this._boundable2=t,this._itemDistance=e,this._distance=this.distance()};Lc.prototype.expandToQueue=function(t,e){var n=Lc.isComposite(this._boundable1),r=Lc.isComposite(this._boundable2);if(n&&r)return Lc.area(this._boundable1)>Lc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Qa("neither boundable is composite")},Lc.prototype.isLeaves=function(){return!(Lc.isComposite(this._boundable1)||Lc.isComposite(this._boundable2))},Lc.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Lc.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new Lc(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},Lc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Lc.prototype.getDistance=function(){return this._distance},Lc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Lc.prototype.interfaces_=function(){return[eu]},Lc.prototype.getClass=function(){return Lc},Lc.area=function(t){return t.getBounds().getArea()},Lc.isComposite=function(t){return t instanceof Rc};var Mc=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new il,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var e=arguments[0];Lu.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},kc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Mc.prototype.getNodeCapacity=function(){return this._nodeCapacity},Mc.prototype.lastNode=function(t){return t.get(t.size()-1)},Mc.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Rc?t+=this.size(n):n instanceof Dc&&(t+=1)}return t}},Mc.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Dc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Mc.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new il:t}if(1===arguments.length){for(var e=arguments[0],n=new il,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Rc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Dc?n.add(i.getItem()):Lu.shouldNeverReachHere()}return n.size()<=0?null:n}},Mc.prototype.insert=function(t,e){Lu.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Dc(t,e))},Mc.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new il;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Lu.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Rc?this.boundablesAtLevel(n,s,i):(Lu.isTrue(s instanceof Dc),-1===n&&i.add(s))}return null}},Mc.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new il;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(cu(arguments[2],Nc)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc)for(var i=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Rc?this.query(i,u,o):u instanceof Dc?o.visitItem(u.getItem()):Lu.shouldNeverReachHere())}else if(cu(arguments[2],rl)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc)for(var l=arguments[0],c=arguments[2],h=arguments[1].getChildBoundables(),f=0;f<h.size();f++){var p=h.get(f);this.getIntersectsOp().intersects(p.getBounds(),l)&&(p instanceof Rc?this.query(l,p,c):p instanceof Dc?c.add(p.getItem()):Lu.shouldNeverReachHere())}},Mc.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Mc.prototype.getRoot=function(){return this.build(),this._root},Mc.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Rc&&(o=this.remove(n,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},Mc.prototype.createHigherLevels=function(t,e){Lu.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Mc.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Rc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},Mc.prototype.createParentBoundables=function(t,e){Lu.isTrue(!t.isEmpty());var n=new il;n.add(this.createNode(e));var r=new il(t);Pc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Mc.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Mc.prototype.interfaces_=function(){return[bi]},Mc.prototype.getClass=function(){return Mc},Mc.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},kc.IntersectsOp.get=function(){return Bc},kc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},kc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Mc,kc);var Bc=function(){},Uc=function(){};Uc.prototype.distance=function(t,e){},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc};var jc=function(t){function e(n){t.call(this,n=n||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Lu.isTrue(t.length>0);for(var n=new il,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new Gc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new il;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(cu(arguments[2],Nc)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc||cu(arguments[2],rl)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Lu.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new il(t);Pc.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(cu(arguments[0],Uc)){var t=arguments[0],n=new Lc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Lc)return this.nearestNeighbour(arguments[0],Ja.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&cu(arguments[1],Uc)){var r=arguments[0],i=arguments[1],o=new Lc(this.getRoot(),r.getRoot(),i);return this.nearestNeighbour(o)}if(arguments[0]instanceof Lc&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=null,l=new Tc;for(l.add(s);!l.isEmpty()&&a>0;){var c=l.poll(),h=c.getDistance();if(h>=a)break;c.isLeaves()?(a=h,u=c):c.expandToQueue(l,a)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[2],p=new Dc(arguments[0],arguments[1]),d=new Lc(this.getRoot(),p,f);return this.nearestNeighbour(d)[0]}},e.prototype.interfaces_=function(){return[Oc,bi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Gc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[ru]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[ru]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Mc),Gc=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Iu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Rc),Vc=function(){};Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc},Vc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Vc.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Vc.relativeSign(e.x,n.x),i=Vc.relativeSign(e.y,n.y);switch(t){case 0:return Vc.compareValue(r,i);case 1:return Vc.compareValue(i,r);case 2:return Vc.compareValue(i,-r);case 3:return Vc.compareValue(-r,i);case 4:return Vc.compareValue(-r,-i);case 5:return Vc.compareValue(-i,-r);case 6:return Vc.compareValue(-i,r);case 7:return Vc.compareValue(r,-i)}return Lu.shouldNeverReachHere("invalid octant value"),0},Vc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Wc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new iu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};Wc.prototype.getCoordinate=function(){return this.coord},Wc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Wc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Vc.compare(this._segmentOctant,this.coord,e.coord)},Wc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Wc.prototype.isInterior=function(){return this._isInterior},Wc.prototype.interfaces_=function(){return[eu]},Wc.prototype.getClass=function(){return Wc};var qc=function(){this._nodeMap=new Oi,this._edge=null,this._edge=arguments[0]};qc.prototype.getSplitCoordinates=function(){var t=new sl;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},qc.prototype.addCollapsedNodes=function(){var t=new il;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},qc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},qc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new du(e+1))}},qc.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new iu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new iu(e.coord))},qc.prototype.iterator=function(){return this._nodeMap.values().iterator()},qc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},qc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},qc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new du(e[0])),r=i}},qc.prototype.getEdge=function(){return this._edge},qc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},qc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new iu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new iu(e.coord)),new $c(o,this._edge.getData())},qc.prototype.add=function(t,e){var n=new Wc(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Lu.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},qc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Fu("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Fu("bad split edge end point at "+i)},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Hc=function(){};Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Qa("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new Qa("Cannot compute the octant for two identical points "+i);return Hc.octant(s,a)}};var zc=function(){};zc.prototype.getCoordinates=function(){},zc.prototype.size=function(){},zc.prototype.getCoordinate=function(t){},zc.prototype.isClosed=function(){},zc.prototype.setData=function(t){},zc.prototype.getData=function(){},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var Yc=function(){};Yc.prototype.addIntersection=function(t,e){},Yc.prototype.interfaces_=function(){return[zc]},Yc.prototype.getClass=function(){return Yc};var $c=function(){this._nodeList=new qc(this),this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};$c.prototype.getCoordinates=function(){return this._pts},$c.prototype.size=function(){return this._pts.length},$c.prototype.getCoordinate=function(t){return this._pts[t]},$c.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},$c.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},$c.prototype.setData=function(t){this._data=t},$c.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Hc.octant(t,e)},$c.prototype.getData=function(){return this._data},$c.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var t=arguments[1],e=new iu(arguments[0].getIntersection(arguments[3]));this.addIntersection(e,t)}},$c.prototype.toString=function(){return Ru.toLineString(new Wl(this._pts))},$c.prototype.getNodeList=function(){return this._nodeList},$c.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;return r<this._pts.length&&t.equals2D(this._pts[r])&&(n=r),this._nodeList.add(t,n)},$c.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},$c.prototype.interfaces_=function(){return[Yc]},$c.prototype.getClass=function(){return $c},$c.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new il;return $c.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var Xc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new iu,this.p1=new iu;else if(1===arguments.length){var t=arguments[0];this.p0=new iu(t.p0),this.p1=new iu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[2],n=arguments[3];this.p0=new iu(arguments[0],arguments[1]),this.p1=new iu(e,n)}},Kc={serialVersionUID:{configurable:!0}};Xc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Xc.prototype.orientationIndex=function(){if(arguments[0]instanceof Xc){var t=arguments[0],e=Gu.orientationIndex(this.p0,this.p1,t.p0),n=Gu.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof iu)return Gu.orientationIndex(this.p0,this.p1,arguments[0])},Xc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Xc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Xc.prototype.equals=function(t){if(!(t instanceof Xc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Xc.prototype.intersection=function(t){var e=new Bu;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Xc.prototype.project=function(){if(arguments[0]instanceof iu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new iu(t);var e=this.projectionFactor(t),n=new iu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Xc){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new Xc(s,a)}},Xc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Xc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Xc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Xc.prototype.distancePerpendicular=function(t){return Gu.distancePointLinePerpendicular(t,this.p0,this.p1)},Xc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Xc.prototype.midPoint=function(){return Xc.midPoint(this.p0,this.p1)},Xc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?Ja.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},Xc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=Ja.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},Xc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Xc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Xc.prototype.getLength=function(){return this.p0.distance(this.p1)},Xc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Xc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Xc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Xc.prototype.lineIntersection=function(t){try{return xu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Su))throw t}return null},Xc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Xc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new iu(n-u,r+a)},Xc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Xc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Ja.isNaN(e))&&(e=1),e},Xc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Xc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Xc.prototype.distance=function(){if(arguments[0]instanceof Xc){var t=arguments[0];return Gu.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof iu)return Gu.distancePointLine(arguments[0],this.p0,this.p1)},Xc.prototype.pointAlong=function(t){var e=new iu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Xc.prototype.hashCode=function(){var t=Ja.doubleToLongBits(this.p0.x);t^=31*Ja.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Ja.doubleToLongBits(this.p1.x);return n^=31*Ja.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Xc.prototype.interfaces_=function(){return[eu,bi]},Xc.prototype.getClass=function(){return Xc},Xc.midPoint=function(t,e){return new iu((t.x+e.x)/2,(t.y+e.y)/2)},Kc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Xc,Kc);var Zc=function(){this.tempEnv1=new Iu,this.tempEnv2=new Iu,this._overlapSeg1=new Xc,this._overlapSeg2=new Xc};Zc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[2],e=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),t.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Qc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[1],e=arguments[2],n=arguments[3];this._pts=arguments[0],this._start=t,this._end=e,this._context=n};Qc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Qc.prototype.computeSelect=function(t,e,n,r){if(r.tempEnv1.init(this._pts[e],this._pts[n]),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var i=Math.trunc((e+n)/2);e<i&&this.computeSelect(t,e,i,r),i<n&&this.computeSelect(t,i,n,r)},Qc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Qc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Qc.prototype.setId=function(t){this._id=t},Qc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Qc.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Iu(this._pts[this._start],this._pts[this._end])),this._env},Qc.prototype.getEndIndex=function(){return this._end},Qc.prototype.getStartIndex=function(){return this._start},Qc.prototype.getContext=function(){return this._context},Qc.prototype.getId=function(){return this._id},Qc.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc};var Jc=function(){};Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc},Jc.getChainStartIndices=function(t){var e=0,n=new il;n.add(new du(e));do{var r=Jc.findChainEnd(t,e);n.add(new du(r)),e=r}while(e<t.length-1);return Jc.toIntArray(n)},Jc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Ec.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Ec.quadrant(t[i-1],t[i])===r);)i++;return i-1},Jc.getChains=function(){if(1===arguments.length)return Jc.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new il,r=Jc.getChainStartIndices(t),i=0;i<r.length-1;i++){var o=new Qc(t,r[i],r[i+1],e);n.add(o)}return n}},Jc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var th=function(){};th.prototype.computeNodes=function(t){},th.prototype.getNodedSubstrings=function(){},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th};var eh=function(){this._segInt=null,0===arguments.length||1===arguments.length&&this.setSegmentIntersector(arguments[0])};eh.prototype.setSegmentIntersector=function(t){this._segInt=t},eh.prototype.interfaces_=function(){return[th]},eh.prototype.getClass=function(){return eh};var nh=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new il,this._index=new jc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return $c.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Jc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new rh(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return rh},Object.defineProperties(e,n),e}(eh),rh=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zc),ih=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var e=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(e)}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(n),this.setJoinStyle(r),this.setMitreLimit(i)}},oh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};ih.prototype.getEndCapStyle=function(){return this._endCapStyle},ih.prototype.isSingleSided=function(){return this._isSingleSided},ih.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=ih.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=ih.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==ih.JOIN_ROUND&&(this._quadrantSegments=ih.DEFAULT_QUADRANT_SEGMENTS)},ih.prototype.getJoinStyle=function(){return this._joinStyle},ih.prototype.setJoinStyle=function(t){this._joinStyle=t},ih.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},ih.prototype.getSimplifyFactor=function(){return this._simplifyFactor},ih.prototype.getQuadrantSegments=function(){return this._quadrantSegments},ih.prototype.setEndCapStyle=function(t){this._endCapStyle=t},ih.prototype.getMitreLimit=function(){return this._mitreLimit},ih.prototype.setMitreLimit=function(t){this._mitreLimit=t},ih.prototype.setSingleSided=function(t){this._isSingleSided=t},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},ih.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},oh.CAP_ROUND.get=function(){return 1},oh.CAP_FLAT.get=function(){return 2},oh.CAP_SQUARE.get=function(){return 3},oh.JOIN_ROUND.get=function(){return 1},oh.JOIN_MITRE.get=function(){return 2},oh.JOIN_BEVEL.get=function(){return 3},oh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},oh.DEFAULT_MITRE_LIMIT.get=function(){return 5},oh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(ih,oh);var sh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Gu.COUNTERCLOCKWISE,this._inputLine=t||null},ah={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};sh.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},sh.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=sh.DELETE,i=!0,r=!0),e=this.findNextNonDeletedIndex(t=i?n:e),n=this.findNextNonDeletedIndex(e)}return r},sh.prototype.isShallowConcavity=function(t,e,n,r){return Gu.computeOrientation(t,e,n)===this._angleOrientation&&Gu.distancePointLine(e,t,n)<r},sh.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/sh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},sh.prototype.isConcave=function(t,e,n){return Gu.computeOrientation(t,e,n)===this._angleOrientation},sh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Gu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},sh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===sh.DELETE;)e++;return e},sh.prototype.isShallow=function(t,e,n,r){return Gu.distancePointLine(e,t,n)<r},sh.prototype.collapseLine=function(){for(var t=new sl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==sh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},sh.simplify=function(t,e){return new sh(t).simplify(e)},ah.INIT.get=function(){return 0},ah.DELETE.get=function(){return 1},ah.KEEP.get=function(){return 1},ah.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(sh,ah);var uh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new il},lh={COORDINATE_ARRAY_TYPE:{configurable:!0}};uh.prototype.getCoordinates=function(){return this._ptList.toArray(uh.COORDINATE_ARRAY_TYPE)},uh.prototype.setPrecisionModel=function(t){this._precisionModel=t},uh.prototype.addPt=function(t){var e=new iu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},uh.prototype.revere=function(){},uh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},uh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},uh.prototype.toString=function(){return(new Ql).createLineString(this.getCoordinates()).toString()},uh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new iu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},uh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},lh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(uh,lh);var ch=function(){},hh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},ch.toDegrees=function(t){return 180*t/Math.PI},ch.normalize=function(t){for(;t>Math.PI;)t-=ch.PI_TIMES_2;for(;t<=-Math.PI;)t+=ch.PI_TIMES_2;return t},ch.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Math.atan2(n.y-e.y,n.x-e.x)}},ch.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},ch.isObtuse=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)<0},ch.interiorAngle=function(t,e,n){var r=ch.angle(e,t),i=ch.angle(e,n);return Math.abs(i-r)},ch.normalizePositive=function(t){if(t<0){for(;t<0;)t+=ch.PI_TIMES_2;t>=ch.PI_TIMES_2&&(t=0)}else{for(;t>=ch.PI_TIMES_2;)t-=ch.PI_TIMES_2;t<0&&(t=0)}return t},ch.angleBetween=function(t,e,n){var r=ch.angle(e,t),i=ch.angle(e,n);return ch.diff(r,i)},ch.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},ch.toRadians=function(t){return t*Math.PI/180},ch.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ch.COUNTERCLOCKWISE:n<0?ch.CLOCKWISE:ch.NONE},ch.angleBetweenOriented=function(t,e,n){var r=ch.angle(e,t),i=ch.angle(e,n)-r;return i<=-Math.PI?i+ch.PI_TIMES_2:i>Math.PI?i-ch.PI_TIMES_2:i},hh.PI_TIMES_2.get=function(){return 2*Math.PI},hh.PI_OVER_2.get=function(){return Math.PI/2},hh.PI_OVER_4.get=function(){return Math.PI/4},hh.COUNTERCLOCKWISE.get=function(){return Gu.COUNTERCLOCKWISE},hh.CLOCKWISE.get=function(){return Gu.CLOCKWISE},hh.NONE.get=function(){return Gu.COLLINEAR},Object.defineProperties(ch,hh);var fh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Xc,this._seg1=new Xc,this._offset0=new Xc,this._offset1=new Xc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[1],n=arguments[2];this._precisionModel=arguments[0],this._bufParams=e,this._li=new Bu,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===ih.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},ph={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};fh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Gu.computeOrientation(this._s0,this._s1,this._s2),r=n===Gu.CLOCKWISE&&this._side===sc.LEFT||n===Gu.COUNTERCLOCKWISE&&this._side===sc.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},fh.prototype.addLineEndCap=function(t,e){var n=new Xc(t,e),r=new Xc;this.computeOffsetSegment(n,sc.LEFT,this._distance,r);var i=new Xc;this.computeOffsetSegment(n,sc.RIGHT,this._distance,i);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case ih.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,Gu.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case ih.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case ih.CAP_SQUARE:var s=new iu;s.x=Math.abs(this._distance)*Math.cos(o),s.y=Math.abs(this._distance)*Math.sin(o);var a=new iu(r.p1.x+s.x,r.p1.y+s.y),u=new iu(i.p1.x+s.x,i.p1.y+s.y);this._segList.addPt(a),this._segList.addPt(u)}},fh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},fh.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=xu.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof Su))throw t;o=new iu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},fh.prototype.addFilletCorner=function(t,e,n,r,i){var o=Math.atan2(e.y-t.y,e.x-t.x),s=Math.atan2(n.y-t.y,n.x-t.x);r===Gu.CLOCKWISE?o<=s&&(o+=2*Math.PI):o>=s&&(o-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,o,s,r,i),this._segList.addPt(n)},fh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*fh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===ih.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===ih.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},fh.prototype.createSquare=function(t){this._segList.addPt(new iu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new iu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new iu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new iu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},fh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},fh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},fh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},fh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},fh.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=ch.angle(i,this._seg0.p0),s=ch.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=ch.normalize(o+s),u=ch.normalize(a+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(s)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),p=new iu(h,f),d=new Xc(i,p),g=d.pointAlongOffset(1,c),y=d.pointAlongOffset(1,-c);this._side===sc.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},fh.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===sc.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},fh.prototype.addFilletArc=function(t,e,n,r,i){var o=r===Gu.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new iu;l<s;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},fh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*fh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new iu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new iu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},fh.prototype.createCircle=function(t){var e=new iu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},fh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},fh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new uh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*fh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},fh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===ih.JOIN_BEVEL||this._bufParams.getJoinStyle()===ih.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Gu.CLOCKWISE,this._distance))},fh.prototype.closeRing=function(){this._segList.closeRing()},fh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},ph.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},ph.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},ph.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ph.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(fh,ph);var dh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[1];this._precisionModel=arguments[0],this._bufParams=t};dh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&al.reverse(o),o},dh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=sh.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],sc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=sh.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],sc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},dh.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===sc.RIGHT&&(r=-r);var i=sh.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++)n.addNextSegment(i[s],1!==s);n.closeRing()},dh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=sh.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],sc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=sh.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],sc.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},dh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case ih.CAP_ROUND:e.createCircle(t);break;case ih.CAP_SQUARE:e.createSquare(t)}},dh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],r):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,r):this.computeLineBufferCurve(t,r),r.getCoordinates()},dh.prototype.getBufferParameters=function(){return this._bufParams},dh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},dh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return dh.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},dh.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=sh.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],sc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=sh.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],sc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},dh.prototype.getSegGen=function(t){return new fh(this._precisionModel,this._bufParams,t)},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},dh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new iu(t[n]);return e};var gh=function(){this._subgraphs=null,this._seg=new Xc,this._cga=new Gu,this._subgraphs=arguments[0]},yh={DepthSegment:{configurable:!0}};gh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new il,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(cu(arguments[2],rl)&&arguments[0]instanceof iu&&arguments[1]instanceof Sc){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Gu.computeOrientation(this._seg.p0,this._seg.p1,o)===Gu.RIGHT)){var c=s.getDepth(sc.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(sc.RIGHT));var h=new mh(this._seg,c);a.add(h)}}else if(cu(arguments[2],rl)&&arguments[0]instanceof iu&&cu(arguments[1],rl))for(var f=arguments[0],p=arguments[2],d=arguments[1].iterator();d.hasNext();){var g=d.next();g.isForward()&&this.findStabbedSegments(f,g,p)}},gh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Pc.min(e)._leftDepth},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh},yh.DepthSegment.get=function(){return mh},Object.defineProperties(gh,yh);var mh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[1];this._upwardSeg=new Xc(arguments[0]),this._leftDepth=t};mh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},mh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},mh.prototype.toString=function(){return this._upwardSeg.toString()},mh.prototype.interfaces_=function(){return[eu]},mh.prototype.getClass=function(){return mh};var _h=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};_h.prototype.area=function(){return _h.area(this.p0,this.p1,this.p2)},_h.prototype.signedArea=function(){return _h.signedArea(this.p0,this.p1,this.p2)},_h.prototype.interpolateZ=function(t){if(null===t)throw new Qa("Supplied point is null.");return _h.interpolateZ(t,this.p0,this.p1,this.p2)},_h.prototype.longestSideLength=function(){return _h.longestSideLength(this.p0,this.p1,this.p2)},_h.prototype.isAcute=function(){return _h.isAcute(this.p0,this.p1,this.p2)},_h.prototype.circumcentre=function(){return _h.circumcentre(this.p0,this.p1,this.p2)},_h.prototype.area3D=function(){return _h.area3D(this.p0,this.p1,this.p2)},_h.prototype.centroid=function(){return _h.centroid(this.p0,this.p1,this.p2)},_h.prototype.inCentre=function(){return _h.inCentre(this.p0,this.p1,this.p2)},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h},_h.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},_h.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},_h.det=function(t,e,n,r){return t*r-e*n},_h.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,c=s*l-a*u,h=t.x-i,f=t.y-o;return e.z+(l*h-a*f)/c*(n.z-e.z)+(-u*h+s*f)/c*(r.z-e.z)},_h.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},_h.isAcute=function(t,e,n){return!!ch.isAcute(t,e,n)&&!!ch.isAcute(e,n,t)&&!!ch.isAcute(n,t,e)},_h.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,l=2*_h.det(o,s,a,u),c=_h.det(s,o*o+s*s,u,a*a+u*u),h=_h.det(o,o*o+s*s,a,a*a+u*u);return new iu(r-c/l,i+h/l)},_h.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new xu(t.x+n/2,t.y+r/2,1),o=new xu(t.x-r+n/2,t.y+n+r/2,1);return new xu(i,o)},_h.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n));return new iu(t.x+i*(n.x-t.x),t.y+i*(n.y-t.y))},_h.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=i*u-o*a,c=o*s-r*u,h=r*a-i*s;return Math.sqrt(l*l+c*c+h*h)/2},_h.centroid=function(t,e,n){return new iu((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},_h.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o;return new iu((r*t.x+i*e.x+o*n.x)/s,(r*t.y+i*e.y+o*n.y)/s)};var vh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new il;var t=arguments[1],e=arguments[2];this._inputGeom=arguments[0],this._distance=t,this._curveBuilder=e};vh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,uu.EXTERIOR,uu.INTERIOR)},vh.prototype.addPolygon=function(t){var e=this._distance,n=sc.LEFT;this._distance<0&&(e=-this._distance,n=sc.RIGHT);var r=t.getExteriorRing(),i=al.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,uu.EXTERIOR,uu.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=al.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,sc.opposite(n),uu.INTERIOR,uu.EXTERIOR)}},vh.prototype.isTriangleErodedCompletely=function(t,e){var n=new _h(t[0],t[1],t[2]),r=n.inCentre();return Gu.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},vh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=al.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,uu.EXTERIOR,uu.INTERIOR)},vh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new $c(t,new pc(0,uu.BOUNDARY,e,n));this._curveList.add(r)},vh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},vh.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<Ml.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=Ml.MINIMUM_VALID_SIZE&&Gu.isCCW(t)&&(o=i,s=r,n=sc.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},vh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Pl?this.addPolygon(t):t instanceof Nl?this.addLineString(t):t instanceof Rl?this.addPoint(t):(t instanceof Ll||t instanceof Cl||t instanceof kl||t instanceof Sl)&&this.addCollection(t)},vh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},vh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var Eh=function(){};Eh.prototype.locate=function(t){},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var wh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};wh.prototype.next=function(){if(this._atStart)return this._atStart=!1,wh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Si;var t=this._parent.getGeometryN(this._index++);return t instanceof Sl?(this._subcollectionIterator=new wh(t),this._subcollectionIterator.next()):t},wh.prototype.remove=function(){throw new Error(this.getClass().getName())},wh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},wh.prototype.interfaces_=function(){return[nl]},wh.prototype.getClass=function(){return wh},wh.isAtomic=function(t){return!(t instanceof Sl)};var bh=function(){this._geom=null,this._geom=arguments[0]};bh.prototype.locate=function(t){return bh.locate(t,this._geom)},bh.prototype.interfaces_=function(){return[Eh]},bh.prototype.getClass=function(){return bh},bh.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Gu.isPointInRing(t,e.getCoordinates())},bh.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!bh.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(bh.isPointInRing(t,i))return!1}return!0},bh.containsPoint=function(t,e){if(e instanceof Pl)return bh.containsPointInPolygon(t,e);if(e instanceof Sl)for(var n=new wh(e);n.hasNext();){var r=n.next();if(r!==e&&bh.containsPoint(t,r))return!0}return!1},bh.locate=function(t,e){return e.isEmpty()?uu.EXTERIOR:bh.containsPoint(t,e)?uu.INTERIOR:uu.EXTERIOR};var Sh=function(){this._edgeMap=new Oi,this._edgeList=null,this._ptInAreaLocation=[uu.NONE,uu.NONE]};Sh.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Sh.prototype.propagateSideLabels=function(t){for(var e=uu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,sc.LEFT)!==uu.NONE&&(e=r.getLocation(t,sc.LEFT))}if(e===uu.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,sc.ON)===uu.NONE&&a.setLocation(t,sc.ON,i),a.isArea(t)){var u=a.getLocation(t,sc.LEFT),l=a.getLocation(t,sc.RIGHT);if(l!==uu.NONE){if(l!==i)throw new lc("side location conflict",s.getCoordinate());u===uu.NONE&&Lu.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else Lu.isTrue(a.getLocation(t,sc.LEFT)===uu.NONE,"found single null side"),a.setLocation(t,sc.RIGHT,i),a.setLocation(t,sc.LEFT,i)}}},Sh.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Sh.prototype.print=function(t){Cu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Sh.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Sh.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,sc.LEFT);Lu.isTrue(r!==uu.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();Lu.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,sc.LEFT),u=s.getLocation(t,sc.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},Sh.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Sh.prototype.iterator=function(){return this.getEdges().iterator()},Sh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new il(this._edgeMap.values())),this._edgeList},Sh.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===uu.NONE&&(this._ptInAreaLocation[t]=bh.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Sh.prototype.toString=function(){var t=new pu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Sh.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Sh.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===uu.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=uu.NONE;if(e[u])l=uu.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},Sh.prototype.getDegree=function(){return this._edgeMap.size()},Sh.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Ch=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new lc("no outgoing dirEdge found",this.getCoordinate());Lu.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){this.insertEdgeEnd(t,t)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Ec.isNorthern(i)&&Ec.isNorthern(o)?n:Ec.isNorthern(i)||Ec.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Lu.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){Cu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new il;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(sc.LEFT),r=t.getDepth(sc.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new lc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var u=this._edgeList.get(a);u.setEdgeDepths(sc.RIGHT,s),s=u.getDepth(sc.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Lu.isTrue(null!==e,"found null for first outgoing dirEdge"),Lu.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=uu.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=uu.INTERIOR;break}if(r.isInResult()){t=uu.EXTERIOR;break}}}if(t===uu.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===uu.INTERIOR):(s.isInResult()&&(i=uu.EXTERIOR),a.isInResult()&&(i=uu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new pc(uu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==uu.INTERIOR&&o!==uu.BOUNDARY||this._label.setLocation(i,uu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Sh),xh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(t){return new _c(t,new Ch)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cc),Ih=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Ih.prototype.compareTo=function(t){return Ih.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Ih.prototype.interfaces_=function(){return[eu]},Ih.prototype.getClass=function(){return Ih},Ih.orientation=function(t){return 1===al.increasingDirection(t)},Ih.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===s,f=(l+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Ah=function(){this._edges=new il,this._ocaMap=new Oi};Ah.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Ah.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Ah.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Ah.prototype.iterator=function(){return this._edges.iterator()},Ah.prototype.getEdges=function(){return this._edges},Ah.prototype.get=function(t){return this._edges.get(t)},Ah.prototype.findEqualEdge=function(t){var e=new Ih(t.getCoordinates());return this._ocaMap.get(e)},Ah.prototype.add=function(t){this._edges.add(t);var e=new Ih(t.getCoordinates());this._ocaMap.put(e,t)},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah};var Dh=function(){};Dh.prototype.processIntersections=function(t,e,n,r){},Dh.prototype.isDone=function(){},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh};var Th=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Th.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Th.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Th.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Th.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Th.prototype.getLineIntersector=function(){return this._li},Th.prototype.hasProperIntersection=function(){return this._hasProper},Th.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Th.prototype.hasIntersection=function(){return this._hasIntersection},Th.prototype.isDone=function(){return!1},Th.prototype.hasInteriorIntersection=function(){return this._hasInterior},Th.prototype.interfaces_=function(){return[Dh]},Th.prototype.getClass=function(){return Th},Th.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Nh=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[1],e=arguments[2];this.coord=new iu(arguments[0]),this.segmentIndex=t,this.dist=e};Nh.prototype.getSegmentIndex=function(){return this.segmentIndex},Nh.prototype.getCoordinate=function(){return this.coord},Nh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Nh.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},Nh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Nh.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Nh.prototype.getDistance=function(){return this.dist},Nh.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Nh.prototype.interfaces_=function(){return[eu]},Nh.prototype.getClass=function(){return Nh};var Oh=function(){this._nodeMap=new Oi,this.edge=null,this.edge=arguments[0]};Oh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Oh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Oh.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Oh.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Oh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);r||n--;var i=new Array(n).fill(null),o=0;i[o++]=new iu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)i[o++]=this.edge.pts[s];return r&&(i[o]=e.coord),new Mh(i,new pc(this.edge._label))},Oh.prototype.add=function(t,e,n){var r=new Nh(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Oh.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Rh=function(){};Rh.prototype.getChainStartIndices=function(t){var e=0,n=new il;n.add(new du(e));do{var r=this.findChainEnd(t,e);n.add(new du(r)),e=r}while(e<t.length-1);return Rh.toIntArray(n)},Rh.prototype.findChainEnd=function(t,e){for(var n=Ec.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Ec.quadrant(t[r-1],t[r])===n;)r++;return r-1},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Rh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Fh=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Iu,this.env2=new Iu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Rh;this.startIndex=e.getChainStartIndices(this.pts)};Fh.prototype.getCoordinates=function(){return this.pts},Fh.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Fh.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Fh.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else if(6===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=arguments[5],l=this.pts[r],c=this.pts[i],h=o.pts[s],f=o.pts[a];if(i-r==1&&a-s==1)return u.addIntersections(this.e,r,o.e,s),null;if(this.env1.init(l,c),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+i)/2),d=Math.trunc((s+a)/2);r<p&&(s<d&&this.computeIntersectsForChain(r,p,o,s,d,u),d<a&&this.computeIntersectsForChain(r,p,o,d,a,u)),p<i&&(s<d&&this.computeIntersectsForChain(p,i,o,s,d,u),d<a&&this.computeIntersectsForChain(p,i,o,d,a,u))}},Fh.prototype.getStartIndexes=function(){return this.startIndex},Fh.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh};var Ph=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Lh={NULL_VALUE:{configurable:!0}};Ph.prototype.getDepth=function(t,e){return this._depth[t][e]},Ph.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Ph.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Ph.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Ph.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Ph.NULL_VALUE:void 0},Ph.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},Ph.prototype.getDelta=function(t){return this._depth[t][sc.RIGHT]-this._depth[t][sc.LEFT]},Ph.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?uu.EXTERIOR:uu.INTERIOR},Ph.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Ph.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==uu.EXTERIOR&&r!==uu.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Ph.depthAtLocation(r):this._depth[e][n]+=Ph.depthAtLocation(r))}else 3===arguments.length&&arguments[2]===uu.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph},Ph.depthAtLocation=function(t){return t===uu.EXTERIOR?0:t===uu.INTERIOR?1:Ph.NULL_VALUE},Lh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Ph,Lh);var Mh=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Oh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ph,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var n=arguments[1];this.pts=arguments[0],this._label=n}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,pc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Fh(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Iu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new iu(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;a<this.pts.length&&i.equals2D(this.pts[a])&&(o=a,s=0),this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new pu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,sc.ON),e.getLocation(1,sc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,sc.LEFT),e.getLocation(1,sc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,sc.RIGHT),e.getLocation(1,sc.RIGHT),2))},e}(mc),kh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ah,this._bufParams=t||null};kh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},kh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new pc(t.getLabel())).flip(),n.merge(r);var i=kh.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(kh.depthDelta(t.getLabel()))},kh.prototype.buildSubgraphs=function(t,e){for(var n=new il,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new gh(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},kh.prototype.createSubgraphs=function(t){for(var e=new il,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new hc;i.create(r),e.add(i)}}return Pc.sort(e,Pc.reverseOrder()),e},kh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},kh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new nh,n=new Bu;return n.setPrecisionModel(t),e.setSegmentIntersector(new Th(n)),e},kh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new dh(n,this._bufParams),i=new vh(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new xc(new xh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Ic(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},kh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new Mh(i.getCoordinates(),new pc(s));this.insertUniqueEdge(a)}}},kh.prototype.setNoder=function(t){this._workingNoder=t},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.depthDelta=function(t){var e=t.getLocation(0,sc.LEFT),n=t.getLocation(0,sc.RIGHT);return e===uu.INTERIOR&&n===uu.EXTERIOR?1:e===uu.EXTERIOR&&n===uu.INTERIOR?-1:0},kh.convertSegStrings=function(t){for(var e=new Ql,n=new il;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Bh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[1];this._noder=arguments[0],this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[1],n=arguments[2],r=arguments[3];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=n,this._offsetY=r,this._isScaled=!this.isIntegerPrecision()}};Bh.prototype.rescale=function(){if(cu(arguments[0],tl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Cu.out.println(n)}},Bh.prototype.scale=function(){if(cu(arguments[0],tl)){for(var t=arguments[0],e=new il,n=t.iterator();n.hasNext();){var r=n.next();e.add(new $c(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new iu(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return al.removeRepeatedPoints(o)}},Bh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Bh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Bh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Bh.prototype.interfaces_=function(){return[th]},Bh.prototype.getClass=function(){return Bh};var Uh=function(){this._li=new Bu,this._segStrings=null,this._segStrings=arguments[0]},jh={fact:{configurable:!0}};Uh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Fu("found endpt/interior pt intersection at index "+o+" :pt "+n)},Uh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],g=c.getCoordinates()[h+1],y=f.getCoordinates()[p],m=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,y,m)))throw new Fu("found non-noded intersection at "+d+"-"+g+" and "+y+"-"+m)}},Uh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Uh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},Uh.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},Uh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Fu("found non-noded collapse at "+Uh.fact.createLineString([t,e,n]))},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh},jh.fact.get=function(){return new Ql},Object.defineProperties(Uh,jh);var Gh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Qa("Scale factor must be non-zero");1!==e&&(this._pt=new iu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new iu,this._p1Scaled=new iu),this.initCorners(this._pt)},Vh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Gh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return Lu.isTrue(!(s&&a),"Found bad envelope test"),a},Gh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new iu(this._maxx,this._maxy),this._corner[1]=new iu(this._minx,this._maxy),this._corner[2]=new iu(this._minx,this._miny),this._corner[3]=new iu(this._maxx,this._miny)},Gh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Gh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Gh.prototype.getCoordinate=function(){return this._originalPt},Gh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Gh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Gh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Iu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Gh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Gh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},Gh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh},Vh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Gh,Vh);var Wh=function(){this.tempEnv1=new Iu,this.selectedSegment=new Xc};Wh.prototype.select=function(){1===arguments.length||2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh};var qh=function(){this._index=null,this._index=arguments[0]},Hh={HotPixelSnapAction:{configurable:!0}};qh.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getSafeEnvelope(),i=new zh(t,e,n);return this._index.query(r,{interfaces_:function(){return[Nc]},visitItem:function(t){t.select(r,i)}}),i.isNodeAdded()}},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh},Hh.HotPixelSnapAction.get=function(){return zh},Object.defineProperties(qh,Hh);var zh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[1],n=arguments[2];this._hotPixel=arguments[0],this._parentEdge=e,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wh),Yh=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new il};Yh.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},Yh.prototype.isDone=function(){return!1},Yh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Yh.prototype.interfaces_=function(){return[Dh]},Yh.prototype.getClass=function(){return Yh};var $h=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Bu,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};$h.prototype.checkCorrectness=function(t){var e=$c.getNodedSubstrings(t),n=new Uh(e);try{n.checkValid()}catch(t){if(!(t instanceof bu))throw t;t.printStackTrace()}},$h.prototype.getNodedSubstrings=function(){return $c.getNodedSubstrings(this._nodedSegStrings)},$h.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},$h.prototype.findInteriorIntersections=function(t,e){var n=new Yh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},$h.prototype.computeVertexSnaps=function(){if(cu(arguments[0],tl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof $c)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new Gh(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},$h.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new nh,this._pointSnapper=new qh(this._noder.getIndex()),this.snapRound(t,this._li)},$h.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new Gh(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},$h.prototype.interfaces_=function(){return[th]},$h.prototype.getClass=function(){return $h};var Xh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new ih,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this._argGeom=arguments[0],this._bufParams=t}},Kh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Xh.prototype.bufferFixedPrecision=function(t){var e=new Bh(new $h(new $l(1)),t.getScale()),n=new kh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Xh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Xh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof lc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=Xh.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),r=new $l(n);this.bufferFixedPrecision(r)}},Xh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===$l.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Xh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Xh.prototype.bufferOriginalPrecision=function(){try{var t=new kh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Fu))throw t;this._saveException=t}},Xh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Xh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh},Xh.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Xh(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof qu&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new Xh(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof ih&&arguments[0]instanceof qu&&"number"==typeof arguments[1]){var i=arguments[1];return new Xh(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],u=new Xh(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(a),u.getResultGeometry(o)}},Xh.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=hu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Kh.CAP_ROUND.get=function(){return ih.CAP_ROUND},Kh.CAP_BUTT.get=function(){return ih.CAP_FLAT},Kh.CAP_FLAT.get=function(){return ih.CAP_FLAT},Kh.CAP_SQUARE.get=function(){return ih.CAP_SQUARE},Kh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Xh,Kh);var Zh=function(){this._pt=[new iu,new iu],this._distance=Ja.NaN,this._isNull=!0};Zh.prototype.getCoordinates=function(){return this._pt},Zh.prototype.getCoordinate=function(t){return this._pt[t]},Zh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Zh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},Zh.prototype.getDistance=function(){return this._distance},Zh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh};var Qh=function(){};Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},Qh.computeDistance=function(){if(arguments[2]instanceof Zh&&arguments[0]instanceof Nl&&arguments[1]instanceof iu)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new Xc,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof Zh&&arguments[0]instanceof Pl&&arguments[1]instanceof iu){var s=arguments[0],a=arguments[1],u=arguments[2];Qh.computeDistance(s.getExteriorRing(),a,u);for(var l=0;l<s.getNumInteriorRing();l++)Qh.computeDistance(s.getInteriorRingN(l),a,u)}else if(arguments[2]instanceof Zh&&arguments[0]instanceof qu&&arguments[1]instanceof iu){var c=arguments[0],h=arguments[1],f=arguments[2];if(c instanceof Nl)Qh.computeDistance(c,h,f);else if(c instanceof Pl)Qh.computeDistance(c,h,f);else if(c instanceof Sl)for(var p=c,d=0;d<p.getNumGeometries();d++){var g=p.getGeometryN(d);Qh.computeDistance(g,h,f)}else f.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof Zh&&arguments[0]instanceof Xc&&arguments[1]instanceof iu){var y=arguments[1],m=arguments[2],_=arguments[0].closestPoint(y);m.setMinimum(_,y)}};var Jh=function(t){this._maxPtDist=new Zh,this._inputGeom=t||null},tf={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Jh.prototype.computeMaxMidpointDistance=function(t){var e=new nf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Jh.prototype.computeMaxVertexDistance=function(t){var e=new ef(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Jh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Jh.prototype.getDistancePoints=function(){return this._maxPtDist},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh},tf.MaxPointDistanceFilter.get=function(){return ef},tf.MaxMidpointDistanceFilter.get=function(){return nf},Object.defineProperties(Jh,tf);var ef=function(t){this._maxPtDist=new Zh,this._minPtDist=new Zh,this._geom=t||null};ef.prototype.filter=function(t){this._minPtDist.initialize(),Qh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ef.prototype.getMaxPointDistance=function(){return this._maxPtDist},ef.prototype.interfaces_=function(){return[Yu]},ef.prototype.getClass=function(){return ef};var nf=function(t){this._maxPtDist=new Zh,this._minPtDist=new Zh,this._geom=t||null};nf.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new iu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Qh.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nf.prototype.isDone=function(){return!1},nf.prototype.isGeometryChanged=function(){return!1},nf.prototype.getMaxPointDistance=function(){return this._maxPtDist},nf.prototype.interfaces_=function(){return[bl]},nf.prototype.getClass=function(){return nf};var rf=function(t){this._comps=t||null};rf.prototype.filter=function(t){t instanceof Pl&&this._comps.add(t)},rf.prototype.interfaces_=function(){return[wl]},rf.prototype.getClass=function(){return rf},rf.getPolygons=function(){if(1===arguments.length)return rf.getPolygons(arguments[0],new il);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Pl?e.add(t):t instanceof Sl&&t.apply(new rf(e)),e}};var of=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var t=arguments[1];this._lines=arguments[0],this._isForcedToLineString=t}};of.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Ml){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Nl&&this._lines.add(t)},of.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},of.prototype.interfaces_=function(){return[Wu]},of.prototype.getClass=function(){return of},of.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(of.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(of.getLines(e,n))}},of.getLines=function(){if(1===arguments.length)return of.getLines(arguments[0],!1);if(2===arguments.length){if(cu(arguments[0],tl)&&cu(arguments[1],tl)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();of.getLines(n,t)}return t}if(arguments[0]instanceof qu&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1],o=new il;return r.apply(new of(o,i)),o}if(arguments[0]instanceof qu&&cu(arguments[1],tl)){var s=arguments[0],a=arguments[1];return s instanceof Nl?a.add(s):s.apply(new of(a)),a}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&cu(arguments[0],tl)&&cu(arguments[1],tl)){for(var u=arguments[1],l=arguments[2],c=arguments[0].iterator();c.hasNext();){var h=c.next();of.getLines(h,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof qu&&cu(arguments[1],tl)){var f=arguments[1];return arguments[0].apply(new of(f,arguments[2])),f}}};var sf=function(){if(this._boundaryRule=$u.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Qa("Rule must be non-null");this._boundaryRule=t}};sf.prototype.locateInternal=function(){if(arguments[0]instanceof iu&&arguments[1]instanceof Pl){var t=arguments[0],e=arguments[1];if(e.isEmpty())return uu.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===uu.EXTERIOR)return uu.EXTERIOR;if(r===uu.BOUNDARY)return uu.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===uu.INTERIOR)return uu.EXTERIOR;if(s===uu.BOUNDARY)return uu.BOUNDARY}return uu.INTERIOR}if(arguments[0]instanceof iu&&arguments[1]instanceof Nl){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return uu.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?Gu.isOnLine(a,l)?uu.INTERIOR:uu.EXTERIOR:uu.BOUNDARY}if(arguments[0]instanceof iu&&arguments[1]instanceof Rl){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?uu.INTERIOR:uu.EXTERIOR}},sf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Gu.locatePointInRing(t,e.getCoordinates()):uu.EXTERIOR},sf.prototype.intersects=function(t,e){return this.locate(t,e)!==uu.EXTERIOR},sf.prototype.updateLocationInfo=function(t){t===uu.INTERIOR&&(this._isIn=!0),t===uu.BOUNDARY&&this._numBoundaries++},sf.prototype.computeLocation=function(t,e){if(e instanceof Rl&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Nl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Pl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Cl)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof kl)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof Sl)for(var u=new wh(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},sf.prototype.locate=function(t,e){return e.isEmpty()?uu.EXTERIOR:e instanceof Nl||e instanceof Pl?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?uu.BOUNDARY:this._numBoundaries>0||this._isIn?uu.INTERIOR:uu.EXTERIOR)},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf};var af=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[1],n=arguments[2];this._component=arguments[0],this._segIndex=e,this._pt=n}},uf={INSIDE_AREA:{configurable:!0}};af.prototype.isInsideArea=function(){return this._segIndex===af.INSIDE_AREA},af.prototype.getCoordinate=function(){return this._pt},af.prototype.getGeometryComponent=function(){return this._component},af.prototype.getSegmentIndex=function(){return this._segIndex},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af},uf.INSIDE_AREA.get=function(){return-1},Object.defineProperties(af,uf);var lf=function(t){this._pts=t||null};lf.prototype.filter=function(t){t instanceof Rl&&this._pts.add(t)},lf.prototype.interfaces_=function(){return[wl]},lf.prototype.getClass=function(){return lf},lf.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Rl?Pc.singletonList(t):lf.getPoints(t,new il)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Rl?n.add(e):e instanceof Sl&&e.apply(new lf(n)),n}};var cf=function(){this._locations=null,this._locations=arguments[0]};cf.prototype.filter=function(t){(t instanceof Rl||t instanceof Nl||t instanceof Pl)&&this._locations.add(new af(t,0,t.getCoordinate()))},cf.prototype.interfaces_=function(){return[wl]},cf.prototype.getClass=function(){return cf},cf.getLocations=function(t){var e=new il;return t.apply(new cf(e)),e};var hf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new sf,this._minDistanceLocation=null,this._minDistance=Ja.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=n}};hf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=rf.getPolygons(this._geom[e]);if(i.size()>0){var o=cf.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&cu(arguments[0],rl)&&cu(arguments[1],rl)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof af&&arguments[1]instanceof Pl){var f=arguments[0],p=arguments[1],d=arguments[2],g=f.getCoordinate();if(uu.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,d[0]=f,d[1]=new af(p,g),null}},hf.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=of.getLines(this._geom[0]),n=of.getLines(this._geom[1]),r=lf.getPoints(this._geom[0]),i=lf.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},hf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},hf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},hf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},hf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Nl&&arguments[1]instanceof Rl){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=Gu.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new Xc(r[o],r[o+1]).closestPoint(i);n[0]=new af(t,o,a),n[1]=new af(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Nl&&arguments[1]instanceof Nl){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),f=l.getCoordinates(),p=0;p<h.length-1;p++)for(var d=0;d<f.length-1;d++){var g=Gu.distanceLineLine(h[p],h[p+1],f[d],f[d+1]);if(g<this._minDistance){this._minDistance=g;var y=new Xc(h[p],h[p+1]),m=new Xc(f[d],f[d+1]),_=y.closestPoints(m);c[0]=new af(u,p,_[0]),c[1]=new af(l,d,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},hf.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new af(i,0,i.getCoordinate()),n[1]=new af(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},hf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Qa("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},hf.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.distance=function(t,e){return new hf(t,e).distance()},hf.isWithinDistance=function(t,e,n){return new hf(t,e,n).distance()<=n},hf.nearestPoints=function(t,e){return new hf(t,e).nearestPoints()};var ff=function(){this._pt=[new iu,new iu],this._distance=Ja.NaN,this._isNull=!0};ff.prototype.getCoordinates=function(){return this._pt},ff.prototype.getCoordinate=function(t){return this._pt[t]},ff.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},ff.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},ff.prototype.toString=function(){return Ru.toLineString(this._pt[0],this._pt[1])},ff.prototype.getDistance=function(){return this._distance},ff.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff};var pf=function(){};pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.computeDistance=function(){if(arguments[2]instanceof ff&&arguments[0]instanceof Nl&&arguments[1]instanceof iu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new Xc,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Pl&&arguments[1]instanceof iu){var a=arguments[0],u=arguments[1],l=arguments[2];pf.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)pf.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof ff&&arguments[0]instanceof qu&&arguments[1]instanceof iu){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Nl)pf.computeDistance(h,f,p);else if(h instanceof Pl)pf.computeDistance(h,f,p);else if(h instanceof Sl)for(var d=h,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);pf.computeDistance(y,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Xc&&arguments[1]instanceof iu){var m=arguments[1],_=arguments[2],v=arguments[0].closestPoint(m);_.setMinimum(v,m)}};var df=function(){this._g0=null,this._g1=null,this._ptDist=new ff,this._densifyFrac=0;var t=arguments[1];this._g0=arguments[0],this._g1=t},gf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};df.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},df.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Qa("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},df.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},df.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},df.prototype.computeOrientedDistance=function(t,e,n){var r=new yf(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new mf(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},df.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df},df.distance=function(){if(2===arguments.length)return new df(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new df(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},gf.MaxPointDistanceFilter.get=function(){return yf},gf.MaxDensifiedByFractionDistanceFilter.get=function(){return mf},Object.defineProperties(df,gf);var yf=function(){this._maxPtDist=new ff,this._minPtDist=new ff,this._euclideanDist=new pf,this._geom=null,this._geom=arguments[0]};yf.prototype.filter=function(t){this._minPtDist.initialize(),pf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yf.prototype.getMaxPointDistance=function(){return this._maxPtDist},yf.prototype.interfaces_=function(){return[Yu]},yf.prototype.getClass=function(){return yf};var mf=function(){this._maxPtDist=new ff,this._minPtDist=new ff,this._geom=null,this._numSubSegs=0;var t=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/t))};mf.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=new iu(n.x+s*i,n.y+s*o);this._minPtDist.initialize(),pf.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},mf.prototype.isDone=function(){return!1},mf.prototype.isGeometryChanged=function(){return!1},mf.prototype.getMaxPointDistance=function(){return this._maxPtDist},mf.prototype.interfaces_=function(){return[bl]},mf.prototype.getClass=function(){return mf};var _f=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},vf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};_f.prototype.checkMaximumDistance=function(t,e,n){var r=new df(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Ru.toLineString(i[0],i[1])+")"}},_f.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=_f.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),_f.VERBOSE&&Cu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},_f.prototype.checkNegativeValid=function(){if(!(this._input instanceof Pl||this._input instanceof kl||this._input instanceof Sl))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},_f.prototype.getErrorIndicator=function(){return this._errorIndicator},_f.prototype.checkMinimumDistance=function(t,e,n){var r=new hf(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Ru.toLineString(i[0],i[1])+" )"}},_f.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},_f.prototype.getErrorLocation=function(){return this._errorLocation},_f.prototype.getPolygonLines=function(t){for(var e=new il,n=new of(e),r=rf.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},_f.prototype.getErrorMessage=function(){return this._errMsg},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f},vf.VERBOSE.get=function(){return!1},vf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(_f,vf);var Ef=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},wf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Ef.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Ef.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Ef.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Iu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Iu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Ef.prototype.checkDistance=function(){var t=new _f(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Ef.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Ef.prototype.checkPolygonal=function(){this._result instanceof Pl||this._result instanceof kl||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Ef.prototype.getErrorIndicator=function(){return this._errorIndicator},Ef.prototype.getErrorLocation=function(){return this._errorLocation},Ef.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Ef.prototype.report=function(t){if(!Ef.VERBOSE)return null;Cu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Ef.prototype.getErrorMessage=function(){return this._errorMsg},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef},Ef.isValidMsg=function(t,e,n){var r=new Ef(t,e,n);return r.isValid()?null:r.getErrorMessage()},Ef.isValid=function(t,e,n){return!!new Ef(t,e,n).isValid()},wf.VERBOSE.get=function(){return!1},wf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ef,wf);var bf=function(){this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};bf.prototype.getCoordinates=function(){return this._pts},bf.prototype.size=function(){return this._pts.length},bf.prototype.getCoordinate=function(t){return this._pts[t]},bf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},bf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Hc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},bf.prototype.setData=function(t){this._data=t},bf.prototype.getData=function(){return this._data},bf.prototype.toString=function(){return Ru.toLineString(new Wl(this._pts))},bf.prototype.interfaces_=function(){return[zc]},bf.prototype.getClass=function(){return bf};var Sf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new il,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Sf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Sf.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Sf.prototype.getIntersectionSegments=function(){return this._intSegments},Sf.prototype.count=function(){return this._intersectionCount},Sf.prototype.getIntersections=function(){return this._intersections},Sf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Sf.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Sf.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Sf.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Sf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Sf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Sf.prototype.interfaces_=function(){return[Dh]},Sf.prototype.getClass=function(){return Sf},Sf.createAllIntersectionsFinder=function(t){var e=new Sf(t);return e.setFindAllIntersections(!0),e},Sf.createAnyIntersectionFinder=function(t){return new Sf(t)},Sf.createIntersectionCounter=function(t){var e=new Sf(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Cf=function(){this._li=new Bu,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Cf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Cf.prototype.getIntersections=function(){return this._segInt.getIntersections()},Cf.prototype.isValid=function(){return this.execute(),this._isValid},Cf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Cf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Sf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new nh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Cf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new lc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Cf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Ru.toLineString(t[0],t[1])+" and "+Ru.toLineString(t[2],t[3])},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.computeIntersections=function(t){var e=new Cf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var xf=function t(){this._nv=null,this._nv=new Cf(t.toSegmentStrings(arguments[0]))};xf.prototype.checkValid=function(){this._nv.checkValid()},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf},xf.toSegmentStrings=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next();e.add(new bf(r.getCoordinates(),r))}return e},xf.checkValid=function(t){new xf(t).checkValid()};var If=function(t){this._mapOp=t};If.prototype.map=function(t){for(var e=new il,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Ql.toGeometryArray(e))},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.map=function(t,e){return new If(e).map(t)};var Af=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new il,this._resultLineList=new il;var t=arguments[1],e=arguments[2];this._op=arguments[0],this._geometryFactory=t,this._ptLocator=e};Af.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Af.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Af.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Af.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ap.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Af.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Af.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Af.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Af.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Lu.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ap.isResultOfOp(r,e)&&e===ap.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af};var Df=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new il;var t=arguments[1];this._op=arguments[0],this._geometryFactory=t};Df.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Df.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==ap.INTERSECTION)){var r=n.getLabel();ap.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Df.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df};var Tf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Tf.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Tf.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Ml&&!r.isEmpty()||(n=!1);for(var i=new il,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Ml||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new il;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Tf.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Tf.prototype.getInputGeometry=function(){return this._inputGeom},Tf.prototype.transformMultiLineString=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Tf.prototype.transformCoordinates=function(t,e){return this.copy(t)},Tf.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Tf.prototype.transformMultiPoint=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Tf.prototype.transformMultiPolygon=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Tf.prototype.copy=function(t){return t.copy()},Tf.prototype.transformGeometryCollection=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ql.toGeometryArray(n)):this._factory.buildGeometry(n)},Tf.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Rl)return this.transformPoint(t,null);if(t instanceof Ll)return this.transformMultiPoint(t,null);if(t instanceof Ml)return this.transformLinearRing(t,null);if(t instanceof Nl)return this.transformLineString(t,null);if(t instanceof Cl)return this.transformMultiLineString(t,null);if(t instanceof Pl)return this.transformPolygon(t,null);if(t instanceof kl)return this.transformMultiPolygon(t,null);if(t instanceof Sl)return this.transformGeometryCollection(t,null);throw new Qa("Unknown Geometry subtype: "+t.getClass().getName())},Tf.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf};var Nf=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Xc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Nl&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Nf.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new iu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new iu(o)))}},Nf.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Nf.prototype.snapTo=function(t){var e=new sl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Nf.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new iu(i),!1)}},Nf.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Ja.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Nf.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf},Nf.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Of=function(t){this._srcGeom=t||null},Rf={SNAP_PRECISION_FACTOR:{configurable:!0}};Of.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Ff(e,n).transform(this._srcGeom)},Of.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Ff(t,n,!0).transform(this._srcGeom),i=r;return e&&cu(i,Fl)&&(i=r.buffer(0)),i},Of.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Of.prototype.extractTargetCoordinates=function(t){for(var e=new Fi,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Of.prototype.computeMinimumSegmentLength=function(t){for(var e=Ja.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Of(t);r[0]=i.snapTo(e,n);var o=new Of(e);return r[1]=o.snapTo(r[0],n),r},Of.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Of.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===$l.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[1];return Math.min(Of.computeOverlaySnapTolerance(arguments[0]),Of.computeOverlaySnapTolerance(i))}},Of.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Of.SNAP_PRECISION_FACTOR},Of.snapToSelf=function(t,e,n){return new Of(t).snapToSelf(e,n)},Rf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Of,Rf);var Ff=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(t,e){var n=new Nf(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tf),Pf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Pf.prototype.getCommon=function(){return Ja.longBitsToDouble(this._commonBits)},Pf.prototype.add=function(t){var e=Ja.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Pf.signExpBits(this._commonBits),this._isFirst=!1,null):Pf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Pf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Pf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Pf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Ja.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Ja.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Pf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Pf.signExpBits=function(t){return t>>52},Pf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Pf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Pf.getBit(t,r)!==Pf.getBit(e,r))return n;n++}return 52};var Lf=function(){this._commonCoord=null,this._ccFilter=new kf},Mf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Lf.prototype.addCommonBits=function(t){var e=new Bf(this._commonCoord);t.apply(e),t.geometryChanged()},Lf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new iu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Bf(e);return t.apply(n),t.geometryChanged(),t},Lf.prototype.getCommonCoordinate=function(){return this._commonCoord},Lf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf},Mf.CommonCoordinateFilter.get=function(){return kf},Mf.Translater.get=function(){return Bf},Object.defineProperties(Lf,Mf);var kf=function(){this._commonBitsX=new Pf,this._commonBitsY=new Pf};kf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},kf.prototype.getCommonCoordinate=function(){return new iu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},kf.prototype.interfaces_=function(){return[Yu]},kf.prototype.getClass=function(){return kf};var Bf=function(){this.trans=null,this.trans=arguments[0]};Bf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},Bf.prototype.isDone=function(){return!1},Bf.prototype.isGeometryChanged=function(){return!0},Bf.prototype.interfaces_=function(){return[bl]},Bf.prototype.getClass=function(){return Bf};var Uf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Uf.prototype.selfSnap=function(t){return new Of(t).snapTo(t,this._snapTolerance)},Uf.prototype.removeCommonBits=function(t){this._cbr=new Lf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Uf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Uf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=ap.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Uf.prototype.checkValid=function(t){t.isValid()||Cu.out.println("Snapped geometry is invalid")},Uf.prototype.computeSnapTolerance=function(){this._snapTolerance=Of.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Uf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Of.snap(e[0],e[1],this._snapTolerance)},Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf},Uf.overlayOp=function(t,e,n){return new Uf(t,e).getResultGeometry(n)},Uf.union=function(t,e){return Uf.overlayOp(t,e,ap.UNION)},Uf.intersection=function(t,e){return Uf.overlayOp(t,e,ap.INTERSECTION)},Uf.symDifference=function(t,e){return Uf.overlayOp(t,e,ap.SYMDIFFERENCE)},Uf.difference=function(t,e){return Uf.overlayOp(t,e,ap.DIFFERENCE)};var jf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};jf.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=ap.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Fu))throw t;r=t}if(!n)try{e=Uf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Fu?r:t}return e},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.overlayOp=function(t,e,n){return new jf(t,e).getResultGeometry(n)},jf.union=function(t,e){return jf.overlayOp(t,e,ap.UNION)},jf.intersection=function(t,e){return jf.overlayOp(t,e,ap.INTERSECTION)},jf.symDifference=function(t,e){return jf.overlayOp(t,e,ap.SYMDIFFERENCE)},jf.difference=function(t,e){return jf.overlayOp(t,e,ap.DIFFERENCE)};var Gf=function(){this.mce=null,this.chainIndex=null;var t=arguments[1];this.mce=arguments[0],this.chainIndex=t};Gf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf};var Vf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},Wf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Vf.prototype.isDelete=function(){return this._eventType===Vf.DELETE},Vf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Vf.prototype.getObject=function(){return this._obj},Vf.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Vf.prototype.getInsertEvent=function(){return this._insertEvent},Vf.prototype.isInsert=function(){return this._eventType===Vf.INSERT},Vf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Vf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Vf.prototype.interfaces_=function(){return[eu]},Vf.prototype.getClass=function(){return Vf},Wf.INSERT.get=function(){return 1},Wf.DELETE.get=function(){return 2},Object.defineProperties(Vf,Wf);var qf=function(){};qf.prototype.interfaces_=function(){return[]},qf.prototype.getClass=function(){return qf};var Hf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[1],e=arguments[2];this._li=arguments[0],this._includeProper=t,this._recordIsolated=e};Hf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Hf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Hf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Hf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Hf.prototype.hasProperIntersection=function(){return this._hasProper},Hf.prototype.hasIntersection=function(){return this._hasIntersection},Hf.prototype.isDone=function(){return this._isDone},Hf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Hf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Hf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf},Hf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var zf=function(t){function e(){t.call(this),this.events=new il,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){Pc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Hf&&cu(arguments[0],rl)&&cu(arguments[1],rl)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&cu(arguments[0],rl)&&arguments[1]instanceof Hf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Gf(n,i),s=new Vf(e,n.getMinX(i),o);this.events.add(s),this.events.add(new Vf(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qf),Yf=function(){this._min=Ja.POSITIVE_INFINITY,this._max=Ja.NEGATIVE_INFINITY},$f={NodeComparator:{configurable:!0}};Yf.prototype.getMin=function(){return this._min},Yf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Yf.prototype.getMax=function(){return this._max},Yf.prototype.toString=function(){return Ru.toLineString(new iu(this._min,0),new iu(this._max,0))},Yf.prototype.interfaces_=function(){return[]},Yf.prototype.getClass=function(){return Yf},$f.NodeComparator.get=function(){return Xf},Object.defineProperties(Yf,$f);var Xf=function(){};Xf.prototype.compare=function(t,e){var n=(t._min+t._max)/2,r=(e._min+e._max)/2;return n<r?-1:n>r?1:0},Xf.prototype.interfaces_=function(){return[ru]},Xf.prototype.getClass=function(){return Xf};var Kf=function(t){function e(){t.call(this),this._item=null;var e=arguments[1],n=arguments[2];this._min=arguments[0],this._max=e,this._item=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yf),Zf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[1];this._node1=arguments[0],this._node2=e,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yf),Qf=function(){this._leaves=new il,this._root=null,this._level=0};Qf.prototype.buildTree=function(){Pc.sort(this._leaves,new Yf.NodeComparator);for(var t=this._leaves,e=null,n=new il;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Qf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Kf(t,e,n))},Qf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Qf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Qf.prototype.printNode=function(t){Cu.out.println(Ru.toLineString(new iu(t._min,this._level),new iu(t._max,this._level)))},Qf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Qf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Zf(t.get(n),t.get(n+1));e.add(i)}}},Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf};var Jf=function(){this._items=new il};Jf.prototype.visitItem=function(t){this._items.add(t)},Jf.prototype.getItems=function(){return this._items},Jf.prototype.interfaces_=function(){return[Nc]},Jf.prototype.getClass=function(){return Jf};var tp=function(){this._index=null;var t=arguments[0];if(!cu(t,Fl))throw new Qa("Argument must be Polygonal");this._index=new rp(t)},ep={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};tp.prototype.locate=function(t){var e=new ju(t),n=new np(e);return this._index.query(t.y,t.y,n),e.getLocation()},tp.prototype.interfaces_=function(){return[Eh]},tp.prototype.getClass=function(){return tp},ep.SegmentVisitor.get=function(){return np},ep.IntervalIndexedGeometry.get=function(){return rp},Object.defineProperties(tp,ep);var np=function(){this._counter=null,this._counter=arguments[0]};np.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},np.prototype.interfaces_=function(){return[Nc]},np.prototype.getClass=function(){return np};var rp=function(){this._index=new Qf,this.init(arguments[0])};rp.prototype.init=function(t){for(var e=of.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},rp.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Xc(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},rp.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Jf;return this._index.query(t,e,n),n.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp};var ip=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Yl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new sf,2===arguments.length){var e=arguments[1],n=$u.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=e,this._boundaryNodeRule=n,null!==e&&this.add(e)}else if(3===arguments.length){var r=arguments[1],i=arguments[2];this._argIndex=arguments[0],this._parentGeom=r,this._boundaryNodeRule=i,null!==r&&this.add(r)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,sc.ON)===uu.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var t=arguments[1],e=arguments[2],n=new Hf(arguments[0],!0,!1);return n.setIsDoneIfProperInt(e),this.createEdgeSetIntersector().computeIntersections(this._edges,n,t||!(this._parentGeom instanceof Ml||this._parentGeom instanceof Pl||this._parentGeom instanceof kl)),this.addSelfIntersectionNodes(this._argIndex),n}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Hf(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Rl){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,uu.INTERIOR)}else arguments[0]instanceof iu&&this.insertPoint(this._argIndex,arguments[0],uu.INTERIOR)},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),uu.EXTERIOR,uu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,uu.INTERIOR,uu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],uu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],uu.BOUNDARY)},e.prototype.addLineString=function(t){var e=al.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Mh(e,new pc(this._argIndex,uu.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Lu.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===uu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=al.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;Gu.isCCW(r)&&(i=n,o=e);var s=new Mh(r,new pc(this._argIndex,uu.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],uu.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new pc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new zf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof kl&&(this._useBoundaryDeterminationRule=!1),e instanceof Pl)this.addPolygon(e);else if(e instanceof Nl)this.addLineString(e);else if(e instanceof Rl)this.addPoint(e);else if(e instanceof Ll)this.addCollection(e);else if(e instanceof Cl)this.addCollection(e);else if(e instanceof kl)this.addCollection(e);else{if(!(e instanceof Sl))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return cu(this._parentGeom,Fl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new tp(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?uu.BOUNDARY:uu.INTERIOR},e}(xc),op=function(){if(this._li=new Bu,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ip(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=$u.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ip(0,e,r),this._arg[1]=new ip(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ip(0,i,s),this._arg[1]=new ip(1,o,s)}};op.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},op.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op};var sp=function(){};sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp},sp.map=function(){if(arguments[0]instanceof qu&&cu(arguments[1],sp.MapOp)){for(var t=arguments[0],e=arguments[1],n=new il,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(cu(arguments[0],tl)&&cu(arguments[1],sp.MapOp)){for(var o=arguments[0],s=arguments[1],a=new il,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},sp.MapOp=function(){};var ap=function(t){function e(){var e=arguments[0];t.call(this,e,arguments[1]),this._ptLocator=new sf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ah,this._resultPolyList=new il,this._resultLineList=new il,this._resultPointList=new il,this._graph=new xc(new xh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new pc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new il;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==uu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new il,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new il;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),xf.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Ic(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Af(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Df(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,sc.RIGHT),i.getLocation(1,sc.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Lu.isTrue(!r.isNull(i,sc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,sc.LEFT,r.getLocation(i,sc.LEFT)),Lu.isTrue(!r.isNull(i,sc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,sc.RIGHT,r.getLocation(i,sc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(op);ap.overlayOp=function(t,e,n){return new ap(t,e).getResultGeometry(n)},ap.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ap.createEmptyResult(ap.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return If.map(t,{interfaces_:function(){return[sp.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,ap.INTERSECTION)},ap.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ap.createEmptyResult(ap.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,ap.SYMDIFFERENCE)},ap.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case ap.INTERSECTION:o=Math.min(r,i);break;case ap.UNION:o=Math.max(r,i);break;case ap.DIFFERENCE:o=r;break;case ap.SYMDIFFERENCE:o=Math.max(r,i)}return o},ap.createEmptyResult=function(t,e,n,r){var i=null;switch(ap.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},ap.difference=function(t,e){return t.isEmpty()?ap.createEmptyResult(ap.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,ap.DIFFERENCE))},ap.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return ap.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1];switch(i===uu.BOUNDARY&&(i=uu.INTERIOR),o===uu.BOUNDARY&&(o=uu.INTERIOR),arguments[2]){case ap.INTERSECTION:return i===uu.INTERIOR&&o===uu.INTERIOR;case ap.UNION:return i===uu.INTERIOR||o===uu.INTERIOR;case ap.DIFFERENCE:return i===uu.INTERIOR&&o!==uu.INTERIOR;case ap.SYMDIFFERENCE:return i===uu.INTERIOR&&o!==uu.INTERIOR||i!==uu.INTERIOR&&o===uu.INTERIOR}return!1}},ap.INTERSECTION=1,ap.UNION=2,ap.DIFFERENCE=3,ap.SYMDIFFERENCE=4;var up=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new sf,this._seg=new Xc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};up.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},up.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?uu.BOUNDARY:this._ptLocator.locate(t,this._g)},up.prototype.extractLinework=function(t){var e=new lp;t.apply(e);var n=e.getLinework(),r=Ql.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var lp=function(){this._linework=null,this._linework=new il};lp.prototype.getLinework=function(){return this._linework},lp.prototype.filter=function(t){if(t instanceof Pl){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},lp.prototype.interfaces_=function(){return[wl]},lp.prototype.getClass=function(){return lp};var cp=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};cp.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},cp.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},cp.prototype.getPoints=function(t){for(var e=new il,n=of.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},cp.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new iu(l-u,c+a);r.add(h)}if(this._doRight){var f=new iu(l+u,c-a);r.add(f)}},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp};var hp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new il;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new up(this._geom[0],this._boundaryDistanceTolerance),new up(this._geom[1],this._boundaryDistanceTolerance),new up(this._geom[2],this._boundaryDistanceTolerance)]},fp={TOLERANCE:{configurable:!0}};hp.prototype.reportResult=function(t,e,n){Cu.out.println("Overlay result invalid - A:"+uu.toLocationSymbol(e[0])+" B:"+uu.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+uu.toLocationSymbol(e[2]))},hp.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},hp.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!hp.hasLocation(this._location,uu.BOUNDARY)||this.isValidResult(r,this._location)}},hp.prototype.addTestPts=function(t){var e=new cp(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},hp.prototype.isValidResult=function(t,e){var n=ap.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===uu.INTERIOR);return r||this.reportResult(t,e,n),r},hp.prototype.getInvalidLocation=function(){return this._invalidLocation},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},hp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Of.computeSizeBasedSnapTolerance(t),Of.computeSizeBasedSnapTolerance(e))},hp.isValid=function(t,e,n,r){return new hp(t,e,r).isValid(n)},fp.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(hp,fp);var pp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};pp.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},pp.prototype.combine=function(){for(var t=new il,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp},pp.combine=function(){return 1===arguments.length?new pp(arguments[0]).combine():2===arguments.length?new pp(pp.createList(arguments[0],arguments[1])).combine():3===arguments.length?new pp(pp.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},pp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},pp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new il;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new il;return s.add(r),s.add(i),s.add(o),s}};var dp=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new il)},gp={STRTREE_NODE_CAPACITY:{configurable:!0}};dp.prototype.reduceToGeometries=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next(),i=null;cu(r,rl)?i=this.unionTree(r):r instanceof qu&&(i=r),e.add(i)}return e},dp.prototype.extractByEnvelope=function(t,e,n){for(var r=new il,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},dp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return pp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},dp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new jc(dp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},dp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=dp.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(dp.getGeometry(e,n),dp.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},dp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},dp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},dp.prototype.unionActual=function(t,e){return dp.restrictToPolygons(t.union(e))},dp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},dp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new il,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),pp.combine(r)},dp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp},dp.restrictToPolygons=function(t){if(cu(t,Fl))return t;var e=rf.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ql.toPolygonArray(e))},dp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},dp.union=function(t){return new dp(t).union()},gp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(dp,gp);var yp=function(){};yp.prototype.interfaces_=function(){return[]},yp.prototype.getClass=function(){return yp},yp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ap.createEmptyResult(ap.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,ap.UNION)};var mp=function(){return new Bi};Bi.prototype={constructor:Bi,reset:function(){this.s=this.t=0},add:function(t){Ui(_p,t,this.t),Ui(this,_p.s,this.s),this.s?this.t+=_p.t:this.s=_p.t},valueOf:function(){return this.s}};var _p=new Bi,vp=1e-6,Ep=Math.PI,wp=Ep/2,bp=Ep/4,Sp=2*Ep,Cp=180/Ep,xp=Ep/180,Ip=Math.abs,Ap=Math.atan,Dp=Math.atan2,Tp=Math.cos,Np=Math.exp,Op=Math.log,Rp=Math.sin,Fp=Math.sqrt,Pp=Math.tan,Lp={Feature:function(t,e){Vi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Vi(n[r].geometry,e)}},Mp={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){Wi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Wi(n[r],e,0)},Polygon:function(t,e){qi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)qi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Vi(n[r],e)}},kp=function(t,e){t&&Lp.hasOwnProperty(t.type)?Lp[t.type](t,e):Vi(t,e)},Bp=(mp(),mp(),mp(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});Qi.invert=Qi;var Up=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Gi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},jp=function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}},Gp=function(t,e){return Ip(t[0]-e[0])<vp&&Ip(t[1]-e[1])<vp},Vp=function(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(Gp(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new io(r,t,null,!0)),u.push(n.o=new io(r,null,n,!1)),a.push(n=new io(s,t,null,!1)),u.push(n.o=new io(s,null,n,!0))}}),a.length){for(u.sort(e),oo(a),oo(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;o<s;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(o=(l=f.p.z).length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}},Wp=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},qp=(function(t){1===t.length&&(t=function(t){return function(e,n){return Wp(t(e),n)}}(t))}(Wp),function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}),Hp=1e9,zp=-Hp,Yp=mp(),$p=(mp(),function(t){return t}),Xp=(mp(),mp(),1/0),Kp=Xp,Zp=-Xp,Qp=Zp,Jp={point:function(t,e){t<Xp&&(Xp=t),t>Zp&&(Zp=t),e<Kp&&(Kp=e),e>Qp&&(Qp=e)},lineStart:Gi,lineEnd:Gi,polygonStart:Gi,polygonEnd:Gi,result:function(){var t=[[Xp,Kp],[Zp,Qp]];return Zp=Qp=-(Kp=Xp=1/0),t}},td=(mp(),function(t,e,n,r){return function(i,o){function s(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function a(t,e){var n=i(t,e);y.point(n[0],n[1])}function u(){w.point=a,y.lineStart()}function l(){w.point=s,y.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function h(){v.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),s=_.result(),a=s.length;if(g.pop(),p.push(g),g=null,a)if(1&i){if((e=(n=s[0]).length-1)>0){for(E||(o.polygonStart(),E=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&s.push(s.pop().concat(s.shift())),d.push(s.filter(ao))}var p,d,g,y=e(o),m=i.invert(r[0],r[1]),_=Up(),v=e(_),E=!1,w={point:s,lineStart:u,lineEnd:l,polygonStart:function(){w.point=c,w.lineStart=h,w.lineEnd=f,d=[],p=[]},polygonEnd:function(){w.point=s,w.lineStart=u,w.lineEnd=l,d=qp(d);var t=function(t,e){var n=e[0],r=e[1],i=[Rp(n),-Tp(n),0],o=0,s=0;Yp.reset();for(var a=0,u=t.length;a<u;++a)if(c=(l=t[a]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+bp,d=Rp(p),g=Tp(p),y=0;y<c;++y,f=_,d=E,g=w,h=m){var m=l[y],_=m[0],v=m[1]/2+bp,E=Rp(v),w=Tp(v),b=_-f,S=b>=0?1:-1,C=S*b,x=C>Ep,I=d*E;if(Yp.add(Dp(I*S*Rp(C),g*w+I*Tp(C))),o+=x?b+S*Sp:b,x^f>=n^_>=n){var A=$i(zi(h),zi(m));Zi(A);var D=$i(i,A);Zi(D);var T=(x^b>=0?-1:1)*ji(D[2]);(r>T||r===T&&(A[0]||A[1]))&&(s+=x^b>=0?1:-1)}}return(o<-vp||o<vp&&Yp<-vp)^1&s}(p,m);d.length?(E||(o.polygonStart(),E=!0),Vp(d,uo,t,n,o)):t&&(E||(o.polygonStart(),E=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),E&&(o.polygonEnd(),E=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}}),ed=td(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Ep:-Ep,u=Ip(o-n);Ip(u-Ep)<vp?(t.point(n,r=(r+s)/2>0?wp:-wp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Ep&&(Ip(n-i)<vp&&(n-=i*vp),Ip(o-a)<vp&&(o-=a*vp),r=function(t,e,n,r){var i,o,s=Rp(t-n);return Ip(s)>vp?Ap((Rp(e)*(o=Tp(r))*Rp(n)-Rp(r)*(i=Tp(e))*Rp(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-Ep,i=n*wp),r.point(0,i),r.point(Ep,i),r.point(Ep,0),r.point(Ep,-i),r.point(0,-i),r.point(-Ep,-i),r.point(-Ep,0),r.point(-Ep,i);else if(Ip(t[0]-e[0])>vp){var o=t[0]<e[0]?Ep:-Ep;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ep,-wp]),nd=function(t,e){function n(t,e){return Tp(t)*Tp(e)>o}function r(t,e,n){var r=[1,0,0],i=$i(zi(t),zi(e)),s=Yi(i,i),a=i[0],u=s-a*a;if(!u)return!n&&t;var l=o*s/u,c=-o*a/u,h=$i(r,i),f=Ki(r,l);Xi(f,Ki(i,c));var p=h,d=Yi(f,p),g=Yi(p,p),y=d*d-g*(Yi(f,f)-1);if(!(y<0)){var m=Fp(y),_=Ki(p,(-d-m)/g);if(Xi(_,f),_=Hi(_),!n)return _;var v,E=t[0],w=e[0],b=t[1],S=e[1];w<E&&(v=E,E=w,w=v);var C=w-E,x=Ip(C-Ep)<vp;if(!x&&S<b&&(v=b,b=S,S=v),x||C<vp?x?b+S>0^_[1]<(Ip(_[0]-E)<vp?b:S):b<=_[1]&&_[1]<=S:C>Ep^(E<=_[0]&&_[0]<=w)){var I=Ki(p,(-d+m)/g);return Xi(I,f),[_,Hi(I)]}}}function i(e,n){var r=s?t:Ep-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Tp(t),s=o>0,a=Ip(o)>vp;return td(n,function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],g=n(h,f),y=s?g?0:i(h,f):g?i(h+(h<0?Ep:-Ep),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(!(p=r(e,d))||Gp(e,p)||Gp(d,p))&&(d[0]+=vp,d[1]+=vp,g=n(d[0],d[1])),g!==u)c=0,g?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&s^g){var m;y&o||!(m=r(d,e,!0))||(c=0,s?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&Gp(e,d)||t.point(d[0],d[1]),e=d,u=g,o=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=Tp(e),a=Rp(e),u=r*n;null==i?(i=e+r*Sp,o=e-u/2):(i=ro(s,i),o=ro(s,o),(r>0?i<o:i>o)&&(i+=r*Sp));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Hi([s,-a*Tp(c),-a*Rp(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)},s?[0,-t]:[-Ep,t-Ep])};co.prototype={constructor:co,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rd=Tp(30*xp),id=function(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,l,c,h,f,p,d,g,y){var m=l-r,_=c-i,v=m*m+_*_;if(v>4*e&&g--){var E=s+f,w=a+p,b=u+d,S=Fp(E*E+w*w+b*b),C=ji(b/=S),x=Ip(Ip(b)-1)<vp||Ip(o-h)<vp?(o+h)/2:Dp(w,E),I=t(x,C),A=I[0],D=I[1],T=A-r,N=D-i,O=_*T-m*N;(O*O/v>e||Ip((m*T+_*N)/v-.5)>.3||s*f+a*p+u*d<rd)&&(n(r,i,o,s,a,u,A,D,x,E/=S,w/=S,b,g,y),y.point(A,D),n(A,D,x,E,w,b,l,c,h,f,p,d,g,y))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){m=NaN,b.point=o,e.lineStart()}function o(r,i){var o=zi([r,i]),s=t(r,i);n(m,_,y,v,E,w,m=s[0],_=s[1],y=r,v=o[0],E=o[1],w=o[2],16,e),e.point(m,_)}function s(){b.point=r,e.lineEnd()}function a(){i(),b.point=u,b.lineEnd=l}function u(t,e){o(c=t,e),h=m,f=_,p=v,d=E,g=w,b.point=o}function l(){n(m,_,y,v,E,w,h,f,c,p,d,g,16,e),b.lineEnd=s,s()}var c,h,f,p,d,g,y,m,_,v,E,w,b={point:r,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),b.lineStart=a},polygonEnd:function(){e.polygonEnd(),b.lineStart=i}};return b}}(t,e):function(t){return lo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},od=lo({point:function(t,e){this.stream.point(t*xp,e*xp)}});fo.invert=function(t,e){return[t,2*Ap(Np(e))-wp]},po.invert=function(t,e){return[-e,2*Ap(Np(t))-wp]};var sd=function(){var t=function(t){function e(){var e=Ep*a(),s=o(function(t){function e(e){return(e=t(e[0]*xp,e[1]*xp))[0]*=Cp,e[1]*=Cp,e}return t=Ji(t[0]*xp,t[1]*xp,t.length>2?t[2]*xp:0),e.invert=function(e){return(e=t.invert(e[0]*xp,e[1]*xp))[0]*=Cp,e[1]*=Cp,e},e}(o.rotate()).invert([0,0]));return l(null==c?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===fo?[[Math.max(s[0]-e,c),n],[Math.min(s[0]+e,r),i]]:[[c,Math.max(s[1]-e,n)],[r,Math.min(s[1]+e,i)]])}var n,r,i,o=function(t){return function(t){function e(t){return[(t=l(t[0]*xp,t[1]*xp))[0]*g+s,a-t[1]*g]}function n(t,e){return[(t=o(t,e))[0]*g+s,a-t[1]*g]}function r(){l=Bp(u=Ji(E,w,b),o);var t=o(_,v);return s=y-t[0]*g,a=m+t[1]*g,i()}function i(){return p=d=null,e}var o,s,a,u,l,c,h,f,p,d,g=150,y=480,m=250,_=0,v=0,E=0,w=0,b=0,S=null,C=ed,x=null,I=$p,A=.5,D=id(n,A);return e.stream=function(t){return p&&d===t?p:p=od(C(u,D(I(d=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?nd(S=t*xp,6*xp):(S=null,ed),i()):S*Cp},e.clipExtent=function(t){return arguments.length?(I=null==t?(x=c=h=f=null,$p):so(x=+t[0][0],c=+t[0][1],h=+t[1][0],f=+t[1][1]),i()):null==x?null:[[x,c],[h,f]]},e.scale=function(t){return arguments.length?(g=+t,r()):g},e.translate=function(t){return arguments.length?(y=+t[0],m=+t[1],r()):[y,m]},e.center=function(t){return arguments.length?(_=t[0]%360*xp,v=t[1]%360*xp,r()):[_*Cp,v*Cp]},e.rotate=function(t){return arguments.length?(E=t[0]%360*xp,w=t[1]%360*xp,b=t.length>2?t[2]%360*xp:0,r()):[E*Cp,w*Cp,b*Cp]},e.precision=function(t){return arguments.length?(D=id(n,A=t*t),i()):Fp(A)},e.fitExtent=function(t,n){return ho(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return ho(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-s)/g,(a-t[1])/g))&&[t[0]*Cp,t[1]*Cp]},r()}}(function(){return t})()}(t),s=o.center,a=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(po),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=ds,t.random=Xa,t.clusters=Ka,t.helpers=Ro,t.invariant=Po,t.meta=Fo,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if($(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;$(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return O(t,function(t){var e=q(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return q(t)[0]-q(e)[0]})}).sort(function(t,n){return e?q(t[0])[1]-q(n[0])[1]:q(n[0])[1]-q(t[0])[1]})}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:r,flip:!0});return l(function(t,e,n){var r=V(n),i=r[0],o=r[1],s=(r[2]-r[0])/(e[0].length-1),a=(r[3]-r[1])/(e.length-1),u=function(t){t[0]=t[0]*s+i,t[1]=t[1]*a+o};return t.forEach(function(t){A(t,u)}),t}(function(t,e,n,r,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=Object.assign({},r,i[s]);u[n]=a;var l=c(Q(t,a),u);o.push(l)}return o}(s,e,r,i,o),s,t))},t.convex=At,t.pointsWithinPolygon=Nt,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!S(r))throw new Error("maxEdge is invalid");var i=Ot(function(t){var e=[],n={};return O(t,function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}}),l(e)}(t));if(i.features=i.features.filter(function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=Lt(e,i,n),a=Lt(i,o,n),u=Lt(e,o,n);return s<=r&&a<=r&&u<=r}),i.features.length<1)return null;var o=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Mt(t));var r=function(t){var e={};M(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Mt(t));var r=[],i=G(t,function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Xt(r[0]),s=Xt(r[r.length-1]),u=Xt(i[0]),l=Xt(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(u===s)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(s!==l)return null;n=r.concat(i.reverse().slice(1))}return a(n)}(t,e)||(r.push(t),e)});return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map(function(t){return t.coordinates})):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Mt(t));var r=[];M(t,function(t){r.push(t.geometry)});var i=cs({geoms:p(r).geometry});return rs(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Bo(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return i.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=V(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Dt([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[r]=n}),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Mt(t)),A(t,function(t){var e=t[0];t[0]=t[1],t[1]=e}),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Mt(t)),P(t,function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;Kt(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=ne(i,e,n);break;case"MultiLineString":t.coordinates=i.map(function(t){return ne(t,e,n)});break;case"Polygon":t.coordinates=re(i,e,n);break;case"MultiPolygon":t.coordinates=i.map(function(t){return re(t,e,n)})}}(t,n,r)}),t},t.bezierSpline=ie,t.tag=function(t,e,n,r){return t=Mt(t),e=Mt(e),O(t,function(t){t.properties||(t.properties={}),O(e,function(e){void 0===t.properties[r]&&Dt(t,e)&&(t.properties[r]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,r,i=t.slice(0),o=t.length,s=o-e;o-- >s;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))},t.envelope=se,t.square=ae,t.circle=le,t.midpoint=function(t,e){return ue(t,Lt(t,e)/2,ce(t,e))},t.center=he,t.centerOfMass=function t(e,n){switch(Z(e)){case"Point":return e;case"Polygon":var i=[];A(e,function(t){i.push(t)});var o,s,a,u,l,c,h,f,p=fe(e,n),d=p.geometry.coordinates,g=0,y=0,m=0,_=i.map(function(t){return[t[0]-d[0],t[1]-d[1]]});for(o=0;o<i.length-1;o++)u=(s=_[o])[0],l=(a=_[o+1])[0],m+=f=u*(h=a[1])-l*(c=s[1]),g+=(u+l)*f,y+=(c+h)*f;if(0===m)return p;var v=1/(.5*m*6);return r([d[0]+v*g,d[1]+v*y],n);default:var E=At(e);return E?t(E,n):fe(e,n)}},t.centroid=fe,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return O(t,function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))}),l(Object.keys(r).filter(function(t){return r[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})}))},t.distance=Lt,t.explode=pe,t.bbox=V,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Ne(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Ne(t))}),e},t.bboxPolygon=oe,t.booleanPointInPolygon=Dt,t.nearestPoint=Oe,t.nearestPointOnLine=Je,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return P(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Z(e))throw new Error("line must be a LineString");var o=1/0,s=null;return O(t,function(t){var n=ln(t,e,{units:r});n<o&&(o=n,s=t)}),s&&(s.properties=Object.assign({dist:o},s.properties,i)),s},t.planepoint=function(t,e){var n=W(t),r=X(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],l=n[1],c=r[0][0],h=r[0][1],f=void 0!==o?o:r[0][2],p=r[1][0],d=r[1][1],g=void 0!==s?s:r[1][2],y=r[2][0],m=r[2][1],_=void 0!==a?a:r[2][2];return(_*(u-c)*(l-d)+f*(u-p)*(l-m)+g*(u-y)*(l-h)-g*(u-c)*(l-m)-_*(u-p)*(l-h)-f*(u-y)*(l-d))/((u-c)*(l-d)+(u-p)*(l-m)+(u-y)*(l-h)-(u-c)*(l-m)-(u-p)*(l-h)-(u-y)*(l-d))},t.tin=Ot,t.bearing=ce,t.destination=ue,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,r,i,o,s,a){var u,l,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(h=(s-i)*(l=e-o)-(a-o)*(c=t-i),c=((n-t)*l-(r-e)*c)/u,f.x=t+(l=h/u)*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&i.features.push(r([s[0],s[1]]))}})}),i},t.pointOnFeature=hn,t.area=pn,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!S(e))throw new Error("distance must be a number");for(var o=0,s=0;s<i.length&&!(e>=o&&s===i.length-1);s++){if(o>=e){var a=e-o;if(a){var u=ce(i[s],i[s-1])-180;return ue(i[s],a,u,n)}return r(i[s])}o+=Lt(i[s],i[s+1],n)}return r(i[i.length-1])},t.length=_n,t.lineSlice=function(t,e,n){var r=q(n);if("LineString"!==Z(n))throw new Error("line must be a LineString");for(var i,o=Je(n,t),s=Je(n,e),u=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)u.push(r[l]);return u.push(i[1].geometry.coordinates),a(u,n.properties)},t.lineSliceAlong=vn,t.pointGrid=Cn,t.truncate=xn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return M(t,function(t){e.push(t)}),l(e)},t.lineIntersect=Ze,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return M(t,function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=_n(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)r(vn(t,e*s,e*(s+1),{units:n}))}(t,e,r,function(t){o.push(t)})}),l(o)},t.unkinkPolygon=function(t){var e=[];return M(t,function(t){"Polygon"===t.geometry.type&&O(function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&Dt(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&pn(d.features[r])<1/0&&(n=r);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var i=e+d.features[n].properties.winding;d.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,s=[],a=0;a<i;a++){var u=t.geometry.coordinates[a];Dn(u[0],u[u.length-1])||u.push(u[0]),s.push.apply(s,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=s.length,h=function(t,e,n){function r(t,n,r,i){var u,l,c=o[t][n],h=o[t][n+1],f=o[r][i],p=o[r][i+1],d=function(t,e,n,r){if(In(t,n)||In(t,r)||In(e,n)||In(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],c=r[0],h=r[1],f=(i-s)*(l-h)-(o-a)*(u-c);return 0===f?null:[((i*a-o*s)*(u-c)-(i-s)*(u*h-l*c))/f,((i*a-o*s)*(l-h)-(o-a)*(u*h-l*c))/f]}(c,h,f,p);if(null!==d&&(l=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!((u=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]))>=1||u<=0||l>=1||l<=0))){var g=!a[d];g&&(a[d]=!0),s.push(e?e(d,t,n,c,h,u,r,i,f,p,l,g):d)}}function i(t,e){var n,r,i,s,a=o[t][e],u=o[t][e+1];return a[0]<u[0]?(n=a[0],r=u[0]):(n=u[0],r=a[0]),a[1]<u[1]?(i=a[1],s=u[1]):(i=u[1],s=a[1]),{minX:n,minY:i,maxX:r,maxY:s,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length-1;c++)u.push(i(l,c));var h=Bo();h.load(u)}for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length-1;p++)if(n)h.search(i(f,p)).forEach(function(t){r(f,p,t.ring,t.edge)});else for(var d=0;d<o.length;d++)for(var g=0;g<o[d].length-1;g++)r(f,p,d,g);return e||(s={type:"Feature",geometry:{type:"MultiPoint",coordinates:s}}),s}(t,function(t,e,n,r,i,o,s,a,u,l,c,h){return[t,e,n,r,i,o,s,a,u,l,c,h]}),f=h.length;if(0==f){var p=[];for(a=0;a<i;a++)p.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(An([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[a])}));var d=l(p);return e(),n(),d}var g=[],y=[];for(a=0;a<i;a++){g.push([]);for(var m=0;m<t.geometry.coordinates[a].length-1;m++)g[a].push([new ys(t.geometry.coordinates[a][(m+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,m],[a,(m+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),y.push(new ms(t.geometry.coordinates[a][m],[a,(m-1).modulo(t.geometry.coordinates[a].length-1)],[a,m],void 0,void 0,!1,!0))}for(a=0;a<f;a++)g[h[a][1]][h[a][2]].push(new ys(h[a][0],h[a][5],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0)),h[a][11]&&y.push(new ms(h[a][0],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0,void 0,!0,!0));var _=y.length;for(a=0;a<g.length;a++)for(m=0;m<g[a].length;m++)g[a][m].sort(function(t,e){return t.param<e.param?-1:1});var v=[];for(a=0;a<_;a++)v.push({minX:y[a].coord[0],minY:y[a].coord[1],maxX:y[a].coord[0],maxY:y[a].coord[1],index:a});var E=Bo();for(E.load(v),a=0;a<g.length;a++)for(m=0;m<g[a].length;m++)for(var w=0;w<g[a][m].length;w++){S=w==g[a][m].length-1?g[a][(m+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:g[a][m][w+1].coord;var b=E.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0];g[a][m][w].nxtIsectAlongEdgeIn=b.index}for(a=0;a<g.length;a++)for(m=0;m<g[a].length;m++)for(w=0;w<g[a][m].length;w++){var S=g[a][m][w].coord,C=(b=E.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0]).index;C<c?y[C].nxtIsectAlongRingAndEdge2=g[a][m][w].nxtIsectAlongEdgeIn:Dn(y[C].ringAndEdge1,g[a][m][w].ringAndEdgeIn)?y[C].nxtIsectAlongRingAndEdge1=g[a][m][w].nxtIsectAlongEdgeIn:y[C].nxtIsectAlongRingAndEdge2=g[a][m][w].nxtIsectAlongEdgeIn}var x=[];for(a=0,m=0;m<i;m++){var I=a;for(w=0;w<t.geometry.coordinates[m].length-1;w++)y[a].coord[0]<y[I].coord[0]&&(I=a),a++;var A=y[I].nxtIsectAlongRingAndEdge2;for(w=0;w<y.length;w++)if(y[w].nxtIsectAlongRingAndEdge1==I||y[w].nxtIsectAlongRingAndEdge2==I){var D=w;break}var T=An([y[D].coord,y[I].coord,y[A].coord],!0)?1:-1;x.push({isect:I,parent:-1,winding:T})}for(x.sort(function(t,e){return y[t.isect].coord>y[e.isect].coord?-1:1}),p=[];x.length>0;){var N=x.pop(),O=N.isect,R=N.parent,F=N.winding,P=p.length,L=[y[O].coord],M=O;if(y[O].ringAndEdge1Walkable)var k=y[O].ringAndEdge1,B=y[O].nxtIsectAlongRingAndEdge1;else k=y[O].ringAndEdge2,B=y[O].nxtIsectAlongRingAndEdge2;for(;!Dn(y[O].coord,y[B].coord);){L.push(y[B].coord);var U=void 0;for(a=0;a<x.length;a++)if(x[a].isect==B){U=a;break}if(null!=U&&x.splice(U,1),Dn(k,y[B].ringAndEdge1)){if(k=y[B].ringAndEdge2,y[B].ringAndEdge2Walkable=!1,y[B].ringAndEdge1Walkable){var j={isect:B};An([y[M].coord,y[B].coord,y[y[B].nxtIsectAlongRingAndEdge2].coord],1==F)?(j.parent=R,j.winding=-F):(j.parent=P,j.winding=F),x.push(j)}M=B,B=y[B].nxtIsectAlongRingAndEdge2}else k=y[B].ringAndEdge1,y[B].ringAndEdge1Walkable=!1,y[B].ringAndEdge2Walkable&&(j={isect:B},An([y[M].coord,y[B].coord,y[y[B].nxtIsectAlongRingAndEdge1].coord],1==F)?(j.parent=R,j.winding=-F):(j.parent=P,j.winding=F),x.push(j)),M=B,B=y[B].nxtIsectAlongRingAndEdge1}L.push(y[B].coord),p.push(o([L],{index:P,parent:R,winding:F,netWinding:void 0}))}return d=l(p),e(),n(),d}(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=W(t),e=W(e),i=i||100,o=o||10,new Ss({x:t[0],y:t[1]},{x:e[0],y:e[1]},r=r||{}).Arc(i,{offset:o}).json()},t.lineSegment=Ke,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Z(t),r=Z(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=xn(e,{precision:7});switch(r){case"Point":return Nn(t,i);case"MultiPoint":return Tn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Tn(t,Ze(t,i))}},t.lineArc=Fn,t.polygonToLine=Ln,t.lineToPolygon=kn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=q(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(r=[r]),r.forEach(function(t){Cs(t,e,s)}),1===s.length?a(s[0],i):c(s,i);case"Polygon":return o(Wn(r,e),i);case"MultiPolygon":return f(r.map(function(t){return Wn(t,e)}),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=$n,t.sector=function(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(Kn(n)===Kn(r))return le(t,e,i);var s=q(t),a=[[s]];return A(Fn(t,e,n,r,i),function(t){a[0].push(t)}),a[0].push(s),o(a)},t.rhumbBearing=tn,t.rhumbDistance=nn,t.rhumbDestination=Zn,t.polygonTangents=function(t,e){var n,i,o,s=q(t),a=q(e);switch(Z(e)){case"Polygon":n=a[0][0],i=a[0][0],o=Jn(a[0][0],a[0][a[0].length-1],s);var u=Qn(a[0],s,o,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=a[0][0][0],i=a[0][0][0],o=Jn(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach(function(t){var e=Qn(t[0],s,o,void 0,n,i);n=e[0],i=e[1]})}return l([r(n),r(i)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Mt(t));var i=[];switch(t.type){case"GeometryCollection":return P(t,function(t){er(t,n)}),t;case"FeatureCollection":return O(t,function(t){O(er(t,n),function(t){i.push(t)})}),l(i)}return er(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},s=n.breaksProperties||[];if($(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(s))throw new Error("breaksProperties is not an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;$(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return O(t,function(t){var e=q(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return q(t)[0]-q(e)[0]})}).sort(function(t,n){return e?q(t[0])[1]-q(n[0])[1]:q(n[0])[1]-q(t[0])[1]})}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var s=+e[i-1],a=+e[i],u=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var s=o([e[r].lrCoordinates]),a=r+1;a<e.length;a++)e[a].grouped||function(t,e){for(var n=pe(t),r=0;r<n.features.length;r++)if(!Dt(n.features[r],e))return!1;return!0}(o([e[a].lrCoordinates]),s)&&(i.push(e[a].lrCoordinates),e[a].grouped=!0);n.push(i)}return n}(function(t){var e=[],n=[];t.forEach(function(t){var r=pn(o([t]));n.push(r),e.push({ring:t,area:r})}),n.sort(function(t,e){return e-t});var r=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}}),r}(ir(t,s,a-s))),l={};l.groupedRings=u,l[n]=s+"-"+a,r.push(l)}return r}(a,e,r);return l((u=function(t,e,n){var r=V(n),i=r[0],o=r[1],s=(r[2]-r[0])/(e[0].length-1),a=(r[3]-r[1])/(e.length-1),u=function(t){t[0]=t[0]*s+i,t[1]=t[1]*a+o};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(u)})})}),t}(u,a,t)).map(function(t,e){if(s[e]&&!C(s[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,s[e]);return n[r]=t[r],f(t.groupedRings,n)}))},t.transformRotate=ar,t.transformScale=ur,t.transformTranslate=function(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Mt(t)),A(t,function(t){var r=q(Zn(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=Z(t),o=t.properties;switch(i){case"LineString":return fr(t,e,r);case"MultiLineString":var s=[];return M(t,function(t){s.push(fr(t,e,r).geometry.coordinates)}),c(s,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=Sa.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):r.push(t)}),n.forEach(function(t){wa.findEdgeRingContaining(t,r)&&r.push(t)}),l(r.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return M(t,function(t){M(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!gr(e,t);case"Polygon":return!Dt(t,e)}break;case"LineString":switch(e.type){case"Point":return!gr(t,e);case"LineString":return!function(t,e){return Ze(t,e).features.length>0}(t,e);case"Polygon":return!yr(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Dt(e,t);case"LineString":return!yr(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Dt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Dt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=Z(t),r=Z(e),i=X(t),o=X(e),s=q(t),a=q(e);switch(n){case"Point":switch(r){case"Point":return _r(s,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(_r(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(_r(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return En(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(En({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!En({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(En(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!En(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Dt(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!mr(V(t),V(e)))return!1;for(;r<e.coordinates.length-1;r++)if(Dt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!mr(V(t),V(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Dt(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Dt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Z(t),r=Z(e),i=X(t),o=X(e);switch(n){case"MultiPoint":switch(r){case"LineString":return vr(i,o);case"Polygon":return wr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return vr(o,i);case"LineString":return function(t,e){if(Ze(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),br(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return Er(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return wr(o,i);case"LineString":return Er(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=tr,t.booleanOverlap=Ir,t.booleanPointOnLine=En,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Z(t)===Z(e)&&new Da({precision:6}).compare(Kt(t),Kt(e))},t.booleanWithin=wn,t.clone=Mt,t.cleanCoords=Kt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if($(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Mt(t),r=r||3;var o=new Fa.DBSCAN,s=-1;return o.run(F(t),w(e,i),r,Lt).forEach(function(e){s++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;$(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Mt(t));var o=F(t),s=o.slice(0,n),a=function(t,e,n,r){var i=[],o=[],s=[],a=[],u=!1,l=r||1e4,c=t.length,h=t[0].length,f=h>0,p=[];if(n)i="kmrand"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?La:Ma,r=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];for(o&&s.join("_"),r.push(s);r.length<e;){for(var a=[],u=r.length,l=0,c=[],h=0;h<i;h++){for(var f=1/0,p=0;p<u;p++){var d=n(t[h],r[p]);d<=f&&(f=d)}a[h]=f}for(var g=0;g<i;g++)l+=a[g];for(var y=0;y<i;y++)c[y]={i:y,v:t[y],pr:a[y]/l,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var m=1;m<i;m++)c[m].cs=c[m-1].cs+c[m].pr;for(var _=Math.random(),v=0;v<i-1&&c[v++].cs<_;);r.push(c[v-1].v)}return r}(t,e):n;else for(var d={};i.length<e;){var g=Math.floor(Math.random()*c);d[g]||(d[g]=!0,i.push(t[g]))}do{Ar(e,0,p);for(var y=0;y<c;y++){for(var m=1/0,_=0,v=0;v<e;v++)(a=f?ka(t[y],i[v]):Math.abs(t[y]-i[v]))<=m&&(m=a,_=v);s[y]=_,p[_]++}for(var E=[],w=(o=[],0);w<e;w++)E[w]=f?Ar(h,0,E[w]):0,o[w]=i[w];if(f){for(var b=0;b<e;b++)i[b]=[];for(var S=0;S<c;S++)for(var C=E[s[S]],x=t[S],I=0;I<h;I++)C[I]+=x[I];u=!0;for(var A=0;A<e;A++){for(var D=i[A],T=E[A],N=o[A],O=p[A],R=0;R<h;R++)D[R]=T[R]/O||0;if(u)for(var F=0;F<h;F++)if(N[F]!=D[F]){u=!1;break}}}else{for(var P=0;P<c;P++)E[s[P]]+=t[P];for(var L=0;L<e;L++)i[L]=E[L]/p[L]||0;u=!0;for(var M=0;M<e;M++)if(o[M]!=i[M]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:s,centroids:i}}(o,n,s),u={};return a.centroids.forEach(function(t,e){u[e]=t}),O(t,function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]}),t},t.pointToLineDistance=ln,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Dr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Dr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Ke(Kt(t)).features,r=Ke(Kt(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return _(tn(t[0],t[1]))===_(tn(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.resolution,s=i.minDistance,u=i.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!S(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(s)throw new Error("options.minDistance is not yet implemented");var c=W(t),h=W(n);switch(t=r(c),n=r(h),Z(u)){case"FeatureCollection":if(0===u.features.length)return a([c,h]);break;case"Polygon":u=l([e(X(u))]);break;default:throw new Error("invalid obstacles")}var f=u;f.features.push(t),f.features.push(n);var p=V(ur(oe(V(f)),1.15));o||(o=Lt([p[0],p[1]],[p[2],p[1]],i)/100),f.features.pop(),f.features.pop();for(var d=p[0],g=p[1],y=p[2],m=p[3],_=o/Lt([d,g],[y,g],i)*(y-d),v=o/Lt([d,g],[d,m],i)*(m-g),E=y-d,w=m-g,b=(E-Math.floor(E/_)*_)/2,x=[],I=[],A=[],D=[],T=1/0,N=1/0,O=m-(w-Math.floor(w/v)*v)/2,R=0;O>=g;){for(var F=[],P=[],L=d+b,M=0;L<=y;){var k=r([L,O]),B=function(t,e){for(var n=0;n<e.features.length;n++)if(Dt(t,e.features[n]))return!0;return!1}(k,u);F.push(B?0:1),P.push(L+"|"+O);var U=Lt(k,t);!B&&U<T&&(T=U,A={x:M,y:R});var j=Lt(k,n);!B&&j<N&&(N=j,D={x:M,y:R}),L+=_,M++}I.push(F),x.push(P),O-=v,R++}var G=new Nr(I,{diagonal:!0}),q=[c];return Ba.search(G,G.grid[A.y][A.x],G.grid[D.y][D.x]).forEach(function(t){var e=x[t.x][t.y].split("|");q.push([+e[0],+e[1]])}),q.push(h),Kt(a(q))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return $(t,"Point","points"),l(function(){function t(t){return new ri(t.map(function(r,i){var o=[Math.round(e(r,i,t)/Ya)*Ya,Math.round(n(r,i,t)/Ya)*Ya];return o.index=i,o.data=r,o}),r)}var e=Fr,n=Pr,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ua(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Ua(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(ii))},t.ellipse=oi,t.centerMean=ai,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!S(n))throw new Error("counter must be a number");var r=e.weight,i=ai(t,{weight:e.weight}),o=l([]);return O(t,function(t){o.features.push(fe(t,{weight:t.properties[r]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},ui(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!S(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var o=F(t).length,s=ai(t,{weight:r}),a=0,u=0,c=0;O(t,function(t){var e=t.properties[r]||1,n=li(q(t),q(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,c+=n.x*n.y*e});var h=a-u,f=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),p=Math.atan((h+f)/(2*c)),d=180*p/Math.PI,g=0,y=0,m=0;O(t,function(t){var e=t.properties[r]||1,n=li(q(t),q(s));g+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*e,y+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*e,m+=e});var _=Math.sqrt(2*g/m),v=Math.sqrt(2*y/m),E=oi(s,_,v,{units:"degrees",angle:d,steps:n,properties:i}),w=Nt(t,l([E])),b={meanCenterCoordinates:q(s),semiMajorAxis:_,semiMinorAxis:v,numberOfFeatures:o,angle:d,percentageWithinEllipse:100*F(w).length/o};return E.properties.standardDeviationalEllipse=b,E},t.difference=function(t,n){var r=X(t),i=X(n),o=t.properties||{};if(r=ki(r),i=ki(i),!r)return null;if(!i)return e(r,o);var s=new ic,a=s.read(r),u=s.read(i),l=ap.difference(a,u);return l.isEmpty()?null:e((new oc).write(l),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return P(t,function(t){var n=go(t,e,r,i);n&&o.push(n)}),l(o);case"FeatureCollection":return O(t,function(t){var n=go(t,e,r,i);n&&O(n,function(t){t&&o.push(t)})}),l(o)}return go(t,e,r,i)},t.union=Eo,t.intersect=wo,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;$(t,"Polygon","dissolve");var r=Mt(t),i=r.features,o=[];i.forEach(function(t,e){t.properties.origIndexPosition=e});var s=Ye();for(var u in s.load(r),i){var l=i[u],c=!1;if(s.search(l).features.forEach(function(t){l=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=bo(e,o);0!==r&&(e-=r)}if(e!==+u){var h=i[e];h&&l&&(void 0!==n&&h.properties[n]!==l.properties[n]||Ir(l,h)&&function(t,e){return Ze(a(F(t)),a(F(e))).features.length>0}(l,h)&&(i[u]=Eo(l,h),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),s.remove(t),i.splice(e,1),l.properties.origIndexPosition=u,s.remove(l,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),c=!0))}}),c){if(!l)continue;l.properties.origIndexPosition=u,s.insert(l),u--}}return i.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),r},t.hexGrid=So,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return M(t,function(t){var r=t.geometry.coordinates,i=r[0],s=r.slice(1);e.push(o([i])),s.forEach(function(t){n.push(o([t]))})}),[l(e),l(n)]}(t),i=r[0],s=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),M(e,function(t){r.push(t.geometry.coordinates[0])}),M(n,function(t){r.push(t.geometry.coordinates[0])}),o(r)}(n,i=Co(i),s=Co(s))},t.squareGrid=Io,t.triangleGrid=Ao,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if($(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var s,a=V(t);switch(r){case"point":case"points":s=Cn(a,e,n);break;case"square":case"squares":s=Io(a,e,n);break;case"hex":case"hexes":s=So(a,e,n);break;case"triangle":case"triangles":s=Ao(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return O(s,function(e){var s=0,a=0;O(t,function(t){var u,l=Lt("point"===r?e:fe(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(s=u);var c=1/Math.pow(l,o);a+=c,s+=c*u});var l=Mt(e);l.properties[i]=s/a,u.push(l)}),l(u)},t.pointOnSurface=hn,t.polygonToLineString=Ln,t.lineStringToPolygon=kn,t.inside=Dt,t.within=Nt,t.bezier=ie,t.nearest=Oe,t.pointOnLine=Je,t.lineDistance=_n,t.radians2degrees=v,t.degrees2radians=E,t.distanceToDegrees=m,t.distanceToRadians=y,t.radiansToDistance=g,t.bearingToAngle=_,t.convertDistance=w,t.toMercator=rn,t.toWgs84=on,t.randomPosition=ci,t.randomPoint=hi,t.randomPolygon=fi,t.randomLineString=pi,t.getCluster=gi,t.clusterEach=yi,t.clusterReduce=mi,t.createBins=_i,t.applyFilter=vi,t.propertiesContainsFilter=Ei,t.filterProperties=wi,t.earthRadius=Do,t.factors=To,t.unitsFactors=No,t.areaFactors=Oo,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=u,t.featureCollection=l,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=f,t.geometryCollection=p,t.round=d,t.radiansToLength=g,t.lengthToRadians=y,t.lengthToDegrees=m,t.bearingToAzimuth=_,t.radiansToDegrees=v,t.degreesToRadians=E,t.convertLength=w,t.convertArea=b,t.isNumber=S,t.isObject=C,t.validateBBox=x,t.validateId=I,t.getCoord=W,t.getCoords=q,t.containsNumber=H,t.geojsonType=z,t.featureOf=Y,t.collectionOf=$,t.getGeom=X,t.getGeomType=K,t.getType=Z,t.coordEach=A,t.coordReduce=D,t.propEach=T,t.propReduce=N,t.featureEach=O,t.featureReduce=R,t.coordAll=F,t.geomEach=P,t.geomReduce=L,t.flattenEach=M,t.flattenReduce=k,t.segmentEach=B,t.segmentReduce=U,t.lineEach=j,t.lineReduce=G,Object.defineProperty(t,"__esModule",{value:!0})}(e)},XkjI:function(t,e,n){t.exports=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=t(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),r=function(t){return"object"==typeof t?null!==t:"function"==typeof t},i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(e){return!0}},s=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),a=e.document,u=r(a)&&r(a.createElement),l=!s&&!o(function(){return 7!=Object.defineProperty(("div",u?a.createElement("div"):{}),"a",{get:function(){return 7}}).a}),c=Object.defineProperty,h={f:s?Object.defineProperty:function(t,e,n){if(i(t),e=function(t,e){if(!r(t))return t;var n,i;if("function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e),i(n),l)try{return c(t,e,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},f=s?function(t,e,n){return h.f(t,e,function(t,e){return{enumerable:!1,configurable:!0,writable:!0,value:e}}(0,n))}:function(t,e,n){return t[e]=n,t},p={}.hasOwnProperty,d=function(t,e){return p.call(t,e)},g=0,y=Math.random(),m=t(function(t){var r="__core-js_shared__",i=e[r]||(e[r]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})("native-function-to-string",Function.toString),_=t(function(t){var r="Symbol(".concat("src",")_",(++g+y).toString(36)),i="toString",o=(""+m).split(i);n.inspectSource=function(t){return m.call(t)},(t.exports=function(t,n,i,s){var a="function"==typeof i;a&&(d(i,"name")||f(i,"name",n)),t[n]!==i&&(a&&(d(i,r)||f(i,r,t[n]?""+t[n]:o.join(String(n)))),t===e?t[n]=i:s?t[n]?t[n]=i:f(t,n,i):(delete t[n],f(t,n,i)))})(Function.prototype,i,function(){return"function"==typeof this&&this[r]||m.call(this)})}),v=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},E=function(t,r,i){var o,s,a,u,l=t&E.F,c=t&E.G,h=t&E.P,p=t&E.B,d=c?e:t&E.S?e[r]||(e[r]={}):(e[r]||{}).prototype,g=c?n:n[r]||(n[r]={}),y=g.prototype||(g.prototype={});for(o in c&&(i=r),i)a=((s=!l&&d&&void 0!==d[o])?d:i)[o],u=p&&s?v(a,e):h&&"function"==typeof a?v(Function.call,a):a,d&&_(d,o,a,t&E.U),g[o]!=a&&f(g,o,u),h&&y[o]!=a&&(y[o]=a)};e.core=n,E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128;var w=E,b=Math.ceil,S=Math.floor,C=function(t){return isNaN(t=+t)?0:(t>0?S:b)(t)},x=function(t,e){var n,r,i=String(function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}(t)),o=C(e),s=i.length;return o<0||o>=s?void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?n:r-56320+(n-55296<<10)+65536};w(w.P,"String",{codePointAt:function(t){return x(this,t)}});var I=Math.max,A=Math.min,D=function(t,e){return(t=C(t))<0?I(t+e,0):A(t,e)},T=String.fromCharCode,N=String.fromCodePoint;w(w.S+w.F*(!!N&&1!=N.length),"String",{fromCodePoint:function(t){for(var e,n=arguments,r=[],i=arguments.length,o=0;i>o;){if(e=+n[o++],D(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?T(e):T(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}});var O,R,F,P,L,M,k,B,U,j,G,V,W,q,H={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},z=function(t){return"string"==typeof t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||"$"===t||"_"===t||H.ID_Start.test(t))},Y=function(t){return"string"==typeof t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"$"===t||"_"===t||"\u200c"===t||"\u200d"===t||H.ID_Continue.test(t))},$=function(t){return"string"==typeof t&&/[0-9]/.test(t)},X=function(t){return"string"==typeof t&&/[0-9A-Fa-f]/.test(t)};function K(t,e,n){var r=t[e];if(null!=r&&"object"==typeof r)for(var i in r){var o=K(r,i,n);void 0===o?delete r[i]:r[i]=o}return n.call(t,e,r)}function Z(){for(j="default",G="",V=!1,W=1;;){q=Q();var t=tt[j]();if(t)return t}}function Q(){if(O[P])return String.fromCodePoint(O.codePointAt(P))}function J(){var t=Q();return"\n"===t?(L++,M=0):t?M+=t.length:M++,t&&(P+=t.length),t}var tt={default:function(){switch(q){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void J();case"/":return J(),void(j="comment");case void 0:return J(),et("eof")}if(!function(t){return"string"==typeof t&&H.Space_Separator.test(t)}(q))return tt[R]();J()},comment:function(){switch(q){case"*":return J(),void(j="multiLineComment");case"/":return J(),void(j="singleLineComment")}throw at(J())},multiLineComment:function(){switch(q){case"*":return J(),void(j="multiLineCommentAsterisk");case void 0:throw at(J())}J()},multiLineCommentAsterisk:function(){switch(q){case"*":return void J();case"/":return J(),void(j="default");case void 0:throw at(J())}J(),j="multiLineComment"},singleLineComment:function(){switch(q){case"\n":case"\r":case"\u2028":case"\u2029":return J(),void(j="default");case void 0:return J(),et("eof")}J()},value:function(){switch(q){case"{":case"[":return et("punctuator",J());case"n":return J(),nt("ull"),et("null",null);case"t":return J(),nt("rue"),et("boolean",!0);case"f":return J(),nt("alse"),et("boolean",!1);case"-":case"+":return"-"===J()&&(W=-1),void(j="sign");case".":return G=J(),void(j="decimalPointLeading");case"0":return G=J(),void(j="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return G=J(),void(j="decimalInteger");case"I":return J(),nt("nfinity"),et("numeric",1/0);case"N":return J(),nt("aN"),et("numeric",NaN);case'"':case"'":return V='"'===J(),G="",void(j="string")}throw at(J())},identifierNameStartEscape:function(){if("u"!==q)throw at(J());J();var t=rt();switch(t){case"$":case"_":break;default:if(!z(t))throw lt()}G+=t,j="identifierName"},identifierName:function(){switch(q){case"$":case"_":case"\u200c":case"\u200d":return void(G+=J());case"\\":return J(),void(j="identifierNameEscape")}if(!Y(q))return et("identifier",G);G+=J()},identifierNameEscape:function(){if("u"!==q)throw at(J());J();var t=rt();switch(t){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!Y(t))throw lt()}G+=t,j="identifierName"},sign:function(){switch(q){case".":return G=J(),void(j="decimalPointLeading");case"0":return G=J(),void(j="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return G=J(),void(j="decimalInteger");case"I":return J(),nt("nfinity"),et("numeric",W*(1/0));case"N":return J(),nt("aN"),et("numeric",NaN)}throw at(J())},zero:function(){switch(q){case".":return G+=J(),void(j="decimalPoint");case"e":case"E":return G+=J(),void(j="decimalExponent");case"x":case"X":return G+=J(),void(j="hexadecimal")}return et("numeric",0*W)},decimalInteger:function(){switch(q){case".":return G+=J(),void(j="decimalPoint");case"e":case"E":return G+=J(),void(j="decimalExponent")}if(!$(q))return et("numeric",W*Number(G));G+=J()},decimalPointLeading:function(){if($(q))return G+=J(),void(j="decimalFraction");throw at(J())},decimalPoint:function(){switch(q){case"e":case"E":return G+=J(),void(j="decimalExponent")}return $(q)?(G+=J(),void(j="decimalFraction")):et("numeric",W*Number(G))},decimalFraction:function(){switch(q){case"e":case"E":return G+=J(),void(j="decimalExponent")}if(!$(q))return et("numeric",W*Number(G));G+=J()},decimalExponent:function(){switch(q){case"+":case"-":return G+=J(),void(j="decimalExponentSign")}if($(q))return G+=J(),void(j="decimalExponentInteger");throw at(J())},decimalExponentSign:function(){if($(q))return G+=J(),void(j="decimalExponentInteger");throw at(J())},decimalExponentInteger:function(){if(!$(q))return et("numeric",W*Number(G));G+=J()},hexadecimal:function(){if(X(q))return G+=J(),void(j="hexadecimalInteger");throw at(J())},hexadecimalInteger:function(){if(!X(q))return et("numeric",W*Number(G));G+=J()},string:function(){switch(q){case"\\":return J(),void(G+=function(){switch(Q()){case"b":return J(),"\b";case"f":return J(),"\f";case"n":return J(),"\n";case"r":return J(),"\r";case"t":return J(),"\t";case"v":return J(),"\v";case"0":if(J(),$(Q()))throw at(J());return"\0";case"x":return J(),function(){var t="",e=Q();if(!X(e))throw at(J());if(t+=J(),e=Q(),!X(e))throw at(J());return t+=J(),String.fromCodePoint(parseInt(t,16))}();case"u":return J(),rt();case"\n":case"\u2028":case"\u2029":return J(),"";case"\r":return J(),"\n"===Q()&&J(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw at(J())}return J()}());case'"':return V?(J(),et("string",G)):void(G+=J());case"'":return V?void(G+=J()):(J(),et("string",G));case"\n":case"\r":throw at(J());case"\u2028":case"\u2029":!function(t){console.warn("JSON5: '"+ct(t)+"' in strings is not valid ECMAScript; consider escaping")}(q);break;case void 0:throw at(J())}G+=J()},start:function(){switch(q){case"{":case"[":return et("punctuator",J())}j="value"},beforePropertyName:function(){switch(q){case"$":case"_":return G=J(),void(j="identifierName");case"\\":return J(),void(j="identifierNameStartEscape");case"}":return et("punctuator",J());case'"':case"'":return V='"'===J(),void(j="string")}if(z(q))return G+=J(),void(j="identifierName");throw at(J())},afterPropertyName:function(){if(":"===q)return et("punctuator",J());throw at(J())},beforePropertyValue:function(){j="value"},afterPropertyValue:function(){switch(q){case",":case"}":return et("punctuator",J())}throw at(J())},beforeArrayValue:function(){if("]"===q)return et("punctuator",J());j="value"},afterArrayValue:function(){switch(q){case",":case"]":return et("punctuator",J())}throw at(J())},end:function(){throw at(J())}};function et(t,e){return{type:t,value:e,line:L,column:M}}function nt(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(Q()!==r)throw at(J());J()}}function rt(){for(var t="",e=4;e-- >0;){var n=Q();if(!X(n))throw at(J());t+=J()}return String.fromCodePoint(parseInt(t,16))}var it={start:function(){if("eof"===k.type)throw ut();ot()},beforePropertyName:function(){switch(k.type){case"identifier":case"string":return B=k.value,void(R="afterPropertyName");case"punctuator":return void st();case"eof":throw ut()}},afterPropertyName:function(){if("eof"===k.type)throw ut();R="beforePropertyValue"},beforePropertyValue:function(){if("eof"===k.type)throw ut();ot()},beforeArrayValue:function(){if("eof"===k.type)throw ut();"punctuator"!==k.type||"]"!==k.value?ot():st()},afterPropertyValue:function(){if("eof"===k.type)throw ut();switch(k.value){case",":return void(R="beforePropertyName");case"}":st()}},afterArrayValue:function(){if("eof"===k.type)throw ut();switch(k.value){case",":return void(R="beforeArrayValue");case"]":st()}},end:function(){}};function ot(){var t;switch(k.type){case"punctuator":switch(k.value){case"{":t={};break;case"[":t=[]}break;case"null":case"boolean":case"numeric":case"string":t=k.value}if(void 0===U)U=t;else{var e=F[F.length-1];Array.isArray(e)?e.push(t):e[B]=t}if(null!==t&&"object"==typeof t)F.push(t),R=Array.isArray(t)?"beforeArrayValue":"beforePropertyName";else{var n=F[F.length-1];R=null==n?"end":Array.isArray(n)?"afterArrayValue":"afterPropertyValue"}}function st(){F.pop();var t=F[F.length-1];R=null==t?"end":Array.isArray(t)?"afterArrayValue":"afterPropertyValue"}function at(t){return ht(void 0===t?"JSON5: invalid end of input at "+L+":"+M:"JSON5: invalid character '"+ct(t)+"' at "+L+":"+M)}function ut(){return ht("JSON5: invalid end of input at "+L+":"+M)}function lt(){return ht("JSON5: invalid identifier character at "+L+":"+(M-=5))}function ct(t){var e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){var n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function ht(t){var e=new SyntaxError(t);return e.lineNumber=L,e.columnNumber=M,e}return{parse:function(t,e){O=String(t),R="start",F=[],P=0,L=1,M=0,k=void 0,B=void 0,U=void 0;do{k=Z(),it[R]()}while("eof"!==k.type);return"function"==typeof e?K({"":U},"",e):U},stringify:function(t,e,n){var r,i,o,s=[],a="",u="";if(null==e||"object"!=typeof e||Array.isArray(e)||(n=e.space,o=e.quote,e=e.replacer),"function"==typeof e)i=e;else if(Array.isArray(e)){r=[];for(var l=0,c=e;l<c.length;l+=1){var h=c[l],f=void 0;"string"==typeof h?f=h:("number"==typeof h||h instanceof String||h instanceof Number)&&(f=String(h)),void 0!==f&&r.indexOf(f)<0&&r.push(f)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),u="          ".substr(0,n)):"string"==typeof n&&(u=n.substr(0,10)),function t(e,n){var o=n[e];switch(null!=o&&("function"==typeof o.toJSON5?o=o.toJSON5(e):"function"==typeof o.toJSON&&(o=o.toJSON(e))),i&&(o=i.call(n,e,o)),o instanceof Number?o=Number(o):o instanceof String?o=String(o):o instanceof Boolean&&(o=o.valueOf()),o){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof o?p(o):"number"==typeof o?String(o):"object"==typeof o?Array.isArray(o)?function(e){if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);var n=a;a+=u;for(var r,i=[],o=0;o<e.length;o++){var l=t(String(o),e);i.push(void 0!==l?l:"null")}if(0===i.length)r="[]";else if(""===u)r="["+i.join(",")+"]";else{var c=i.join(",\n"+a);r="[\n"+a+c+",\n"+n+"]"}return s.pop(),a=n,r}(o):function(e){if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);var n=a;a+=u;for(var i,o,l=[],c=0,h=r||Object.keys(e);c<h.length;c+=1){var f=h[c],p=t(f,e);if(void 0!==p){var g=d(f)+":";""!==u&&(g+=" "),l.push(g+=p)}}return 0===l.length?i="{}":""===u?i="{"+(o=l.join(","))+"}":(o=l.join(",\n"+a),i="{\n"+a+o+",\n"+n+"}"),s.pop(),a=n,i}(o):void 0}("",{"":t});function p(t){for(var e={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},r="",i=0;i<t.length;i++){var s=t[i];switch(s){case"'":case'"':e[s]++,r+=s;continue;case"\0":if($(t[i+1])){r+="\\x00";continue}}if(n[s])r+=n[s];else if(s<" "){var a=s.charCodeAt(0).toString(16);r+="\\x"+("00"+a).substring(a.length)}else r+=s}var u=o||Object.keys(e).reduce(function(t,n){return e[t]<e[n]?t:n});return u+(r=r.replace(new RegExp(u,"g"),n[u]))+u}function d(t){if(0===t.length)return p(t);var e=String.fromCodePoint(t.codePointAt(0));if(!z(e))return p(t);for(var n=e.length;n<t.length;n++)if(!Y(String.fromCodePoint(t.codePointAt(n))))return p(t);return t}}}}()},YE6d:function(t,e,n){"use strict";function r(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function i(t,e){for(var n,r="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,a):r=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var o={resolve:function(){for(var t,e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),r(s),0!==s.length&&(e=s+"/"+e,n=47===s.charCodeAt(0))}return e=i(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(r(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=i(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return r(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];r(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":o.normalize(t)},relative:function(t,e){if(r(t),r(e),t===e)return"";if((t=o.resolve(t))===(e=o.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var i=t.length,s=i-n,a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var u=e.length-a,l=s<u?s:u,c=-1,h=0;h<=l;++h){if(h===l){if(u>l){if(47===e.charCodeAt(a+h))return e.slice(a+h+1);if(0===h)return e.slice(a+h)}else s>l&&(47===t.charCodeAt(n+h)?c=h:0===h&&(c=0));break}var f=t.charCodeAt(n+h);if(f!==e.charCodeAt(a+h))break;47===f&&(c=h)}var p="";for(h=n+c+1;h<=i;++h)h!==i&&47!==t.charCodeAt(h)||(p+=0===p.length?"..":"/..");return p.length>0?p+e.slice(a+c):(47===e.charCodeAt(a+=c)&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(r(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');r(t);var n,i=0,o=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,u=-1;for(n=t.length-1;n>=0;--n){var l=t.charCodeAt(n);if(47===l){if(!s){i=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(l===e.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=u))}return i===o?o=u:-1===o&&(o=t.length),t.slice(i,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":t.slice(i,o)},extname:function(t){r(t);for(var e=-1,n=0,i=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===i&&(o=!1,i=a+1),46===u?-1===e?e=a:1!==s&&(s=1):-1!==e&&(s=-1);else if(!o){n=a+1;break}}return-1===e||-1===i||0===s||1===s&&e===i-1&&e===n+1?"":t.slice(e,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+"/"+r:r}(0,t)},parse:function(t){r(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,i=t.charCodeAt(0),o=47===i;o?(e.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,l=!0,c=t.length-1,h=0;c>=n;--c)if(47!==(i=t.charCodeAt(c)))-1===u&&(l=!1,u=c+1),46===i?-1===s?s=c:1!==h&&(h=1):-1!==s&&(h=-1);else if(!l){a=c+1;break}return-1===s||-1===u||0===h||1===h&&s===u-1&&s===a+1?-1!==u&&(e.base=e.name=t.slice(0===a&&o?1:a,u)):(0===a&&o?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(a,s),e.base=t.slice(a,u)),e.ext=t.slice(s,u)),a>0?e.dir=t.slice(0,a-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,t.exports=o},ZhIB:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){var t,e,n,r,i,o={},s={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function l(t,e){this._input=t,this._value=e}return(t=function(n){var r,i,s,a;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(u.zeroFormat&&n===u.zeroFormat)r=0;else if(u.nullFormat&&n===u.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((a="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&n.match(a)){s=o[i].unformat;break}r=(s=s||t._.stringToNumber)(n)}else r=Number(n)||null;return new l(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof l},t._=e={numberToFormat:function(e,n,r){var i,o,a,u,l,c,h,f,p=s[t.options.currentLocale],d=!1,g=!1,y="",m=1e12,_=1e9,v=1e6,E="",w=!1;if(e=e||0,o=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(l=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(y=" "),n=n.replace(new RegExp(y+"a[kmbt]?"),""),o>=m&&!i||"t"===i?(y+=p.abbreviations.trillion,e/=m):o<m&&o>=_&&!i||"b"===i?(y+=p.abbreviations.billion,e/=_):o<_&&o>=v&&!i||"m"===i?(y+=p.abbreviations.million,e/=v):(o<v&&o>=1e3&&!i||"k"===i)&&(y+=p.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(g=!0,n=n.replace("[.]",".")),a=e.toString().split(".")[0],u=n.split(".")[1],c=n.indexOf(","),f=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),E=t._.toFixed(e,u[0].length+u[1].length,r,u[1].length)):E=t._.toFixed(e,u.length,r),a=E.split(".")[0],E=t._.includes(E,".")?p.delimiters.decimal+E.split(".")[1]:"",g&&0===Number(E.slice(1))&&(E="")):a=t._.toFixed(e,0,r),y&&!i&&Number(a)>=1e3&&y!==p.abbreviations.trillion)switch(a=String(Number(a)/1e3),y){case p.abbreviations.thousand:y=p.abbreviations.million;break;case p.abbreviations.million:y=p.abbreviations.billion;break;case p.abbreviations.billion:y=p.abbreviations.trillion}if(t._.includes(a,"-")&&(a=a.slice(1),w=!0),a.length<f)for(var b=f-a.length;b>0;b--)a="0"+a;return c>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===n.indexOf(".")&&(a=""),h=a+E+(y||""),d?h=(d&&w?"(":"")+h+(d&&w?")":""):l>=0?h=0===l?(w?"-":"+")+h:h+(w?"-":"+"):w&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,i=s[u.currentLocale],o=t,a={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&t===u.zeroFormat)n=0;else if(u.nullFormat&&t===u.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,a[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,n){var r=e.multiplier(n);return t>r?t:r},1)},toFixed:function(t,e,n,r){var i,o,s,a,u=t.toString().split("."),l=e-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,l),e):l,s=Math.pow(10,i),a=(n(t+"e+"+i)/s).toFixed(i),r>e-i&&(o=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),a=a.replace(o,"")),a}},t.options=u,t.formats=o,t.locales=s,t.locale=function(t){return t&&(u.currentLocale=t.toLowerCase()),u.currentLocale},t.localeData=function(t){if(!t)return s[u.currentLocale];if(t=t.toLowerCase(),!s[t])throw new Error("Unknown locale : "+t);return s[t]},t.reset=function(){for(var t in a)u[t]=a[t]},t.zeroFormat=function(t){u.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){u.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){u.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,i,o,s,a,u,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=t.localeData(n)}catch(h){l=t.localeData(t.locale())}return o=l.currency.symbol,a=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,!(null!==(c=e.match(/^[^\d]+/))&&(e=e.substr(1),c[0]!==o)||null!==(c=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),c[0]!==a.thousand&&c[0]!==a.million&&c[0]!==a.billion&&c[0]!==a.trillion)||(u=new RegExp(i+"{2}"),e.match(/[^\d.,]/g)||(s=e.split(r)).length>2||(s.length<2?!s[0].match(/^\d+.*\d$/)||s[0].match(u):1===s[0].length?!s[0].match(/^\d+$/)||s[0].match(u)||!s[1].match(/^\d+$/):!s[0].match(/^\d+.*\d$/)||s[0].match(u)||!s[1].match(/^\d+$/))))},t.fn=l.prototype={clone:function(){return t(this)},format:function(e,n){var r,i,s,a=this._value,l=e||u.defaultFormat;if(n=n||Math.round,0===a&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===a&&null!==u.nullFormat)i=u.nullFormat;else{for(r in o)if(l.match(o[r].regexps.format)){s=o[r].format;break}i=(s=s||t._.numberToFormat)(a,l,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],function(t,e,r,i){return t+Math.round(n*e)},0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],function(t,e,r,i){return t-Math.round(n*e)},Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)*Math.round(n*o)/Math.round(o*o)},1),this},divide:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)/Math.round(n*o)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var i,o=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat((r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]}).suffixes.filter(function(t){return n.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(e,i,o){var s,a,u,l=t._.includes(i,"ib")?r:n,c=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=l.suffixes.length;s++)if(a=Math.pow(l.base,s),u=Math.pow(l.base,s+1),null===e||0===e||e>=a&&e<u){c+=l.suffixes[s],a>0&&(e/=a);break}return t._.numberToFormat(e,i,o)+c},unformat:function(e){var i,o,s=t._.stringToNumber(e);if(s){for(i=n.suffixes.length-1;i>=0;i--){if(t._.includes(e,n.suffixes[i])){o=Math.pow(n.base,i);break}if(t._.includes(e,r.suffixes[i])){o=Math.pow(r.base,i);break}}s*=o||1}return s}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var i,o,s=t.locales[t.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,r),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(a.before,"-")&&!t._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=t._.insert(i,s.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:t._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":t._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],function(e,n,r,i){var o=t._.correctionFactor(e,n);return e*o*(n*o)/(o*o)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var i=t.locales[t.options.currentLocale],o=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(e),t._.numberToFormat(e,n,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var i,o=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})?r.call(e,n,e,t):r)||(t.exports=i)},c6vl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("dcwN"),i=n("ct/t"),o=n("YE6d"),s=n("g73s"),a={hrtime:n("P442").default(i.default),exit:t=>{throw new s.WASIExitError(t)},kill:t=>{throw new s.WASIKillError(t)},randomFillSync:r.randomFillSync,isTTY:()=>!0,path:o,fs:null};e.default=a},"ct/t":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Math.floor(.001*(Date.now()-performance.now()));e.default=function(t){let e=.001*performance.now(),n=Math.floor(e)+r,i=Math.floor(e%1*1e9);return t&&(n-=t[0],i-=t[1],i<0&&(n--,i+=1e9)),[n,i]}},dcwN:function(t,e,n){"use strict";function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var i=n("hwdV"),o=n("Edxu"),s=i.Buffer,a=i.kMaxLength,u=global.crypto||global.msCrypto,l=Math.pow(2,32)-1;function c(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||t<0)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function h(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>a)throw new RangeError("buffer too small")}function f(t,e,n,r){if(process.browser){var i=new Uint8Array(t.buffer,e,n);return u.getRandomValues(i),r?void process.nextTick(function(){r(null,t)}):t}if(!r)return o(n).copy(t,e),t;o(n,function(n,i){if(n)return r(n);i.copy(t,e),r(null,t)})}u&&u.getRandomValues||!process.browser?(e.randomFill=function(t,e,n,r){if(!(s.isBuffer(t)||t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)r=e,e=0,n=t.length;else if("function"==typeof n)r=n,n=t.length-e;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return c(e,t.length),h(n,e,t.length),f(t,e,n,r)},e.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(e,t.length),void 0===n&&(n=t.length-e),h(n,e,t.length),f(t,e,n)}):(e.randomFill=r,e.randomFillSync=r)},g73s:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("98P5"),i=n("jg5z"),o=n("Du9B");let s;const a=n("MqkW"),u=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,l=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,c=l,h=t=>{const e=Math.trunc(t),n=r.BigIntPolyfill(Math.round(1e6*(t-e)));return r.BigIntPolyfill(e)*r.BigIntPolyfill(1e6)+n},f=t=>{"number"==typeof t&&(t=Math.trunc(t));const e=r.BigIntPolyfill(t);return Number(e/r.BigIntPolyfill(1e6))},p=t=>(...e)=>{try{return t(...e)}catch(n){if(n&&n.code&&"string"==typeof n.code)return a.ERROR_MAP[n.code]||a.WASI_EINVAL;if(n instanceof y)return n.errno;throw n}},d=(t,e)=>{const n=t.FD_MAP.get(e);if(!n)throw new y(a.WASI_EBADF);if(void 0===n.filetype){const r=t.bindings.fs.fstatSync(n.real),{filetype:i,rightsBase:o,rightsInheriting:s}=g(t,e,r);n.filetype=i,n.rights||(n.rights={base:o,inheriting:s})}return n},g=(t,e,n)=>{switch(!0){case n.isBlockDevice():return{filetype:a.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:a.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:a.RIGHTS_BLOCK_DEVICE_INHERITING};case n.isCharacterDevice():{const n=a.WASI_FILETYPE_CHARACTER_DEVICE;return void 0!==e&&t.bindings.isTTY(e)?{filetype:n,rightsBase:a.RIGHTS_TTY_BASE,rightsInheriting:a.RIGHTS_TTY_INHERITING}:{filetype:n,rightsBase:a.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:a.RIGHTS_CHARACTER_DEVICE_INHERITING}}case n.isDirectory():return{filetype:a.WASI_FILETYPE_DIRECTORY,rightsBase:a.RIGHTS_DIRECTORY_BASE,rightsInheriting:a.RIGHTS_DIRECTORY_INHERITING};case n.isFIFO():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case n.isFile():return{filetype:a.WASI_FILETYPE_REGULAR_FILE,rightsBase:a.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:a.RIGHTS_REGULAR_FILE_INHERITING};case n.isSocket():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case n.isSymbolicLink():return{filetype:a.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:r.BigIntPolyfill(0),rightsInheriting:r.BigIntPolyfill(0)};default:return{filetype:a.WASI_FILETYPE_UNKNOWN,rightsBase:r.BigIntPolyfill(0),rightsInheriting:r.BigIntPolyfill(0)}}};class y extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,y.prototype)}}e.WASIError=y;class m extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,m.prototype)}}e.WASIExitError=m;class _ extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,_.prototype)}}e.WASIKillError=_;class v{constructor(t){let e={};t&&t.preopens?e=t.preopens:t&&t.preopenDirectories&&(e=t.preopenDirectories);let n={};t&&t.env&&(n=t.env);let i=[];t&&t.args&&(i=t.args);let m=s;t&&t.bindings&&(m=t.bindings),this.memory=void 0,this.view=void 0,this.bindings=m,this.FD_MAP=new Map([[a.WASI_STDIN_FILENO,{real:0,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:u,inheriting:r.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDOUT_FILENO,{real:1,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:l,inheriting:r.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDERR_FILENO,{real:2,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:c,inheriting:r.BigIntPolyfill(0)},path:void 0}]]);let _=this.bindings.fs,v=this.bindings.path;for(const[r,o]of Object.entries(e)){const t=_.openSync(o,_.constants.O_RDONLY),e=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(e,{real:t,filetype:a.WASI_FILETYPE_DIRECTORY,rights:{base:a.RIGHTS_DIRECTORY_BASE,inheriting:a.RIGHTS_DIRECTORY_INHERITING},fakePath:r,path:o})}const E=(t,e)=>(this.refreshMemory(),Array.from({length:e},(e,n)=>{const r=t+8*n,i=this.view.getUint32(r,!0),o=this.view.getUint32(r+4,!0);return new Uint8Array(this.memory.buffer,i,o)})),w=(t,e)=>{const n=d(this,t);if(e!==r.BigIntPolyfill(0)&&(n.rights.base&e)===r.BigIntPolyfill(0))throw new y(a.WASI_EPERM);return n},b=m.hrtime(),S=t=>{switch(t){case a.WASI_CLOCK_MONOTONIC:return m.hrtime();case a.WASI_CLOCK_REALTIME:return h(Date.now());case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:return m.hrtime()-b;default:return null}};this.wasiImport={args_get:(t,e)=>{this.refreshMemory();let n=t,r=e;return i.forEach(t=>{this.view.setUint32(n,r,!0),n+=4,r+=o.default.from(this.memory.buffer).write(`${t}\0`,r)}),a.WASI_ESUCCESS},args_sizes_get:(t,e)=>{this.refreshMemory(),this.view.setUint32(t,i.length,!0);const n=i.reduce((t,e)=>t+o.default.byteLength(e)+1,0);return this.view.setUint32(e,n,!0),a.WASI_ESUCCESS},environ_get:(t,e)=>{this.refreshMemory();let r=t,i=e;return Object.entries(n).forEach(([t,e])=>{this.view.setUint32(r,i,!0),r+=4,i+=o.default.from(this.memory.buffer).write(`${t}=${e}\0`,i)}),a.WASI_ESUCCESS},environ_sizes_get:(t,e)=>{this.refreshMemory();const r=Object.entries(n).map(([t,e])=>`${t}=${e}\0`),i=r.reduce((t,e)=>t+o.default.byteLength(e),0);return this.view.setUint32(t,r.length,!0),this.view.setUint32(e,i,!0),a.WASI_ESUCCESS},clock_res_get:(t,e)=>{let n;switch(t){case a.WASI_CLOCK_MONOTONIC:case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:n=r.BigIntPolyfill(1);break;case a.WASI_CLOCK_REALTIME:n=r.BigIntPolyfill(1e3)}return this.view.setBigUint64(e,n),a.WASI_ESUCCESS},clock_time_get:(t,e,n)=>{this.refreshMemory();const i=S(t);return null===i?a.WASI_EINVAL:(this.view.setBigUint64(n,r.BigIntPolyfill(i),!0),a.WASI_ESUCCESS)},fd_advise:p((t,e,n,r)=>(w(t,a.WASI_RIGHT_FD_ADVISE),a.WASI_ENOSYS)),fd_allocate:p((t,e,n)=>(w(t,a.WASI_RIGHT_FD_ALLOCATE),a.WASI_ENOSYS)),fd_close:p(t=>{const e=w(t,r.BigIntPolyfill(0));return _.closeSync(e.real),this.FD_MAP.delete(t),a.WASI_ESUCCESS}),fd_datasync:p(t=>{const e=w(t,a.WASI_RIGHT_FD_DATASYNC);return _.fdatasyncSync(e.real),a.WASI_ESUCCESS}),fd_fdstat_get:p((t,e)=>{const n=w(t,r.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(e,n.filetype),this.view.setUint16(e+2,0,!0),this.view.setUint16(e+4,0,!0),this.view.setBigUint64(e+8,r.BigIntPolyfill(n.rights.base),!0),this.view.setBigUint64(e+8+8,r.BigIntPolyfill(n.rights.inheriting),!0),a.WASI_ESUCCESS}),fd_fdstat_set_flags:p((t,e)=>(w(t,a.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),a.WASI_ENOSYS)),fd_fdstat_set_rights:p((t,e,n)=>{const i=w(t,r.BigIntPolyfill(0));return(i.rights.base|e)>i.rights.base||(i.rights.inheriting|n)>i.rights.inheriting?a.WASI_EPERM:(i.rights.base=e,i.rights.inheriting=n,a.WASI_ESUCCESS)}),fd_filestat_get:p((t,e)=>{const n=w(t,a.WASI_RIGHT_FD_FILESTAT_GET),i=_.fstatSync(n.real);return this.refreshMemory(),this.view.setBigUint64(e,r.BigIntPolyfill(i.dev),!0),this.view.setBigUint64(e+=8,r.BigIntPolyfill(i.ino),!0),this.view.setUint8(e+=8,n.filetype),this.view.setBigUint64(e+=8,r.BigIntPolyfill(i.nlink),!0),this.view.setBigUint64(e+=8,r.BigIntPolyfill(i.size),!0),this.view.setBigUint64(e+=8,h(i.atimeMs),!0),this.view.setBigUint64(e+=8,h(i.mtimeMs),!0),this.view.setBigUint64(e+=8,h(i.ctimeMs),!0),a.WASI_ESUCCESS}),fd_filestat_set_size:p((t,e)=>{const n=w(t,a.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return _.ftruncateSync(n.real,Number(e)),a.WASI_ESUCCESS}),fd_filestat_set_times:p((t,e,n,r)=>{const i=w(t,a.WASI_RIGHT_FD_FILESTAT_SET_TIMES),o=_.fstatSync(i.real);let s=o.atime,u=o.mtime;const l=f(S(a.WASI_CLOCK_REALTIME)),c=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((r&c)===c)return a.WASI_EINVAL;const h=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;return(r&h)===h?a.WASI_EINVAL:((r&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?s=f(e):(r&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(s=l),(r&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?u=f(n):(r&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(u=l),_.futimesSync(i.real,new Date(s),new Date(u)),a.WASI_ESUCCESS)}),fd_prestat_get:p((t,e)=>{const n=w(t,r.BigIntPolyfill(0));return n.path?(this.refreshMemory(),this.view.setUint8(e,a.WASI_PREOPENTYPE_DIR),this.view.setUint32(e+4,o.default.byteLength(n.fakePath),!0),a.WASI_ESUCCESS):a.WASI_EINVAL}),fd_prestat_dir_name:p((t,e,n)=>{const i=w(t,r.BigIntPolyfill(0));return i.path?(this.refreshMemory(),o.default.from(this.memory.buffer).write(i.fakePath,e,n,"utf8"),a.WASI_ESUCCESS):a.WASI_EINVAL}),fd_pwrite:p((t,e,n,r,i)=>{const o=w(t,a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SEEK);let s=0;return E(e,n).forEach(t=>{let e=0;for(;e<t.byteLength;)e+=_.writeSync(o.real,t,e,t.byteLength-e,Number(r)+s+e);s+=e}),this.view.setUint32(i,s,!0),a.WASI_ESUCCESS}),fd_write:p((t,e,n,i)=>{const o=w(t,a.WASI_RIGHT_FD_WRITE);let s=0;return E(e,n).forEach(t=>{let e=0;for(;e<t.byteLength;){const n=_.writeSync(o.real,t,e,t.byteLength-e,o.offset?Number(o.offset):null);o.offset&&(o.offset+=r.BigIntPolyfill(n)),e+=n}s+=e}),this.view.setUint32(i,s,!0),a.WASI_ESUCCESS}),fd_pread:p((t,e,n,r,i)=>{const o=w(t,a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SEEK);let s=0;t:for(const a of E(e,n)){let t=0;for(;t<a.byteLength;){const e=a.byteLength-t,n=_.readSync(o.real,a,t,a.byteLength-t,Number(r)+s+t);if(t+=n,s+=n,0===n||n<e)break t}s+=t}return this.view.setUint32(i,s,!0),a.WASI_ESUCCESS}),fd_read:p((t,e,n,i)=>{const o=w(t,a.WASI_RIGHT_FD_READ),s=0===o.real;let u=0;t:for(const a of E(e,n)){let t=0;for(;t<a.byteLength;){let e=a.byteLength-t,n=s||void 0===o.offset?null:Number(o.offset),i=_.readSync(o.real,a,t,e,n);if(s||(o.offset=(o.offset?o.offset:r.BigIntPolyfill(0))+r.BigIntPolyfill(i)),t+=i,u+=i,0===i||i<e)break t}}return this.view.setUint32(i,u,!0),a.WASI_ESUCCESS}),fd_readdir:p((t,e,n,i,s)=>{const u=w(t,a.WASI_RIGHT_FD_READDIR);this.refreshMemory();const l=_.readdirSync(u.path,{withFileTypes:!0}),c=e;for(let h=Number(i);h<l.length;h+=1){const t=l[h];let i=o.default.byteLength(t.name);if(e-c>n)break;if(this.view.setBigUint64(e,r.BigIntPolyfill(h+1),!0),(e+=8)-c>n)break;const s=_.statSync(v.resolve(u.path,t.name));if(this.view.setBigUint64(e,r.BigIntPolyfill(s.ino),!0),(e+=8)-c>n)break;if(this.view.setUint32(e,i,!0),(e+=4)-c>n)break;let f;switch(!0){case s.isBlockDevice():f=a.WASI_FILETYPE_BLOCK_DEVICE;break;case s.isCharacterDevice():f=a.WASI_FILETYPE_CHARACTER_DEVICE;break;case s.isDirectory():f=a.WASI_FILETYPE_DIRECTORY;break;case s.isFIFO():f=a.WASI_FILETYPE_SOCKET_STREAM;break;case s.isFile():f=a.WASI_FILETYPE_REGULAR_FILE;break;case s.isSocket():f=a.WASI_FILETYPE_SOCKET_STREAM;break;case s.isSymbolicLink():f=a.WASI_FILETYPE_SYMBOLIC_LINK;break;default:f=a.WASI_FILETYPE_UNKNOWN}if(this.view.setUint8(e,f),e+=1,(e+=3)+i>=c+n)break;o.default.from(this.memory.buffer).write(t.name,e),e+=i}return this.view.setUint32(s,Math.min(e-c,n),!0),a.WASI_ESUCCESS}),fd_renumber:p((t,e)=>(w(t,r.BigIntPolyfill(0)),w(e,r.BigIntPolyfill(0)),_.closeSync(this.FD_MAP.get(t).real),this.FD_MAP.set(t,this.FD_MAP.get(e)),this.FD_MAP.delete(e),a.WASI_ESUCCESS)),fd_seek:p((t,e,n,i)=>{const o=w(t,a.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),n){case a.WASI_WHENCE_CUR:o.offset=(o.offset?o.offset:r.BigIntPolyfill(0))+r.BigIntPolyfill(e);break;case a.WASI_WHENCE_END:const{size:t}=_.fstatSync(o.real);o.offset=r.BigIntPolyfill(t)+r.BigIntPolyfill(e);break;case a.WASI_WHENCE_SET:o.offset=r.BigIntPolyfill(e)}return this.view.setBigUint64(i,o.offset,!0),a.WASI_ESUCCESS}),fd_tell:p((t,e)=>{const n=w(t,a.WASI_RIGHT_FD_TELL);return this.refreshMemory(),n.offset||(n.offset=r.BigIntPolyfill(0)),this.view.setBigUint64(e,n.offset,!0),a.WASI_ESUCCESS}),fd_sync:p(t=>{const e=w(t,a.WASI_RIGHT_FD_SYNC);return _.fsyncSync(e.real),a.WASI_ESUCCESS}),path_create_directory:p((t,e,n)=>{const r=w(t,a.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!r.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,n).toString();return _.mkdirSync(v.resolve(r.path,i)),a.WASI_ESUCCESS}),path_filestat_get:p((t,e,n,i,s)=>{const u=w(t,a.WASI_RIGHT_PATH_FILESTAT_GET);if(!u.path)return a.WASI_EINVAL;this.refreshMemory();const l=o.default.from(this.memory.buffer,n,i).toString(),c=_.statSync(v.resolve(u.path,l));return this.view.setBigUint64(s,r.BigIntPolyfill(c.dev),!0),this.view.setBigUint64(s+=8,r.BigIntPolyfill(c.ino),!0),this.view.setUint8(s+=8,g(this,void 0,c).filetype),this.view.setBigUint64(s+=8,r.BigIntPolyfill(c.nlink),!0),this.view.setBigUint64(s+=8,r.BigIntPolyfill(c.size),!0),this.view.setBigUint64(s+=8,h(c.atimeMs),!0),this.view.setBigUint64(s+=8,h(c.mtimeMs),!0),this.view.setBigUint64(s+=8,h(c.ctimeMs),!0),a.WASI_ESUCCESS}),path_filestat_set_times:p((t,e,n,r,i,s,u)=>{const l=w(t,a.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!l.path)return a.WASI_EINVAL;this.refreshMemory();const c=_.fstatSync(l.real);let h=c.atime,p=c.mtime;const d=f(S(a.WASI_CLOCK_REALTIME)),g=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((u&g)===g)return a.WASI_EINVAL;const y=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;if((u&y)===y)return a.WASI_EINVAL;(u&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?h=f(i):(u&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(h=d),(u&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?p=f(s):(u&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(p=d);const m=o.default.from(this.memory.buffer,n,r).toString();return _.utimesSync(v.resolve(l.path,m),new Date(h),new Date(p)),a.WASI_ESUCCESS}),path_link:p((t,e,n,r,i,s,u)=>{const l=w(t,a.WASI_RIGHT_PATH_LINK_SOURCE),c=w(i,a.WASI_RIGHT_PATH_LINK_TARGET);if(!l.path||!c.path)return a.WASI_EINVAL;this.refreshMemory();const h=o.default.from(this.memory.buffer,n,r).toString(),f=o.default.from(this.memory.buffer,s,u).toString();return _.linkSync(v.resolve(l.path,h),v.resolve(c.path,f)),a.WASI_ESUCCESS}),path_open:p((t,e,n,i,s,u,l,c,h)=>{const f=w(t,a.WASI_RIGHT_PATH_OPEN);u=r.BigIntPolyfill(u),l=r.BigIntPolyfill(l);const p=(u&(a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_READDIR))!==r.BigIntPolyfill(0),g=(u&(a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_ALLOCATE|a.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==r.BigIntPolyfill(0);let y;g&&p?y=_.constants.O_RDWR:p?y=_.constants.O_RDONLY:g&&(y=_.constants.O_WRONLY);let m=u|a.WASI_RIGHT_PATH_OPEN,E=u|l;0!=(s&a.WASI_O_CREAT)&&(y|=_.constants.O_CREAT,m|=a.WASI_RIGHT_PATH_CREATE_FILE),0!=(s&a.WASI_O_DIRECTORY)&&(y|=_.constants.O_DIRECTORY),0!=(s&a.WASI_O_EXCL)&&(y|=_.constants.O_EXCL),0!=(s&a.WASI_O_TRUNC)&&(y|=_.constants.O_TRUNC,m|=a.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),0!=(c&a.WASI_FDFLAG_APPEND)&&(y|=_.constants.O_APPEND),0!=(c&a.WASI_FDFLAG_DSYNC)&&(y|=_.constants.O_DSYNC?_.constants.O_DSYNC:_.constants.O_SYNC,E|=a.WASI_RIGHT_FD_DATASYNC),0!=(c&a.WASI_FDFLAG_NONBLOCK)&&(y|=_.constants.O_NONBLOCK),0!=(c&a.WASI_FDFLAG_RSYNC)&&(y|=_.constants.O_RSYNC?_.constants.O_RSYNC:_.constants.O_SYNC,E|=a.WASI_RIGHT_FD_SYNC),0!=(c&a.WASI_FDFLAG_SYNC)&&(y|=_.constants.O_SYNC,E|=a.WASI_RIGHT_FD_SYNC),g&&0==(y&(_.constants.O_APPEND|_.constants.O_TRUNC))&&(E|=a.WASI_RIGHT_FD_SEEK),this.refreshMemory();const b=o.default.from(this.memory.buffer,n,i).toString(),S=v.resolve(f.path,b);if(v.relative(f.path,S).startsWith(".."))return a.WASI_ENOTCAPABLE;let C,x,I;try{if(C=_.realpathSync(S),v.relative(f.path,C).startsWith(".."))return a.WASI_ENOTCAPABLE}catch(D){if("ENOENT"!==D.code)throw D;C=S}try{x=_.statSync(C).isDirectory()}catch(D){}I=_.openSync(C,!g&&x?_.constants.O_RDONLY:y);const A=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(A,{real:I,filetype:void 0,rights:{base:m,inheriting:E},path:C}),d(this,A),this.view.setUint32(h,A,!0),a.WASI_ESUCCESS}),path_readlink:p((t,e,n,r,i,s)=>{const u=w(t,a.WASI_RIGHT_PATH_READLINK);if(!u.path)return a.WASI_EINVAL;this.refreshMemory();const l=o.default.from(this.memory.buffer,e,n).toString(),c=v.resolve(u.path,l),h=_.readlinkSync(c),f=o.default.from(this.memory.buffer).write(h,r,i);return this.view.setUint32(s,f,!0),a.WASI_ESUCCESS}),path_remove_directory:p((t,e,n)=>{const r=w(t,a.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!r.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,n).toString();return _.rmdirSync(v.resolve(r.path,i)),a.WASI_ESUCCESS}),path_rename:p((t,e,n,r,i,s)=>{const u=w(t,a.WASI_RIGHT_PATH_RENAME_SOURCE),l=w(r,a.WASI_RIGHT_PATH_RENAME_TARGET);if(!u.path||!l.path)return a.WASI_EINVAL;this.refreshMemory();const c=o.default.from(this.memory.buffer,e,n).toString(),h=o.default.from(this.memory.buffer,i,s).toString();return _.renameSync(v.resolve(u.path,c),v.resolve(l.path,h)),a.WASI_ESUCCESS}),path_symlink:p((t,e,n,r,i)=>{const s=w(n,a.WASI_RIGHT_PATH_SYMLINK);if(!s.path)return a.WASI_EINVAL;this.refreshMemory();const u=o.default.from(this.memory.buffer,t,e).toString(),l=o.default.from(this.memory.buffer,r,i).toString();return _.symlinkSync(u,v.resolve(s.path,l)),a.WASI_ESUCCESS}),path_unlink_file:p((t,e,n)=>{const r=w(t,a.WASI_RIGHT_PATH_UNLINK_FILE);if(!r.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,n).toString();return _.unlinkSync(v.resolve(r.path,i)),a.WASI_ESUCCESS}),poll_oneoff:(t,e,n,i)=>{let o=0,s=0;this.refreshMemory();for(let u=0;u<n;u+=1){const n=this.view.getBigUint64(t,!0),i=this.view.getUint8(t+=8);switch(t+=1,i){case a.WASI_EVENTTYPE_CLOCK:{this.view.getBigUint64(t+=7,!0);const i=this.view.getUint32(t+=8,!0);t+=4;const u=this.view.getBigUint64(t+=4,!0),l=(this.view.getBigUint64(t+=8,!0),this.view.getUint16(t+=8,!0));t+=2,t+=6;const c=1===l;let h=a.WASI_ESUCCESS;const f=r.BigIntPolyfill(S(i));if(null===f)h=a.WASI_EINVAL;else{const t=c?u:f+u;s=t>s?t:s}this.view.setBigUint64(e,n,!0),this.view.setUint16(e+=8,h,!0),this.view.setUint8(e+=2,a.WASI_EVENTTYPE_CLOCK),e+=1,e+=5,o+=1;break}case a.WASI_EVENTTYPE_FD_READ:case a.WASI_EVENTTYPE_FD_WRITE:this.view.getUint32(t+=3,!0),t+=4,this.view.setBigUint64(e,n,!0),this.view.setUint16(e+=8,a.WASI_ENOSYS,!0),this.view.setUint8(e+=2,i),e+=1,e+=5,o+=1;break;default:return a.WASI_EINVAL}}for(this.view.setUint32(i,o,!0);m.hrtime()<s;);return a.WASI_ESUCCESS},proc_exit:t=>(m.exit(t),a.WASI_ESUCCESS),proc_raise:t=>t in a.SIGNAL_MAP?(m.kill(a.SIGNAL_MAP[t]),a.WASI_ESUCCESS):a.WASI_EINVAL,random_get:(t,e)=>(this.refreshMemory(),m.randomFillSync(new Uint8Array(this.memory.buffer),t,e),a.WASI_ESUCCESS),sched_yield:()=>a.WASI_ESUCCESS,sock_recv:()=>a.WASI_ENOSYS,sock_send:()=>a.WASI_ENOSYS,sock_shutdown:()=>a.WASI_ENOSYS},t.traceSyscalls&&Object.keys(this.wasiImport).forEach(t=>{const e=this.wasiImport[t];this.wasiImport[t]=function(...n){console.log(`WASI: wasiImport called: ${t} (${n})`);try{let t=e(...n);return console.log(`WASI:  => ${t}`),t}catch(r){throw console.log(`Catched error: ${r}`),r}}})}refreshMemory(){this.view&&0!==this.view.buffer.byteLength||(this.view=new i.DataViewPolyfill(this.memory.buffer))}setMemory(t){this.memory=t}start(t){const e=t.exports;if(null===e||"object"!=typeof e)throw new Error(`instance.exports must be an Object. Received ${e}.`);const{memory:n}=e;if(!(n instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${n}.`);this.setMemory(n),e._start&&e._start()}getImportNamespace(t){let e=null;for(let n of WebAssembly.Module.imports(t))if("function"===n.kind&&n.module.startsWith("wasi_"))if(e){if(e!==n.module)throw new Error("Multiple namespaces detected.")}else e=n.module;return e}getImports(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}e.default=v,v.defaultBindings=s,e.WASI=v},hwdV:function(t,e,n){var r=n("tjlA"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},jg5z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("98P5");let i=DataView;i.prototype.setBigUint64||(i.prototype.setBigUint64=function(t,e,n){let r,i;if(e<2**32)r=Number(e),i=0;else{for(var o=e.toString(2),s="",a=0;a<64-o.length;a++)s+="0";s+=o,i=parseInt(s.substring(0,32),2),r=parseInt(s.substring(32),2)}this.setUint32(t+(n?0:4),r,n),this.setUint32(t+(n?4:0),i,n)},i.prototype.getBigUint64=function(t,e){let n=this.getUint32(t+(e?0:4),e),i=this.getUint32(t+(e?4:0),e);for(var o=n.toString(2),s=i.toString(2),a="",u=0;u<32-o.length;u++)a+="0";return r.BigIntPolyfill("0b"+s+(a+=o))}),e.DataViewPolyfill=i},"kVK+":function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},kli3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n("u1Yv"),s=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.t=function(t,n){if(e.input=t,e.schemaCheck=null,n)if("string"==typeof n)e.input=(0,o.getNestedObject)(e.input,n);else{var r=(0,o.convertSchemaAndGetMatch)(e.input,n);-1===r?(e.schemaCheck=!1,e.input=t):(e.schemaCheck=!0,e.input=r)}return e}}return i(t,[{key:"isValid",get:function(){return null!==this.schemaCheck&&!0===this.schemaCheck&&null!=this.input}},{key:"isDefined",get:function(){return void 0!==this.input}},{key:"isUndefined",get:function(){return void 0===this.input}},{key:"isNull",get:function(){return null===this.input&&"object"===r(this.input)}},{key:"isNullOrUndefined",get:function(){return!(!this.isNull&&!this.isUndefined)}},{key:"isBoolean",get:function(){return r(this.input)===r(!0)}},{key:"isTrue",get:function(){return!0===this.input}},{key:"isFalse",get:function(){return!1===this.input}},{key:"isTruthy",get:function(){return!!this.input}},{key:"isFalsy",get:function(){return!this.input}},{key:"isObject",get:function(){return"object"===r(this.input)&&this.input===Object(this.input)&&"[object Array]"!==Object.prototype.toString.call(this.input)&&"[object Date]"!==Object.prototype.toString.call(this.input)}},{key:"isEmptyObject",get:function(){return!(!this.isObject||0!==Object.keys(this.input).length)}},{key:"isString",get:function(){return"string"==typeof this.input}},{key:"isEmptyString",get:function(){return!(!this.isString||0!==this.input.length)}},{key:"isNumber",get:function(){return!!Number.isFinite(this.input)}},{key:"isArray",get:function(){return!!Array.isArray(this.input)}},{key:"isEmptyArray",get:function(){return!(!this.isArray||0!==this.input.length)}},{key:"isFunction",get:function(){return"function"==typeof this.input}},{key:"isDate",get:function(){return this.input instanceof Date||"[object Date]"===Object.prototype.toString.call(this.input)}},{key:"isSymbol",get:function(){return"symbol"===r(this.input)||"object"===r(this.input)&&"[object Symbol]"===Object.prototype.toString.call(this.input)}},{key:"safeObject",get:function(){return this.input}},{key:"safeObjectOrEmpty",get:function(){return this.input?this.input:{}}},{key:"safeString",get:function(){return this.isString?this.input:""}},{key:"safeNumber",get:function(){return this.isNumber?this.input:0}},{key:"safeBoolean",get:function(){return!!this.isBoolean&&this.input}},{key:"safeFunction",get:function(){return this.isFunction?this.input:function(){}}},{key:"safeArray",get:function(){return this.isArray?this.input:this.isNullOrUndefined?[]:[this.input]}}]),t}();s.Schema={Number:1,String:"typy",Boolean:!0,Null:null,Undefined:void 0,Array:[],Function:function(){},Date:new Date,Symbol:Symbol("")},e.default=s,t.exports=e.default},py2f:function(t,e){t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},rIrx:function(t,e,n){var r;try{r=n("9EUN")}catch(p){}function i(){this.rows=[],this.row={__printers:{}}}function o(t){return void 0===t?"":""+t}function s(t){var e=t.replace(/\u001b\[\d+m/g,"");return null==r?e.length:r(e)}function a(t){return function(e,n){var r=o(e),i=s(r);return(n>i?Array(n-i+1).join(t):"")+r}}t.exports=i,i.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},i.prototype.cell=function(t,e,n){return this.row[t]=e,this.row.__printers[t]=n||o,this},i.prototype.separator="  ",i.string=o,i.leftPadder=a;var u=i.padLeft=a(" ");function l(t){return function(e,n){var r=o(e),i=s(r);return r+(n>i?Array(n-i+1).join(t):"")}}i.rightPadder=l;var c=l(" ");function h(t,e){for(var n in t)"__printers"!=n&&e(n,t[n])}function f(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:f(String(t),String(e))}i.number=function(t){return function(e,n){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var r=null==t?e+"":e.toFixed(t);return u(r,n)}},i.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach(function(e){var n=0;h(e,function(e){n=Math.max(n,t[e]||0),t[e]=n,n++})});return Object.keys(t).sort(function(e,n){return t[e]-t[n]})},i.prototype.print=function(){var t=this.columns(),e=this.separator,n={},r="";return this.rows.forEach(function(t){h(t,function(e,r){var i=t.__printers[e].call(t,r);n[e]=Math.max(s(i),n[e]||0)})}),this.rows.forEach(function(i){var o="";t.forEach(function(t){var r=n[t],s=i.hasOwnProperty(t)?""+i.__printers[t].call(i,i[t],r):"";o+=c(s,r)+e}),o=o.slice(0,-e.length),r+=o+"\n"}),r},i.prototype.toString=function(){var t=this.columns(),e=new i;return e.separator=this.separator,t.forEach(function(t){e.cell(t,t)}),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},i.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach(function(t){this.cell(t,void 0,a("-"))},this),this.newRow()},i.prototype.forEachTotal=function(t){for(var e in this.totals){var n=this.totals[e],r=n.init,i=this.rows.length;this.rows.forEach(function(t,o){r=n.reduce.call(t,r,t[e],o,i)}),t(e,r,n.printer)}},i.prototype.printTransposed=function(t){t=t||{};var e=new i;return e.separator=t.separator||this.separator,this.columns().forEach(function(n){e.cell(0,n,t.namePrinter),this.rows.forEach(function(t,r){e.cell(r+1,t[n],t.__printers[n])}),e.newRow()},this),e.print()},i.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map(function(t){var e="asc",n=/(.*)\|\s*(asc|des)\s*$/.exec(t);return n&&(t=n[1],e=n[2]),function(n,r){return"asc"==e?f(n[t],r[t]):f(r[t],n[t])}});return this.sort(function(t,n){for(var r=0;r<e.length;r++){var i=e[r](t,n);if(0!=i)return i}return 0})},i.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||i.aggr.sum,printer:e.printer||u,init:null==e.init?0:e.init},this},(i.aggr={}).printer=function(t,e){return e=e||o,function(n,r){return u(t+e(n),r)}},i.aggr.sum=function(t,e){return t+e},i.aggr.avg=function(t,e,n,r){return t+=e,n+1==r?t/r:t},i.print=function(t,e,n){var r=e||{};e="function"==typeof e?e:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=r[n]||{};e(i.name||n,t[n],i.printer)}};var o=new i,s=o.cell.bind(o);return Array.isArray(t)?(n=n||function(t){return t.toString()},t.forEach(function(t){e(t,s),o.newRow()})):(n=n||function(t){return t.printTransposed({separator:" : "})},e(t,s),o.newRow()),n(o)},i.log=function(t,e,n){console.log(i.print(t,e,n))},i.prototype.log=function(){console.log(this.toString())}},tjlA:function(t,e,n){"use strict";var r=n("H7XF"),i=n("kVK+"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|g(t,e),r=a(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);var i=function(t){if(u.isBuffer(t)){var e=0|d(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||V(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|d(t))}function f(t){for(var e=t.length<0?0:0|d(t.length),n=a(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(i)return r?-1:B(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),V(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(V(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return j(B(e,t.length-n),t,n,r)}function b(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return j(U(e),t,n,r)}function C(t,e,n,r){return j(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function x(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:s=t[i+2],128==(192&(o=t[i+1]))&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=t[i+2],a=t[i+3],128==(192&(o=t[i+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.kMaxLength=s,(u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(G(o,Uint8Array))i+o.length>r.length?u.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):y.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return b(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=W[t[o]];return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return e=+e,n>>>=0,o||P(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,o){return e=+e,n>>>=0,o||P(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||F(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);F(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:u.from(t,r),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var k=/[^+/0-9A-Za-z-_]/g;function B(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}var W=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)e[r+i]=t[n]+t[i];return e}()},u1Yv:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if("[object Array]"===Object.prototype.toString.call(t))t.forEach(function(t){return i(t)});else{if("[object Object]"!==Object.prototype.toString.call(t))return void 0===t?"undefined":r(t);Object.keys(t).forEach(function(e){return i(t[e])})}return t},o=function(t,e){var n=!1;if("[object Array]"===Object.prototype.toString.call(t)){if(!e.length)return!0;for(var i=0;i<t.length;i+=1){if(!o(t[i],e[i])){n=!1;break}n=!0}}else{if("[object Object]"!==Object.prototype.toString.call(t))return(void 0===e?"undefined":r(e))===(void 0===t?"undefined":r(t));for(var s in t){if(!o(t[s],e[s])){n=!1;break}n=!0}}return n};t.exports={getNestedObject:function(t,e){if(void 0===e||"string"==typeof e)return void 0!==t&&"string"==typeof e&&(t=e.split(/[.\[\]'"]/g).filter(function(t){return""!==t}).reduce(function(t,e){return t&&"undefined"!==t[e]?t[e]:void 0},t)),t},buildSchema:i,getSchemaMatch:o,convertSchemaAndGetMatch:function(t,e){var n=i(e);return o(t,n)?t:-1}}},w53j:function(t,e,n){var r=n("JBAE");t.exports=function(t,e){return t=t||{},Object.keys(e).forEach(function(n){void 0===t[n]&&(t[n]=r(e[n]))}),t}},y3xr:function(t,e,n){var r;!function(n){"use strict";var i={},o={},s={},a="en",u={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"]},l={YYYY:function(t){return("000"+t.getFullYear()).slice(-4)},YY:function(t){return("0"+t.getFullYear()).slice(-2)},Y:function(t){return""+t.getFullYear()},MMMM:function(t){return this.res.MMMM[t.getMonth()]},MMM:function(t){return this.res.MMM[t.getMonth()]},MM:function(t){return("0"+(t.getMonth()+1)).slice(-2)},M:function(t){return""+(t.getMonth()+1)},DD:function(t){return("0"+t.getDate()).slice(-2)},D:function(t){return""+t.getDate()},HH:function(t){return("0"+t.getHours()).slice(-2)},H:function(t){return""+t.getHours()},A:function(t){return this.res.A[t.getHours()>11|0]},hh:function(t){return("0"+(t.getHours()%12||12)).slice(-2)},h:function(t){return""+(t.getHours()%12||12)},mm:function(t){return("0"+t.getMinutes()).slice(-2)},m:function(t){return""+t.getMinutes()},ss:function(t){return("0"+t.getSeconds()).slice(-2)},s:function(t){return""+t.getSeconds()},SSS:function(t){return("00"+t.getMilliseconds()).slice(-3)},SS:function(t){return("0"+(t.getMilliseconds()/10|0)).slice(-2)},S:function(t){return""+(t.getMilliseconds()/100|0)},dddd:function(t){return this.res.dddd[t.getDay()]},ddd:function(t){return this.res.ddd[t.getDay()]},dd:function(t){return this.res.dd[t.getDay()]},Z:function(t){return t.utc?"+0000":/[\+-]\d{4}/.exec(t.toTimeString())[0]},post:function(t){return t}},c={YYYY:function(t){return this.exec(/^\d{4}/,t)},Y:function(t){return this.exec(/^\d{1,4}/,t)},MMMM:function(t){var e=this.find(this.res.MMMM,t);return e.value++,e},MMM:function(t){var e=this.find(this.res.MMM,t);return e.value++,e},MM:function(t){return this.exec(/^\d\d/,t)},M:function(t){return this.exec(/^\d\d?/,t)},DD:function(t){return this.exec(/^\d\d/,t)},D:function(t){return this.exec(/^\d\d?/,t)},HH:function(t){return this.exec(/^\d\d/,t)},H:function(t){return this.exec(/^\d\d?/,t)},A:function(t){return this.find(this.res.A,t)},hh:function(t){return this.exec(/^\d\d/,t)},h:function(t){return this.exec(/^\d\d?/,t)},mm:function(t){return this.exec(/^\d\d/,t)},m:function(t){return this.exec(/^\d\d?/,t)},ss:function(t){return this.exec(/^\d\d/,t)},s:function(t){return this.exec(/^\d\d?/,t)},SSS:function(t){return this.exec(/^\d{1,3}/,t)},SS:function(t){var e=this.exec(/^\d\d?/,t);return e.value*=10,e},S:function(t){var e=this.exec(/^\d/,t);return e.value*=100,e},Z:function(t){var e=this.exec(/^[\+-]\d{2}[0-5]\d/,t);return e.value=-60*(e.value/100|0)-e.value%100,e},h12:function(t,e){return(12===t?0:t)+12*e},exec:function(t,e){var n=(t.exec(e)||[""])[0];return{value:0|n,length:n.length}},find:function(t,e){for(var n,r=-1,i=0,o=0,s=t.length;o<s;o++)!e.indexOf(n=t[o])&&n.length>i&&(r=o,i=n.length);return{value:r,length:i}},pre:function(t){return t}},h=function(t,e,n){var r=function(t,e,n){var r=function(t){t&&(this.res=t)};(r.prototype=t).constructor=r;var i,o=new r(n);for(var s in e||{})o[s]=(i=e[s]).slice?i.slice():i;return o},i={res:r(e.res,n.res)};i.formatter=r(e.formatter,n.formatter,i.res),i.parser=r(e.parser,n.parser,i.res),o[t]=i};i.compile=function(t){for(var e,n=/\[([^\[\]]|\[[^\[\]]*])*]|([A-Za-z])\2+|\.{3}|./g,r=[t];e=n.exec(t);)r[r.length]=e[0];return r},i.format=function(t,e,n){var r="string"==typeof e?i.compile(e):e,s=i.addMinutes(t,n?t.getTimezoneOffset():0),u=o[a].formatter,l="";s.utc=n||!1;for(var c,h=1,f=r.length;h<f;h++)l+=u[c=r[h]]?u.post(u[c](s,r[0])):c.replace(/\[(.*)]/,"$1");return l},i.preparse=function(t,e){var n="string"==typeof e?i.compile(e):e,r={Y:1970,M:1,D:1,H:0,A:0,h:0,m:0,s:0,S:0,Z:0,_index:0,_length:0,_match:0},s=/\[(.*)]/,u=o[a].parser,l=0;t=u.pre(t);for(var c,h,f=1,p=n.length;f<p;f++)if(u[c=n[f]]){if(!(h=u[c](t.slice(l),n[0])).length)break;l+=h.length,r[c.charAt(0)]=h.value,r._match++}else if(c===t.charAt(l)||" "===c)l++;else{if(!s.test(c)||t.slice(l).indexOf(s.exec(c)[1])){if("..."===c){l=t.length;break}break}l+=c.length-2}return r.H=r.H||u.h12(r.h,r.A),r._index=l,r._length=t.length,r},i.isValid=function(t,e){var n="string"==typeof t?i.preparse(t,e):t,r=[31,28+i.isLeapYear(n.Y)|0,31,30,31,30,31,31,30,31,30,31][n.M-1];return!(n._index<1||n._length<1||n._index-n._length||n._match<1||n.Y<1||n.Y>9999||n.M<1||n.M>12||n.D<1||n.D>r||n.H<0||n.H>23||n.m<0||n.m>59||n.s<0||n.s>59||n.S<0||n.S>999||n.Z<-720||n.Z>840)},i.parse=function(t,e,n){var r=i.preparse(t,e);return i.isValid(r)?(r.M-=r.Y<100?22801:1,n||r.Z?new Date(Date.UTC(r.Y,r.M,r.D,r.H,r.m+r.Z,r.s,r.S)):new Date(r.Y,r.M,r.D,r.H,r.m,r.s,r.S)):new Date(NaN)},i.transform=function(t,e,n,r){return i.format(i.parse(t,e),n,r)},i.addYears=function(t,e){return i.addMonths(t,12*e)},i.addMonths=function(t,e){var n=new Date(t.getTime());return n.setMonth(n.getMonth()+e),n},i.addDays=function(t,e){var n=new Date(t.getTime());return n.setDate(n.getDate()+e),n},i.addHours=function(t,e){return i.addMinutes(t,60*e)},i.addMinutes=function(t,e){return i.addSeconds(t,60*e)},i.addSeconds=function(t,e){return i.addMilliseconds(t,1e3*e)},i.addMilliseconds=function(t,e){return new Date(t.getTime()+e)},i.subtract=function(t,e){var n=t.getTime()-e.getTime();return{toMilliseconds:function(){return n},toSeconds:function(){return n/1e3},toMinutes:function(){return n/6e4},toHours:function(){return n/36e5},toDays:function(){return n/864e5}}},i.isLeapYear=function(t){return!((t%4||!(t%100))&&t%400)},i.isSameDay=function(t,e){return t.toDateString()===e.toDateString()},i.locale=function(t,e){return e?h(t,{res:u,formatter:l,parser:c},e):"function"==typeof t?a=t(i):t&&(n&&!n.date&&console.warn("This method of changing the locale is deprecated. See documentation for details."),a=t),a},i.extend=function(t){var e=t.extender||{};for(var n in e)i[n]||(i[n]=e[n]);(t.formatter||t.parser||t.res)&&h(a,o[a],t)},i.plugin=function(t,e){"function"==typeof t?i.extend(s[t(i)]):(s[t]=s[t]||e,!e&&s[t]&&(i.extend(s[t]),n&&!n.date&&console.warn("This method of applying plugins is deprecated. See documentation for details.")))},i.locale(a,{}),"object"==typeof t.exports?t.exports=i:void 0===(r=(function(){return i}).apply(e,[]))||(t.exports=r)}(this)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){e=a instanceof c?f(a.errors):[a]}}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(l(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof c?e=e.concat(f(a.errors)):e.push(a)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class d extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof d?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new d(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends d{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function m(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof d)return t;if(t[p])return t[p]()}return t||e||n?new d(t,e,n):new d(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof d?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?m:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const E=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class b extends d{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new b(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}function I(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(t,e))}}class A{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new D(t,this.project,this.thisArg))}}class D extends d{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const T=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=N(),R=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function F(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[y])return r=t,t=>{const e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return T(t);if(F(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function L(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function M(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(F(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(R(t))return L(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(P(t))}class k extends d{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class B extends d{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(!e.closed)return t instanceof _?t.subscribe(e):P(t)(e)}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(j((n,r)=>M(t(n,r)).pipe(I((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new G(t,n)))}class G{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends B{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new k(this),n=this.destination;n.add(e);const r=U(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t=Number.POSITIVE_INFINITY){return j(m,t)}function q(t,e){return e?L(t,e):new _(T(t))}function H(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return x(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:W(e)(q(t,n))}function z(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new $(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class $ extends d{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return z()(this)}}const K=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Q(){return new S}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rt=J({__forward_ref__:J});function it(t){return t.__forward_ref__=it,t.toString=function(){return et(this())},t}function ot(t){return st(t)?t():t}function st(t){return"function"==typeof t&&t.hasOwnProperty(rt)&&t.__forward_ref__===it}class at extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ut(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ut(t)}function ct(t,e){const n=e?` in ${e}`:"";throw new at("201",`No provider for ${lt(t)} found${n}`)}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return dt(t,yt)||dt(t,_t)}function dt(t,e){return t.hasOwnProperty(e)?t[e]:null}function gt(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(vt))?t[mt]:null}const yt=J({"\u0275prov":J}),mt=J({"\u0275inj":J}),_t=J({ngInjectableDef:J}),vt=J({ngInjectorDef:J});var Et=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let wt;function bt(t){const e=wt;return wt=t,e}function St(t,e,n){const r=pt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Et.Optional?null:void 0!==e?e:void ct(et(t),"Injector")}function Ct(t){return{toString:t}.toString()}var xt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),It=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const At="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt="undefined"!=typeof global&&global,Ot=At||Nt||Dt||Tt,Rt={},Ft=[],Pt=J({"\u0275cmp":J}),Lt=J({"\u0275dir":J}),Mt=J({"\u0275pipe":J}),kt=J({"\u0275mod":J}),Bt=J({"\u0275loc":J}),Ut=J({"\u0275fac":J}),jt=J({__NG_ELEMENT_ID__:J});let Gt=0;function Vt(t){return Ct(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,id:"c",styles:t.styles||Ft,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Gt++,n.inputs=Yt(t.inputs,e),n.outputs=Yt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Wt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(qt):null,n})}function Wt(t){return Xt(t)||function(t){return t[Lt]||null}(t)}function qt(t){return function(t){return t[Mt]||null}(t)}const Ht={};function zt(t){const e={type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Ct(()=>{Ht[t.id]=t.type}),e}function Yt(t,e){if(null==t)return Rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const $t=Vt;function Xt(t){return t[Pt]||null}function Kt(t,e){const n=t[kt]||null;if(!n&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}const Zt=20,Qt=10;function Jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function te(t){return Array.isArray(t)&&!0===t[1]}function ee(t){return 0!=(8&t.flags)}function ne(t){return 2==(2&t.flags)}function re(t){return 1==(1&t.flags)}function ie(t){return null!==t.template}function oe(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return ue}function ue(t){return t.type.prototype.ngOnChanges&&(t.setInput=ce),le}function le(){const t=he(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,r){const i=he(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Rt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new se(u&&u.currentValue,e,s===Rt),t[r]=e}function he(t){return t.__ngSimpleChanges__||null}let fe;function pe(t){return!!t.listen}ae.ngInherit=!0;const de={createRenderer:(t,e)=>void 0!==fe?fe:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function ye(t,e){return ge(e[t])}function me(t,e){return ge(e[t.index])}function _e(t,e){return t.data[e]}function ve(t,e){const n=e[t];return Jt(n)?n:n[0]}function Ee(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function we(t){return 4==(4&t[2])}function be(t){return 128==(128&t[2])}function Se(t,e){return null==e?null:t[e]}function Ce(t){t[18]=0}function xe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ie={lFrame:ze(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ae(){return Ie.bindingsEnabled}function De(){return Ie.lFrame.lView}function Te(){return Ie.lFrame.tView}function Ne(){let t=Oe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oe(){return Ie.lFrame.currentTNode}function Re(t,e){const n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function Fe(){return Ie.lFrame.isParent}function Pe(){Ie.lFrame.isParent=!1}function Le(){return Ie.isInCheckNoChangesMode}function Me(t){Ie.isInCheckNoChangesMode=t}function ke(){return Ie.lFrame.bindingIndex++}function Be(t,e){const n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ue(e)}function Ue(t){Ie.lFrame.currentDirectiveIndex=t}function je(){return Ie.lFrame.currentQueryIndex}function Ge(t){Ie.lFrame.currentQueryIndex=t}function Ve(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function We(t,e,n){if(n&Et.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Et.Host||(r=Ve(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ie.lFrame=He();return r.currentTNode=e,r.lView=t,!0}function qe(t){const e=He(),n=t[1];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function He(){const t=Ie.lFrame,e=null===t?null:t.child;return null===e?ze(t):e}function ze(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ye(){const t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $e=Ye;function Xe(){const t=Ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ke(){return Ie.lFrame.selectedIndex}function Ze(t){Ie.lFrame.selectedIndex=t}function Qe(){const t=Ie.lFrame;return _e(t.tView,t.selectedIndex)}function Je(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function tn(t,e,n){rn(t,e,3,n)}function en(t,e,n,r){(3&t[2])===n&&rn(t,e,n,r)}function nn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function rn(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(on(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function on(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const sn=-1;class an{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function un(t,e,n){const r=pe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];cn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ln(t){return 3===t||4===t||6===t}function cn(t){return 64===t.charCodeAt(0)}function hn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function fn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function pn(t){return t!==sn}function dn(t){return 32767&t}function gn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let yn=!0;function mn(t){const e=yn;return yn=t,e}let _n=0;function vn(t,e){const n=wn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,En(r.data,t),En(e,null),En(r.blueprint,null));const i=bn(t,e),o=t.injectorIndex;if(pn(i)){const t=dn(i),n=gn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function En(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function bn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return sn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return sn}function Sn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(jt)&&(r=n[jt]),null==r&&(r=n[jt]=_n++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Cn(t,e,n){if(n&Et.Optional)return t;ct(e,"NodeInjector")}function xn(t,e,n,r){if(n&Et.Optional&&void 0===r&&(r=null),0==(n&(Et.Self|Et.Host))){const i=t[9],o=bt(void 0);try{return i?i.get(e,r,n&Et.Optional):St(e,r,n&Et.Optional)}finally{bt(o)}}return Cn(r,e,n)}function In(t,e,n,r=Et.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(jt)?t[jt]:void 0;return"number"==typeof e?e>=0?255&e:Dn:e}(n);if("function"==typeof o){if(!We(e,t,r))return r&Et.Host?Cn(i,n,r):xn(e,n,r,i);try{const t=o();if(null!=t||r&Et.Optional)return t;ct(n)}finally{$e()}}else if("number"==typeof o){let i=null,s=wn(t,e),a=sn,u=r&Et.Host?e[16][6]:null;for((-1===s||r&Et.SkipSelf)&&(a=-1===s?bn(t,e):e[s+8],a!==sn&&Fn(r,!1)?(i=e[1],s=dn(a),e=gn(a,e)):s=-1);-1!==s;){const t=e[1];if(Rn(o,s,t.data)){const t=Tn(s,e,n,i,r,u);if(t!==An)return t}a=e[s+8],a!==sn&&Fn(r,e[1].data[s+8]===u)&&Rn(o,s,e)?(i=t,s=dn(a),e=gn(a,e)):s=-1}}}return xn(e,n,r,i)}const An={};function Dn(){return new Pn(Ne(),De())}function Tn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Nn(a,s,n,null==r?ne(a)&&yn:r!=s&&0!=(3&a.type),i&Et.Host&&o===a);return null!==u?On(e,s,u,a):An}function Nn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,c=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<c;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ie(t)&&t.type===n)return u}return null}function On(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof an){const s=i;s.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(lt(o[n]));const a=mn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?bt(s.injectImpl):null;We(t,r,Et.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ue(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&bt(u),mn(a),s.resolving=!1,$e()}}return i}function Rn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Fn(t,e){return!(t&Et.Self||t&Et.Host&&e)}class Pn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return In(this._tNode,this._lView,t,void 0,e)}}function Ln(t){const e=t;if(st(t))return()=>{const t=Ln(ot(e));return t?t():null};let n=oe(e);if(null===n){const t=gt(e);n=t&&t.factory}return n||null}function Mn(t){return Ct(()=>{const e=t.prototype.constructor,n=e[Ut]||Ln(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Ut]||Ln(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function kn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ln(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ne(),t)}const Bn="__parameters__";function Un(t,e,n){return Ct(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Bn)?t[Bn]:Object.defineProperty(t,Bn,{value:[]})[Bn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class jn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gn=new jn("AnalyzeForEntryComponents"),Vn=Function;function Wn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Wn(r,e)):e!==t&&e.push(r)}return e}function qn(t,e){t.forEach(t=>Array.isArray(t)?qn(t,e):e(t))}function Hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function $n(t,e,n){let r=Kn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Xn(t,e){const n=Kn(t,e);if(n>=0)return t[1|n]}function Kn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Zn={},Qn=/\n/gm,Jn="__source",tr=J({provide:String,useValue:J});let er;function nr(t){const e=er;return er=t,e}function rr(t,e=Et.Default){if(void 0===er)throw new Error("inject() must be called from an injection context");return null===er?St(t,void 0,e):er.get(t,e&Et.Optional?null:void 0,e)}function ir(t,e=Et.Default){return(wt||rr)(ot(t),e)}const or=ir;function sr(t){const e=[];for(let n=0;n<t.length;n++){const r=ot(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=Et.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(ir(t,n))}else e.push(ir(r))}return e}function ar(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const ur=ar(Un("Inject",t=>({token:t})),-1),lr=ar(Un("Optional"),8),cr=ar(Un("SkipSelf"),4);function hr(t){return t.ngDebugContext}function fr(t){return t.ngOriginalError}function pr(t,...e){t.error(...e)}class dr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hr(t)?hr(t):this._findContext(fr(t)):null}_findOriginalError(t){let e=fr(t);for(;e&&fr(e);)e=fr(e);return e}}function gr(t,e){t.__ngContext__=e}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function mr(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function vr(t,e){return(void 0)(t,e)}function Er(t){const e=t[3];return te(e)?e[3]:e}function wr(t){return Sr(t[13])}function br(t){return Sr(t[4])}function Sr(t){for(;null!==t&&!te(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){let o,s=!1;te(r)?o=r:Jt(r)&&(s=!0,r=r[0]);const a=ge(r);0===t&&null!==n?null==i?Rr(e,n,a):Or(e,n,a,i||null,!0):1===t&&null!==n?Or(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Pr(t,e);r&&function(t,e,n,r){pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ge(n)&&Cr(e,t,r,o,i);for(let s=Qt;s<n.length;s++){const i=n[s];Vr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function xr(t,e,n){return pe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,xe(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=Qt)return;const n=Qt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const s=zn(t,Qt+e);Vr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];pe(n)&&n.destroyNode&&Vr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Tr(t[1],t);for(;e;){let n=null;if(Jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Jt(e)&&Tr(e[1],e),e=e[3];null===e&&(e=t),Jt(e)&&Tr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Tr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof an)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ge(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&pe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&te(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===It.None||e===It.Emulated)return null}return me(r,n)}(t,e.parent,n)}function Or(t,e,n,r,i){pe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){pe(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Or(t,e,n,r,i):Rr(t,e,n)}function Pr(t,e){return pe(t)?t.parentNode(e):e.parentNode}function Lr(t,e,n){return Mr(t,e,n)}let Mr=function(t,e,n){return 40&t.type?me(t,n):null};function kr(t,e,n,r){const i=Nr(t,r,e),o=e[11],s=Lr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(o,i,n[a],s,!1);else Fr(o,i,n,s,!1)}function Br(t,e){if(null!==e){const n=e.type;if(3&n)return me(e,t);if(4&n)return jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Br(t,n);{const n=t[e.index];return te(n)?jr(-1,n):ge(n)}}if(32&n)return vr(e,t)()||ge(t[e.index]);{const n=Ur(t,e);return null!==n?Array.isArray(n)?n[0]:Br(Er(t[16]),n):Br(t,e.next)}}return null}function Ur(t,e){return null!==e?t[16][6].projection[e.projection]:null}function jr(t,e){const n=Qt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Br(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&gr(ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,o,!1),Cr(e,t,i,a,o);else if(32&u){const s=vr(n,r);let u;for(;u=s();)Cr(e,t,i,u,o);Cr(e,t,i,a,o)}else 16&u?Wr(t,e,r,n,i,o):Cr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Vr(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function Wr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Cr(e,t,i,a[u],o);else Gr(t,e,a,s[3],i,o,!0)}function qr(t,e,n){pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hr(t,e,n){pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Yr="ng-template";function $r(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&t.value!==Yr}function Kr(t,e,n){return e===(4!==t.type||n?t.value:Yr)}function Zr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ln(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Kr(t,u,n)||""===u&&1===e.length){if(Qr(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!$r(t.attrs,l,n)){if(Qr(r))return!1;s=!0}continue}const c=Jr(8&r?"class":u,i,Xr(t),n);if(-1===c){if(Qr(r))return!1;s=!0;continue}if(""!==l){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==zr(e,l,0)||2&r&&l!==t){if(Qr(r))return!1;s=!0}}}}else{if(!s&&!Qr(r)&&!Qr(u))return!1;if(s&&Qr(u))continue;s=!1,r=u|1&r}}return Qr(r)||s}function Qr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ei(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ni(t,e){return t?":not("+e.trim()+")":e}function ri(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Qr(s)||(e+=ni(o,i),i=""),r=s,o=o||!Qr(r);n++}return""!==i&&(e+=ni(o,i)),e}const ii={};function oi(t){si(Te(),De(),Ke()+t,Le())}function si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&tn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&en(e,r,0,n)}Ze(n)}function ai(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function li(t){return 2|t}function ci(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function fi(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ge(i),n.contentQueries(2,e[o],o)}}}function di(t,e,n,r,i,o,s,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Ce(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function gi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Oe(),s=Fe(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ie.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Re(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mi(t,e,n){qe(e);try{const r=t.viewQuery;null!==r&&Yi(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Yi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Vi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Xe()}}function _i(t,e,n,r){const i=e[2];if(256==(256&i))return;qe(e);const o=Le();try{Ce(e),Ie.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&tn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&en(e,n,0,null),nn(e,0)}if(function(t){for(let e=wr(t);null!==e;e=br(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&xe(r,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=br(e))for(let t=Qt;t<e.length;t++){const n=e[t],r=n[1];be(n)&&_i(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&tn(e,n)}else{const n=t.contentHooks;null!==n&&en(e,n,1),nn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ze(~r);else{const i=r,o=n[++t],s=n[++t];Be(o,i),s(2,e[i])}}}finally{Ze(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ji(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Yi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&tn(e,n)}else{const n=t.viewHooks;null!==n&&en(e,n,2),nn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,xe(e[3],-1))}finally{Xe()}}function vi(t,e,n,r){const i=e[10],o=!Le(),s=we(e);try{o&&!s&&i.begin&&i.begin(),s&&mi(t,e,r),_i(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ei(t,e,n,r,i){const o=Ke();try{Ze(-1),2&r&&e.length>Zt&&si(t,e,Zt,Le()),n(r,i)}finally{Ze(o)}}function wi(t,e,n){if(ee(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function bi(t,e,n){Ae()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||vn(n,e),gr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ie(r);o&&Mi(e,n,r);const u=On(e,t,a,n);gr(u,e),null!==s&&ki(0,a-i,u,r,0,s),o&&(ve(n.index,e)[8]=u)}}(t,e,n,me(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ie.lFrame.currentDirectiveIndex;try{Ze(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Oi(r,i)}}finally{Ze(-1),Ue(s)}}(t,e,n))}function Si(t,e,n=me){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ci(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=xi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function xi(t,e,n,r,i,o,s,a,u,l){const c=Zt+r,h=c+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}(c,h),p="function"==typeof l?l():l;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Xi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ki(t).push(r,i.length-1))}function Ai(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=me(e,n);let l,c=e.inputs;var h;!a&&null!=c&&(l=c[r])?(Qi(t,n,l,r,i),ne(e)&&function(t,e){const n=ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,pe(o)?o.setProperty(u,r,i):cn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ti(t,e,n,r){let i=!1;if(Ae()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ti(n,s.selectors,!1)&&(i||(i=[]),Sn(vn(n,e),t,s.type),ie(s)?(Ri(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=hn(n.mergedAttrs,l.hostAttrs),Li(t,n,e,u,l),Fi(u,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const c=l.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||Xr(e)?null:Bi(n,i);o.push(l),s=Ai(n,u,s),a=Ai(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new at("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=hn(n.mergedAttrs,n.attrs),i}function Ni(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ie(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=oe(i.type)),s=new an(o,ie(i),null);t.blueprint[r]=s,n[r]=s,Ni(t,e,0,r,yi(t,n,i.hostVars,ii),i)}function Mi(t,e,n){const r=me(e,t),i=Ci(n),o=t[10],s=Wi(t,di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ki(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Bi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ji(t,e){const n=ve(e,t);if(be(n)){const t=n[1];80&n[2]?_i(t,n,t.template,n[8]):n[5]>0&&Gi(n)}}function Gi(t){for(let n=wr(t);null!==n;n=br(n))for(let t=Qt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];_i(t,e,t.template,e[8])}else e[5]>0&&Gi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ve(e[n],t);be(r)&&r[5]>0&&Gi(r)}}function Vi(t,e){const n=ve(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),mi(r,n,n[8])}function Wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qi(t){for(;t;){t[2]|=64;const e=Er(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Hi(t,e,n){const r=e[10];r.begin&&r.begin();try{_i(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ee(n),i=r[1];vi(i,r,i.template,n)}}(t[8])}function Yi(t,e,n){Ge(0),e(t,n)}const $i=(()=>Promise.resolve(null))();function Xi(t){return t[7]||(t[7]=[])}function Ki(t){return t.cleanup||(t.cleanup=[])}function Zi(t,e){const n=t[9],r=n?n.get(dr,null):null;r&&r.handleError(e)}function Qi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],l=t.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Ji(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=nt(i,t):2==o&&(r=nt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const to=new jn("INJECTOR",-1);class eo{get(t,e=Zn){if(e===Zn){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const no=new jn("Set Injector scope."),ro={},io={},oo=[];let so;function ao(){return void 0===so&&(so=new eo),so}function uo(t,e=null,n=null,r){return new lo(t,n,e||ao(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&qn(e,n=>this.processProvider(n,t,e)),qn([t],t=>this.processInjectorType(t,[],i)),this.records.set(to,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Zn,n=Et.Default){this.assertNotDestroyed();const r=nr(this);try{if(!(n&Et.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof jn)&&pt(t);e=n&&this.injectableDefInScope(n)?fo(co(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Et.Self?ao():this.parent).get(t,e=n&Et.Optional&&e===Zn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(et(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Jn]&&i.unshift(e[Jn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):et(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Qn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{nr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=ot(t)))return!1;let r=gt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=gt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{qn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];qn(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const a=r.providers;if(null!=a&&!s){const e=t;qn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=ot(t))?t:ot(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>sr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function co(t){const e=pt(t),n=null!==e?e.factory:oe(t);if(null!==n)return n;const r=gt(t);if(null!==r)return r.factory;if(t instanceof jn)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Yn(e,"?");throw new Error(`Can't resolve all parameters for ${et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[yt]||t[_t]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r;if(go(t)){const e=ot(t);return oe(e)||co(e)}if(po(t))r=()=>ot(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...sr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ir(ot(t.useExisting));else{const e=ot(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return oe(e)||co(e);r=()=>new e(...sr(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&tr in t}function go(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Zn,t.NULL=new eo,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>ir(to)}),t.__NG_ELEMENT_ID__=-1,t})();function _o(t,e){Je(Ee(t)[1],Ne())}function vo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ie(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Eo(t.inputs),e.declaredInputs=Eo(t.declaredInputs),e.outputs=Eo(t.outputs);const n=i.hostBindings;n&&So(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&wo(t,o),s&&bo(t,s),tt(t.inputs,i.inputs),tt(t.declaredInputs,i.declaredInputs),tt(t.outputs,i.outputs),ie(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hn(i.hostAttrs,n=hn(n,i.hostAttrs))}}(r)}function Eo(t){return t===Rt?{}:t===Ft?[]:t}function wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function bo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function So(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Co=null;function xo(){if(!Co){const t=Ot.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}function Io(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Do(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function To(t,e,n,r){const i=De();return Do(i,ke(),e)&&(Te(),function(t,e,n,r,i,o){const s=me(t,e);!function(t,e,n,r,i,o,s){if(null==o)pe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?ut(o):s(o,r||"",i);pe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Qe(),i,t,e,n,r)),To}function No(t,e,n,r,i,o,s,a){const u=De(),l=Te(),c=t+Zt,h=l.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const l=e.consts,c=gi(e,t,4,s||null,Se(l,a));Ti(e,n,c,Se(l,u)),Je(e,c);const h=c.tViews=xi(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,o,s):l.data[c];Re(h,!1);const f=u[11].createComment("");kr(l,u,f,h),gr(f,u),Wi(u,u[c]=Ui(f,u,f,h)),re(h)&&bi(l,u,h),null!=s&&Si(u,h,a)}function Oo(t,e=Et.Default){const n=De();return null===n?ir(t,e):In(Ne(),n,ot(t),e)}function Ro(t,e,n){const r=De();return Do(r,ke(),e)&&Di(Te(),Qe(),r,t,e,r[11],n,!1),Ro}function Fo(t,e,n,r,i){const o=i?"class":"style";Qi(t,n,e.inputs[o],o,r)}function Po(t,e,n,r){const i=De(),o=Te(),s=Zt+t,a=i[11],u=i[s]=xr(a,e,Ie.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=gi(e,t,2,i,Se(a,o));return Ti(e,n,u,Se(a,s)),null!==u.attrs&&Ji(u,u.attrs,!1),null!==u.mergedAttrs&&Ji(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Re(l,!0);const c=l.mergedAttrs;null!==c&&un(a,u,c);const h=l.classes;null!==h&&Hr(a,u,h);const f=l.styles;null!==f&&qr(a,u,f),64!=(64&l.flags)&&kr(o,i,u,l),0===Ie.lFrame.elementDepthCount&&gr(u,i),Ie.lFrame.elementDepthCount++,re(l)&&(bi(o,i,l),wi(o,l,i)),null!==r&&Si(i,l)}function Lo(){let t=Ne();Fe()?Pe():(t=t.parent,Re(t,!1));const e=t;Ie.lFrame.elementDepthCount--;const n=Te();n.firstCreatePass&&(Je(n,t),ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fo(n,e,De(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fo(n,e,De(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Po(t,e,n,r),Lo()}function ko(t,e,n){const r=De(),i=Te(),o=t+Zt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Se(o,r),a=gi(e,t,8,"ng-container",s);return null!==s&&Ji(a,s,!0),Ti(e,n,a,Se(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Re(s,!0);const a=r[o]=r[11].createComment("");kr(i,r,a,s),gr(a,r),re(s)&&(bi(i,r,s),wi(i,s,r)),null!=n&&Si(r,s)}function Bo(){let t=Ne();const e=Te();Fe()?Pe():(t=t.parent,Re(t,!1)),e.firstCreatePass&&(Je(e,t),ee(t)&&e.queries.elementEnd(t))}function Uo(t){return!!t&&"function"==typeof t.then}const jo=function(t){return!!t&&"function"==typeof t.subscribe};function Go(t,e,n=!1,r){const i=De(),o=Te(),s=Ne();return function(t,e,n,r,i,o,s=!1,a){const u=re(r),l=t.firstCreatePass&&Ki(t),c=Xi(e);let h=!0;if(3&r.type){const f=me(r,e),p=a?a(f):Rt,d=p.target||f,g=c.length,y=a?t=>a(ge(t[r.index])).target:r.index;if(pe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Wo(r,e,o,!1);const t=n.listen(p.name||d,i,o);c.push(o,t),l&&l.push(i,y,g,g+1)}}else o=Wo(r,e,o,!0),d.addEventListener(i,o,s),c.push(o),l&&l.push(i,y,g,s)}else o=Wo(r,e,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=c.length;c.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Go}function Vo(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function Wo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ve(t.index,e):e;0==(32&e[2])&&qi(s);let a=Vo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Vo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function qo(t=1){return function(t){return(Ie.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ie.lFrame.contextLView))[8]}(t)}function Ho(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ti(t,o,!0):ei(r,o))return i}else n=i}return n}function zo(t){const e=De()[16][6];if(!e.projection){const n=e.projection=Yn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ho(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Yo(t,e=0,n){const r=De(),i=Te(),o=gi(i,Zt+t,16,null,n||null);null===o.projection&&(o.projection=e),Pe(),64!=(64&o.flags)&&function(t,e,n){Wr(e[11],0,e,n,Nr(t,n,e),Lr(n.parent||e[6],n,e))}(i,r,o)}const $o=[];function Xo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ui(o):ci(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Ko(t[a],e)&&(u=!0,t[a+1]=r?fi(n):li(n)),a=r?ui(n):ci(n)}u&&(t[n+1]=r?li(o):fi(o))}function Ko(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Kn(t,e)>=0}function Zo(t,e){return function(t,e,n,r){const i=De(),o=Te(),s=function(t){const e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ke()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ie.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Jo(n=Qo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Qo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ci(r))return t[ui(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Qo(null,t,e,n[1],r),n=Jo(n,e.attrs,r),function(t,e,n,r){t[ui(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Jo(r,t[o].hostAttrs,true);return Jo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ui(s),u=ci(s);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||Kn(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=ui(t[a+1]);t[r+1]=ai(e,a),0!==e&&(t[e+1]=hi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ai(a,0),0!==a&&(t[a+1]=hi(t[a+1],r)),a=r;else t[r+1]=ai(u,0),0===a?a=r:t[u+1]=hi(t[u+1],r),u=r;c&&(t[r+1]=li(t[r+1])),Xo(t,l,r,!0),Xo(t,l,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Kn(o,e)>=0&&(n[r+1]=fi(n[r+1]))}(e,l,t,r),s=ai(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ii&&Do(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];es(1==(1&l)?ts(u,e,n,i,ci(l),s):void 0)||(es(o)||function(t){return 2==(2&t)}(l)&&(o=ts(u,null,n,i,a,s)),function(t,e,n,r,i){const o=pe(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,ye(Ke(),n),i,o))}(o,o.data[Ke()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=et(function(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t))),t}(e),true,s)}(t,e),Zo}function Qo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Jo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$n(t,s,!!n||e[++o]))}return void 0===t?null:t}function ts(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,l=null===u;let c=n[i+1];c===ii&&(c=l?$o:void 0);let h=l?Xn(c,r):u===r?c:void 0;if(o&&!es(h)&&(h=Xn(e,r)),es(h)&&(a=h,s))return a;const f=t[i+1];i=s?ui(f):ci(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Xn(t,r))}return a}function es(t){return void 0!==t}function ns(t,e=""){const n=De(),r=Te(),i=t+Zt,o=r.firstCreatePass?gi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return pe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);kr(r,n,s,o),Re(o,!1)}function rs(t){return is("",t,""),rs}function is(t,e,n){const r=De(),i=function(t,e,n,r){return Do(t,ke(),n)?e+ut(n)+r:ii}(r,t,e,n);return i!==ii&&function(t,e,n){const r=ye(e,t);!function(t,e,n){pe(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Ke(),i),is}function os(t,e,n){const r=De();return Do(r,ke(),e)&&Di(Te(),Qe(),r,t,e,r[11],n,!0),os}const ss=void 0;var as=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let us={};function ls(t){return t in us||(us[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),us[t]}var cs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const hs="en-US";let fs=hs;function ps(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fs=t.toLowerCase().replace(/_/g,"-"))}function ds(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)ds(t[o],e,n,r,i);else{const o=Te(),s=De();let a=go(t)?t:ot(t.provide),u=ho(t);const l=Ne(),c=1048575&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>20;if(go(t)||!t.multi){const r=new an(u,i,Oo),p=ms(a,e,i?c:c+f,h);-1===p?(Sn(vn(l,s),o,a),gs(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=ms(a,e,c+f,h),d=ms(a,e,c,c+f),g=p>=0&&n[p],y=d>=0&&n[d];if(i&&!y||!i&&!g){Sn(vn(l,s),o,a);const c=function(t,e,n,r,i){const o=new an(t,n,Oo);return o.multi=[],o.index=e,o.componentProviders=0,ys(o,i,r&&!n),o}(i?vs:_s,n.length,i,r,u);!i&&y&&(n[d].providerFactory=c),gs(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(c),s.push(c)}else gs(o,t,p>-1?p:d,ys(n[i?d:p],u,!i&&r));!i&&r&&y&&n[d].componentProviders++}}}function gs(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ys(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _s(t,e,n,r){return Es(this.multi,[])}function vs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=On(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Es(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Es(i,o);return o}function Es(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ws(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Te();if(r.firstCreatePass){const i=ie(t);ds(n,r.data,r.blueprint,i,!0),ds(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class bs{}class Ss{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Cs=(()=>{class t{}return t.NULL=new Ss,t})();function xs(...t){}function Is(t,e){return new Ds(me(t,e))}const As=function(){return Is(Ne(),De())};let Ds=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=As,t})();function Ts(t){return t instanceof Ds?t.nativeElement:t}class Ns{}let Os=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Rs(),t})();const Rs=function(){const t=De(),e=ve(Ne().index,t);return function(t){return t[11]}(Jt(e)?e:t)};let Fs=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class Ps{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ls=new Ps("11.2.3");class Ms{constructor(){}supports(t){return Io(t)}create(t){return new Bs(t)}}const ks=(t,e)=>e;class Bs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ks}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Vs(n,r,i)?e:n,s=Vs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Us(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Us{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class js{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Gs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new js,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ws{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new qs}}class qs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Hs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Hs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zs(){return new Ys([new Ms])}let Ys=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||zs()),deps:[[t,new cr,new lr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:zs}),t})();function $s(){return new Xs([new Ws])}let Xs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||$s()),deps:[[t,new cr,new lr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:$s}),t})();function Ks(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ge(o)),te(o))for(let t=Qt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ks(e[1],e,n,r)}const s=n.type;if(8&s)Ks(t,e,n.child,r);else if(32&s){const t=vr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Ur(e,n);if(Array.isArray(t))r.push(...t);else{const n=Er(e[16]);Ks(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Zs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ks(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(te(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),zn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Me(!0);try{Hi(t,e,n)}finally{Me(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Vr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qs extends Zs{constructor(t){super(t),this._view=t}detectChanges(){zi(this._view)}checkNoChanges(){!function(t){Me(!0);try{zi(t)}finally{Me(!1)}}(this._view)}get context(){return null}}const Js=function(t=!1){return function(t,e,n){if(!n&&ne(t)){const n=ve(t.index,e);return new Zs(n,n)}return 47&t.type?new Zs(e[16],e):null}(Ne(),De(),t)};let ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Js,t.__ChangeDetectorRef__=!0,t})();const ea=[new Ws],na=new Ys([new Ms]),ra=new Xs(ea),ia=function(){return ua(Ne(),De())};let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ia,t})();const sa=oa,aa=class extends sa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),mi(e,n,t),new Zs(n)}};function ua(t,e){return 4&t.type?new aa(e,t,Is(t,e)):null}class la{}class ca{}const ha=function(){return ma(Ne(),De())};let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t})();const pa=fa,da=class extends pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){const t=bn(this._hostTNode,this._hostLView);if(pn(t)){const e=gn(t,this._hostLView),n=dn(t);return new Pn(e[1].data[n+8],e)}return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ga(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(la,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new da(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Qt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Qt?(e[4]=n[i],Hn(n,Qt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=jr(i,o),a=n[11],u=Pr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Vr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Hn(ya(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ga(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(zn(ya(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=zn(ya(this._lContainer),e)?new Zs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ga(t){return t[8]}function ya(t){return t[8]||(t[8]=[])}function ma(t,e){let n;const r=e[t.index];if(te(r))n=r;else{let i;if(8&t.type)i=ge(r);else{const n=e[11];i=n.createComment("");const r=me(t,e);Or(n,Pr(n,r),i,function(t,e){return pe(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),Wi(e,n)}return new da(n,t,e)}const _a={};class va extends Cs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new ba(e,this.ngModule)}}function Ea(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const wa=new jn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class ba extends bs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ea(this.componentDef.inputs)}get outputs(){return Ea(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,_a,i);return o!==_a||r===_a?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ns,de),s=i.get(Fs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(pe(t))return t.selectRootElement(e,n===It.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:$i,playerHandler:null,flags:0},f=xi(0,null,null,1,0,null,null,null,null,null),p=di(null,f,h,c,null,null,o,a,s,i);let d,g;qe(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=gi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ji(a,u,!0),null!==t&&(un(i,t,u),null!==a.classes&&Hr(i,t,a.classes),null!==a.styles&&qr(i,t,a.styles)));const l=r.createRenderer(t,e),c=di(n,Ci(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(Sn(vn(a,n),s,e.type),Ri(s,a),Pi(a,n.length,1)),Wi(n,c),n[20]=c}(l,this.componentDef,p,o,a);if(l)if(n)un(a,l,["ng-version",Ls.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Qr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&un(a,l,t),e&&e.length>0&&Hr(a,l,e.join(" "))}if(g=_e(f,Zt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}d=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ne();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(t,r,e,yi(t,e,1,null),n));const i=On(e,t,r.directiveStart,r);gr(i,e);const o=me(r,e);return o&&gr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ne();e.contentQueries(1,s,t.directiveStart)}const a=Ne();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ze(a.index),Ni(n[1],a,0,a.directiveStart,a.directiveEnd,e),Oi(e,s)),s}(t,this.componentDef,p,h,[_o]),mi(f,p,null)}finally{Xe()}return new Sa(this.componentType,d,Is(g,p),p,g)}}class Sa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Qs(r),this.componentType=t}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ca=new Map;class xa extends la{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new va(this);const n=Kt(t),r=t[Bt]||null;r&&ps(r),this._bootstrapComponents=mr(n.bootstrap),this._r3Injector=uo(t,e,[{provide:la,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=Et.Default){return t===mo||t===la||t===to?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ia extends ca{constructor(t){super(),this.moduleType=t,null!==Kt(t)&&function(t){const e=new Set;!function t(n){const r=Kt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(i,Ca.get(i),n),Ca.set(i,n));const o=mr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new xa(this.moduleType,t)}}const Aa=class extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function Da(){return this._results[xo()]()}class Ta{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xo(),n=Ta.prototype;n[e]||(n[e]=Da)}get changes(){return this._changes||(this._changes=new Aa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Wn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Na{constructor(t){this.queryList=t,this.matches=null}clone(){return new Na(this.queryList)}setDirty(){this.queryList.setDirty()}}class Oa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Oa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ha(t,e).matches&&this.queries[e].setDirty()}}class Ra{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Fa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Fa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,La(e,i)),this.matchTNodeWithReadOption(t,e,Nn(e,t,i,!1,!1))}else n===oa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Nn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ds||r===fa||r===oa&&4&e.type)this.addMatch(e.index,-2);else{const n=Nn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function La(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ma(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Is(t,e):4&t.type?ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ds?Is(e,t):n===oa?ua(e,t):n===fa?ma(e,t):void 0}(t,e,r):On(t,t[1],n,e)}function ka(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ma(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ba(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=ka(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Qt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ba(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ba(n[1],n,i,r)}}}}}return r}function Ua(t){const e=De(),n=Te(),r=je();Ge(r+1);const i=Ha(n,r);if(t.dirty&&we(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ba(n,e,r,[]):ka(n,e,i,r);t.reset(o,Ts),t.notifyOnChanges()}return!0}return!1}function ja(t,e,n){const r=Te();r.firstCreatePass&&(qa(r,new Ra(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Wa(r,De(),e)}function Ga(t,e,n,r){const i=Te();if(i.firstCreatePass){const o=Ne();qa(i,new Ra(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Wa(i,De(),n)}function Va(){return t=De(),e=je(),t[19].queries[e].queryList;var t,e}function Wa(t,e,n){const r=new Ta(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new Oa),e[19].queries.push(new Na(r))}function qa(t,e,n){null===t.queries&&(t.queries=new Fa),t.queries.track(new Pa(e,n))}function Ha(t,e){return t.queries.getByIndex(e)}const za=new jn("Application Initializer");let Ya=(()=>{class t{constructor(t){this.appInits=t,this.resolve=xs,this.reject=xs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ir(za,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const $a=new jn("AppId"),Xa={provide:$a,useFactory:function(){return`${Ka()}${Ka()}${Ka()}`},deps:[]};function Ka(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Za=new jn("Platform Initializer"),Qa=new jn("Platform ID"),Ja=new jn("appBootstrapListener");let tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const eu=new jn("LocaleId"),nu=new jn("DefaultCurrencyCode");class ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const iu=function(t){return new Ia(t)},ou=iu,su=function(t){return Promise.resolve(iu(t))},au=function(t){const e=iu(t),n=mr(Kt(t).declarations).reduce((t,e)=>{const n=Xt(e);return n&&t.push(new ba(n)),t},[]);return new ru(e,n)},uu=au,lu=function(t){return Promise.resolve(au(t))};let cu=(()=>{class t{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=lu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const hu=(()=>Promise.resolve(0))();function fu(t){"undefined"==typeof Zone?hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yu(t),gu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return mu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),_u(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return mu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),_u(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,yu(t),gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,du,xs,xs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const du={};function gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function mu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _u(t){t._nesting--,gu(t)}class vu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Eu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pu.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ir(pu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),wu=(()=>{class t{constructor(){this._applications=new Map,Cu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class bu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Su,Cu=new bu,xu=!0,Iu=!1;function Au(){return Iu=!0,xu}const Du=new jn("AllowMultipleToken");class Tu{constructor(t,e){this.name=t,this.token=e}}function Nu(t,e,n=[]){const r=`Platform: ${e}`,i=new jn(r);return(e=[])=>{let o=Ou();if(!o||o.injector.get(Du,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(Su&&!Su.destroyed&&!Su.injector.get(Du,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Su=t.get(Ru);const e=t.get(Za,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=Ou();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ou(){return Su&&!Su.destroyed?Su:null}let Ru=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new vu:("zone.js"===t?void 0:t)||new pu({enableLongStackTrace:Au(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:pu,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(dr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Lu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ya);return t.runInitializers(),t.donePromise.then(()=>(ps(i.injector.get(eu,hs)||hs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Fu({},e);return function(t,e,n){const r=new Ia(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ir(mo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Fu(t,e){return Array.isArray(e)?e.reduce(Fu,t):Object.assign(Object.assign({},t),e)}let Pu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pu.assertNotInAngularZone(),fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=H(o,s.pipe(t=>{return z()((e=Q,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,K);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof bs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(la),i=n.create(mo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Eu,null),a=s&&i.injector.get(wu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Lu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ja,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ir(pu),ir(mo),ir(dr),ir(Cs),ir(Ya))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mu{}class ku{}const Bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Uu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Bu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ju(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ju(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ir(cu),ir(ku,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function ju(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Gu=Nu(null,"core",[{provide:Qa,useValue:"unknown"},{provide:Ru,deps:[mo]},{provide:wu,deps:[]},{provide:tu,deps:[]}]),Vu=[{provide:Pu,useClass:Pu,deps:[pu,mo,dr,Cs,Ya]},{provide:wa,deps:[pu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ya,useClass:Ya,deps:[[new lr,za]]},{provide:cu,useClass:cu,deps:[]},Xa,{provide:Ys,useFactory:function(){return na},deps:[]},{provide:Xs,useFactory:function(){return ra},deps:[]},{provide:eu,useFactory:function(t){return ps(t=t||"undefined"!=typeof $localize&&$localize.locale||hs),t},deps:[[new ur(eu),new lr,new cr]]},{provide:nu,useValue:"USD"}];let Wu=(()=>{class t{constructor(t){}}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(ir(Pu))},providers:Vu}),t})(),qu=null;function Hu(){return qu}const zu=new jn("DocumentToken");let Yu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:$u,token:t,providedIn:"platform"}),t})();function $u(){return ir(Ku)}const Xu=new jn("Location Initialized");let Ku=(()=>{class t extends Yu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Hu().getLocation(),this._history=Hu().getHistory()}getBaseHrefFromDOM(){return Hu().getBaseHref(this._doc)}onPopState(t){Hu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Hu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Zu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Zu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(ir(zu))},t.\u0275prov=ht({factory:Qu,token:t,providedIn:"platform"}),t})();function Zu(){return!!window.history.pushState}function Qu(){return new Ku(ir(zu))}function Ju(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function tl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function el(t){return t&&"?"!==t[0]?"?"+t:t}let nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:rl,token:t,providedIn:"root"}),t})();function rl(t){const e=ir(zu).location;return new ol(ir(Yu),e&&e.origin||"")}const il=new jn("appBaseHref");let ol=(()=>{class t extends nl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ju(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+el(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+el(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+el(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(ir(Yu),ir(il,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),sl=(()=>{class t extends nl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ju(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+el(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+el(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(ir(Yu),ir(il,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),al=(()=>{class t{constructor(t,e){this._subject=new Aa,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=tl(ll(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+el(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ll(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+el(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+el(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(ir(nl),ir(Yu))},t.normalizeQueryParams=el,t.joinWithSlash=Ju,t.stripTrailingSlash=tl,t.\u0275prov=ht({factory:ul,token:t,providedIn:"root"}),t})();function ul(){return new al(ir(nl),ir(Yu))}function ll(t){return t.replace(/\/index.html$/,"")}var cl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class hl{}let fl=(()=>{class t extends hl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ls(e);if(n)return n;const r=e.split("-")[0];if(n=ls(r),n)return n;if("en"===r)return as;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[cs.PluralCase]}(e||this.locale)(t)){case cl.Zero:return"zero";case cl.One:return"one";case cl.Two:return"two";case cl.Few:return"few";case cl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(ir(eu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function pl(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let dl=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new gl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Oo(fa),Oo(oa))},t.\u0275dir=$t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class gl{constructor(){this.$implicit=null,this.ngIf=null}}function yl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}class ml{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _l=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=$t({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),vl=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ml(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Oo(fa),Oo(oa),Oo(_l,1))},t.\u0275dir=$t({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),El=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:hl,useClass:fl}]}),t})(),wl=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new bl(ir(zu),window)}),t})();class bl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Sl(this.window.history)||Sl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Sl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Cl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Cl,qu||(qu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Il||(Il=document.querySelector("base"),Il)?Il.getAttribute("href"):null;return null==e?null:(n=e,xl||(xl=document.createElement("a")),xl.setAttribute("href",n),"/"===xl.pathname.charAt(0)?xl.pathname:"/"+xl.pathname);var n}resetBaseElement(){Il=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return pl(document.cookie,t)}}let xl,Il=null;const Al=new jn("TRANSITION_ID"),Dl=[{provide:za,useFactory:function(t,e,n){return()=>{n.get(Ya).donePromise.then(()=>{const n=Hu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Al,zu,mo],multi:!0}];class Tl{static init(){var t;t=new Tl,Cu=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Hu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Nl=new jn("EventManagerPlugins");let Ol=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(ir(Nl),ir(pu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Rl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Hu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Fl=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Pl=(()=>{class t extends Fl{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Hu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(ir(zu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Ll={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ml=/%COMP%/g;function kl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?kl(t,i,n):(i=i.replace(Ml,t),n.push(i))}return n}function Bl(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ul=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new jl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case It.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Gl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case It.ShadowDom:return new Vl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=kl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ir(Ol),ir(Pl),ir($a))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class jl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ll[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ll[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ll[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(_r.DashCase|_r.Important)?t.style.setProperty(e,n,r&_r.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&_r.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Bl(n)):this.eventManager.addEventListener(t,e,Bl(n))}}class Gl extends jl{constructor(t,e,n,r){super(t),this.component=n;const i=kl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ml,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Ml,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Vl extends jl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=kl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wl=(()=>{class t extends Rl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(ir(zu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ql=["alt","control","meta","shift"],Hl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $l=(()=>{class t extends Rl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ql.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zl.hasOwnProperty(e)&&(e=zl[e]))}return Hl[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ql.forEach(r=>{r!=n&&(0,Yl[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(ir(zu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Xl=Nu(Gu,"browser",[{provide:Qa,useValue:"browser"},{provide:Za,useValue:function(){Cl.makeCurrent(),Tl.init()},multi:!0},{provide:zu,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),Kl=[[],{provide:no,useValue:"root"},{provide:dr,useFactory:function(){return new dr},deps:[]},{provide:Nl,useClass:Wl,multi:!0,deps:[zu,pu,Qa]},{provide:Nl,useClass:$l,multi:!0,deps:[zu]},[],{provide:Ul,useClass:Ul,deps:[Ol,Pl,$a]},{provide:Ns,useExisting:Ul},{provide:Fl,useExisting:Pl},{provide:Pl,useClass:Pl,deps:[zu]},{provide:Eu,useClass:Eu,deps:[pu]},{provide:Ol,useClass:Ol,deps:[Nl,pu]},[]];let Zl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:$a,useValue:e.appId},{provide:Al,useExisting:$a},Dl]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(ir(t,12))},providers:Kl,imports:[El,Wu]}),t})();function Ql(...t){let e=t[t.length-1];return x(e)?(t.pop(),L(t,e)):q(t)}function Jl(t,e){return j(t,e,1)}function tc(t,e){return function(n){return n.lift(new ec(t,e))}}"undefined"!=typeof window&&window;class ec{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new nc(t,this.predicate,this.thisArg))}}class nc extends d{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class rc{}class ic{}class oc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof oc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new oc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof oc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class sc{encodeKey(t){return ac(t)}encodeValue(t){return ac(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function ac(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class uc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new uc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function lc(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function cc(t){return"undefined"!=typeof Blob&&t instanceof Blob}function hc(t){return"undefined"!=typeof FormData&&t instanceof FormData}class fc{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new oc),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new uc,this.urlWithParams=e}serializeBody(){return null===this.body?null:lc(this.body)||cc(this.body)||hc(this.body)||"string"==typeof this.body?this.body:this.body instanceof uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hc(this.body)?null:cc(this.body)?this.body.type||null:lc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new fc(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var pc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class dc{constructor(t,e=200,n="OK"){this.headers=t.headers||new oc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gc extends dc{constructor(t={}){super(t),this.type=pc.ResponseHeader}clone(t={}){return new gc({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yc extends dc{constructor(t={}){super(t),this.type=pc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new yc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mc extends dc{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _c(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let vc=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof fc)r=t;else{let i,o;i=n.headers instanceof oc?n.headers:new oc(n.headers),n.params&&(o=n.params instanceof uc?n.params:new uc({fromObject:n.params})),r=new fc(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Ql(r).pipe(Jl(t=>this.handler.handle(t)));if(t instanceof fc||"events"===n.observe)return i;const o=i.pipe(tc(t=>t instanceof yc));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(I(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(I(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(I(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(I(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new uc).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,_c(n,e))}post(t,e,n={}){return this.request("POST",t,_c(n,e))}put(t,e,n={}){return this.request("PUT",t,_c(n,e))}}return t.\u0275fac=function(e){return new(e||t)(ir(rc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Ec{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const wc=new jn("HTTP_INTERCEPTORS");let bc=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Sc=/^\)\]\}',?\n/;class Cc{}let xc=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ic=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new oc(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new gc({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Sc,"");try{u=""!==u?JSON.parse(u):null}catch(c){u=t,l&&(l=!1,u={error:c,text:u})}}l?(e.next(new yc({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new mc({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new mc({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const l=r=>{u||(e.next(o()),u=!0);let i={type:pc.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:pc.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:pc.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(ir(Cc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Ac=new jn("XSRF_COOKIE_NAME"),Dc=new jn("XSRF_HEADER_NAME");class Tc{}let Nc=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(ir(zu),ir(Qa),ir(Ac))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Oc=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ir(Tc),ir(Dc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Rc=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(wc,[]);this.chain=t.reduceRight((t,e)=>new Ec(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ir(ic),ir(mo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Fc=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Oc,useClass:bc}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ac,useValue:e.cookieName}:[],e.headerName?{provide:Dc,useValue:e.headerName}:[]]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Oc,{provide:wc,useExisting:Oc,multi:!0},{provide:Tc,useClass:Nc},{provide:Ac,useValue:"XSRF-TOKEN"},{provide:Dc,useValue:"X-XSRF-TOKEN"}]}),t})(),Pc=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[vc,{provide:rc,useClass:Rc},Ic,{provide:ic,useExisting:Ic},xc,{provide:Cc,useExisting:xc}],imports:[[Fc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class Lc extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}class Mc extends d{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class kc extends d{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Bc(t,e,n,r,i=new kc(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):P(e)(i)}const Uc={};class jc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gc(t,this.resultSelector))}}class Gc extends Mc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Uc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Bc(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Uc?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vc=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Wc(...t){return W(1)(Ql(...t))}const qc=new _(t=>t.complete());function Hc(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):qc}function zc(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?M(n):Hc()).subscribe(e)})}function Yc(t,e){return"function"==typeof e?n=>n.pipe(Yc((n,r)=>M(t(n,r)).pipe(I((t,i)=>e(n,t,r,i))))):e=>e.lift(new $c(t))}class $c{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xc(t,this.project))}}class Xc extends B{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new k(this),r=this.destination;r.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Kc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Zc(t){return e=>0===t?Hc():e.lift(new Qc(t))}class Qc{constructor(t){if(this.total=t,this.total<0)throw new Kc}call(t,e){return e.subscribe(new Jc(t,this.total))}}class Jc extends d{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function th(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>Wc(t,n,e)):e=>Wc(t,e)}function eh(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new nh(t,e,n))}}class nh{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new rh(t,this.accumulator,this.seed,this.hasSeed))}}class rh extends d{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ih(t){return function(e){const n=new oh(t),r=e.lift(n);return n.caught=r}}class oh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sh(t,this.selector,this.caught))}}class sh extends B{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new k(this);this.add(r);const i=U(n,r);i!==r&&this.add(i)}}}function ah(t){return function(e){return 0===t?Hc():e.lift(new uh(t))}}class uh{constructor(t){if(this.total=t,this.total<0)throw new Kc}call(t,e){return e.subscribe(new lh(t,this.total))}}class lh extends d{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ch(t=ph){return e=>e.lift(new hh(t))}class hh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new fh(t,this.errorFactory))}}class fh extends d{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ph(){return new Vc}function dh(t=null){return e=>e.lift(new gh(t))}class gh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new yh(t,this.defaultValue))}}class yh extends d{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function mh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?tc((e,n)=>t(e,n,r)):m,Zc(1),n?dh(e):ch(()=>new Vc))}function _h(){}function vh(t,e,n){return function(r){return r.lift(new Eh(t,e,n))}}class Eh{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new wh(t,this.nextOrObserver,this.error,this.complete))}}class wh extends d{constructor(t,e,n,i){super(t),this._tapNext=_h,this._tapError=_h,this._tapComplete=_h,this._tapError=n||_h,this._tapComplete=i||_h,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||_h,this._tapError=e.error||_h,this._tapComplete=e.complete||_h)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class bh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Sh(t,this.callback))}}class Sh extends d{constructor(t,e){super(t),this.add(new h(e))}}class Ch{constructor(t,e){this.id=t,this.url=e}}class xh extends Ch{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ih extends Ch{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ah extends Ch{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dh extends Ch{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Th extends Ch{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nh extends Ch{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oh extends Ch{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rh extends Ch{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fh extends Ch{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ph{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gh="primary";class Vh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wh(t){return new Vh(t)}function qh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Hh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zh(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Yh(t[i],e[i]))return!1;return!0}function Yh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function $h(t){return Array.prototype.concat.apply([],t)}function Xh(t){return t.length>0?t[t.length-1]:null}function Kh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zh(t){return jo(t)?t:Uo(t)?M(Promise.resolve(t)):Ql(t)}function Qh(t,e,n){return n?function(t,e){return zh(t,e)}(t.queryParams,e.queryParams)&&Jh(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yh(t[n],e[n]))}(t.queryParams,e.queryParams)&&tf(t.root,e.root)}function Jh(t,e){if(!sf(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Jh(t.children[n],e.children[n]))return!1}return!0}function tf(t,e){return ef(t,e,e.segments)}function ef(t,e,n){if(t.segments.length>n.length)return!!sf(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!sf(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tf(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!sf(t.segments,r)&&!!t.children.primary&&ef(t.children.primary,e,i)}}class nf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wh(this.queryParams)),this._queryParamMap}toString(){return lf.serialize(this)}}class rf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Kh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}}class of{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wh(this.parameters)),this._parameterMap}toString(){return mf(this)}}function sf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class af{}class uf{parse(t){const e=new bf(t);return new nf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${hf(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${pf(e)}=${pf(t)}`).join("&"):`${pf(e)}=${pf(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const lf=new uf;function cf(t){return t.segments.map(t=>mf(t)).join("/")}function hf(t,e){if(!t.hasChildren())return cf(t);if(e){const e=t.children.primary?hf(t.children.primary,!1):"",n=[];return Kh(t.children,(t,e)=>{e!==Gh&&n.push(`${e}:${hf(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Kh(t.children,(t,r)=>{r===Gh&&(n=n.concat(e(t,r)))}),Kh(t.children,(t,r)=>{r!==Gh&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Gh?[hf(t.children.primary,!1)]:[`${n}:${hf(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${cf(t)}/${e[0]}`:`${cf(t)}/(${e.join("//")})`}}function ff(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pf(t){return ff(t).replace(/%3B/gi,";")}function df(t){return ff(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gf(t){return decodeURIComponent(t)}function yf(t){return gf(t.replace(/\+/g,"%20"))}function mf(t){return`${df(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${df(t)}=${df(e[t])}`).join("")}`;var e}const _f=/^[^\/()?;=#]+/;function vf(t){const e=t.match(_f);return e?e[0]:""}const Ef=/^[^=?&#]+/,wf=/^[^?&#]+/;class bf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rf([],{}):new rf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new rf(t,e)),n}parseSegment(){const t=vf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new of(gf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vf(this.remaining);t&&(n=t,this.capture(n))}t[gf(e)]=gf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ef);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(wf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=yf(e),i=yf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vf(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Gh);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new rf([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Cf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return xf(t,this._root).map(t=>t.value)}}function Cf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Cf(t,n);if(e)return e}return null}function xf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xf(t,n);if(r.length)return r.unshift(e),r}return[]}class If{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Af(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Df extends Sf{constructor(t,e){super(t),this.snapshot=e,Pf(this,t)}toString(){return this.snapshot.toString()}}function Tf(t,e){const n=function(t,e){const n=new Rf([],{},{},"",{},Gh,e,null,t.root,-1,{});return new Ff("",new If(n,[]))}(t,e),r=new Lc([new of("",{})]),i=new Lc({}),o=new Lc({}),s=new Lc({}),a=new Lc(""),u=new Nf(r,i,s,a,o,Gh,e,n.root);return u.snapshot=n.root,new Df(new If(u,[]),n)}class Nf{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(I(t=>Wh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(I(t=>Wh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Of(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rf{constructor(t,e,n,r,i,o,s,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ff extends Sf{constructor(t,e){super(e),this.url=t,Pf(this,e)}toString(){return Lf(this._root)}}function Pf(t,e){e.value._routerState=t,e.children.forEach(e=>Pf(t,e))}function Lf(t){const e=t.children.length>0?` { ${t.children.map(Lf).join(", ")} } `:"";return`${t.value}${e}`}function Mf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),zh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),zh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kf(t,e){var n,r;return zh(t.params,e.params)&&sf(n=t.url,r=e.url)&&n.every((t,e)=>zh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||kf(t.parent,e.parent))}function Bf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Bf(t,e,r);return Bf(t,e)})}(t,e,n);return new If(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Uf(e,t),t}{const n=new Nf(new Lc((r=e.value).url),new Lc(r.params),new Lc(r.queryParams),new Lc(r.fragment),new Lc(r.data),r.outlet,r.component,r),i=e.children.map(e=>Bf(t,e));return new If(n,i)}}var r}function Uf(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Uf(t.children[n],e.children[n])}function jf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gf(t){return"object"==typeof t&&null!=t&&t.outlets}function Vf(t,e,n,r,i){let o={};return r&&Kh(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new nf(n.root===t?e:Wf(n.root,t,e),o,i)}function Wf(t,e,n){const r={};return Kh(t.children,(t,i)=>{r[i]=t===e?n:Wf(t,e,n)}),new rf(t.segments,r)}class qf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&jf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Gf);if(r&&r!==Xh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function zf(t,e,n){if(t||(t=new rf([],{})),0===t.segments.length&&t.hasChildren())return Yf(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Gf(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Zf(a,u,e))return o;r+=2}else{if(!Zf(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new rf(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new rf(t.segments.slice(r.pathIndex),t.children),Yf(e,0,i)}return r.match&&0===i.length?new rf(t.segments,{}):r.match&&!t.hasChildren()?$f(t,e,n):r.match?Yf(t,0,i):$f(t,e,n)}function Yf(t,e,n){if(0===n.length)return new rf(t.segments,{});{const r=function(t){return Gf(t[0])?t[0].outlets:{[Gh]:t}}(n),i={};return Kh(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=zf(t.children[r],e,n))}),Kh(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new rf(t.segments,i)}}function $f(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Gf(o)){const t=Xf(o.outlets);return new rf(r,t)}if(0===i&&jf(n[0])){r.push(new of(t.segments[e].path,Kf(n[0]))),i++;continue}const s=Gf(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&jf(a)?(r.push(new of(s,Kf(a))),i+=2):(r.push(new of(s,{})),i++)}return new rf(r,{})}function Xf(t){const e={};return Kh(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=$f(new rf([],{}),0,t))}),e}function Kf(t){const e={};return Kh(t,(t,n)=>e[n]=`${t}`),e}function Zf(t,e,n){return t==n.path&&zh(e,n.parameters)}class Qf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Af(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Kh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Af(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Af(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Uh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new kh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Mf(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Jf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Jf(t){Mf(t.value),t.children.forEach(Jf)}class tp{constructor(t,e){this.routes=t,this.module=e}}function ep(t){return"function"==typeof t}function np(t){return t instanceof nf}const rp=Symbol("INITIAL_VALUE");function ip(){return Yc(t=>function(...t){let e,n;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),q(t,n).lift(new jc(e))}(t.map(t=>t.pipe(Zc(1),th(rp)))).pipe(eh((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==rp)return t;if(r===rp&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||np(r))return r}return t},t)},rp),tc(t=>t!==rp),I(t=>np(t)?t:!0===t),Zc(1)))}let op=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Vt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Mo(0,"router-outlet")},directives:function(){return[Kp]},encapsulation:2}),t})();function sp(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ap(r,up(e,r))}}function ap(t,e){t.children&&sp(t.children,e)}function up(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function lp(t){const e=t.children&&t.children.map(lp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Gh&&(n.component=op),n}function cp(t){return t.outlet||Gh}function hp(t,e){const n=t.filter(t=>cp(t)===e);return n.push(...t.filter(t=>cp(t)!==e)),n}const fp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pp(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},fp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Hh)(n,t,e);if(!i)return Object.assign({},fp);const o={};Kh(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function dp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>gp(t,e,n)&&cp(n)!==Gh)}(t,n,r)){const i=new rf(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&cp(o)!==Gh){const n=new rf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[cp(o)]=n}return i}(t,e,r,new rf(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>gp(t,e,n))}(t,n,r)){const o=new rf(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(gp(t,n,a)&&!i[cp(a)]){const n=new rf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[cp(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new rf(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function gp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function yp(t,e,n,r){return!!(cp(t)===r||r!==Gh&&gp(e,n,t))&&("**"===t.path||pp(e,t,n).matched)}function mp(t,e,n){return 0===e.length&&!t.children[n]}class _p{constructor(t){this.segmentGroup=t||null}}class vp{constructor(t){this.urlTree=t}}function Ep(t){return new _(e=>e.error(new _p(t)))}function wp(t){return new _(e=>e.error(new vp(t)))}function bp(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Sp{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(la)}apply(){const t=dp(this.urlTree.root,[],[],this.config).segmentGroup,e=new rf(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Gh).pipe(I(t=>this.createUrlTree(Cp(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ih(t=>{if(t instanceof vp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _p)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Gh).pipe(I(e=>this.createUrlTree(Cp(e),t.queryParams,t.fragment))).pipe(ih(t=>{if(t instanceof _p)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new rf([],{[Gh]:t}):t;return new nf(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(I(t=>new rf([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return M(r).pipe(Jl(r=>{const i=n.children[r],o=hp(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(I(t=>({segment:t,outlet:r})))}),eh((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?tc((e,n)=>t(e,n,r)):m,ah(1),n?dh(e):ch(()=>new Vc))}())}expandSegment(t,e,n,r,i,o){return M(n).pipe(Jl(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ih(t=>{if(t instanceof _p)return Ql(null);throw t}))),mh(t=>!!t),ih((t,n)=>{if(t instanceof Vc||"EmptyError"===t.name){if(mp(e,r,i))return Ql(new rf([],{}));throw new _p(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return yp(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ep(e):Ep(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?wp(i):this.lineralizeSegments(n,i).pipe(j(n=>{const i=new rf(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:l}=pp(e,r,i);if(!s)return Ep(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?wp(c):this.lineralizeSegments(r,c).pipe(j(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Ql(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(I(t=>(n._loadedConfig=t,new rf(r,{})))):Ql(new rf(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=pp(e,n,r);if(!o)return Ep(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(j(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=dp(e,s,u,o),c=new rf(a.segments,a.children);if(0===l.length&&c.hasChildren())return this.expandChildren(r,o,c).pipe(I(t=>new rf(s,t)));if(0===o.length&&0===l.length)return Ql(new rf(s,{}));const h=cp(n)===i;return this.expandSegment(r,c,o,l,h?Gh:i,!0).pipe(I(t=>new rf(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Ql(new tp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ql(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(j(n=>n?this.configLoader.load(t.injector,e).pipe(I(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(qh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Ql(new tp([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Ql(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ep(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ep(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zh(o)})).pipe(ip(),vh(t=>{if(!np(t))return;const e=qh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),I(t=>!0===t)):Ql(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ql(n);if(r.numberOfChildren>1||!r.children.primary)return bp(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new nf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Kh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Kh(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new rf(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Cp(t){const e={};for(const n of Object.keys(t.children)){const r=Cp(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new rf(t.segments.concat(e.segments),e.children)}return t}(new rf(t.segments,e))}class xp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ip{constructor(t,e){this.component=t,this.route=e}}function Ap(t,e,n){const r=t._root;return Tp(r,e?e._root:null,n,[r.value])}function Dp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Tp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Af(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!sf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!sf(t.url,e.url)||!zh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kf(t,e)||!zh(t.queryParams,e.queryParams);case"paramsChange":default:return!kf(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Tp(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ip(a.outlet.component,s))}else s&&Np(e,a,i),i.canActivateChecks.push(new xp(r)),Tp(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Kh(o,(t,e)=>Np(t,n.getContext(e),i)),i}function Np(t,e,n){const r=Af(t),i=t.value;Kh(r,(t,r)=>{Np(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ip(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Op{}function Rp(t){return new _(e=>e.error(t))}class Fp{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=dp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Gh);if(null===e)return null;const n=new Rf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gh,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new If(n,e),i=new Ff(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Of(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=hp(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Pp(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Gh?-1:e.value.outlet===Gh?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return mp(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!yp(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Xh(n).parameters:{};i=new Rf(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kp(t),cp(t),t.component,t,Lp(e),Mp(e)+n.length,Bp(t))}else{const r=pp(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Rf(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kp(t),cp(t),t.component,t,Lp(e),Mp(e)+o.length,Bp(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=dp(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new If(i,t)]}if(0===a.length&&0===l.length)return[new If(i,[])];const c=cp(t)===r,h=this.processSegment(a,u,l,c?Gh:r);return null===h?null:[new If(i,h)]}}function Pp(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kp(t){return t.data||{}}function Bp(t){return t.resolve||{}}function Up(t){return Yc(e=>{const n=t(e);return n?M(n).pipe(I(()=>e)):Ql(e)})}class jp extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Gp=new jn("ROUTES");class Vp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(I(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new tp($h(r.injector.get(Gp,void 0,Et.Self|Et.Optional)).map(lp),r)}),ih(t=>{throw e._loader$=void 0,t}));return e._loader$=new X(n,()=>new S).pipe(z()),e._loader$}loadModuleFactory(t){return"string"==typeof t?M(this.loader.load(t)):Zh(t()).pipe(j(t=>t instanceof ca?Ql(t):M(this.compiler.compileModuleAsync(t))))}}class Wp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qp,this.attachRef=null}}class qp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Wp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Hp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function zp(t){throw t}function Yp(t,e,n){return e.parse("/")}function $p(t,e){return Ql(null)}let Xp=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=zp,this.malformedUriErrorHandler=Yp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$p,afterPreactivation:$p},this.urlHandlingStrategy=new Hp,this.routeReuseStrategy=new jp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(la),this.console=i.get(tu);const u=i.get(pu);this.isNgZoneEnabled=u instanceof pu&&pu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new nf(new rf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vp(o,s,t=>this.triggerEvent(new Ph(t)),t=>this.triggerEvent(new Lh(t))),this.routerState=Tf(this.currentUrlTree,this.rootComponentType),this.transitions=new Lc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(tc(t=>0!==t.id),I(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Yc(t=>{let n=!1,r=!1;return Ql(t).pipe(vh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Yc(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ql(t).pipe(Yc(t=>{const n=this.transitions.getValue();return e.next(new xh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qc:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Yc(t=>function(t,e,n,r,i){return new Sp(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(I(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),vh(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return j(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Fp(t,e,n,r,i,o).recognize();return null===s?Rp(new Op):Ql(s)}catch(s){return Rp(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(I(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),vh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Th(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new xh(n,this.serializeUrl(r),i,o);e.next(a);const u=Tf(r,this.rootComponentType).snapshot;return Ql(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qc}),Up(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),vh(t=>{const e=new Nh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),I(t=>Object.assign(Object.assign({},t),{guards:Ap(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return j(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Ql(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return M(t).pipe(j(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ql(o.map(o=>{const s=Dp(o,e,i);let a;if(function(t){return t&&ep(t.canDeactivate)}(s))a=Zh(s.canDeactivate(t,e,n,r));else{if(!ep(s))throw new Error("Invalid CanDeactivate guard");a=Zh(s(t,e,n,r))}return a.pipe(mh())})).pipe(ip()):Ql(!0)}(t.component,t.route,n,e,r)),mh(t=>!0!==t,!0))}(s,r,i,t).pipe(j(n=>n&&"boolean"==typeof n?function(t,e,n,r){return M(e).pipe(Jl(e=>Wc(function(t,e){return null!==t&&e&&e(new Mh(t)),Ql(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Bh(t)),Ql(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>zc(()=>Ql(e.guards.map(i=>{const o=Dp(i,e.node,n);let s;if(function(t){return t&&ep(t.canActivateChild)}(o))s=Zh(o.canActivateChild(r,t));else{if(!ep(o))throw new Error("Invalid CanActivateChild guard");s=Zh(o(r,t))}return s.pipe(mh())})).pipe(ip())));return Ql(i).pipe(ip())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ql(r.map(r=>zc(()=>{const i=Dp(r,e,n);let o;if(function(t){return t&&ep(t.canActivate)}(i))o=Zh(i.canActivate(e,t));else{if(!ep(i))throw new Error("Invalid CanActivate guard");o=Zh(i(e,t))}return o.pipe(mh())}))).pipe(ip()):Ql(!0)}(t,e.route,n))),mh(t=>!0!==t,!0))}(r,o,t,e):Ql(n)),I(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),vh(t=>{if(np(t.guardsResult)){const e=qh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Oh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),tc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ah(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Up(t=>{if(t.guards.canActivateChecks.length)return Ql(t).pipe(vh(t=>{const e=new Rh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Yc(t=>{let n=!1;return Ql(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,j(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Ql(t);let o=0;return M(n).pipe(Jl(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Ql({});const o={};return M(i).pipe(j(i=>function(t,e,n,r){const i=Dp(t,e,r);return Zh(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(vh(t=>{o[i]=t}))),ah(1),j(()=>Object.keys(o).length===i.length?Ql(o):qc))}(t._resolve,t,e,r).pipe(I(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Of(t,n).resolve),null)))}(t.route,e,r,i)),vh(()=>o++),ah(1),j(e=>o===n.length?Ql(t):qc))})),vh({next:()=>n=!0,complete:()=>{if(!n){const n=new Ah(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),vh(t=>{const e=new Fh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Up(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),I(t=>{const e=function(t,e,n){const r=Bf(t,e._root,n?n._root:void 0);return new Df(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),vh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),I(t=>(new Qf(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),vh({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ah(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new bh(i))),ih(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=np(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ah(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Dh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(yb){t.reject(yb)}}var i;return qc}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sp(t),this.config=t.map(lp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return Vf(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Kh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new qf(n,e,r)}(n);if(o.toRoot())return Vf(e.root,new rf([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Hf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Hf(t,t===e.root,0)}const r=jf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hf(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Yf(s.segmentGroup,s.index,o.commands):zf(s.segmentGroup,s.index,o.commands);return Vf(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=np(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(np(t))return Qh(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Qh(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ih(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,l,c;i?(u=i.resolve,l=i.reject,c=i.promise):c=new Promise((t,e)=>{u=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(ir(Vn),ir(af),ir(qp),ir(al),ir(mo),ir(Mu),ir(cu),ir(void 0))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Kp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Aa,this.deactivateEvents=new Aa,this.name=r||Gh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Zp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Oo(qp),Oo(fa),Oo(Cs),kn("name"),Oo(ta))},t.\u0275dir=$t({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Zp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Nf?this.route:t===qp?this.childContexts:this.parent.get(t,e)}}class Qp{}class Jp{preload(t,e){return Ql(null)}}let td=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Vp(e,n,e=>t.triggerEvent(new Ph(e)),e=>t.triggerEvent(new Lh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(tc(t=>t instanceof Ih),Jl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(la);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return M(n).pipe(W(),I(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Ql(e._loadedConfig):this.loader.load(t.injector,e)).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(ir(Xp),ir(Mu),ir(cu),ir(mo),ir(Qp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),ed=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ih&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new jh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ir(Xp),ir(wl),ir(void 0))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const nd=new jn("ROUTER_CONFIGURATION"),rd=new jn("ROUTER_FORROOT_GUARD"),id=[al,{provide:af,useClass:uf},{provide:Xp,useFactory:function(t,e,n,r,i,o,s,a={},u,l){const c=new Xp(null,t,e,n,r,i,o,$h(s));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing){const t=Hu();c.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c},deps:[af,qp,al,mo,Mu,cu,Gp,nd,[class{},new lr],[class{},new lr]]},qp,{provide:Nf,useFactory:function(t){return t.routerState.root},deps:[Xp]},{provide:Mu,useClass:Uu},td,Jp,class{preload(t,e){return e().pipe(ih(()=>Ql(null)))}},{provide:nd,useValue:{enableTracing:!1}}];function od(){return new Tu("Router",Xp)}let sd=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[id,cd(e),{provide:rd,useFactory:ld,deps:[[Xp,new lr,new cr]]},{provide:nd,useValue:n||{}},{provide:nl,useFactory:ud,deps:[Yu,[new ur(il),new lr],nd]},{provide:ed,useFactory:ad,deps:[Xp,wl,nd]},{provide:Qp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Jp},{provide:Tu,multi:!0,useFactory:od},[hd,{provide:za,multi:!0,useFactory:fd,deps:[hd]},{provide:dd,useFactory:pd,deps:[hd]},{provide:Ja,multi:!0,useExisting:dd}]]}}static forChild(e){return{ngModule:t,providers:[cd(e)]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(ir(rd,8),ir(Xp,8))}}),t})();function ad(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ed(t,e,n)}function ud(t,e,n={}){return n.useHash?new sl(t,e):new ol(t,e)}function ld(t){return"guarded"}function cd(t){return[{provide:Gn,multi:!0,useValue:t},{provide:Gp,multi:!0,useValue:t}]}let hd=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(Xu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Xp),r=this.injector.get(nd);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Ql(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(nd),n=this.injector.get(td),r=this.injector.get(ed),i=this.injector.get(Xp),o=this.injector.get(Pu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(ir(mo))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function fd(t){return t.appInitializer.bind(t)}function pd(t){return t.bootstrapListener.bind(t)}const dd=new jn("Router Initializer"),gd=[];let yd=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[sd.forRoot(gd)],sd]}),t})();var md=n("rIrx"),_d=n.n(md),vd=6e4,Ed=36e5,wd="millisecond",bd="second",Sd="minute",Cd="hour",xd="day",Id="week",Ad="month",Dd="quarter",Td="year",Nd="date",Od="Invalid Date",Rd=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Fd=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Pd={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Ld=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},Md={s:Ld,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+Ld(r,2,"0")+":"+Ld(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,Ad),o=n-i<0,s=e.clone().add(r+(o?-1:1),Ad);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:Ad,y:Td,w:Id,d:xd,D:Nd,h:Cd,m:Sd,s:bd,ms:wd,Q:Dd}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},kd="en",Bd={};Bd[kd]=Pd;var Ud=function(t){return t instanceof Wd},jd=function(t,e,n){var r;if(!t)return kd;if("string"==typeof t)Bd[t]&&(r=t),e&&(Bd[t]=e,r=t);else{var i=t.name;Bd[i]=t,r=i}return!n&&r&&(kd=r),r||!n&&kd},Gd=function(t,e){if(Ud(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new Wd(n)},Vd=Md;Vd.l=jd,Vd.i=Ud,Vd.w=function(t,e){return Gd(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var Wd=function(){function t(t){this.$L=jd(t.locale,null,!0),this.parse(t)}var e=t.prototype;return e.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(Vd.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(Rd);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return Vd},e.isValid=function(){return!(this.$d.toString()===Od)},e.isSame=function(t,e){var n=Gd(t);return this.startOf(e)<=n&&n<=this.endOf(e)},e.isAfter=function(t,e){return Gd(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<Gd(t)},e.$g=function(t,e,n){return Vd.u(t)?this[e]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var n=this,r=!!Vd.u(e)||e,i=Vd.p(t),o=function(t,e){var i=Vd.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(xd)},s=function(t,e){return Vd.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},a=this.$W,u=this.$M,l=this.$D,c="set"+(this.$u?"UTC":"");switch(i){case Td:return r?o(1,0):o(31,11);case Ad:return r?o(1,u):o(0,u+1);case Id:var h=this.$locale().weekStart||0,f=(a<h?a+7:a)-h;return o(r?l-f:l+(6-f),u);case xd:case Nd:return s(c+"Hours",0);case Cd:return s(c+"Minutes",1);case Sd:return s(c+"Seconds",2);case bd:return s(c+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n,r=Vd.p(t),i="set"+(this.$u?"UTC":""),o=(n={},n[xd]=i+"Date",n[Nd]=i+"Date",n[Ad]=i+"Month",n[Td]=i+"FullYear",n[Cd]=i+"Hours",n[Sd]=i+"Minutes",n[bd]=i+"Seconds",n[wd]=i+"Milliseconds",n)[r],s=r===xd?this.$D+(e-this.$W):e;if(r===Ad||r===Td){var a=this.clone().set(Nd,1);a.$d[o](s),a.init(),this.$d=a.set(Nd,Math.min(this.$D,a.daysInMonth())).$d}else o&&this.$d[o](s);return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[Vd.p(t)]()},e.add=function(t,e){var n,r=this;t=Number(t);var i=Vd.p(e),o=function(e){var n=Gd(r);return Vd.w(n.date(n.date()+Math.round(e*t)),r)};if(i===Ad)return this.set(Ad,this.$M+t);if(i===Td)return this.set(Td,this.$y+t);if(i===xd)return o(1);if(i===Id)return o(7);var s=(n={},n[Sd]=vd,n[Cd]=Ed,n[bd]=1e3,n)[i]||1,a=this.$d.getTime()+t*s;return Vd.w(a,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var e=this;if(!this.isValid())return Od;var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=Vd.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,u=i.weekdays,l=i.months,c=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},h=function(t){return Vd.s(o%12||12,t,"0")},f=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:Vd.s(a+1,2,"0"),MMM:c(i.monthsShort,a,l,3),MMMM:c(l,a),D:this.$D,DD:Vd.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,u,2),ddd:c(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:Vd.s(o,2,"0"),h:h(1),hh:h(2),a:f(o,s,!0),A:f(o,s,!1),m:String(s),mm:Vd.s(s,2,"0"),s:String(this.$s),ss:Vd.s(this.$s,2,"0"),SSS:Vd.s(this.$ms,3,"0"),Z:r};return n.replace(Fd,function(t,e){return e||p[t]||r.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,n){var r,i=Vd.p(e),o=Gd(t),s=(o.utcOffset()-this.utcOffset())*vd,a=this-o,u=Vd.m(this,o);return u=(r={},r[Td]=u/12,r[Ad]=u,r[Dd]=u/3,r[Id]=(a-s)/6048e5,r[xd]=(a-s)/864e5,r[Cd]=a/Ed,r[Sd]=a/vd,r[bd]=a/1e3,r)[i]||a,n?u:Vd.a(u)},e.daysInMonth=function(){return this.endOf(Ad).$D},e.$locale=function(){return Bd[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=jd(t,e,!0);return r&&(n.$L=r),n},e.clone=function(){return Vd.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}(),qd=Wd.prototype;Gd.prototype=qd,[["$ms",wd],["$s",bd],["$m",Sd],["$H",Cd],["$W",xd],["$M",Ad],["$y",Td],["$D",Nd]].forEach(function(t){qd[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),Gd.extend=function(t,e){return t.$i||(t(e,Wd,Gd),t.$i=!0),Gd},Gd.locale=jd,Gd.isDayjs=Ud,Gd.unix=function(t){return Gd(1e3*t)},Gd.en=Bd[kd],Gd.Ls=Bd,Gd.p={};var Hd=Gd,zd=n("Njdo"),Yd=n.n(zd),$d=n("XkjI"),Xd=n.n($d),Kd=n("NpuA"),Zd=n.n(Kd),Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Jd=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,tg=/\d\d/,eg=/\d\d?/,ng=/\d*[^\s\d-_:/()]+/,rg={},ig=function(t){return function(e){this[t]=+e}},og=[/[+-]\d\d:?(\d\d)?/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],sg=function(t){var e=rg[t];return e&&(e.indexOf?e:e.s.concat(e.f))},ag=function(t,e){var n,r=rg.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},ug={A:[ng,function(t){this.afternoon=ag(t,!1)}],a:[ng,function(t){this.afternoon=ag(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[tg,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[eg,ig("seconds")],ss:[eg,ig("seconds")],m:[eg,ig("minutes")],mm:[eg,ig("minutes")],H:[eg,ig("hours")],h:[eg,ig("hours")],HH:[eg,ig("hours")],hh:[eg,ig("hours")],D:[eg,ig("day")],DD:[tg,ig("day")],Do:[ng,function(t){var e=rg.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],M:[eg,ig("month")],MM:[tg,ig("month")],MMM:[ng,function(t){var e=sg("months"),n=(sg("monthsShort")||e.map(function(t){return t.substr(0,3)})).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[ng,function(t){var e=sg("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,ig("year")],YY:[tg,function(t){this.year=(t=+t)+(t>68?1900:2e3)}],YYYY:[/\d{4}/,ig("year")],Z:og,ZZ:og},lg=function(t,e,n){n.p.customParseFormat=!0;var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,o=t.args;this.$u=r;var s=o[1];if("string"==typeof s){var a=!0===o[2],u=!0===o[3],l=a||u,c=o[2];u&&(c=o[2]),rg=this.$locale(),!a&&c&&(rg=n.Ls[c]),this.$d=function(t,e,n){try{var r=function(t){var e;e=rg&&rg.formats;for(var n=(t=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,r){var i=r&&r.toUpperCase();return n||e[r]||Qd[r]||e[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})})).match(Jd),r=n.length,i=0;i<r;i+=1){var o=n[i],s=ug[o],a=s&&s[1];n[i]=a?{regex:s&&s[0],parser:a}:o.replace(/^\[|\]$/g,"")}return function(t){for(var e={},i=0,o=0;i<r;i+=1){var s=n[i];if("string"==typeof s)o+=s.length;else{var a=s.regex,u=s.parser,l=t.substr(o),c=a.exec(l)[0];u.call(e,c),t=t.replace(c,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}(e)(t),i=r.year,o=r.month,s=r.day,a=r.hours,u=r.minutes,l=r.seconds,c=r.milliseconds,h=r.zone,f=new Date,p=s||(i||o?1:f.getDate()),d=i||f.getFullYear(),g=0;i&&!o||(g=o>0?o-1:f.getMonth());var y=a||0,m=u||0,_=l||0,v=c||0;return h?new Date(Date.UTC(d,g,p,y,m,_,v+60*h.offset*1e3)):n?new Date(Date.UTC(d,g,p,y,m,_,v)):new Date(d,g,p,y,m,_,v)}catch(E){return new Date("")}}(e,s,r),this.init(),c&&!0!==c&&(this.$L=this.locale(c).$L),l&&e!==this.format(s)&&(this.$d=new Date("")),rg={}}else if(s instanceof Array)for(var h=s.length,f=1;f<=h;f+=1){o[1]=s[f-1];var p=n.apply(this,o);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}f===h&&(this.$d=new Date(""))}else i.call(this,t)}},cg=n("ZhIB"),hg=n.n(cg),fg=function(t,e){return(fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function pg(t,e){function n(){this.constructor=t}fg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function dg(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function gg(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function yg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gg(arguments[e]));return t}var mg,_g=function(){function t(){}return t.prototype.next=function(){return{done:!0,value:null}},t}(),vg=function(){function t(){}return t.prototype[Symbol.iterator]=function(){return new _g},t}(),Eg=function(){function t(){this.index=0}return t.prototype.next=function(){return{done:!1,value:this.index++}},t}(),wg=function(){function t(){}return t.prototype[Symbol.iterator]=function(){return new Eg},t}(),bg=function(){function t(t){this.iterators=t}return t.prototype.next=function(){if(0===this.iterators.length)return{done:!0,value:[]};var t,e,n=[];try{for(var r=dg(this.iterators),i=r.next();!i.done;i=r.next()){var o=i.value.next();if(o.done)return{done:!0,value:[]};n.push(o.value)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return{done:!1,value:n}},t}(),Sg=function(){function t(t){this.iterables=t}return t.prototype[Symbol.iterator]=function(){var t,e,n=[];try{for(var r=dg(this.iterables),i=r.next();!i.done;i=r.next())n.push(i.value[Symbol.iterator]())}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new bg(n)},t}(),Cg=function(){function t(t,e){this.index=0,this.iterator=t,this.selector=e}return t.prototype.next=function(){var t=this.iterator.next();return t.done?{done:!0}:{done:!1,value:this.selector(t.value,this.index++)}},t}(),xg=function(){function t(t,e){this.iterable=t,this.selector=e}return t.prototype[Symbol.iterator]=function(){var t=this.iterable[Symbol.iterator]();return new Cg(t,this.selector)},t}(),Ig=function(){function t(t,e){this.index=0,this.iterator=t,this.selector=e,this.outputIterator=null}return t.prototype.next=function(){for(;;){if(null===this.outputIterator){var t=this.iterator.next();if(t.done)return{done:!0};var e=this.selector(t.value,this.index++);this.outputIterator=e[Symbol.iterator]()}var n=this.outputIterator.next();if(!n.done)return n;this.outputIterator=null}},t}(),Ag=function(){function t(t,e){this.iterable=t,this.selector=e}return t.prototype[Symbol.iterator]=function(){var t=this.iterable[Symbol.iterator]();return new Ig(t,this.selector)},t}(),Dg=function(){function t(t,e){this.childIterator=t,this.numElements=e}return t.prototype.next=function(){return this.numElements<=0?{done:!0}:(--this.numElements,this.childIterator.next())},t}(),Tg=function(){function t(t,e){this.childIterable=t,this.numElements=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new Dg(t,this.numElements)},t}(),Ng=function(){function t(t,e){this.done=!1,this.childIterator=t,this.predicate=e}return t.prototype.next=function(){if(!this.done){var t=this.childIterator.next();if(t.done)this.done=!0;else{if(this.predicate(t.value))return t;this.done=!0}}return{done:!0}},t}(),Og=function(){function t(t,e){this.childIterable=t,this.predicate=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new Ng(t,this.predicate)},t}(),Rg=function(){function t(t,e){this.childIterator=t,this.predicate=e}return t.prototype.next=function(){for(;;){var t=this.childIterator.next();if(t.done)return t;if(this.predicate(t.value))return t}},t}(),Fg=function(){function t(t,e){this.childIterable=t,this.predicate=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new Rg(t,this.predicate)},t}(),Pg=function(){function t(t){this.curIterator=null,this.iterables=t,this.iterator=t[Symbol.iterator](),this.moveToNextIterable()}return t.prototype.moveToNextIterable=function(){var t=this.iterator.next();this.curIterator=t.done?null:t.value[Symbol.iterator]()},t.prototype.next=function(){for(;;){if(null==this.curIterator)return{done:!0};var t=this.curIterator.next();if(!t.done)return t;this.moveToNextIterable()}},t}(),Lg=function(){function t(t){this.iterables=t}return t.prototype[Symbol.iterator]=function(){return new Pg(this.iterables)},t}(),Mg=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype.next=function(){this.iterator||(this.iterator=this.iterable[Symbol.iterator]());for(var t=[],e=0;e<this.period;++e){var n=this.iterator.next();if(n.done)break;t.push(n.value)}if(0===t.length)return{done:!0};var r=new Oy({pairs:t});return{value:[this.whichIndex===Dy.Start?r.getIndex().first():r.getIndex().last(),r],done:!1}},t}(),kg=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype[Symbol.iterator]=function(){return new Mg(this.iterable,this.period,this.whichIndex)},t}(),Bg=function(){function t(t){this.index=0,this.arr=t}return t.prototype.next=function(){return this.index<this.arr.length?{done:!1,value:this.arr[this.index++]}:{done:!0}},t}(),Ug=function(){function t(t){this.iterable=t}return t.prototype[Symbol.iterator]=function(){var t,e,n=[];try{for(var r=dg(this.iterable),i=r.next();!i.done;i=r.next())n.push(i.value)}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n.reverse(),new Bg(n)},t}(),jg=function(){function t(t,e){this.iterators=t.map(function(t){return t[Symbol.iterator]()}),this.zipper=e}return t.prototype.next=function(){var t=this.iterators.map(function(t){return t.next()});try{for(var e=dg(t),n=e.next();!n.done;n=e.next())if(n.value.done)return{done:!0}}catch(a){r={error:a}}finally{try{n&&!n.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}var r,i,o=t.map(function(t){return t.value}),s=new Oy(o);return{done:!1,value:this.zipper(s)}},t}(),Gg=function(){function t(t,e){this.iterables=t,this.zipper=e}return t.prototype[Symbol.iterator]=function(){return new jg(this.iterables,this.zipper)},t}(),Vg=function(){function t(t,e){this.valuesAlreadySeen=new Set,this.iterator=t[Symbol.iterator](),this.selector=e}return t.prototype.next=function(){for(;;){var t,e=this.iterator.next();if(e.done)return{done:!0};if(t=this.selector?this.selector(e.value):e.value,!this.valuesAlreadySeen.has(t))return this.valuesAlreadySeen.add(t),{done:!1,value:e.value}}},t}(),Wg=function(){function t(t,e){this.iterable=t,this.selector=e}return t.prototype[Symbol.iterator]=function(){return new Vg(this.iterable,this.selector)},t}(),qg=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype.next=function(){if(this.curWindow){if(this.curWindow.shift(),(e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}else{this.curWindow=[],this.iterator=this.iterable[Symbol.iterator]();for(var t=0;t<this.period;++t){var e;if((e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}}var n=new Oy({pairs:this.curWindow});return{value:[this.whichIndex===Dy.Start?n.getIndex().first():n.getIndex().last(),n],done:!1}},t}(),Hg=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype[Symbol.iterator]=function(){return new qg(this.iterable,this.period,this.whichIndex)},t}(),zg=function(){function t(t,e){this.iterator=t[Symbol.iterator](),this.nextValue=this.iterator.next(),this.comparer=e}return t.prototype.next=function(){if(this.nextValue.done)return{done:!0};for(var t=[this.nextValue.value],e=this.nextValue.value;this.nextValue=this.iterator.next(),!this.nextValue.done;){if(!this.comparer(e[1],this.nextValue.value[1])){e=this.nextValue.value;break}t.push(this.nextValue.value),e=this.nextValue.value}return{value:new Oy({pairs:t}),done:!1}},t}(),Yg=function(){function t(t,e){this.iterable=t,this.comparer=e}return t.prototype[Symbol.iterator]=function(){return new zg(this.iterable,this.comparer)},t}();!function(t){t[t.Ascending=0]="Ascending",t[t.Descending=1]="Descending"}(mg||(mg={}));var $g=function(){function t(t,e){this.values=t,this.sortSpec=e,this.keys=[]}return t.prototype.genKeys=function(){var t,e;if(!(this.keys.length>0))try{for(var n=dg(this.values),r=n.next();!r.done;r=n.next())this.keys.push(this.sortSpec.selector(r.value,0))}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.compare=function(t,e){this.genKeys();var n=this.keys[t],r=this.keys[e],i=-1;return n===r?i=0:n>r&&(i=1),this.sortSpec.direction===mg.Descending?-i:i},t}(),Xg=function(){function t(t,e){this.iterable=t,this.sortSpec=e}return t.prototype[Symbol.iterator]=function(){var t=[],e=[],n=0;try{for(var r=dg(this.iterable),i=r.next();!i.done;i=r.next()){var o=i.value;t.push(n),e.push(o),++n}}catch(_){l={error:_}}finally{try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}var s=[];try{for(var a=dg(this.sortSpec),u=a.next();!u.done;u=a.next())s.push(new $g(e,u.value))}catch(v){h={error:v}}finally{try{u&&!u.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}s[0].genKeys(),t.sort(function(t,e){try{for(var n=dg(s),r=n.next();!r.done;r=n.next()){var i=r.value.compare(t,e);if(0!==i)return i}}catch(u){o={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(o)throw o.error}}return 0;var o,a});var l,c,h,f,p,d,g=[];try{for(var y=dg(t),m=y.next();!m.done;m=y.next())g.push(e[m.value])}catch(E){p={error:E}}finally{try{m&&!m.done&&(d=y.return)&&d.call(y)}finally{if(p)throw p.error}}return new Bg(g)},t}(),Kg=function(){function t(t,e){this.iterator=t,this.extractIndex=e}return t.prototype.next=function(){var t=this.iterator.next();return t.done?t:{done:!1,value:t.value[this.extractIndex]}},t}(),Zg=function(){function t(t,e){this.arrayIterable=t,this.extractIndex=e}return t.prototype[Symbol.iterator]=function(){var t=this.arrayIterable[Symbol.iterator]();return new Kg(t,this.extractIndex)},t}(),Qg=function(){function t(t,e){this.iterator=t,this.numValues=e}return t.prototype.next=function(){for(;--this.numValues>=0;){var t=this.iterator.next();if(t.done)return t}return this.iterator.next()},t}(),Jg=function(){function t(t,e){this.iterable=t,this.numValues=e}return t.prototype[Symbol.iterator]=function(){var t=this.iterable[Symbol.iterator]();return new Qg(t,this.numValues)},t}(),ty=function(){function t(t,e){this.doneSkipping=!1,this.childIterator=t,this.predicate=e}return t.prototype.next=function(){for(;;){var t=this.childIterator.next();if(t.done)return t;if(this.doneSkipping||!this.predicate(t.value))return this.doneSkipping=!0,t}},t}(),ey=function(){function t(t,e){this.childIterable=t,this.predicate=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new ty(t,this.predicate)},t}(),ny=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype.next=function(){this.iterator||(this.iterator=this.iterable[Symbol.iterator]());for(var t=[],e=0;e<this.period;++e){var n=this.iterator.next();if(n.done)break;t.push(n.value)}return 0===t.length?{done:!0}:{value:new Ty({columnNames:this.columnNames,pairs:t}),done:!1}},t}(),ry=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype[Symbol.iterator]=function(){return new ny(this.columnNames,this.iterable,this.period)},t}(),iy=function(){function t(t,e){this.index=0,this.columnNames=Array.from(t),this.rowsIterator=e[Symbol.iterator]()}return t.prototype.next=function(){var t=this.rowsIterator.next();if(t.done)return{done:!0};for(var e=t.value,n={},r=0;r<this.columnNames.length;++r)n[this.columnNames[r]]=e[r];return{done:!1,value:n}},t}(),oy=function(){function t(t,e){this.columnNames=t,this.rows=e}return t.prototype[Symbol.iterator]=function(){return new iy(this.columnNames,this.rows)},t}(),sy=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype.next=function(){if(this.curWindow){if(this.curWindow.shift(),(e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}else{this.curWindow=[],this.iterator=this.iterable[Symbol.iterator]();for(var t=0;t<this.period;++t){var e;if((e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}}return{value:new Ty({columnNames:this.columnNames,pairs:this.curWindow}),done:!1}},t}(),ay=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype[Symbol.iterator]=function(){return new sy(this.columnNames,this.iterable,this.period)},t}(),uy=function(){function t(t,e,n){this.columnNames=t,this.iterator=e[Symbol.iterator](),this.nextValue=this.iterator.next(),this.comparer=n}return t.prototype.next=function(){if(this.nextValue.done)return{done:!0};for(var t=[this.nextValue.value],e=this.nextValue.value;this.nextValue=this.iterator.next(),!this.nextValue.done;){if(!this.comparer(e[1],this.nextValue.value[1])){e=this.nextValue.value;break}t.push(this.nextValue.value),e=this.nextValue.value}return{value:new Ty({columnNames:this.columnNames,pairs:t}),done:!1}},t}(),ly=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.comparer=n}return t.prototype[Symbol.iterator]=function(){return new uy(this.columnNames,this.iterable,this.comparer)},t}(),cy=function(){function t(t,e){this.repetition=0,this.iterator=t[Symbol.iterator](),this.count=e,this.result=this.iterator.next()}return t.prototype.next=function(){return 0==this.count?{done:!0}:(this.repetition==this.count&&(this.result=this.iterator.next(),this.repetition=0),this.repetition+=1,this.result.done?{done:!0}:{done:!1,value:this.result.value})},t}(),hy=function(){function t(t,e){this.iterable=t,this.count=e}return t.prototype[Symbol.iterator]=function(){return new cy(this.iterable,this.count)},t}(),fy=function(){function t(t,e){this.count=0,this.repetition=0,this.firstIteration=!0,this.iterable=t,this.iterator=t[Symbol.iterator](),this.count=e}return t.prototype.next=function(){var t=this.iterator.next();return this.firstIteration&&t.done?{done:!0}:(this.firstIteration=!1,t.done&&(this.repetition+=1,this.iterator=this.iterable[Symbol.iterator](),t=this.iterator.next()),this.repetition<this.count?{done:!1,value:t.value}:{done:!0})},t}(),py=function(){function t(t,e){this.iterable=t,this.count=e}return t.prototype[Symbol.iterator]=function(){return new fy(this.iterable,this.count)},t}(),dy=function(){function t(t){this.iteratorIndex=0,this.iterators=t.map(function(t){return t[Symbol.iterator]()})}return t.prototype.next=function(){if(this.iterators.length>0){for(var t=this.iterators[this.iteratorIndex].next();t.done;){if(this.iteratorIndex+=1,!(this.iteratorIndex<this.iterators.length))return{done:!0};t=this.iterators[this.iteratorIndex].next()}return{done:!1,value:t.value}}return{done:!0}},t}(),gy=function(){function t(t){this.iterables=t}return t.prototype[Symbol.iterator]=function(){return new dy(this.iterables)},t}(),yy=function(){function t(t,e){this.columnNamesIterator=null,this.values=t,this.considerAllRows=e}return t.prototype.next=function(){if(null===this.columnNamesIterator)if(this.considerAllRows){var t={};try{for(var e=dg(this.values),n=e.next();!n.done;n=e.next()){var r=n.value;try{for(var i=dg(Object.keys(r)),o=i.next();!o.done;o=i.next())t[o.value]=!0}catch(h){l={error:h}}finally{try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}}}}catch(f){a={error:f}}finally{try{n&&!n.done&&(u=e.return)&&u.call(e)}finally{if(a)throw a.error}}this.columnNamesIterator=new Bg(Object.keys(t))}else{var s=this.values[Symbol.iterator]().next();if(s.done)return{done:!0,value:""};this.columnNamesIterator=new Bg(Object.keys(s.value))}return this.columnNamesIterator.next();var a,u,l,c},t}(),my=function(){function t(t,e){this.values=t,this.considerAllRows=e}return t.prototype[Symbol.iterator]=function(){return new yy(this.values,this.considerAllRows)},t}();function _y(t,e){var n,r,i={},o=[];try{for(var s=dg(t),a=s.next();!a.done;a=s.next()){var u=a.value,l=e&&e(u)||u;i[l]||(i[l]=!0,o.push(u))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function vy(t,e,n){var r,i,o={};try{for(var s=dg(t),a=s.next();!a.done;a=s.next()){var u=a.value;o[e(u)]=n(u)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function Ey(t){return void 0===t?"undefined":xy(t)?"number":Sy(t)?"string":t instanceof Date?"date":(e=t,Yd()(e).isBoolean?"boolean":"unsupported");var e}function wy(t){return Yd()(t).isObject&&!Cy(t)}function by(t){return Yd()(t).isFunction}function Sy(t){return Yd()(t).isString}function Cy(t){return"[object Date]"===Object.prototype.toString.call(t)}function xy(t){return Yd()(t).isNumber}function Iy(t){return Yd()(t).isArray}function Ay(t){return void 0===t}var Dy,Ty=function(){function t(e){this.configFn=null,this.content=null,this.indexedContent=null,e?by(e)?this.configFn=e:this.content=Iy(e)||by(e[Symbol.iterator])?t.initFromArray(e):t.initFromConfig(e):this.content=t.initEmpty()}return t.initFromArray=function(e){var n=e[Symbol.iterator]().next(),r=n.done?[]:Object.keys(n.value);return{index:t.defaultCountIterable,values:e,pairs:new Sg([t.defaultCountIterable,e]),isBaked:!0,columnNames:r}},t.initEmpty=function(){return{index:t.defaultEmptyIterable,values:t.defaultEmptyIterable,pairs:t.defaultEmptyIterable,isBaked:!0,columnNames:[]}},t.initColumnNames=function(t,e){var n=[],r={},i=Array.from(t).map(function(t){return t.toString()});try{for(var o=dg(i),s=o.next();!s.done;s=o.next()){var a=s.value;void 0===r[g=void 0!==e&&e?a:a.toLowerCase()]?r[g]=1:r[g]+=1}}catch(m){u={error:m}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l,c,h,f={};try{for(var p=dg(i),d=p.next();!d.done;d=p.next()){var g;if(a=d.value,r[g=void 0!==e&&e?a:a.toLowerCase()]>1){var y=1;void 0!==f[g]&&(y=f[g]),n.push(a+"."+y),f[g]=y+1}else n.push(a)}}catch(_){c={error:_}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}return n},t.checkIterable=function(t,e){if(Iy(t));else if(!by(t[Symbol.iterator]))throw new Error("Expected '"+e+"' field of DataFrame config object to be an array of values or an iterable of values.")},t.initFromConfig=function(e){var n,r,i,o,s,a,u=!1;if(e.pairs&&(t.checkIterable(e.pairs,"pairs"),i=e.pairs),e.columns){var l=e.columns;if(Iy(l)||by(l[Symbol.iterator])){var c=l;o=Array.from(c).map(function(t){return t.name}),l=vy(c,function(t){return t.name},function(t){return t.series})}else{if(!wy(l))throw new Error("Expected 'columns' member of 'config' parameter to DataFrame constructor to be an object with fields that define columns.");o=Object.keys(l)}var h=[];try{for(var f=dg(o),p=f.next();!p.done;p=f.next()){var d=p.value;t.checkIterable(l[d],d),h.push(l[d])}}catch(g){s={error:g}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}r=new oy(o,new Sg(h))}else e.columnNames&&(o=this.initColumnNames(e.columnNames,e.caseSensitive)),e.rows?(e.columnNames||(o=new xg(new wg,function(t){return"Column."+t.toString()})),t.checkIterable(e.rows,"rows"),r=new oy(o,e.rows)):e.values?(t.checkIterable(e.values,"values"),r=e.values,e.columnNames||(o=new my(r,e.considerAllRows||!1))):i?(r=new Zg(i,1),e.columnNames||(o=new my(r,e.considerAllRows||!1))):(r=t.defaultEmptyIterable,e.columnNames||(o=t.defaultEmptyIterable));return e.index?(t.checkIterable(e.index,"index"),n=e.index):n=i?new Zg(i,0):t.defaultCountIterable,i||(i=new Sg([n,r])),void 0!==e.baked&&(u=e.baked),{index:n,values:r,pairs:i,isBaked:u,columnNames:o}},t.prototype.lazyInit=function(){null===this.content&&null!==this.configFn&&(this.content=t.initFromConfig(this.configFn()))},t.prototype.getContent=function(){return this.lazyInit(),this.content},t.prototype.getRowByIndex=function(t){if(!this.indexedContent){this.indexedContent=new Map;try{for(var e=dg(this.getContent().pairs),n=e.next();!n.done;n=e.next()){var r=n.value;this.indexedContent.set(r[0],r[1])}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}}return this.indexedContent.get(t);var i,o},t.prototype[Symbol.iterator]=function(){return this.getContent().values[Symbol.iterator]()},t.prototype.getColumnNames=function(){return Array.from(this.getContent().columnNames)},t.prototype.getColumns=function(){var t=this;return new Oy(function(){return{values:t.getColumnNames().map(function(e){var n=t.getSeries(e).skipWhile(function(t){return null==t});return{name:e,type:Ey(n.any()?n.first():void 0),series:n}})}})},t.prototype.cast=function(){return this},t.prototype.getIndex=function(){var t=this;return new Fy(function(){return{values:t.getContent().index}})},t.prototype.setIndex=function(t){if(!Sy(t))throw new Error("Expected 'columnName' parameter to 'DataFrame.setIndex' to be a string that specifies the name of the column to set as the index for the dataframe.");return this.withIndex(this.getSeries(t))},t.prototype.withIndex=function(e){var n=this;return by(e)?new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:t.values,index:n.deflate(e)}}):(t.checkIterable(e,"newIndex"),new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:t.values,index:e}}))},t.prototype.resetIndex=function(){var e=this;return new t(function(){var t=e.getContent();return{columnNames:t.columnNames,values:t.values}})},t.prototype.getSeries=function(t){var e=this;if(!Sy(t))throw new Error("Expected 'columnName' parameter to 'DataFrame.getSeries' function to be a string that specifies the name of the column to retreive.");return new Oy(function(){return{values:new xg(e.getContent().values,function(e){return e[t]}),index:e.getContent().index}})},t.prototype.hasSeries=function(t){var e,n,r=t.toLowerCase();try{for(var i=dg(this.getColumnNames()),o=i.next();!o.done;o=i.next())if(o.value.toLowerCase()===r)return!0}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1},t.prototype.expectSeries=function(t){if(!this.hasSeries(t))throw new Error("Expected dataframe to contain series with column name: '"+t+"'.");return this.getSeries(t)},t.prototype.withSeries=function(e,n){var r=this;if(wy(e)){if(!Ay(n))throw new Error("Expected 'series' parameter to 'DataFrame.withSeries' to not be set when 'columnNameOrSpec is an object.")}else{if(!Sy(e))throw new Error("Expected 'columnNameOrSpec' parameter to 'DataFrame.withSeries' function to be a string that specifies the column to set or replace.");if(!by(n)&&!wy(n))throw new Error("Expected 'series' parameter to 'DataFrame.withSeries' to be a Series object or a function that takes a dataframe and produces a Series.")}if(wy(e)){var i=e,o=Object.keys(i),s=this;try{for(var a=dg(o),u=a.next();!u.done;u=a.next()){var l=u.value;s=s.withSeries(l,i[l])}}catch(p){c={error:p}}finally{try{u&&!u.done&&(h=a.return)&&h.call(a)}finally{if(c)throw c.error}}return s.cast()}var c,h,f=e;return this.none()?(by(n)?n(this):n).inflate(function(t){var e={};return e[f]=t,e}).cast():new t(function(){var t=function(t,e,n){var r,i,o=new Map;try{for(var s=dg(t),a=s.next();!a.done;a=s.next()){var u=a.value;o.set(u[0],u[1])}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}((by(n)?n(r):n).toPairs());return{columnNames:_y(r.getColumnNames().concat([f])),index:r.getContent().index,pairs:new xg(r.getContent().pairs,function(e){var n=e[0],r=Object.assign({},e[1]);return r[f]=t.get(n),[n,r]})}})},t.merge=function(e){var n=new Map;try{for(var r=dg(e),i=r.next();!i.done;i=r.next()){var o=i.value;try{for(var s=dg(o.toPairs()),a=s.next();!a.done;a=s.next()){var u=a.value,l=u[0];if(n.has(l))n.set(l,Object.assign(n.get(l),u[1]));else{var c=Object.assign({},u[1]);n.set(l,c)}}}catch(m){p={error:m}}finally{try{a&&!a.done&&(d=s.return)&&d.call(s)}finally{if(p)throw p.error}}}}catch(_){h={error:_}}finally{try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}var h,f,p,d,g=_y(Array.from(e).map(function(t){return t.getColumnNames()}).reduce(function(t,e){return t.concat(e)},[])),y=Array.from(n.keys()).map(function(t){return[t,n.get(t)]});return y.sort(function(t,e){return t[0]===e[0]?0:t[0]>e[0]?1:-1}),new t({columnNames:g,pairs:y})},t.prototype.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.merge([this].concat(e))},t.prototype.ensureSeries=function(t,e){if(wy(t)){if(!Ay(e))throw new Error("Expected 'series' parameter to 'DataFrame.ensureSeries' to not be set when 'columnNameOrSpec is an object.")}else{if(!Sy(t))throw new Error("Expected 'columnNameOrSpec' parameter to 'DataFrame.ensureSeries' function to be a string that specifies the column to set or replace.");if(!by(e)&&!wy(e))throw new Error("Expected 'series' parameter to 'DataFrame.ensureSeries' to be a Series object or a function that takes a dataframe and produces a Series.")}if(wy(t)){var n=t,r=Object.keys(t),i=this;try{for(var o=dg(r),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.ensureSeries(a,n[a])}}catch(h){u={error:h}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}return i}var u,l,c=t;return this.hasSeries(c)?this:this.withSeries(c,e)},t.prototype.subset=function(e){var n=this;if(!Iy(e))throw new Error("Expected 'columnNames' parameter to 'DataFrame.subset' to be an array of column names to keep.");return new t(function(){var t=n.getContent();return{columnNames:e,index:t.index,values:new xg(t.values,function(t){var n,r,i={};try{for(var o=dg(e),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=t[a]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}),pairs:new xg(t.pairs,function(t){var n,r,i={},o=t[1];try{for(var s=dg(e),a=s.next();!a.done;a=s.next()){var u=a.value;i[u]=o[u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[t[0],i]})}})},t.prototype.dropSeries=function(e){var n=this;if(!Iy(e)){if(!Sy(e))throw new Error("'DataFrame.dropSeries' expected either a string or an array or strings.");e=[e]}return new t(function(){var t,r,i=n.getContent(),o=[];try{for(var s=dg(i.columnNames),a=s.next();!a.done;a=s.next()){var u=a.value;-1===e.indexOf(u)&&o.push(u)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return{columnNames:o,index:i.index,values:new xg(i.values,function(t){var n,r,i=Object.assign({},t);try{for(var o=dg(e),s=o.next();!s.done;s=o.next())delete i[s.value]}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}),pairs:new xg(i.pairs,function(t){var n,r,i=Object.assign({},t[1]);try{for(var o=dg(e),s=o.next();!s.done;s=o.next())delete i[s.value]}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[t[0],i]})}})},t.prototype.reorderSeries=function(e){var n,r,i=this;if(!Iy(e))throw new Error("Expected parameter 'columnNames' to 'DataFrame.reorderSeries' to be an array with column names.");try{for(var o=dg(e),s=o.next();!s.done;s=o.next())if(!Sy(s.value))throw new Error("Expected parameter 'columnNames' to 'DataFrame.reorderSeries' to be an array with column names.")}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return new t(function(){var t=i.getContent();return{columnNames:e,index:t.index,values:new xg(t.values,function(t){var n,r,i={};try{for(var o=dg(e),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=t[a]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}),pairs:new xg(t.pairs,function(t){var n,r,i=t[1],o={};try{for(var s=dg(e),a=s.next();!a.done;a=s.next()){var u=a.value;o[u]=i[u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[t[0],o]})}})},t.prototype.bringToFront=function(e){var n,r,i=this;if(Iy(e))try{for(var o=dg(e),s=o.next();!s.done;s=o.next())if(!Sy(s.value))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToFront' function to specify a column or columns via a string or an array of strings.")}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}else{if(!Sy(e))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToFront' function to specify a column or columns via a string or an array of strings.");e=[e]}return new t(function(){var t=i.getContent(),n=Array.from(t.columnNames),r=[];try{for(var o=dg(e),s=o.next();!s.done;s=o.next()){var a=s.value;-1!==n.indexOf(a)&&r.push(a)}}catch(y){u={error:y}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l,c,h,f=[];try{for(var p=dg(n),d=p.next();!d.done;d=p.next()){var g=d.value;-1===e.indexOf(g)&&f.push(g)}}catch(m){c={error:m}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}return{columnNames:r.concat(f),index:t.index,values:t.values,pairs:t.pairs}})},t.prototype.bringToBack=function(e){var n,r,i=this;if(Iy(e))try{for(var o=dg(e),s=o.next();!s.done;s=o.next())if(!Sy(s.value))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToBack' function to specify a column or columns via a string or an array of strings.")}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}else{if(!Sy(e))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToBack' function to specify a column or columns via a string or an array of strings.");e=[e]}return new t(function(){var t=i.getContent(),n=Array.from(t.columnNames),r=[];try{for(var o=dg(e),s=o.next();!s.done;s=o.next()){var a=s.value;-1!==n.indexOf(a)&&r.push(a)}}catch(y){u={error:y}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l,c,h,f=[];try{for(var p=dg(n),d=p.next();!d.done;d=p.next()){var g=d.value;-1===e.indexOf(g)&&f.push(g)}}catch(m){c={error:m}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}return{columnNames:f.concat(r),index:t.index,values:t.values,pairs:t.pairs}})},t.prototype.renameSeries=function(e){var n=this;if(!wy(e))throw new Error("Expected parameter 'newColumnNames' to 'DataFrame.renameSeries' to be an array with column names.");var r,i,o=Object.keys(e);try{for(var s=dg(o),a=s.next();!a.done;a=s.next()){var u=a.value;if(!Sy(u))throw new Error("Expected existing column name '"+u+"' of 'newColumnNames' parameter to 'DataFrame.renameSeries' to be a string.");if(!Sy(e[u]))throw new Error("Expected new column name '"+e[u]+"' for existing column '"+u+"' of 'newColumnNames' parameter to 'DataFrame.renameSeries' to be a string.")}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return new t(function(){var t,r,i=n.getContent(),s=[];try{for(var a=dg(i.columnNames),u=a.next();!u.done;u=a.next()){var l=u.value,c=o.indexOf(l);s.push(-1===c?l:e[l])}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}function h(t){var n,r,i=Object.assign({},t);try{for(var s=dg(o),a=s.next();!a.done;a=s.next()){var u=a.value;i[e[u]]=i[u],delete i[u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}return{columnNames:s,index:i.index,values:new xg(i.values,h),pairs:new xg(i.pairs,function(t){return[t[0],h(t[1])]})}})},t.prototype.toArray=function(){var t,e,n=[];try{for(var r=dg(this.getContent().values),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toPairs=function(){var t,e,n=[];try{for(var r=dg(this.getContent().pairs),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o[1]&&null!==o[1]&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toObject=function(t,e){if(!by(t))throw new Error("Expected 'keySelector' parameter to DataFrame.toObject to be a function.");if(!by(e))throw new Error("Expected 'valueSelector' parameter to DataFrame.toObject to be a function.");return vy(this,t,e)},t.prototype.toRows=function(){var t,e,n=this.getColumnNames(),r=[];try{for(var i=dg(this.getContent().values),o=i.next();!o.done;o=i.next()){for(var s=o.value,a=[],u=0;u<n.length;++u)a.push(s[n[u]]);r.push(a)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},t.prototype.select=function(e){var n=this;if(!by(e))throw new Error("Expected 'selector' parameter to 'DataFrame.select' function to be a function.");return new t(function(){var t=n.getContent();return{values:new xg(t.values,e),index:t.index}})},t.prototype.selectMany=function(e){var n=this;if(!by(e))throw new Error("Expected 'selector' parameter to 'DataFrame.selectMany' to be a function.");return new t(function(){return{pairs:new Ag(n.getContent().pairs,function(t,n){var r,i,o=[];try{for(var s=dg(e(t[1],n)),a=s.next();!a.done;a=s.next())o.push([t[0],a.value])}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o})}})},t.prototype.transformSeries=function(t){if(!wy(t))throw new Error("Expected 'columnSelectors' parameter of 'DataFrame.transformSeries' function to be an object. Field names should specify columns to transform. Field values should be selector functions that specify the transformation for each column.");var e,n,r=this;try{for(var i=dg(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;r.hasSeries(s)&&(r=r.withSeries(s,r.getSeries(s).select(t[s])))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.generateSeries=function(t){if(wy(t)){var e=t;l=Object.keys(e),c=this;try{for(var n=dg(l),r=n.next();!r.done;r=n.next())c=c.withSeries(p=r.value,c.select(e[p]).deflate())}catch(d){s={error:d}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return c}if(!by(t))throw new Error("Expected 'generator' parameter to 'DataFrame.generateSeries' function to be a function or an object.");var i,o,s,a,u=this.select(t).bake(),l=u.getColumnNames(),c=this;try{for(var h=dg(l),f=h.next();!f.done;f=h.next()){var p;c=c.withSeries(p=f.value,u.getSeries(p))}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return c},t.prototype.deflate=function(t){var e=this;if(t&&!by(t))throw new Error("Expected 'selector' parameter to 'DataFrame.deflate' function to be a selector function.");return new Oy(function(){var n=e.getContent();return t?{index:n.index,values:new xg(n.values,t),pairs:new xg(n.pairs,function(e,n){return[e[0],t(e[1],n)]})}:{index:n.index,values:n.values,pairs:n.pairs}})},t.prototype.inflateSeries=function(t,e){if(!Sy(t))throw new Error("Expected 'columnName' parameter to 'DataFrame.inflateSeries' to be a string that is the name of the column to inflate.");if(e&&!by(e))throw new Error("Expected optional 'selector' parameter to 'DataFrame.inflateSeries' to be a selector function, if it is specified.");return this.zip(this.getSeries(t).inflate(e),function(t,e){return Object.assign({},t,e)})},t.prototype.window=function(t){var e=this;if(!xy(t))throw new Error("Expected 'period' parameter to 'DataFrame.window' to be a number.");return new Oy(function(){var n=e.getContent();return{values:new ry(n.columnNames,n.pairs,t)}})},t.prototype.rollingWindow=function(t){var e=this;if(!xy(t))throw new Error("Expected 'period' parameter to 'DataFrame.rollingWindow' to be a number.");return new Oy(function(){var n=e.getContent();return{values:new ay(n.columnNames,n.pairs,t)}})},t.prototype.variableWindow=function(t){var e=this;if(!by(t))throw new Error("Expected 'comparer' parameter to 'DataFrame.variableWindow' to be a function.");return new Oy(function(){var n=e.getContent();return{values:new ly(n.columnNames,n.pairs,t)}})},t.prototype.sequentialDistinct=function(t){if(t){if(!by(t))throw new Error("Expected 'selector' parameter to 'DataFrame.sequentialDistinct' to be a selector function that determines the value to compare for duplicates.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)}).select(function(t){return[t.getIndex().first(),t.first()]}).withIndex(function(t){return t[0]}).inflate(function(t){return t[1]})},t.prototype.aggregate=function(t,e){var n=this;if(by(t)&&!e)return this.skip(1).aggregate(this.first(),t);if(e){if(!by(e))throw new Error("Expected 'selector' parameter to aggregate to be a function.");var r=t;try{for(var i=dg(this),o=i.next();!o.done;o=i.next())r=e(r,o.value)}catch(l){s={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}return r}if(!wy(t))throw new Error("Expected 'seed' parameter to aggregate to be an object.");var s,a,u=t;return vy(Object.keys(u).map(function(t){var e=u[t];if(!by(e))throw new Error("Expected column/selector pairs in 'seed' parameter to aggregate.");return[t,n.getSeries(t).aggregate(e)]}),function(t){return t[0]},function(t){return t[1]})},t.prototype.skip=function(e){var n=this;if(!xy(e))throw new Error("Expected 'numValues' parameter to 'DataFrame.skip' to be a number.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new Jg(t.values,e),index:new Jg(t.index,e),pairs:new Jg(t.pairs,e)}})},t.prototype.skipWhile=function(e){var n=this;if(!by(e))throw new Error("Expected 'predicate' parameter to 'DataFrame.skipWhile' function to be a predicate function that returns true/false.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new ey(t.values,e),pairs:new ey(t.pairs,function(t){return e(t[1])})}})},t.prototype.skipUntil=function(t){if(!by(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.skipUntil' function to be a predicate function that returns true/false.");return this.skipWhile(function(e){return!t(e)})},t.prototype.take=function(e){var n=this;if(!xy(e))throw new Error("Expected 'numRows' parameter to 'DataFrame.take' function to be a number.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,index:new Tg(t.index,e),values:new Tg(t.values,e),pairs:new Tg(t.pairs,e)}})},t.prototype.takeWhile=function(e){var n=this;if(!by(e))throw new Error("Expected 'predicate' parameter to 'DataFrame.takeWhile' function to be a predicate function that returns true/false.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new Og(t.values,e),pairs:new Og(t.pairs,function(t){return e(t[1])})}})},t.prototype.takeUntil=function(t){if(!by(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.takeUntil' function to be a predicate function that returns true/false.");return this.takeWhile(function(e){return!t(e)})},t.prototype.count=function(){var t,e,n=0;try{for(var r=dg(this.getContent().values),i=r.next();!i.done;i=r.next())++n}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.first=function(){try{for(var t=dg(this),e=t.next();!e.done;e=t.next())return e.value}catch(i){n={error:i}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}throw new Error("DataFrame.first: No values in DataFrame.");var n,r},t.prototype.last=function(){var t,e,n=null;try{for(var r=dg(this),i=r.next();!i.done;i=r.next())n=i.value}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}if(null===n)throw new Error("DataFrame.last: No values in DataFrame.");return n},t.prototype.at=function(t){if(!this.none())return this.getRowByIndex(t)},t.prototype.head=function(e){if(!xy(e))throw new Error("Expected 'numValues' parameter to 'DataFrame.head' function to be a number.");if(0===e)return new t;var n=e<0?this.count()-Math.abs(e):e;return this.take(n)},t.prototype.tail=function(e){if(!xy(e))throw new Error("Expected 'numValues' parameter to 'DataFrame.tail' function to be a number.");if(0===e)return new t;var n=e>0?this.count()-e:Math.abs(e);return this.skip(n)},t.prototype.where=function(e){var n=this;if(!by(e))throw new Error("Expected 'predicate' parameter to 'DataFrame.where' function to be a function.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new Fg(t.values,e),pairs:new Fg(t.pairs,function(t){return e(t[1])})}})},t.prototype.forEach=function(t){if(!by(t))throw new Error("Expected 'callback' parameter to 'DataFrame.forEach' to be a function.");var e,n,r=0;try{for(var i=dg(this),o=i.next();!o.done;o=i.next())t(o.value,r++)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t.prototype.all=function(t){if(!by(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.all' to be a function.");var e,n,r=0;try{for(var i=dg(this),o=i.next();!o.done;o=i.next()){if(!t(o.value))return!1;++r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r>0},t.prototype.any=function(t){if(t&&!by(t))throw new Error("Expected optional 'predicate' parameter to 'DataFrame.any' to be a function.");var e,n;if(!t)return!this[Symbol.iterator]().next().done;try{for(var r=dg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!0}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},t.prototype.none=function(t){if(t&&!by(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.none' to be a function.");var e,n;if(!t)return this[Symbol.iterator]().next().done||!1;try{for(var r=dg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.startAt=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThan();return{columnNames:t.columnNames,index:new ey(t.index,function(t){return r(t,e)}),pairs:new ey(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.endAt=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThanOrEqualTo();return{columnNames:t.columnNames,index:new Og(t.index,function(t){return r(t,e)}),pairs:new Og(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.before=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThan();return{columnNames:t.columnNames,index:new Og(t.index,function(t){return r(t,e)}),pairs:new Og(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.after=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThanOrEqualTo();return{columnNames:t.columnNames,index:new ey(t.index,function(t){return r(t,e)}),pairs:new ey(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.between=function(t,e){return this.startAt(t).endAt(e)},t.prototype.toString=function(){var t,e,n=this.getColumnNames(),r=["__index__"].concat(n),i=new _d.a;try{for(var o=dg(this.toPairs()),s=o.next();!s.done;s=o.next()){var a=s.value,u=a[1];i.cell(r[0],a[0]);for(var l=0;l<n.length;++l)i.cell(r[l+1],u[n[l]]);i.newRow()}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i.toString()},t.prototype.parseInts=function(t){if(Iy(t)){var e=this;try{for(var n=dg(t),r=n.next();!r.done;r=n.next())e=e.parseInts(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return e}return this.withSeries(t,this.getSeries(t).parseInts());var i,o},t.prototype.parseFloats=function(t){if(Iy(t)){var e=this;try{for(var n=dg(t),r=n.next();!r.done;r=n.next())e=e.parseFloats(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return e}return this.withSeries(t,this.getSeries(t).parseFloats());var i,o},t.prototype.parseDates=function(t,e){if(e&&!Sy(e))throw new Error("Expected optional 'formatString' parameter to 'DataFrame.parseDates' to be a string (if specified).");if(Iy(t)){var n=this;try{for(var r=dg(t),i=r.next();!i.done;i=r.next())n=n.parseDates(i.value,e)}catch(a){o={error:a}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return n}return this.withSeries(t,this.getSeries(t).parseDates(e));var o,s},t.prototype.toStrings=function(t,e){if(wy(t)){try{for(var n=dg(Object.keys(t)),r=n.next();!r.done;r=n.next())if(!Sy(t[l=r.value]))throw new Error("Expected values of 'columnNames' parameter to be strings when a format spec is passed in.")}catch(y){c={error:y}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}if(!Ay(e))throw new Error("Optional 'formatString' parameter to 'DataFrame.toStrings' should not be set when passing in a format spec.")}else{if(!Iy(t)&&!Sy(t))throw new Error("Expected 'columnNames' parameter to 'DataFrame.toStrings' to be a string, array of strings or format spec that specifes which columns should be converted to strings.");if(e&&!Sy(e))throw new Error("Expected optional 'formatString' parameter to 'DataFrame.toStrings' to be a string (if specified).")}if(wy(t)){var i=this;try{for(var o=dg(Object.keys(t)),s=o.next();!s.done;s=o.next())i=i.toStrings(l=s.value,e)}catch(m){f={error:m}}finally{try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(f)throw f.error}}return i}if(Iy(t)){i=this;try{for(var a=dg(t),u=a.next();!u.done;u=a.next()){var l;i=i.toStrings(l=u.value,t[l])}}catch(_){d={error:_}}finally{try{u&&!u.done&&(g=a.return)&&g.call(a)}finally{if(d)throw d.error}}return i}var c,h,f,p,d,g;return this.withSeries(t,this.getSeries(t).toStrings(e))},t.prototype.truncateStrings=function(t){if(!xy(t))throw new Error("Expected 'maxLength' parameter to 'truncateStrings' to be an integer.");return this.select(function(e){var n,r,i={};try{for(var o=dg(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,u=e[a];i[a]=Sy(u)?u.substring(0,t):u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})},t.prototype.round=function(t){if(void 0!==t){if(!xy(t))throw new Error("Expected 'numDecimalPlaces' parameter to 'DataFrame.round' to be a number.")}else t=2;return this.select(function(e){var n,r,i={};try{for(var o=dg(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,u=e[a];i[a]=xy(u)?parseFloat(u.toFixed(t)):u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})},t.prototype.bake=function(){return this.getContent().isBaked?this:new t({columnNames:this.getColumnNames(),values:this.toArray(),pairs:this.toPairs(),baked:!0})},t.prototype.reverse=function(){var e=this;return new t(function(){var t=e.getContent();return{columnNames:t.columnNames,values:new Ug(t.values),index:new Ug(t.index),pairs:new Ug(t.pairs)}})},t.prototype.distinct=function(e){var n=this;return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new Wg(t.values,e),pairs:new Wg(t.pairs,function(t){return e&&e(t[1])||t[1]})}})},t.prototype.groupBy=function(e){var n=this;if(!by(e))throw new Error("Expected 'selector' parameter to 'DataFrame.groupBy' to be a selector function that determines the value to group the series by.");return new Oy(function(){var r,i,o=[],s={},a=0;try{for(var u=dg(n.getContent().pairs),l=u.next();!l.done;l=u.next()){var c=l.value,h=e(c[1],a);++a;var f=s[h];if(f)f.push(c);else{var p=[];p.push(c),o.push(p),s[h]=p}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{values:o.map(function(e){return new t({pairs:e})})}})},t.prototype.groupSequentialBy=function(t){if(t){if(!by(t))throw new Error("Expected 'selector' parameter to 'DataFrame.groupSequentialBy' to be a selector function that determines the value to group the series by.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)})},t.concat=function(e){if(!Iy(e))throw new Error("Expected 'dataframes' parameter to 'DataFrame.concat' to be an array of dataframes.");return new t(function(){var t,n,r,i,o=e.map(function(t){return t.getContent()}),s=[];try{for(var a=dg(o),u=a.next();!u.done;u=a.next()){var l=u.value;try{for(var c=dg(l.columnNames),h=c.next();!h.done;h=c.next())s.push(h.value)}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{columnNames:s=_y(s),values:new Lg(o.map(function(t){return t.values})),pairs:new Lg(o.map(function(t){return t.pairs}))}})},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,i,o,s,a=[this];try{for(var u=dg(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(Iy(c))try{for(var h=dg(c),f=h.next();!f.done;f=h.next()){var p=f.value;a.push(p)}}catch(d){o={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else a.push(c)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return t.concat(a)},t.zip=function(e,n){var r=Array.from(e);if(0===r.length)return new t;var i=r[0];return i.none()?new t:new t(function(){var t=r;return{index:i.getContent().index,values:new Gg(t.map(function(t){return t.getContent().values}),n)}})},t.prototype.zip=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[e.length-1],i=[this].concat(e.slice(0,e.length-1));return t.zip(i,function(t){return r.apply(void 0,yg(t))})},t.prototype.orderBy=function(t){var e=this.getContent();return new Ny({columnNames:e.columnNames,values:e.values,pairs:e.pairs,selector:t,direction:mg.Ascending,parent:null})},t.prototype.orderByDescending=function(t){var e=this.getContent();return new Ny({columnNames:e.columnNames,values:e.values,pairs:e.pairs,selector:t,direction:mg.Descending,parent:null})},t.prototype.union=function(t,e){if(e&&!by(e))throw new Error("Expected optional 'selector' parameter to 'DataFrame.union' to be a selector function.");return this.concat(t).distinct(e)},t.prototype.intersection=function(t,e,n){if(e){if(!by(e))throw new Error("Expected optional 'outerSelector' parameter to 'DataFrame.intersection' to be a function.")}else e=function(t){return t};if(n){if(!by(n))throw new Error("Expected optional 'innerSelector' parameter to 'DataFrame.intersection' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).any()})},t.prototype.except=function(t,e,n){if(e){if(!by(e))throw new Error("Expected optional 'outerSelector' parameter to 'DataFrame.except' to be a function.")}else e=function(t){return t};if(n){if(!by(n))throw new Error("Expected optional 'innerSelector' parameter to 'DataFrame.except' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).none()})},t.prototype.join=function(e,n,r,i){if(!by(n))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.join' to be a selector function.");if(!by(r))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.join' to be a selector function.");if(!by(i))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.join' to be a selector function.");var o=this;return new t(function(){var t,s,a,u,l=e.groupBy(r).toObject(function(t){return r(t.first())},function(t){return t}),c=(o.getContent(),[]);try{for(var h=dg(o),f=h.next();!f.done;f=h.next()){var p=f.value,d=l[n(p)];if(d)try{for(var g=dg(d),y=g.next();!y.done;y=g.next())c.push(i(p,y.value))}catch(m){a={error:m}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(a)throw a.error}}}}catch(_){t={error:_}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(t)throw t.error}}return{values:c}})},t.prototype.joinOuter=function(t,e,n,r){if(!by(e))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuter' to be a selector function.");if(!by(n))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuter' to be a selector function.");if(!by(r))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuter' to be a selector function.");var i=this,o=i.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),s=t.except(i,n,e).select(function(t){return r(null,t)}).resetIndex(),a=i.join(t,e,n,r);return o.concat(a).concat(s).resetIndex()},t.prototype.joinOuterLeft=function(t,e,n,r){if(!by(e))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");if(!by(n))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");if(!by(r))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");var i=this.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),o=this.join(t,e,n,r);return i.concat(o).resetIndex()},t.prototype.joinOuterRight=function(t,e,n,r){if(!by(e))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");if(!by(n))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");if(!by(r))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");var i=t.except(this,n,e).select(function(t){return r(null,t)}).resetIndex();return this.join(t,e,n,r).concat(i).resetIndex()},t.prototype.summarize=function(t){if(t&&!wy(t))throw new Error("Expected 'spec' parameter to 'DataFrame.summarize' to be an object that specifies how to summarize the dataframe.");if(!t){t={};try{for(var e=dg(this.getColumnNames()),n=e.next();!n.done;n=e.next()){var r=n.value,i={};i[r+"_sum"]=Oy.sum,i[r+"_average"]=Oy.average,i[r+"_count"]=Oy.count,t[r]=i}}catch(I){u={error:I}}finally{try{n&&!n.done&&(l=e.return)&&l.call(e)}finally{if(u)throw u.error}}}try{for(var o=dg(Object.keys(t)),s=o.next();!s.done;s=o.next()){var a=t[w=s.value];by(a)&&(t[w]={},t[w][w]=a)}}catch(A){c={error:A}}finally{try{s&&!s.done&&(h=o.return)&&h.call(o)}finally{if(c)throw c.error}}var u,l,c,h,f,p,d,g,y=Object.keys(t),m=vy(y,function(t){return t},function(e){return Object.keys(t[e])}),_={};try{for(var v=dg(y),E=v.next();!E.done;E=v.next()){var w,b=m[w=E.value];try{for(var S=dg(b),C=S.next();!C.done;C=S.next()){var x=C.value;_[x]=(0,t[w][x])(this.getSeries(w))}}catch(D){d={error:D}}finally{try{C&&!C.done&&(g=S.return)&&g.call(S)}finally{if(d)throw d.error}}}}catch(T){f={error:T}}finally{try{E&&!E.done&&(p=v.return)&&p.call(v)}finally{if(f)throw f.error}}return _},t.prototype.pivot=function(t,e,n){var r,i;if(Sy(t))r=[t];else{if(!Iy(t))throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's columns.");if(0===(r=Array.from(t)).length)throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to contain at least one string.");try{for(var o=dg(r),s=o.next();!s.done;s=o.next())if(!Sy(s.value))throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to be an array of strings, each string identifies a column in the DataFrame on which to pivot.")}catch(x){m={error:x}}finally{try{s&&!s.done&&(_=o.return)&&_.call(o)}finally{if(m)throw m.error}}}if(wy(e)){i=e;try{for(var a=dg(Object.keys(i)),u=a.next();!u.done;u=a.next()){var l=u.value,c=i[l];by(c)&&(i[l]={},i[l][l]=c)}}catch(I){v={error:I}}finally{try{u&&!u.done&&(E=a.return)&&E.call(a)}finally{if(v)throw v.error}}}else{if(!Sy(e))throw new Error("Expected 'value' parameter to 'DataFrame.pivot' to be a string that identifies the column whose values to aggregate or a column spec that defines which column contains the value ot aggregate and the ways to aggregate that value.");if(!by(n))throw new Error("Expected 'aggregator' parameter to 'DataFrame.pivot' to be a function to aggregate pivoted values.");var h=e,f={};f[h]=n,(i={})[h]=f}for(var p=r[0],d=this.groupBy(function(t){return t[p]}).select(function(t){var e={};return e[p]=t.first()[p],e.src=t,e}),g=function(t){var e=r[t];d=d.selectMany(function(t){return t.src.groupBy(function(t){return t[e]}).select(function(n){var r=Object.assign({},t);return r[e]=n.first()[e],r.src=n,r})})},y=1;y<r.length;++y)g(y);var m,_,v,E,w=Object.keys(i),b=vy(w,function(t){return t},function(t){return Object.keys(i[t])}),S=d.inflate(function(t){var e,n,r=function(e){var n,r,o=b[e];try{for(var s=dg(o),a=s.next();!a.done;a=s.next()){var u=a.value;t[u]=(0,i[e][u])(t.src.deflate(function(t){return t[e]}))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}};try{for(var o=dg(w),s=o.next();!s.done;s=o.next())r(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return delete t.src,t}).orderBy(function(t){return t[p]}),C=function(t){var e=r[t];S=S.thenBy(function(t){return t[e]})};for(y=1;y<r.length;++y)C(y);return S},t.prototype.melt=function(e,n){var r,i;if(Sy(e))r=[e];else{if(!Iy(e))throw new Error("Expected 'idColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's identity columns.");r=Array.from(e);try{for(var o=dg(r),s=o.next();!s.done;s=o.next())if(!Sy(s.value))throw new Error("Expected 'idColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's identity columns.")}catch(P){C={error:P}}finally{try{s&&!s.done&&(x=o.return)&&x.call(o)}finally{if(C)throw C.error}}}if(Sy(n))i=[n];else{if(!Iy(n))throw new Error("Expected 'valueColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose molten values make the new DataFrame's 'variable' and 'value' columns.");i=Array.from(n);try{for(var a=dg(i),u=a.next();!u.done;u=a.next())if(!Sy(u.value))throw new Error("Expected 'valueColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose molten values make the new DataFrame's 'variable' and 'value' columns.")}catch(L){I={error:L}}finally{try{u&&!u.done&&(A=a.return)&&A.call(a)}finally{if(I)throw I.error}}}var l=i.length,c=this.count(),h=new t,f=this.subset(r.concat(i));try{for(var p=dg(r),d=p.next();!d.done;d=p.next()){f=f.dropSeries(w=d.value);var g=this.getSeries(w),y=new py(g,l),m=new Oy(y);h=h.withSeries(w,m)}}catch(M){D={error:M}}finally{try{d&&!d.done&&(T=p.return)&&T.call(p)}finally{if(D)throw D.error}}var _=[];try{for(var v=dg(f.getColumns()),E=v.next();!E.done;E=v.next()){var w;_.push(this.getSeries((w=E.value).name))}}catch(k){N={error:k}}finally{try{E&&!E.done&&(O=v.return)&&O.call(v)}finally{if(N)throw N.error}}var b=new gy(_),S=new Oy(b);h=h.withSeries("value",S);var C,x,I,A,D,T,N,O,R=new hy(i,c),F=new Oy(R);return h.withSeries("variable",F)},t.prototype.insertPair=function(e){if(!Iy(e))throw new Error("Expected 'pair' parameter to 'DataFrame.insertPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'DataFrame.insertPair' to be an array with two elements. The first element is the index, the second is the value.");return new t({pairs:[e]}).concat(this)},t.prototype.appendPair=function(e){if(!Iy(e))throw new Error("Expected 'pair' parameter to 'DataFrame.appendPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'DataFrame.appendPair' to be an array with two elements. The first element is the index, the second is the value.");return this.concat(new t({pairs:[e]}))},t.prototype.fillGaps=function(t,e){if(!by(t))throw new Error("Expected 'comparer' parameter to 'DataFrame.fillGaps' to be a comparer function that compares two values and returns a boolean.");if(!by(e))throw new Error("Expected 'generator' parameter to 'DataFrame.fillGaps' to be a generator function that takes two values and returns an array of generated pairs to span the gap.");return this.rollingWindow(2).selectMany(function(n){var r=n.toPairs(),i=r[0],o=r[1];if(!t(i,o))return[i];var s=e(i,o);if(!Iy(s))throw new Error("Expected return from 'generator' parameter to 'DataFrame.fillGaps' to be an array of pairs, instead got a "+typeof s);return[i].concat(s)}).withIndex(function(t){return t[0]}).inflate(function(t){return t[1]}).concat(this.tail(1))},t.prototype.defaultIfEmpty=function(e){if(this.none()){if(e instanceof t)return e;if(Iy(e))return new t(e);throw new Error("Expected 'defaultSequence' parameter to 'DataFrame.defaultIfEmpty' to be an array or a series.")}return this},t.prototype.detectTypes=function(){var e=this;return new t(function(){return{columnNames:["Type","Frequency","Column"],values:e.getColumns().selectMany(function(t){return t.series.detectTypes().select(function(e){var n=Object.assign({},e);return n.Column=t.name,n})})}})},t.prototype.detectValues=function(){var e=this;return new t(function(){return{columnNames:["Value","Frequency","Column"],values:e.getColumns().selectMany(function(t){return t.series.detectValues().select(function(e){var n=Object.assign({},e);return n.Column=t.name,n})})}})},t.prototype.toJSON=function(){return JSON.stringify(this.toArray(),null,4)},t.prototype.toJSON5=function(){return Xd.a.stringify(this.toArray(),null,4)},t.prototype.toCSV=function(t){var e=(void 0===t||void 0===t.header||t.header?[this.getColumnNames()]:[]).concat(this.toRows());return Zd.a.unparse(e,t)},t.prototype.toHTML=function(){var t=this.getColumnNames();return'<table border="1" class="dataframe">\n    <thead>\n        <tr style="text-align: right;">\n            <th></th>\n'+t.map(function(t){return"            <th>"+t+"</th>"}).join("\n")+"\n       </tr>\n    </thead>\n    <tbody>\n"+this.toPairs().map(function(e){var n=e[1];return"        <tr>\n            <th>"+e[0]+"</th>\n"+t.map(function(t){return"            <td>"+n[t]+"</td>"}).join("\n")+"\n        </tr>"}).join("\n")+"\n    </tbody>\n</table>"},t.prototype.serialize=function(){var t=this.toArray(),e=this.getIndex(),n=e.head(t.length).toArray(),r=this.getColumns(),i=vy(r,function(t){return t.name},function(t){return t.type}),o=e.getType();"date"===o&&(n=n.map(function(t){return Hd(t).toISOString()}));var s,a,u,l,c=!1;try{for(var h=dg(r),f=h.next();!f.done;f=h.next()){var p=f.value;if("date"===p.type){c||(t=t.map(function(t){return Object.assign({},t)}),c=!0);try{for(var d=dg(t),g=d.next();!g.done;g=d.next()){var y=g.value;y[p.name]=Hd(y[p.name]).toISOString()}}catch(m){u={error:m}}finally{try{g&&!g.done&&(l=d.return)&&l.call(d)}finally{if(u)throw u.error}}}}}catch(_){s={error:_}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return{columnOrder:this.getColumnNames(),columns:i,index:{type:o,values:n},values:t}},t.deserialize=function(e){var n,r,i,o,s=e.index&&e.index.values||[],a=e.values&&e.values||[],u=!1;if(e.columns)try{for(var l=dg(Object.keys(e.columns)),c=l.next();!c.done;c=l.next()){var h=c.value;if("date"===e.columns[h]){u||(a=a.map(function(t){return Object.assign({},t)}),u=!0);try{for(var f=dg(a),p=f.next();!p.done;p=f.next()){var d=p.value;d[h]=Hd(d[h]).toDate()}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return e.index&&"date"===e.index.type&&(s=s.map(function(t){return Hd(t).toDate()})),new t({columnNames:e.columnOrder||[],index:s,values:a})},t.prototype.getTypeCode=function(){return"dataframe"},t.defaultCountIterable=new wg,t.defaultEmptyIterable=new vg,t}(),Ny=function(t){function e(n){for(var r,i,o=this,s=[],a=[],u=0,l=n.parent,c=[];null!==l;)c.push(l),l=l.config.parent;c.reverse();try{for(var h=dg(c),f=h.next();!f.done;f=h.next()){var p=f.value.config;s.push(e.makeSortSpec(u,p.selector,p.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(p.selector),p.direction)),++u}}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return s.push(e.makeSortSpec(u,n.selector,n.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(n.selector),n.direction)),(o=t.call(this,{columnNames:n.columnNames,values:new Xg(n.values,s),pairs:new Xg(n.pairs,a)})||this).config=n,o}return pg(e,t),e.makeSortSpec=function(t,e,n){return{sortLevel:t,selector:e,direction:n}},e.makePairsSelector=function(t){return function(e,n){return t(e[1],n)}},e.prototype.thenBy=function(t){return new e({columnNames:this.config.columnNames,values:this.config.values,pairs:this.config.pairs,selector:t,direction:mg.Ascending,parent:this})},e.prototype.thenByDescending=function(t){return new e({columnNames:this.config.columnNames,values:this.config.values,pairs:this.config.pairs,selector:t,direction:mg.Descending,parent:this})},e}(Ty);Hd.extend(lg),function(t){t.Start="start",t.End="end"}(Dy||(Dy={}));var Oy=function(){function t(e){this.configFn=null,this.content=null,this.indexedContent=null,e?by(e)?this.configFn=e:this.content=Iy(e)||by(e[Symbol.iterator])?t.initFromArray(e):t.initFromConfig(e):this.content=t.initEmpty()}return t.initFromArray=function(e){return{index:t.defaultCountIterable,values:e,pairs:new Sg([t.defaultCountIterable,e]),isBaked:!0}},t.initEmpty=function(){return{index:t.defaultEmptyIterable,values:t.defaultEmptyIterable,pairs:t.defaultEmptyIterable,isBaked:!0}},t.checkIterable=function(t,e){if(Iy(t));else if(!by(t[Symbol.iterator]))throw new Error("Expected '"+e+"' field of Series config object to be an array of values or an iterable of values.")},t.initFromConfig=function(e){var n,r,i,o=!1;return e.pairs&&(t.checkIterable(e.pairs,"pairs"),i=e.pairs),e.index?(t.checkIterable(e.index,"index"),n=e.index):n=i?new Zg(i,0):t.defaultCountIterable,e.values?(t.checkIterable(e.values,"values"),r=e.values):r=i?new Zg(i,1):t.defaultEmptyIterable,i||(i=new Sg([n,r])),void 0!==e.baked&&(o=e.baked),{index:n,values:r,pairs:i,isBaked:o}},t.prototype.lazyInit=function(){null===this.content&&null!==this.configFn&&(this.content=t.initFromConfig(this.configFn()))},t.prototype.getContent=function(){return this.lazyInit(),this.content},t.prototype.getRowByIndex=function(t){if(!this.indexedContent){this.indexedContent=new Map;try{for(var e=dg(this.getContent().pairs),n=e.next();!n.done;n=e.next()){var r=n.value;this.indexedContent.set(r[0],r[1])}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}}return this.indexedContent.get(t);var i,o},t.prototype[Symbol.iterator]=function(){return this.getContent().values[Symbol.iterator]()},t.prototype.cast=function(){return this},t.prototype.getIndex=function(){var t=this;return new Fy(function(){return{values:t.getContent().index}})},t.prototype.withIndex=function(e){var n=this;return by(e)?new t(function(){return{values:n.getContent().values,index:n.select(e)}}):(t.checkIterable(e,"newIndex"),new t(function(){return{values:n.getContent().values,index:e}}))},t.prototype.resetIndex=function(){var e=this;return new t(function(){return{values:e.getContent().values}})},t.merge=function(e){var n=new Map,r=Array.from(e).length,i=0;try{for(var o=dg(e),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=dg(a.toPairs()),l=u.next();!l.done;l=u.next()){var c=l.value,h=c[0];n.has(h)||n.set(h,new Array(r)),n.get(h)[i]=c[1]}}catch(m){d={error:m}}finally{try{l&&!l.done&&(g=u.return)&&g.call(u)}finally{if(d)throw d.error}}++i}}catch(_){f={error:_}}finally{try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(f)throw f.error}}var f,p,d,g,y=Array.from(n.keys()).map(function(t){return[t,n.get(t)]});return y.sort(function(t,e){return t[0]===e[0]?0:t[0]>e[0]?1:-1}),new t({pairs:y})},t.prototype.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.merge([this].concat(e))},t.prototype.toArray=function(){var t,e,n=[];try{for(var r=dg(this.getContent().values),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toPairs=function(){var t,e,n=[];try{for(var r=dg(this.getContent().pairs),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o[1]&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toObject=function(t,e){if(!by(t))throw new Error("Expected 'keySelector' parameter to Series.toObject to be a function.");if(!by(e))throw new Error("Expected 'valueSelector' parameter to Series.toObject to be a function.");return vy(this,t,e)},t.prototype.select=function(e){var n=this;if(!by(e))throw new Error("Expected 'selector' parameter to 'Series.select' function to be a function.");return new t(function(){return{values:new xg(n.getContent().values,e),index:n.getContent().index}})},t.prototype.selectMany=function(e){var n=this;if(!by(e))throw new Error("Expected 'selector' parameter to 'Series.selectMany' to be a function.");return new t(function(){return{pairs:new Ag(n.getContent().pairs,function(t,n){var r,i,o=[];try{for(var s=dg(e(t[1],n)),a=s.next();!a.done;a=s.next())o.push([t[0],a.value])}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o})}})},t.prototype.window=function(e,n){var r=this;if(!xy(e))throw new Error("Expected 'period' parameter to 'Series.window' to be a number.");return new t(function(){return{pairs:new kg(r.getContent().pairs,e,n||Dy.End)}})},t.prototype.rollingWindow=function(e,n){var r=this;if(!xy(e))throw new Error("Expected 'period' parameter to 'Series.rollingWindow' to be a number.");return new t(function(){return{pairs:new Hg(r.getContent().pairs,e,n||Dy.End)}})},t.prototype.variableWindow=function(e){var n=this;if(!by(e))throw new Error("Expected 'comparer' parameter to 'Series.variableWindow' to be a function.");return new t(function(){return{values:new Yg(n.getContent().pairs,e)}})},t.prototype.sequentialDistinct=function(t){if(t){if(!by(t))throw new Error("Expected 'selector' parameter to 'Series.sequentialDistinct' to be a selector function that determines the value to compare for duplicates.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)}).select(function(t){return[t.getIndex().first(),t.first()]}).withIndex(function(t){return t[0]}).select(function(t){return t[1]})},t.prototype.aggregate=function(t,e){if(by(t)&&!e)return this.skip(1).aggregate(this.first(),t);if(!by(e))throw new Error("Expected 'selector' parameter to aggregate to be a function.");var n,r,i=t;try{for(var o=dg(this),s=o.next();!s.done;s=o.next())i=e(i,s.value)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.amountRange=function(t,e){return this.rollingWindow(t,e).select(function(t){return t.max()-t.min()})},t.prototype.proportionRange=function(t,e){return this.rollingWindow(t,e).select(function(t){return(t.max()-t.min())/t.last()})},t.prototype.percentRange=function(t,e){return this.proportionRange(t,e).select(function(t){return 100*t})},t.prototype.amountChange=function(t,e){return this.rollingWindow(void 0===t?2:t,e).select(function(t){return t.last()-t.first()})},t.prototype.proportionChange=function(t,e){return this.rollingWindow(void 0===t?2:t,e).select(function(t){return(t.last()-t.first())/t.first()})},t.prototype.percentChange=function(t,e){return this.proportionChange(t,e).select(function(t){return 100*t})},t.prototype.proportionRank=function(t){if(void 0===t&&(t=2),!xy(t))throw new Error("Expected 'period' parameter to 'Series.proportionRank' to be a number that specifies the time period for the ranking.");return this.rollingWindow(t+1).select(function(e){var n=e.last();return e.head(-1).where(function(t){return t<n}).count()/t})},t.prototype.percentRank=function(t){if(void 0===t&&(t=2),!xy(t))throw new Error("Expected 'period' parameter to 'Series.percentRank' to be a number that specifies the time period for the ranking.");return this.proportionRank(t).select(function(t){return 100*t})},t.prototype.cumsum=function(){var e=this;return new t(function(){var t=0;return{pairs:e.toPairs().map(function(e){var n=gg(e,2);return[n[0],t+=n[1]]})}})},t.prototype.skip=function(e){var n=this;return new t(function(){return{values:new Jg(n.getContent().values,e),index:new Jg(n.getContent().index,e),pairs:new Jg(n.getContent().pairs,e)}})},t.prototype.skipWhile=function(e){var n=this;if(!by(e))throw new Error("Expected 'predicate' parameter to 'Series.skipWhile' function to be a predicate function that returns true/false.");return new t(function(){return{values:new ey(n.getContent().values,e),pairs:new ey(n.getContent().pairs,function(t){return e(t[1])})}})},t.prototype.skipUntil=function(t){if(!by(t))throw new Error("Expected 'predicate' parameter to 'Series.skipUntil' function to be a predicate function that returns true/false.");return this.skipWhile(function(e){return!t(e)})},t.prototype.take=function(e){var n=this;if(!xy(e))throw new Error("Expected 'numRows' parameter to 'Series.take' function to be a number.");return new t(function(){return{index:new Tg(n.getContent().index,e),values:new Tg(n.getContent().values,e),pairs:new Tg(n.getContent().pairs,e)}})},t.prototype.takeWhile=function(e){var n=this;if(!by(e))throw new Error("Expected 'predicate' parameter to 'Series.takeWhile' function to be a predicate function that returns true/false.");return new t(function(){return{values:new Og(n.getContent().values,e),pairs:new Og(n.getContent().pairs,function(t){return e(t[1])})}})},t.prototype.takeUntil=function(t){if(!by(t))throw new Error("Expected 'predicate' parameter to 'Series.takeUntil' function to be a predicate function that returns true/false.");return this.takeWhile(function(e){return!t(e)})},t.count=function(t){return t.count()},t.prototype.count=function(){var t,e,n=0;try{for(var r=dg(this.getContent().values),i=r.next();!i.done;i=r.next())++n}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.first=function(){try{for(var t=dg(this),e=t.next();!e.done;e=t.next())return e.value}catch(i){n={error:i}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}throw new Error("Series.first: No values in Series.");var n,r},t.prototype.last=function(){var t,e,n=null;try{for(var r=dg(this),i=r.next();!i.done;i=r.next())n=i.value}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}if(null===n)throw new Error("Series.last: No values in Series.");return n},t.prototype.at=function(t){if(!this.none())return this.getRowByIndex(t)},t.prototype.head=function(e){if(!xy(e))throw new Error("Expected 'numValues' parameter to 'Series.head' function to be a number.");if(0===e)return new t;var n=e<0?this.count()-Math.abs(e):e;return this.take(n)},t.prototype.tail=function(e){if(!xy(e))throw new Error("Expected 'numValues' parameter to 'Series.tail' function to be a number.");if(0===e)return new t;var n=e>0?this.count()-e:Math.abs(e);return this.skip(n)},t.prototype.where=function(e){var n=this;if(!by(e))throw new Error("Expected 'predicate' parameter to 'Series.where' function to be a function.");return new t(function(){return{values:new Fg(n.getContent().values,e),pairs:new Fg(n.getContent().pairs,function(t){return e(t[1])})}})},t.prototype.forEach=function(t){if(!by(t))throw new Error("Expected 'callback' parameter to 'Series.forEach' to be a function.");var e,n,r=0;try{for(var i=dg(this),o=i.next();!o.done;o=i.next())t(o.value,r++)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t.prototype.all=function(t){if(!by(t))throw new Error("Expected 'predicate' parameter to 'Series.all' to be a function.");var e,n,r=0;try{for(var i=dg(this),o=i.next();!o.done;o=i.next()){if(!t(o.value))return!1;++r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r>0},t.prototype.any=function(t){if(t&&!by(t))throw new Error("Expected 'predicate' parameter to 'Series.any' to be a function.");var e,n;if(!t)return!this[Symbol.iterator]().next().done;try{for(var r=dg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!0}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},t.prototype.none=function(t){if(t&&!by(t))throw new Error("Expected 'predicate' parameter to 'Series.none' to be a function.");var e,n;if(!t)return this[Symbol.iterator]().next().done;try{for(var r=dg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.startAt=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThan();return{index:new ey(n.getContent().index,function(n){return t(n,e)}),pairs:new ey(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.endAt=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThanOrEqualTo();return{index:new Og(n.getContent().index,function(n){return t(n,e)}),pairs:new Og(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.before=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThan();return{index:new Og(n.getContent().index,function(n){return t(n,e)}),pairs:new Og(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.after=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThanOrEqualTo();return{index:new ey(n.getContent().index,function(n){return t(n,e)}),pairs:new ey(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.between=function(t,e){return this.startAt(t).endAt(e)},t.prototype.toString=function(){for(var t=["__index__","__value__"],e=this.toPairs(),n=new _d.a,r=0;r<e.length;++r){for(var i=e[r],o=0;o<i.length;++o)n.cell(t[o],i[o]);n.newRow()}return n.toString()},t.parseInt=function(t,e){if(null!=t){if(!Sy(t))throw new Error("Called Series.parseInts, expected all values in the series to be strings, instead found a '"+typeof t+"' at index "+e);if(0!==t.length)return parseInt(t)}},t.prototype.parseInts=function(){return this.select(t.parseInt)},t.parseFloat=function(t,e){if(null!=t){if(!Sy(t))throw new Error("Called Series.parseFloats, expected all values in the series to be strings, instead found a '"+typeof t+"' at index "+e);if(0!==t.length)return parseFloat(t)}},t.prototype.parseFloats=function(){return this.select(t.parseFloat)},t.parseDate=function(t,e,n){if(null!=t){if(!Sy(t))throw new Error("Called Series.parseDates, expected all values in the series to be strings, instead found a '"+typeof t+"' at index "+e);if(0!==t.length)return Hd(t,n).toDate()}},t.prototype.parseDates=function(e){if(e&&!Sy(e))throw new Error("Expected optional 'formatString' parameter to Series.parseDates to be a string (if specified).");return this.select(function(n,r){return t.parseDate(n,r,e)})},t.toString=function(t,e){return void 0===t?void 0:null===t?null:e&&Cy(t)?Hd(t).format(e):e&&xy(t)?hg()(t).format(e):t.toString()},t.prototype.toStrings=function(e){if(e&&!Sy(e))throw new Error("Expected optional 'formatString' parameter to Series.toStrings to be a string (if specified).");return this.select(function(n){return t.toString(n,e)})},t.prototype.bake=function(){return this.getContent().isBaked?this:new t({values:this.toArray(),pairs:this.toPairs(),baked:!0})},t.prototype.inflate=function(t){var e=this;if(t){if(!by(t))throw new Error("Expected 'selector' parameter to Series.inflate to be a selector function.");return new Ty(function(){var n=e.getContent();return{values:new xg(n.values,t),index:n.index,pairs:new xg(n.pairs,function(e,n){return[e[0],t(e[1],n)]})}})}return new Ty(function(){var t=e.getContent();return{values:t.values,index:t.index,pairs:t.pairs}})},t.sum=function(t){return t.sum()},t.prototype.sum=function(){var t,e,n=0;try{for(var r=dg(this),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&(n+=o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.average=function(t){return t.average()},t.prototype.average=function(){var t,e,n=0,r=0;try{for(var i=dg(this),o=i.next();!o.done;o=i.next()){var s=o.value;null!=s&&(r+=1,n+=s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return 0===r?0:n/r},t.median=function(t){return t.median()},t.prototype.median=function(){var t=this.where(function(t){return null!=t}),e=t.count();if(0===e)return 0;var n=t.orderBy(function(t){return t}).toArray();return e%2==0?(n[e/2-1]+n[e/2])/2:n[Math.floor(e/2)]},t.std=function(t){return t.std()},t.prototype.std=function(){var t,e,n=this.average(),r=0,i=0;try{for(var o=dg(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a){r+=1;var u=a-n;i+=u*u}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return 0===r?0:Math.sqrt(i/r)},t.min=function(t){return t.min()},t.prototype.min=function(){var t,e,n;try{for(var r=dg(this),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&(t=void 0===t?o:Math.min(t,o))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return void 0===t?0:t},t.max=function(t){return t.max()},t.prototype.max=function(){var t,e,n;try{for(var r=dg(this),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&(t=void 0===t?o:Math.max(t,o))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return void 0===t?0:t},t.prototype.invert=function(){return this.select(function(t){return null==t?t:-t})},t.prototype.counter=function(t){return this.groupSequentialBy(t).selectMany(function(e,n){return t(e.first())?function(t,e){if(!xy(1))throw new Error("Expect 'start' parameter to 'dataForge.range' function to be a number.");if(!xy(e))throw new Error("Expect 'count' parameter to 'dataForge.range' function to be a number.");for(var n=[],r=0;r<e;++r)n.push(1+r);return new Oy(n)}(0,e.count()).withIndex(e.getIndex()).toPairs():function(t,e){for(var n=[],r=0;r<e;++r)n.push(0);return new Oy(n)}(0,e.count()).withIndex(e.getIndex()).toPairs()}).withIndex(function(t){return t[0]}).select(function(t){return t[1]})},t.prototype.reverse=function(){var e=this;return new t(function(){return{values:new Ug(e.getContent().values),index:new Ug(e.getContent().index),pairs:new Ug(e.getContent().pairs)}})},t.prototype.distinct=function(e){var n=this;return new t(function(){return{values:new Wg(n.getContent().values,e),pairs:new Wg(n.getContent().pairs,function(t){return e&&e(t[1])||t[1]})}})},t.prototype.groupBy=function(e){var n=this;if(!by(e))throw new Error("Expected 'selector' parameter to 'Series.groupBy' to be a selector function that determines the value to group the series by.");return new t(function(){var r,i,o=[],s={},a=0;try{for(var u=dg(n.getContent().pairs),l=u.next();!l.done;l=u.next()){var c=l.value,h=e(c[1],a);++a;var f=s[h];if(f)f.push(c);else{var p=[];p.push(c),o.push(p),s[h]=p}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{values:o.map(function(e){return new t({pairs:e})})}})},t.prototype.groupSequentialBy=function(t){if(t){if(!by(t))throw new Error("Expected 'selector' parameter to 'Series.groupSequentialBy' to be a selector function that determines the value to group the series by.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)})},t.concat=function(e){if(!Iy(e))throw new Error("Expected 'series' parameter to 'Series.concat' to be an array of series.");return new t(function(){var t=e.map(function(t){return t.getContent()});return{values:new Lg(t.map(function(t){return t.values})),pairs:new Lg(t.map(function(t){return t.pairs}))}})},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,i,o,s,a=[this];try{for(var u=dg(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(Iy(c))try{for(var h=dg(c),f=h.next();!f.done;f=h.next()){var p=f.value;a.push(p)}}catch(d){o={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else a.push(c)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return t.concat(a)},t.zip=function(e,n){var r=Array.from(e);if(0===r.length)return new t;var i=r[0];return i.none()?new t:new t(function(){var t=r;return{index:i.getContent().index,values:new Gg(t.map(function(t){return t.getContent().values}),n)}})},t.prototype.zip=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[e.length-1],i=[this].concat(e.slice(0,e.length-1));return t.zip(i,function(t){return r.apply(void 0,yg(t))})},t.prototype.orderBy=function(t){var e=this.getContent();return new Ry({values:e.values,pairs:e.pairs,selector:t,direction:mg.Ascending,parent:null})},t.prototype.orderByDescending=function(t){var e=this.getContent();return new Ry({values:e.values,pairs:e.pairs,selector:t,direction:mg.Descending,parent:null})},t.prototype.union=function(t,e){if(e&&!by(e))throw new Error("Expected optional 'selector' parameter to 'Series.union' to be a selector function.");return this.concat(t).distinct(e)},t.prototype.intersection=function(t,e,n){if(e){if(!by(e))throw new Error("Expected optional 'outerSelector' parameter to 'Series.intersection' to be a function.")}else e=function(t){return t};if(n){if(!by(n))throw new Error("Expected optional 'innerSelector' parameter to 'Series.intersection' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).any()})},t.prototype.except=function(t,e,n){if(e){if(!by(e))throw new Error("Expected optional 'outerSelector' parameter to 'Series.except' to be a function.")}else e=function(t){return t};if(n){if(!by(n))throw new Error("Expected optional 'innerSelector' parameter to 'Series.except' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).none()})},t.prototype.join=function(e,n,r,i){if(!by(n))throw new Error("Expected 'outerKeySelector' parameter of 'Series.join' to be a selector function.");if(!by(r))throw new Error("Expected 'innerKeySelector' parameter of 'Series.join' to be a selector function.");if(!by(i))throw new Error("Expected 'resultSelector' parameter of 'Series.join' to be a selector function.");var o=this;return new t(function(){var t,s,a,u,l=e.groupBy(r).toObject(function(t){return r(t.first())},function(t){return t}),c=(o.getContent(),[]);try{for(var h=dg(o),f=h.next();!f.done;f=h.next()){var p=f.value,d=l[n(p)];if(d)try{for(var g=dg(d),y=g.next();!y.done;y=g.next())c.push(i(p,y.value))}catch(m){a={error:m}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(a)throw a.error}}}}catch(_){t={error:_}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(t)throw t.error}}return{values:c}})},t.prototype.joinOuter=function(t,e,n,r){if(!by(e))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuter' to be a selector function.");if(!by(n))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuter' to be a selector function.");if(!by(r))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuter' to be a selector function.");var i=this,o=i.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),s=t.except(i,n,e).select(function(t){return r(null,t)}).resetIndex(),a=i.join(t,e,n,r);return o.concat(a).concat(s).resetIndex()},t.prototype.joinOuterLeft=function(t,e,n,r){if(!by(e))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuterLeft' to be a selector function.");if(!by(n))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuterLeft' to be a selector function.");if(!by(r))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuterLeft' to be a selector function.");var i=this.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),o=this.join(t,e,n,r);return i.concat(o).resetIndex()},t.prototype.joinOuterRight=function(t,e,n,r){if(!by(e))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuterRight' to be a selector function.");if(!by(n))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuterRight' to be a selector function.");if(!by(r))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuterRight' to be a selector function.");var i=t.except(this,n,e).select(function(t){return r(null,t)}).resetIndex();return this.join(t,e,n,r).concat(i).resetIndex()},t.prototype.truncateStrings=function(t){if(!xy(t))throw new Error("Expected 'maxLength' parameter to 'Series.truncateStrings' to be a number.");return this.select(function(e){return Sy(e)&&e.length>t?e.substring(0,t):e})},t.prototype.round=function(t){if(void 0!==t){if(!xy(t))throw new Error("Expected 'numDecimalPlaces' parameter to 'Series.round' to be a number.")}else t=2;return this.select(function(e){return xy(e)?parseFloat(e.toFixed(t)):e})},t.prototype.insertPair=function(e){if(!Iy(e))throw new Error("Expected 'pair' parameter to 'Series.insertPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'Series.insertPair' to be an array with two elements. The first element is the index, the second is the value.");return new t({pairs:[e]}).concat(this)},t.prototype.appendPair=function(e){if(!Iy(e))throw new Error("Expected 'pair' parameter to 'Series.appendPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'Series.appendPair' to be an array with two elements. The first element is the index, the second is the value.");return this.concat(new t({pairs:[e]}))},t.prototype.fillGaps=function(t,e){if(!by(t))throw new Error("Expected 'comparer' parameter to 'Series.fillGaps' to be a comparer function that compares two values and returns a boolean.");if(!by(e))throw new Error("Expected 'generator' parameter to 'Series.fillGaps' to be a generator function that takes two values and returns an array of generated pairs to span the gap.");return this.rollingWindow(2).selectMany(function(n){var r=n.toPairs(),i=r[0],o=r[1];if(!t(i,o))return[i];var s=e(i,o);if(!Iy(s))throw new Error("Expected return from 'generator' parameter to 'Series.fillGaps' to be an array of pairs, instead got a "+typeof s);return[i].concat(s)}).withIndex(function(t){return t[0]}).select(function(t){return t[1]}).concat(this.tail(1))},t.prototype.defaultIfEmpty=function(e){if(this.none()){if(e instanceof t)return e;if(Iy(e))return new t(e);throw new Error("Expected 'defaultSequence' parameter to 'Series.defaultIfEmpty' to be an array or a series.")}return this},t.prototype.detectTypes=function(){var t=this;return new Ty(function(){var e=t.count(),n=t.select(function(t){var e=typeof t;return"object"===e&&Cy(t)&&(e="date"),e}).aggregate({},function(t,e){var n=t[e];return n||(t[e]=n={count:0}),++n.count,t});return{columnNames:["Type","Frequency"],rows:Object.keys(n).map(function(t){return[t,n[t].count/e*100]})}})},t.prototype.detectValues=function(){var t=this;return new Ty(function(){var e=t.count(),n=t.aggregate(new Map,function(t,e){var n=t.get(e);return n||t.set(e,n={count:0,value:e}),++n.count,t});return{columnNames:["Value","Frequency"],rows:Array.from(n.keys()).map(function(t){var r=n.get(t);return[r.value,r.count/e*100]})}})},t.prototype.bucket=function(t){if(!xy(t))throw new Error("Expected 'numBuckets' parameter to 'Series.bucket' to be a number.");if(this.none())return new Ty;var e=this,n=e.min(),r=(e.max()-n)/(t-1);return e.select(function(t){var e=Math.floor((t-n)/r),i=e*r+n;return{Value:t,Bucket:e,Min:i,Mid:i+.5*r,Max:i+r}}).inflate()},t.prototype.getTypeCode=function(){return"series"},t.defaultCountIterable=new wg,t.defaultEmptyIterable=new vg,t}(),Ry=function(t){function e(n){for(var r,i,o=this,s=[],a=[],u=0,l=n.parent,c=[];null!==l;)c.push(l),l=l.config.parent;c.reverse();try{for(var h=dg(c),f=h.next();!f.done;f=h.next()){var p=f.value.config;s.push(e.makeSortSpec(u,p.selector,p.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(p.selector),p.direction)),++u}}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return s.push(e.makeSortSpec(u,n.selector,n.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(n.selector),n.direction)),(o=t.call(this,{values:new Xg(n.values,s),pairs:new Xg(n.pairs,a)})||this).config=n,o}return pg(e,t),e.makeSortSpec=function(t,e,n){return{sortLevel:t,selector:e,direction:n}},e.makePairsSelector=function(t){return function(e,n){return t(e[1],n)}},e.prototype.thenBy=function(t){return new e({values:this.config.values,pairs:this.config.pairs,selector:t,direction:mg.Ascending,parent:this})},e.prototype.thenByDescending=function(t){return new e({values:this.config.values,pairs:this.config.pairs,selector:t,direction:mg.Descending,parent:this})},e}(Oy),Fy=function(t){function e(e){return t.call(this,e)||this}return pg(e,t),e.prototype.getType=function(){return this._type||(this._type=this.any()?Ey(this.first()):"empty"),this._type},e.prototype.getLessThan=function(){switch(this.getType()){case"date":return function(t,e){return Hd(t).isBefore(e)};case"string":case"number":return function(t,e){return t<e};case"empty":return function(){return!0};default:throw new Error("No less than operation available for type: "+this.getType())}},e.prototype.getLessThanOrEqualTo=function(){var t=this;return function(e,n){return!t.getGreaterThan()(e,n)}},e.prototype.getGreaterThan=function(){switch(this.getType()){case"date":return function(t,e){return Hd(t).isAfter(e)};case"string":case"number":return function(t,e){return t>e};case"empty":return function(){return!0};default:throw new Error("No greater than operation available for type: "+this.getType())}},e}(Oy);function Py(t,e){return t(e={exports:{}},e.exports),e.exports}var Ly=function(t){return t instanceof Buffer},My=Py(function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),ky=Py(function(t){try{if("function"!=typeof By.inherits)throw"";t.exports=By.inherits}catch(e){t.exports=My}}),By=Py(function(t,e){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},r=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),u=i[n];n<o;u=i[++n])d(u)||!v(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var i,o={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,t,r.depth)}function a(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&b(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=l(t,i,r)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(b(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return c(n)}var u,v="",S=!1,C=["{","}"];return f(n)&&(S=!0,C=["[","]"]),b(n)&&(v=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(v=" "+RegExp.prototype.toString.call(n)),E(n)&&(v=" "+Date.prototype.toUTCString.call(n)),w(n)&&(v=" "+c(n)),0!==s.length||S&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=S?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return h(t,n,r,a,e,S)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,v,C)):C[0]+v+C[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=d(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function d(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function m(t){return void 0===t}function _(t){return v(t)&&"[object RegExp]"===S(t)}function v(t){return"object"==typeof t&&null!==t}function E(t){return v(t)&&"[object Date]"===S(t)}function w(t){return v(t)&&("[object Error]"===S(t)||t instanceof Error)}function b(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(m(i)&&(i=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=process.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=p,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=_,e.isObject=v,e.isDate=E,e.isError=w,e.isFunction=b,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=Ly;var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=ky,e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(D&&t[D]){var e;if("function"!=typeof(e=t[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),D&&Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=D,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return r.apply(i,arguments)};t.apply(this,e).then(function(t){process.nextTick(o,null,t)},function(t){process.nextTick(T,t,o)})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}}),Uy=By.isFunction;function jy(t){if(!Sy(t))throw new Error("Expected 'jsonTextString' parameter to 'dataForge.fromJSON' to be a string containing data encoded in the JSON format.");return new Ty({values:JSON.parse(t)})}function Gy(t,e){if(!Sy(t))throw new Error("Expected 'csvTextString' parameter to 'dataForge.fromCSV' to be a string containing data encoded in the CSV format.");if(e){if(!wy(e))throw new Error("Expected 'config' parameter to 'dataForge.fromCSV' to be an object with CSV parsing configuration options.");if(e.columnNames){if(!Uy(e.columnNames[Symbol.iterator])&&!Iy(e.columnNames))throw new Error("Expect 'columnNames' field of 'config' parameter to DataForge.fromCSV to be an array or iterable of strings that specifies column names.");try{for(var n=dg(e.columnNames),r=n.next();!r.done;r=n.next())if(!Sy(r.value))throw new Error("Expect 'columnNames' field of 'config' parameter to DataForge.fromCSV to be an array of strings that specify column names.")}catch(u){o={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}}void 0===e.skipEmptyLines&&((e=Object.assign({},e)).skipEmptyLines=!0)}else e={skipEmptyLines:!0};var i,o,s,a=Zd.a.parse(t,e).data;return 0===a.length?new Ty:(a=a.map(function(t){return t.map(function(t){return Sy(t)?t.trim():t})}),i=e&&e.columnNames?e.columnNames:a.shift(),new Ty({rows:a,columnNames:i}))}function Vy(t,e){return(Vy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)}function Wy(t,e){function n(){this.constructor=t}Vy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function qy(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function Hy(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var r,i=[];try{for(;(void 0===e||0<e--)&&!(r=t.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function zy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hy(arguments[e]));return t}Hd.extend(lg);var Yy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{},$y="undefined"!=typeof BigInt?BigInt:Yy.BigInt||Number,Xy=DataView;Xy.prototype.setBigUint64||(Xy.prototype.setBigUint64=function(t,e,n){if(e<Math.pow(2,32)){e=Number(e);var r=0}else{r=e.toString(2),e="";for(var i=0;i<64-r.length;i++)e+="0";e+=r,r=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(n?0:4),e,n),this.setUint32(t+(n?4:0),r,n)},Xy.prototype.getBigUint64=function(t,e){var n=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),n=n.toString(2),t=t.toString(2),e="";for(var r=0;r<32-n.length;r++)e+="0";return $y("0b"+t+(e+n))});var Ky="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Zy=[],Qy=[],Jy="undefined"!=typeof Uint8Array?Uint8Array:Array,tm=!1;function em(){tm=!0;for(var t=0;64>t;++t)Zy[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],Qy["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;Qy[45]=62,Qy[95]=63}function nm(t,e,n){for(var r=[],i=e;i<n;i+=3)r.push(Zy[(e=(t[i]<<16)+(t[i+1]<<8)+t[i+2])>>18&63]+Zy[e>>12&63]+Zy[e>>6&63]+Zy[63&e]);return r.join("")}function rm(t){tm||em();for(var e=t.length,n=e%3,r="",i=[],o=0,s=e-n;o<s;o+=16383)i.push(nm(t,o,o+16383>s?s:o+16383));return 1===n?(r+=Zy[(t=t[e-1])>>2],r+=Zy[t<<4&63],r+="=="):2===n&&(r+=Zy[(t=(t[e-2]<<8)+t[e-1])>>10],r+=Zy[t>>4&63],r+=Zy[t<<2&63],r+="="),i.push(r),i.join("")}function im(t,e,n,r,i){var o=8*i-r-1,s=(1<<o)-1,a=s>>1,u=-7,l=n?-1:1,c=t[e+(i=n?i-1:0)];for(i+=l,n=c&(1<<-u)-1,c>>=-u,u+=o;0<u;n=256*n+t[e+i],i+=l,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=r;0<u;o=256*o+t[e+i],i+=l,u-=8);if(0===n)n=1-a;else{if(n===s)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,r),n-=a}return(c?-1:1)*o*Math.pow(2,n-r)}function om(t,e,n,r,i,o){var s,a=8*o-i-1,u=(1<<a)-1,l=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var h=r?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-r))&&(r--,s*=2),2<=(e=1<=r+l?e+c/s:e+c*Math.pow(2,1-l))*s&&(r++,s/=2),r+l>=u?(e=0,r=u):1<=r+l?(e=(e*s-1)*Math.pow(2,i),r+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,i),r=0));8<=i;t[n+o]=255&e,o+=h,e/=256,i-=8);for(r=r<<i|e,a+=i;0<a;t[n+o]=255&r,o+=h,r/=256,a-=8);t[n+o-h]|=128*f}var sm={}.toString,am=Array.isArray||function(t){return"[object Array]"==sm.call(t)},um=(cm.TYPED_ARRAY_SUPPORT=void 0===Ky.TYPED_ARRAY_SUPPORT||Ky.TYPED_ARRAY_SUPPORT)?2147483647:1073741823;function lm(t,e){if((cm.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return cm.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=cm.prototype:(null===t&&(t=new cm(e)),t.length=e),t}function cm(t,e,n){if(!(cm.TYPED_ARRAY_SUPPORT||this instanceof cm))return new cm(t,e,n);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return pm(this,t)}return hm(this,t,e,n)}function hm(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),cm.TYPED_ARRAY_SUPPORT?(t=e).__proto__=cm.prototype:t=dm(t,e),t}if("string"==typeof e){if(r=t,"string"==typeof(t=n)&&""!==t||(t="utf8"),!cm.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(r=lm(r,n=0|mm(e,t))).write(e,t))!==n&&(r=r.slice(0,e)),r}return function(t,e){if(ym(e)){var n=0|gm(e.length);return 0===(t=lm(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(n="number"!=typeof e.length)||(n=(n=e.length)!=n),n?lm(t,0):dm(t,e);if("Buffer"===e.type&&am(e.data))return dm(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function fm(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function pm(t,e){if(fm(e),t=lm(t,0>e?0:0|gm(e)),!cm.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function dm(t,e){var n=0>e.length?0:0|gm(e.length);t=lm(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function gm(t){if(t>=(cm.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(cm.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function ym(t){return!(null==t||!t._isBuffer)}function mm(t,e){if(ym(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Nm(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Rm(t).length;default:if(r)return Nm(t).length;e=(""+e).toLowerCase(),r=!0}}function _m(t,e,n){var r=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=n,n=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n),r="",n=t;n<e;++n)r=(t=r)+(r=16>(r=this[n])?"0"+r.toString(16):r.toString(16));return r;case"utf8":case"utf-8":return bm(this,e,n);case"ascii":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return rm(0===e&&n===this.length?this:this.slice(e,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,n),n="",t=0;t<e.length;t+=2)n+=String.fromCharCode(e[t]+256*e[t+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function vm(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Em(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof e&&(e=cm.from(e,r)),ym(e))return 0===e.length?-1:wm(t,e,n,r,i);if("number"==typeof e)return e&=255,cm.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):wm(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function wm(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>t.length||2>e.length)return-1;s=2,a/=2,u/=2,n/=2}if(i)for(r=-1;n<a;n++)if(o(t,n)===o(e,-1===r?0:n-r)){if(-1===r&&(r=n),n-r+1===u)return r*s}else-1!==r&&(n-=n-r),r=-1;else for(n+u>a&&(n=a-u);0<=n;n--){for(a=!0,r=0;r<u;r++)if(o(t,n+r)!==o(e,r)){a=!1;break}if(a)return n}return-1}function bm(t,e,n){n=Math.min(t.length,n);for(var r=[];e<n;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:var u=t[e+2];128==(192&(a=t[e+1]))&&128==(192&u)&&2047<(i=(15&i)<<12|(63&a)<<6|63&u)&&(55296>i||57343<i)&&(o=i);break;case 4:u=t[e+2];var l=t[e+3];128==(192&(a=t[e+1]))&&128==(192&u)&&128==(192&l)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&l)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(r.push((o-=65536)>>>10&1023|55296),o=56320|1023&o),r.push(o),e+=s}if((t=r.length)<=Sm)r=String.fromCharCode.apply(String,r);else{for(n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=Sm));r=n}return r}cm.poolSize=8192,cm._augment=function(t){return t.__proto__=cm.prototype,t},cm.from=function(t,e,n){return hm(null,t,e,n)},cm.TYPED_ARRAY_SUPPORT&&(cm.prototype.__proto__=Uint8Array.prototype,cm.__proto__=Uint8Array),cm.alloc=function(t,e,n){return fm(t),0>=t?lm(null,t):void 0!==e?"string"==typeof n?lm(null,t).fill(e,n):lm(null,t).fill(e):lm(null,t)},cm.allocUnsafe=function(t){return pm(null,t)},cm.allocUnsafeSlow=function(t){return pm(null,t)},cm.isBuffer=Pm,cm.compare=function(t,e){if(!ym(t)||!ym(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},cm.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cm.concat=function(t,e){if(!am(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return cm.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;e=cm.allocUnsafe(e);var r=0;for(n=0;n<t.length;++n){var i=t[n];if(!ym(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e},cm.byteLength=mm,cm.prototype._isBuffer=!0,cm.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)vm(this,e,e+1);return this},cm.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)vm(this,e,e+3),vm(this,e+1,e+2);return this},cm.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)vm(this,e,e+7),vm(this,e+1,e+6),vm(this,e+2,e+5),vm(this,e+3,e+4);return this},cm.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?bm(this,0,t):_m.apply(this,arguments)},cm.prototype.equals=function(t){if(!ym(t))throw new TypeError("Argument must be a Buffer");return this===t||0===cm.compare(this,t)},cm.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},cm.prototype.compare=function(t,e,n,r,i){if(!ym(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s);for(r=this.slice(r,i),t=t.slice(e,n),e=0;e<a;++e)if(r[e]!==t[e]){o=r[e],s=t[e];break}return o<s?-1:s<o?1:0},cm.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},cm.prototype.indexOf=function(t,e,n){return Em(this,t,e,n,!0)},cm.prototype.lastIndexOf=function(t,e,n){return Em(this,t,e,n,!1)},cm.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":t:{if(e=Number(e)||0,r=this.length-e,n?(n=Number(n))>r&&(n=r):n=r,0!=(r=t.length)%2)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(t.substr(2*r,2),16),isNaN(i)){t=r;break t}this[e+r]=i}t=r}return t;case"utf8":case"utf-8":return Fm(Nm(t,this.length-e),this,e,n);case"ascii":return Fm(Om(t),this,e,n);case"latin1":case"binary":return Fm(Om(t),this,e,n);case"base64":return Fm(Rm(t),this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=t,i=this.length-e;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var a=r.charCodeAt(s);t=a>>8,o.push(a%=256),o.push(t)}return Fm(o,this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},cm.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Sm=4096;function Cm(t,e,n){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function xm(t,e,n,r,i,o){if(!ym(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function Im(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Am(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function Dm(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}cm.prototype.slice=function(t,e){var n=this.length;if(0>(t=~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),0>(e=void 0===e?n:~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),e<t&&(e=t),cm.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=cm.prototype;else{e=new cm(n=e-t,void 0);for(var r=0;r<n;++r)e[r]=this[r+t]}return e},cm.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Cm(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n},cm.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Cm(t,e,this.length),n=this[t+--e];for(var r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},cm.prototype.readUInt8=function(t,e){return e||Cm(t,1,this.length),this[t]},cm.prototype.readUInt16LE=function(t,e){return e||Cm(t,2,this.length),this[t]|this[t+1]<<8},cm.prototype.readUInt16BE=function(t,e){return e||Cm(t,2,this.length),this[t]<<8|this[t+1]},cm.prototype.readUInt32LE=function(t,e){return e||Cm(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},cm.prototype.readUInt32BE=function(t,e){return e||Cm(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},cm.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Cm(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n>=128*r&&(n-=Math.pow(2,8*e)),n},cm.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Cm(t,e,this.length),n=e;for(var r=1,i=this[t+--n];0<n&&(r*=256);)i+=this[t+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*e)),i},cm.prototype.readInt8=function(t,e){return e||Cm(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},cm.prototype.readInt16LE=function(t,e){return e||Cm(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},cm.prototype.readInt16BE=function(t,e){return e||Cm(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},cm.prototype.readInt32LE=function(t,e){return e||Cm(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},cm.prototype.readInt32BE=function(t,e){return e||Cm(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},cm.prototype.readFloatLE=function(t,e){return e||Cm(t,4,this.length),im(this,t,!0,23,4)},cm.prototype.readFloatBE=function(t,e){return e||Cm(t,4,this.length),im(this,t,!1,23,4)},cm.prototype.readDoubleLE=function(t,e){return e||Cm(t,8,this.length),im(this,t,!0,52,8)},cm.prototype.readDoubleBE=function(t,e){return e||Cm(t,8,this.length),im(this,t,!1,52,8)},cm.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||xm(this,t,e,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},cm.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||xm(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},cm.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,1,255,0),cm.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},cm.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,2,65535,0),cm.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Im(this,t,e,!0),e+2},cm.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,2,65535,0),cm.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Im(this,t,e,!1),e+2},cm.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,4,4294967295,0),cm.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Am(this,t,e,!0),e+4},cm.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,4,4294967295,0),cm.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Am(this,t,e,!1),e+4},cm.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||xm(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r),r=0;var i=1,o=0;for(this[e]=255&t;++r<n&&(i*=256);)0>t&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},cm.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||xm(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=1,o=0;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)0>t&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},cm.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,1,127,-128),cm.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},cm.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,2,32767,-32768),cm.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Im(this,t,e,!0),e+2},cm.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,2,32767,-32768),cm.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Im(this,t,e,!1),e+2},cm.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,4,2147483647,-2147483648),cm.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Am(this,t,e,!0),e+4},cm.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||xm(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),cm.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Am(this,t,e,!1),e+4},cm.prototype.writeFloatLE=function(t,e,n){return n||Dm(this,0,e,4),om(this,t,e,!0,23,4),e+4},cm.prototype.writeFloatBE=function(t,e,n){return n||Dm(this,0,e,4),om(this,t,e,!1,23,4),e+4},cm.prototype.writeDoubleLE=function(t,e,n){return n||Dm(this,0,e,8),om(this,t,e,!0,52,8),e+8},cm.prototype.writeDoubleBE=function(t,e,n){return n||Dm(this,0,e,8),om(this,t,e,!1,52,8),e+8},cm.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&n<e&&e<r)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(1e3>i||!cm.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},cm.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!cm.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else for(i=(t=ym(t)?t:Nm(new cm(t,r).toString())).length,r=0;r<n-e;++r)this[r+e]=t[r%i];return this};var Tm=/[^+\/0-9A-Za-z-_]/g;function Nm(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=t.charCodeAt(s))&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--e)break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(n>>6|192,63&n|128)}else if(65536>n){if(0>(e-=3))break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw Error("Invalid code point");if(0>(e-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Om(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Rm(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(Tm,"")).length)t="";else for(;0!=t.length%4;)t+="=";tm||em();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var n="="===t[e-2]?2:"="===t[e-1]?1:0,r=new Jy(3*e/4-n),i=0<n?e-4:e,o=0;for(e=0;e<i;e+=4){var s=Qy[t.charCodeAt(e)]<<18|Qy[t.charCodeAt(e+1)]<<12|Qy[t.charCodeAt(e+2)]<<6|Qy[t.charCodeAt(e+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=255&s}return 2===n?(s=Qy[t.charCodeAt(e)]<<2|Qy[t.charCodeAt(e+1)]>>4,r[o++]=255&s):1===n&&(s=Qy[t.charCodeAt(e)]<<10|Qy[t.charCodeAt(e+1)]<<4|Qy[t.charCodeAt(e+2)]>>2,r[o++]=s>>8&255,r[o++]=255&s),r}function Fm(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Pm(t){return null!=t&&(!!t._isBuffer||Lm(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Lm(t.slice(0,0)))}function Lm(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Mm=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:um,Buffer:cm,SlowBuffer:function(t){return+t!=t&&(t=0),cm.alloc(+t)},isBuffer:Pm}),km=cm,Bm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Um(t,e){return t(e={exports:{}},e.exports),e.exports}function jm(){throw Error("setTimeout has not been defined")}function Gm(){throw Error("clearTimeout has not been defined")}var Vm=jm,Wm=Gm;function qm(t){if(Vm===setTimeout)return setTimeout(t,0);if((Vm===jm||!Vm)&&setTimeout)return Vm=setTimeout,setTimeout(t,0);try{return Vm(t,0)}catch(e){try{return Vm.call(null,t,0)}catch(n){return Vm.call(this,t,0)}}}"function"==typeof Ky.setTimeout&&(Vm=setTimeout),"function"==typeof Ky.clearTimeout&&(Wm=clearTimeout);var Hm,zm=[],Ym=!1,$m=-1;function Xm(){Ym&&Hm&&(Ym=!1,Hm.length?zm=Hm.concat(zm):$m=-1,zm.length&&Km())}function Km(){if(!Ym){var t=qm(Xm);Ym=!0;for(var e=zm.length;e;){for(Hm=zm,zm=[];++$m<e;)Hm&&Hm[$m].run();$m=-1,e=zm.length}Hm=null,Ym=!1,function(t){if(Wm===clearTimeout)return clearTimeout(t);if((Wm===Gm||!Wm)&&clearTimeout)return Wm=clearTimeout,clearTimeout(t);try{Wm(t)}catch(e){try{return Wm.call(null,t)}catch(n){return Wm.call(this,t)}}}(t)}}function Zm(t,e){this.fun=t,this.array=e}Zm.prototype.run=function(){this.fun.apply(null,this.array)},new Date;var Qm=Um(function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return i(t,e,n)}var i=Mm.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=Mm:(n(Mm,e),e.Buffer=r),r.prototype=Object.create(i.prototype),n(i,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=i(t),void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Mm.SlowBuffer(t)}}),Jm=Um(function(t,e){function n(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function r(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||0>t)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function i(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||0>t)throw new TypeError("size must be a uint32");if(t+e>n||t>a)throw new RangeError("buffer too small")}function o(t,e,n,r){if(e=new Uint8Array(t.buffer,e,n),u.getRandomValues(e),!r)return t;!function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];zm.push(new Zm(t,e)),1!==zm.length||Ym||qm(Km)}(function(){r(null,t)})}var s=Qm.Buffer,a=Qm.kMaxLength,u=Bm.crypto||Bm.msCrypto,l=Math.pow(2,32)-1;u&&u.getRandomValues?(e.randomFill=function(t,e,n,a){if(!(s.isBuffer(t)||t instanceof Bm.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)a=e,e=0,n=t.length;else if("function"==typeof n)a=n,n=t.length-e;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return r(e,t.length),i(n,e,t.length),o(t,e,n,a)},e.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof Bm.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return r(e,t.length),void 0===n&&(n=t.length-e),i(n,e,t.length),o(t,e,n)}):(e.randomFill=n,e.randomFillSync=n)}),t_=Um(function(t){t.exports=Jm}).randomFillSync,e_=Math.floor(.001*(Date.now()-performance.now()));function n_(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r_(t,e){for(var n,r="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(2>r.length||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(2<r.length){if((o=r.lastIndexOf("/"))!==r.length-1){-1===o?(r="",i=0):i=(r=r.slice(0,o)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}e&&(r=0<r.length?r+"/..":"..",i=2)}else r=0<r.length?r+"/"+t.slice(o+1,a):t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var i_,o_={resolve:function(){for(var t,e="",n=!1,r=arguments.length-1;-1<=r&&!n;r--){if(0<=r)var i=arguments[r];else void 0===t&&(t="/"),i=t;n_(i),0!==i.length&&(e=i+"/"+e,n=47===i.charCodeAt(0))}return e=r_(e,!n),n?0<e.length?"/"+e:"/":0<e.length?e:"."},normalize:function(t){if(n_(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r_(t,!e)).length||e||(t="."),0<t.length&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return n_(t),0<t.length&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];n_(n),0<n.length&&(t=void 0===t?n:t+"/"+n)}return void 0===t?".":o_.normalize(t)},relative:function(t,e){if(n_(t),n_(e),t===e)return"";if((t=o_.resolve(t))===(e=o_.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var r=t.length,i=r-n,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,u=-1,l=0;l<=a;++l){if(l===a){if(s>a){if(47===e.charCodeAt(o+l))return e.slice(o+l+1);if(0===l)return e.slice(o+l)}else i>a&&(47===t.charCodeAt(n+l)?u=l:0===l&&(u=0));break}var c=t.charCodeAt(n+l);if(c!==e.charCodeAt(o+l))break;47===c&&(u=l)}for(i="",l=n+u+1;l<=r;++l)l!==r&&47!==t.charCodeAt(l)||(i=0===i.length?i+"..":i+"/..");return 0<i.length?i+e.slice(o+u):(47===e.charCodeAt(o+=u)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(n_(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"//":t.slice(0,r)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');n_(t);var n,r=0,i=-1,o=!0;if(void 0!==e&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(n=t.length-1;0<=n;--n){var u=t.charCodeAt(n);if(47===u){if(!o){r=n+1;break}}else-1===a&&(o=!1,a=n+1),0<=s&&(u===e.charCodeAt(s)?-1==--s&&(i=n):(s=-1,i=a))}return r===i?i=a:-1===i&&(i=t.length),t.slice(r,i)}for(n=t.length-1;0<=n;--n)if(47===t.charCodeAt(n)){if(!o){r=n+1;break}}else-1===i&&(o=!1,i=n+1);return-1===i?"":t.slice(r,i)},extname:function(t){n_(t);for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(!i){n=s+1;break}}else-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);var e=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+n:e+"/"+n:n},parse:function(t){n_(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n=t.charCodeAt(0),r=47===n;if(r){e.root="/";var i=1}else i=0;for(var o=-1,s=0,a=-1,u=!0,l=t.length-1,c=0;l>=i;--l)if(47===(n=t.charCodeAt(l))){if(!u){s=l+1;break}}else-1===a&&(u=!1,a=l+1),46===n?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);return-1===o||-1===a||0===c||1===c&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=t.slice(0===s&&r?1:s,a)):(0===s&&r?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),0<s?e.dir=t.slice(0,s-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},s_=o_.posix=o_,a_={hrtime:function(t){return 1e9*(t=function(t){var e=.001*performance.now(),n=Math.floor(e)+e_;return e=Math.floor(e%1*1e9),t&&(n-=t[0],0>(e-=t[1])&&(n--,e+=1e9)),[n,e]}(t))[0]+t[1]},exit:function(t){throw new ev(t)},kill:function(t){throw new nv(t)},randomFillSync:t_,isTTY:function(){return!0},path:Object.freeze({__proto__:null,default:s_,__moduleExports:s_}),fs:null},u_=$y(1),l_=$y(2),c_=$y(4),h_=$y(8),f_=$y(16),p_=$y(32),d_=$y(64),g_=$y(128),y_=$y(256),m_=$y(512),__=$y(1024),v_=$y(2048),E_=$y(4096),w_=$y(8192),b_=$y(16384),S_=$y(32768),C_=$y(65536),x_=$y(131072),I_=$y(262144),A_=$y(524288),D_=$y(1048576),T_=$y(2097152),N_=$y(4194304),O_=$y(8388608),R_=$y(16777216),F_=$y(33554432),P_=$y(67108864),L_=$y(134217728),M_=$y(268435456),k_=u_|l_|c_|h_|f_|p_|d_|g_|y_|m_|__|v_|E_|w_|b_|S_|C_|x_|I_|A_|D_|T_|O_|N_|R_|P_|F_|L_|M_,B_=u_|l_|c_|h_|f_|p_|d_|g_|y_|T_|N_|O_|L_,U_=$y(0),j_=h_|f_|g_|m_|__|v_|E_|w_|b_|S_|C_|x_|I_|A_|D_|T_|O_|R_|P_|F_|L_,G_=j_|B_,V_=l_|h_|d_|T_|L_|M_,W_=l_|h_|d_|T_|L_,q_=$y(0),H_={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},z_=((i_={})[6]="SIGHUP",i_[8]="SIGINT",i_[11]="SIGQUIT",i_[7]="SIGILL",i_[15]="SIGTRAP",i_[0]="SIGABRT",i_[2]="SIGBUS",i_[5]="SIGFPE",i_[9]="SIGKILL",i_[20]="SIGUSR1",i_[12]="SIGSEGV",i_[21]="SIGUSR2",i_[10]="SIGPIPE",i_[1]="SIGALRM",i_[14]="SIGTERM",i_[3]="SIGCHLD",i_[4]="SIGCONT",i_[13]="SIGSTOP",i_[16]="SIGTSTP",i_[17]="SIGTTIN",i_[18]="SIGTTOU",i_[19]="SIGURG",i_[23]="SIGXCPU",i_[24]="SIGXFSZ",i_[22]="SIGVTALRM",i_),Y_=u_|l_|f_|g_|T_|L_,$_=u_|d_|f_|g_|T_|L_;function X_(t){var e=Math.trunc(t);return t=$y(Math.round(1e6*(t-e))),$y(e)*$y(1e6)+t}function K_(t){return"number"==typeof t&&(t=Math.trunc(t)),t=$y(t),Number(t/$y(1e6))}function Z_(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return t.apply(void 0,zy(e))}catch(r){if(r&&r.code&&"string"==typeof r.code)return H_[r.code]||28;if(r instanceof tv)return r.errno;throw r}}}function Q_(t,e){var n=t.FD_MAP.get(e);if(!n)throw new tv(8);if(void 0===n.filetype){var r=t.bindings.fs.fstatSync(n.real);e=(t=J_(t,e,r)).rightsBase,r=t.rightsInheriting,n.filetype=t.filetype,n.rights||(n.rights={base:e,inheriting:r})}return n}function J_(t,e,n){switch(!0){case n.isBlockDevice():return{filetype:1,rightsBase:k_,rightsInheriting:k_};case n.isCharacterDevice():return void 0!==e&&t.bindings.isTTY(e)?{filetype:2,rightsBase:W_,rightsInheriting:q_}:{filetype:2,rightsBase:k_,rightsInheriting:k_};case n.isDirectory():return{filetype:3,rightsBase:j_,rightsInheriting:G_};case n.isFIFO():return{filetype:6,rightsBase:V_,rightsInheriting:k_};case n.isFile():return{filetype:4,rightsBase:B_,rightsInheriting:U_};case n.isSocket():return{filetype:6,rightsBase:V_,rightsInheriting:k_};case n.isSymbolicLink():return{filetype:7,rightsBase:$y(0),rightsInheriting:$y(0)};default:return{filetype:0,rightsBase:$y(0),rightsInheriting:$y(0)}}}var tv=function(t){function e(n){var r=t.call(this)||this;return r.errno=n,Object.setPrototypeOf(r,e.prototype),r}return Wy(e,t),e}(Error),ev=function(t){function e(n){var r=t.call(this,"WASI Exit error: "+n)||this;return r.code=n,Object.setPrototypeOf(r,e.prototype),r}return Wy(e,t),e}(Error),nv=function(t){function e(n){var r=t.call(this,"WASI Kill signal: "+n)||this;return r.signal=n,Object.setPrototypeOf(r,e.prototype),r}return Wy(e,t),e}(Error),rv=function(){function t(t){function e(t){switch(t){case 1:return l.hrtime();case 0:return X_(Date.now());case 2:case 3:return l.hrtime()-E;default:return null}}function n(t,e){if(t=Q_(o,t),e!==$y(0)&&(t.rights.base&e)===$y(0))throw new tv(63);return t}function r(t,e){return o.refreshMemory(),Array.from({length:e},function(e,n){return e=o.view.getUint32(n=t+8*n,!0),n=o.view.getUint32(n+4,!0),new Uint8Array(o.memory.buffer,e,n)})}var i,o=this,s={};t&&t.preopens?s=t.preopens:t&&t.preopenDirectories&&(s=t.preopenDirectories);var a={};t&&t.env&&(a=t.env);var u=[];t&&t.args&&(u=t.args);var l=a_;t&&t.bindings&&(l=t.bindings),this.view=this.memory=void 0,this.bindings=l,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:Y_,inheriting:$y(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:$_,inheriting:$y(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:$_,inheriting:$y(0)},path:void 0}]]);var c=this.bindings.fs,h=this.bindings.path;try{for(var f=qy(Object.entries(s)),p=f.next();!p.done;p=f.next()){var d=Hy(p.value,2),g=d[0],y=d[1],m=c.openSync(y,c.constants.O_RDONLY),_=zy(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(_,{real:m,filetype:3,rights:{base:j_,inheriting:G_},fakePath:g,path:y})}}catch(w){var v={error:w}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(v)throw v.error}}var E=l.hrtime();this.wasiImport={args_get:function(t,e){o.refreshMemory();var n=t,r=e;return u.forEach(function(t){o.view.setUint32(n,r,!0),n+=4,r+=km.from(o.memory.buffer).write(t+"\0",r)}),0},args_sizes_get:function(t,e){return o.refreshMemory(),o.view.setUint32(t,u.length,!0),t=u.reduce(function(t,e){return t+km.byteLength(e)+1},0),o.view.setUint32(e,t,!0),0},environ_get:function(t,e){o.refreshMemory();var n=t,r=e;return Object.entries(a).forEach(function(t){var e=Hy(t,2);t=e[0],e=e[1],o.view.setUint32(n,r,!0),n+=4,r+=km.from(o.memory.buffer).write(t+"="+e+"\0",r)}),0},environ_sizes_get:function(t,e){o.refreshMemory();var n=Object.entries(a).map(function(t){return(t=Hy(t,2))[0]+"="+t[1]+"\0"}),r=n.reduce(function(t,e){return t+km.byteLength(e)},0);return o.view.setUint32(t,n.length,!0),o.view.setUint32(e,r,!0),0},clock_res_get:function(t,e){switch(t){case 1:case 2:case 3:var n=$y(1);break;case 0:n=$y(1e3)}return o.view.setBigUint64(e,n),0},clock_time_get:function(t,n,r){return o.refreshMemory(),null===(t=e(t))?28:(o.view.setBigUint64(r,$y(t),!0),0)},fd_advise:Z_(function(t){return n(t,g_),52}),fd_allocate:Z_(function(t){return n(t,y_),52}),fd_close:Z_(function(t){var e=n(t,$y(0));return c.closeSync(e.real),o.FD_MAP.delete(t),0}),fd_datasync:Z_(function(t){return t=n(t,u_),c.fdatasyncSync(t.real),0}),fd_fdstat_get:Z_(function(t,e){return t=n(t,$y(0)),o.refreshMemory(),o.view.setUint8(e,t.filetype),o.view.setUint16(e+2,0,!0),o.view.setUint16(e+4,0,!0),o.view.setBigUint64(e+8,$y(t.rights.base),!0),o.view.setBigUint64(e+8+8,$y(t.rights.inheriting),!0),0}),fd_fdstat_set_flags:Z_(function(t){return n(t,h_),52}),fd_fdstat_set_rights:Z_(function(t,e,r){return((t=n(t,$y(0))).rights.base|e)>t.rights.base||(t.rights.inheriting|r)>t.rights.inheriting?63:(t.rights.base=e,t.rights.inheriting=r,0)}),fd_filestat_get:Z_(function(t,e){t=n(t,T_);var r=c.fstatSync(t.real);return o.refreshMemory(),o.view.setBigUint64(e,$y(r.dev),!0),o.view.setBigUint64(e+=8,$y(r.ino),!0),o.view.setUint8(e+=8,t.filetype),o.view.setBigUint64(e+=8,$y(r.nlink),!0),o.view.setBigUint64(e+=8,$y(r.size),!0),o.view.setBigUint64(e+=8,X_(r.atimeMs),!0),o.view.setBigUint64(e+=8,X_(r.mtimeMs),!0),o.view.setBigUint64(e+8,X_(r.ctimeMs),!0),0}),fd_filestat_set_size:Z_(function(t,e){return t=n(t,N_),c.ftruncateSync(t.real,Number(e)),0}),fd_filestat_set_times:Z_(function(t,r,i,o){t=n(t,O_);var s=c.fstatSync(t.real),a=s.atime;s=s.mtime;var u=K_(e(0));return 3==(3&o)||12==(12&o)?28:(1==(1&o)?a=K_(r):2==(2&o)&&(a=u),4==(4&o)?s=K_(i):8==(8&o)&&(s=u),c.futimesSync(t.real,new Date(a),new Date(s)),0)}),fd_prestat_get:Z_(function(t,e){return(t=n(t,$y(0))).path?(o.refreshMemory(),o.view.setUint8(e,0),o.view.setUint32(e+4,km.byteLength(t.fakePath),!0),0):28}),fd_prestat_dir_name:Z_(function(t,e,r){return(t=n(t,$y(0))).path?(o.refreshMemory(),km.from(o.memory.buffer).write(t.fakePath,e,r,"utf8"),0):28}),fd_pwrite:Z_(function(t,e,i,s,a){var u=n(t,d_|c_),l=0;return r(e,i).forEach(function(t){for(var e=0;e<t.byteLength;)e+=c.writeSync(u.real,t,e,t.byteLength-e,Number(s)+l+e);l+=e}),o.view.setUint32(a,l,!0),0}),fd_write:Z_(function(t,e,i,s){var a=n(t,d_),u=0;return r(e,i).forEach(function(t){for(var e=0;e<t.byteLength;){var n=c.writeSync(a.real,t,e,t.byteLength-e,a.offset?Number(a.offset):null);a.offset&&(a.offset+=$y(n)),e+=n}u+=e}),o.view.setUint32(s,u,!0),0}),fd_pread:Z_(function(t,e,i,s,a){var u;t=n(t,l_|c_);var l=0;try{var h=qy(r(e,i)),f=h.next();t:for(;!f.done;f=h.next()){var p=f.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,g=c.readSync(t.real,p,e,p.byteLength-e,Number(s)+l+e);if(e+=g,l+=g,0===g||g<d)break t}l+=e}}catch(m){var y={error:m}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(y)throw y.error}}return o.view.setUint32(a,l,!0),0}),fd_read:Z_(function(t,e,i,s){var a,u=0===(t=n(t,l_)).real,l=0;try{var h=qy(r(e,i)),f=h.next();t:for(;!f.done;f=h.next()){var p=f.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,g=c.readSync(t.real,p,e,d,u||void 0===t.offset?null:Number(t.offset));if(u||(t.offset=(t.offset?t.offset:$y(0))+$y(g)),e+=g,l+=g,0===g||g<d)break t}}}catch(m){var y={error:m}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(y)throw y.error}}return o.view.setUint32(s,l,!0),0}),fd_readdir:Z_(function(t,e,r,i,s){t=n(t,b_),o.refreshMemory();var a=c.readdirSync(t.path,{withFileTypes:!0}),u=e;for(i=Number(i);i<a.length;i+=1){var l=a[i],f=km.byteLength(l.name);if(e-u>r)break;if(o.view.setBigUint64(e,$y(i+1),!0),(e+=8)-u>r)break;var p=c.statSync(h.resolve(t.path,l.name));if(o.view.setBigUint64(e,$y(p.ino),!0),(e+=8)-u>r)break;if(o.view.setUint32(e,f,!0),(e+=4)-u>r)break;switch(!0){case p.isBlockDevice():p=1;break;case p.isCharacterDevice():p=2;break;case p.isDirectory():p=3;break;case p.isFIFO():p=6;break;case p.isFile():p=4;break;case p.isSocket():p=6;break;case p.isSymbolicLink():p=7;break;default:p=0}if(o.view.setUint8(e,p),e+=1,(e+=3)+f>=u+r)break;km.from(o.memory.buffer).write(l.name,e),e+=f}return o.view.setUint32(s,Math.min(e-u,r),!0),0}),fd_renumber:Z_(function(t,e){return n(t,$y(0)),n(e,$y(0)),c.closeSync(o.FD_MAP.get(t).real),o.FD_MAP.set(t,o.FD_MAP.get(e)),o.FD_MAP.delete(e),0}),fd_seek:Z_(function(t,e,r,i){switch(t=n(t,c_),o.refreshMemory(),r){case 1:t.offset=(t.offset?t.offset:$y(0))+$y(e);break;case 2:r=c.fstatSync(t.real).size,t.offset=$y(r)+$y(e);break;case 0:t.offset=$y(e)}return o.view.setBigUint64(i,t.offset,!0),0}),fd_tell:Z_(function(t,e){return t=n(t,p_),o.refreshMemory(),t.offset||(t.offset=$y(0)),o.view.setBigUint64(e,t.offset,!0),0}),fd_sync:Z_(function(t){return t=n(t,f_),c.fsyncSync(t.real),0}),path_create_directory:Z_(function(t,e,r){return(t=n(t,m_)).path?(o.refreshMemory(),e=km.from(o.memory.buffer,e,r).toString(),c.mkdirSync(h.resolve(t.path,e)),0):28}),path_filestat_get:Z_(function(t,e,r,i,s){return(t=n(t,I_)).path?(o.refreshMemory(),r=km.from(o.memory.buffer,r,i).toString(),r=c.statSync(h.resolve(t.path,r)),o.view.setBigUint64(s,$y(r.dev),!0),o.view.setBigUint64(s+=8,$y(r.ino),!0),o.view.setUint8(s+=8,J_(o,void 0,r).filetype),o.view.setBigUint64(s+=8,$y(r.nlink),!0),o.view.setBigUint64(s+=8,$y(r.size),!0),o.view.setBigUint64(s+=8,X_(r.atimeMs),!0),o.view.setBigUint64(s+=8,X_(r.mtimeMs),!0),o.view.setBigUint64(s+8,X_(r.ctimeMs),!0),0):28}),path_filestat_set_times:Z_(function(t,r,i,s,a,u,l){if(!(t=n(t,D_)).path)return 28;o.refreshMemory();var f=c.fstatSync(t.real);r=f.atime,f=f.mtime;var p=K_(e(0));return 3==(3&l)||12==(12&l)?28:(1==(1&l)?r=K_(a):2==(2&l)&&(r=p),4==(4&l)?f=K_(u):8==(8&l)&&(f=p),i=km.from(o.memory.buffer,i,s).toString(),c.utimesSync(h.resolve(t.path,i),new Date(r),new Date(f)),0)}),path_link:Z_(function(t,e,r,i,s,a,u){return t=n(t,v_),s=n(s,E_),t.path&&s.path?(o.refreshMemory(),r=km.from(o.memory.buffer,r,i).toString(),a=km.from(o.memory.buffer,a,u).toString(),c.linkSync(h.resolve(t.path,r),h.resolve(s.path,a)),0):28}),path_open:Z_(function(t,e,r,i,s,a,u,l,f){e=n(t,w_),a=$y(a),u=$y(u),t=(a&(l_|b_))!==$y(0);var p=(a&(u_|d_|y_|N_))!==$y(0);if(p&&t)var d=c.constants.O_RDWR;else t?d=c.constants.O_RDONLY:p&&(d=c.constants.O_WRONLY);if(t=a|w_,a|=u,0!=(1&s)&&(d|=c.constants.O_CREAT,t|=__),0!=(2&s)&&(d|=c.constants.O_DIRECTORY),0!=(4&s)&&(d|=c.constants.O_EXCL),0!=(8&s)&&(d|=c.constants.O_TRUNC,t|=A_),0!=(1&l)&&(d|=c.constants.O_APPEND),0!=(2&l)&&(d=c.constants.O_DSYNC?d|c.constants.O_DSYNC:d|c.constants.O_SYNC,a|=u_),0!=(4&l)&&(d|=c.constants.O_NONBLOCK),0!=(8&l)&&(d=c.constants.O_RSYNC?d|c.constants.O_RSYNC:d|c.constants.O_SYNC,a|=f_),0!=(16&l)&&(d|=c.constants.O_SYNC,a|=f_),p&&0==(d&(c.constants.O_APPEND|c.constants.O_TRUNC))&&(a|=c_),o.refreshMemory(),r=km.from(o.memory.buffer,r,i).toString(),r=h.resolve(e.path,r),h.relative(e.path,r).startsWith(".."))return 76;try{var g=c.realpathSync(r);if(h.relative(e.path,g).startsWith(".."))return 76}catch(m){if("ENOENT"!==m.code)throw m;g=r}try{var y=c.statSync(g).isDirectory()}catch(m){}return d=c.openSync(g,!p&&y?c.constants.O_RDONLY:d),y=zy(o.FD_MAP.keys()).reverse()[0]+1,o.FD_MAP.set(y,{real:d,filetype:void 0,rights:{base:t,inheriting:a},path:g}),Q_(o,y),o.view.setUint32(f,y,!0),0}),path_readlink:Z_(function(t,e,r,i,s,a){return(t=n(t,S_)).path?(o.refreshMemory(),e=km.from(o.memory.buffer,e,r).toString(),e=h.resolve(t.path,e),e=c.readlinkSync(e),i=km.from(o.memory.buffer).write(e,i,s),o.view.setUint32(a,i,!0),0):28}),path_remove_directory:Z_(function(t,e,r){return(t=n(t,F_)).path?(o.refreshMemory(),e=km.from(o.memory.buffer,e,r).toString(),c.rmdirSync(h.resolve(t.path,e)),0):28}),path_rename:Z_(function(t,e,r,i,s,a){return t=n(t,C_),i=n(i,x_),t.path&&i.path?(o.refreshMemory(),e=km.from(o.memory.buffer,e,r).toString(),s=km.from(o.memory.buffer,s,a).toString(),c.renameSync(h.resolve(t.path,e),h.resolve(i.path,s)),0):28}),path_symlink:Z_(function(t,e,r,i,s){return(r=n(r,R_)).path?(o.refreshMemory(),t=km.from(o.memory.buffer,t,e).toString(),i=km.from(o.memory.buffer,i,s).toString(),c.symlinkSync(t,h.resolve(r.path,i)),0):28}),path_unlink_file:Z_(function(t,e,r){return(t=n(t,P_)).path?(o.refreshMemory(),e=km.from(o.memory.buffer,e,r).toString(),c.unlinkSync(h.resolve(t.path,e)),0):28}),poll_oneoff:function(t,n,r,i){var s=0,a=0;o.refreshMemory();for(var u=0;u<r;u+=1){var c=o.view.getBigUint64(t,!0),h=o.view.getUint8(t+=8);switch(t+=1,h){case 0:o.view.getBigUint64(t+=7,!0);var f=o.view.getUint32(t+=8,!0);t+=4,h=o.view.getBigUint64(t+=4,!0),o.view.getBigUint64(t+=8,!0);var p=o.view.getUint16(t+=8,!0);t+=2,t+=6;var d=1===p;p=0,null===(f=$y(e(f)))?p=28:a=(h=d?h:f+h)>a?h:a,o.view.setBigUint64(n,c,!0),o.view.setUint16(n+=8,p,!0),o.view.setUint8(n+=2,0),n+=1,n+=5,s+=1;break;case 1:case 2:o.view.getUint32(t+=3,!0),t+=4,o.view.setBigUint64(n,c,!0),o.view.setUint16(n+=8,52,!0),o.view.setUint8(n+=2,h),n+=1,n+=5,s+=1;break;default:return 28}}for(o.view.setUint32(i,s,!0);l.hrtime()<a;);return 0},proc_exit:function(t){return l.exit(t),0},proc_raise:function(t){return t in z_?(l.kill(z_[t]),0):28},random_get:function(t,e){return o.refreshMemory(),l.randomFillSync(new Uint8Array(o.memory.buffer),t,e),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},t.traceSyscalls&&Object.keys(this.wasiImport).forEach(function(t){var e=o.wasiImport[t];o.wasiImport[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];console.log("WASI: wasiImport called: "+t+" ("+n+")");try{var i=e.apply(void 0,zy(n));return console.log("WASI:  => "+i),i}catch(jE){throw console.log("Catched error: "+jE),jE}}})}return t.prototype.refreshMemory=function(){this.view&&0!==this.view.buffer.byteLength||(this.view=new Xy(this.memory.buffer))},t.prototype.setMemory=function(t){this.memory=t},t.prototype.start=function(t){if(null===(t=t.exports)||"object"!=typeof t)throw Error("instance.exports must be an Object. Received "+t+".");var e=t.memory;if(!(e instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+e+".");this.setMemory(e),t._start&&t._start()},t.prototype.getImportNamespace=function(t){var e,n=null;try{for(var r=qy(WebAssembly.Module.imports(t)),i=r.next();!i.done;i=r.next()){var o=i.value;if("function"===o.kind&&o.module.startsWith("wasi_"))if(n){if(n!==o.module)throw Error("Multiple namespaces detected.")}else n=o.module}}catch(lv){var s={error:lv}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return n},t.prototype.getImports=function(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can't detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=a_,t}(),iv=n("c6vl"),ov=n.n(iv);function sv(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function av(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var r,i=[];try{for(;(void 0===e||0<e--)&&!(r=t.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function uv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(av(arguments[e]));return t}var lv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function cv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hv(t,e){return t(e={exports:{}},e.exports),e.exports}var fv=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}});cv(fv);var pv=hv(function(t,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}}),dv=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=fv.constants.S_IFMT,r=fv.constants.S_IFDIR,i=fv.constants.S_IFREG,o=fv.constants.S_IFBLK,s=fv.constants.S_IFCHR,a=fv.constants.S_IFLNK,u=fv.constants.S_IFIFO,l=fv.constants.S_IFSOCK;t=function(){function t(){}return t.build=function(e,n){void 0===n&&(n=!1);var r=new t,i=e.gid,o=e.atime,s=e.mtime,a=e.ctime;return r.uid=(n=n?pv.default:function(t){return t})(e.uid),r.gid=n(i),r.rdev=n(0),r.blksize=n(4096),r.ino=n(e.ino),r.size=n(e.getSize()),r.blocks=n(1),r.atime=o,r.mtime=s,r.ctime=a,r.birthtime=a,r.atimeMs=n(o.getTime()),r.mtimeMs=n(s.getTime()),i=n(a.getTime()),r.ctimeMs=i,r.birthtimeMs=i,r.dev=n(0),r.mode=n(e.mode),r.nlink=n(e.nlink),r},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&n)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(r)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(u)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}(),e.Stats=t,e.default=t});cv(dv);var gv="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},yv=[],mv=[],_v="undefined"!=typeof Uint8Array?Uint8Array:Array,vv=!1;function Ev(){vv=!0;for(var t=0;64>t;++t)yv[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],mv["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;mv[45]=62,mv[95]=63}function wv(t,e,n){for(var r=[],i=e;i<n;i+=3)r.push(yv[(e=(t[i]<<16)+(t[i+1]<<8)+t[i+2])>>18&63]+yv[e>>12&63]+yv[e>>6&63]+yv[63&e]);return r.join("")}function bv(t){vv||Ev();for(var e=t.length,n=e%3,r="",i=[],o=0,s=e-n;o<s;o+=16383)i.push(wv(t,o,o+16383>s?s:o+16383));return 1===n?(r+=yv[(t=t[e-1])>>2],r+=yv[t<<4&63],r+="=="):2===n&&(r+=yv[(t=(t[e-2]<<8)+t[e-1])>>10],r+=yv[t>>4&63],r+=yv[t<<2&63],r+="="),i.push(r),i.join("")}function Sv(t,e,n,r,i){var o=8*i-r-1,s=(1<<o)-1,a=s>>1,u=-7,l=n?-1:1,c=t[e+(i=n?i-1:0)];for(i+=l,n=c&(1<<-u)-1,c>>=-u,u+=o;0<u;n=256*n+t[e+i],i+=l,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=r;0<u;o=256*o+t[e+i],i+=l,u-=8);if(0===n)n=1-a;else{if(n===s)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,r),n-=a}return(c?-1:1)*o*Math.pow(2,n-r)}function Cv(t,e,n,r,i,o){var s,a=8*o-i-1,u=(1<<a)-1,l=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var h=r?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-r))&&(r--,s*=2),2<=(e=1<=r+l?e+c/s:e+c*Math.pow(2,1-l))*s&&(r++,s/=2),r+l>=u?(e=0,r=u):1<=r+l?(e=(e*s-1)*Math.pow(2,i),r+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,i),r=0));8<=i;t[n+o]=255&e,o+=h,e/=256,i-=8);for(r=r<<i|e,a+=i;0<a;t[n+o]=255&r,o+=h,r/=256,a-=8);t[n+o-h]|=128*f}var xv={}.toString,Iv=Array.isArray||function(t){return"[object Array]"==xv.call(t)},Av=(Tv.TYPED_ARRAY_SUPPORT=void 0===gv.TYPED_ARRAY_SUPPORT||gv.TYPED_ARRAY_SUPPORT)?2147483647:1073741823;function Dv(t,e){if((Tv.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return Tv.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Tv.prototype:(null===t&&(t=new Tv(e)),t.length=e),t}function Tv(t,e,n){if(!(Tv.TYPED_ARRAY_SUPPORT||this instanceof Tv))return new Tv(t,e,n);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return Rv(this,t)}return Nv(this,t,e,n)}function Nv(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Tv.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Tv.prototype:t=Fv(t,e),t}if("string"==typeof e){if(r=t,"string"==typeof(t=n)&&""!==t||(t="utf8"),!Tv.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(r=Dv(r,n=0|Mv(e,t))).write(e,t))!==n&&(r=r.slice(0,e)),r}return function(t,e){if(Lv(e)){var n=0|Pv(e.length);return 0===(t=Dv(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(n="number"!=typeof e.length)||(n=(n=e.length)!=n),n?Dv(t,0):Fv(t,e);if("Buffer"===e.type&&Iv(e.data))return Fv(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Ov(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function Rv(t,e){if(Ov(e),t=Dv(t,0>e?0:0|Pv(e)),!Tv.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Fv(t,e){var n=0>e.length?0:0|Pv(e.length);t=Dv(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function Pv(t){if(t>=(Tv.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(Tv.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function Lv(t){return!(null==t||!t._isBuffer)}function Mv(t,e){if(Lv(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Xv(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Zv(t).length;default:if(r)return Xv(t).length;e=(""+e).toLowerCase(),r=!0}}function kv(t,e,n){var r=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=n,n=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n),r="",n=t;n<e;++n)r=(t=r)+(r=16>(r=this[n])?"0"+r.toString(16):r.toString(16));return r;case"utf8":case"utf-8":return Gv(this,e,n);case"ascii":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return bv(0===e&&n===this.length?this:this.slice(e,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,n),n="",t=0;t<e.length;t+=2)n+=String.fromCharCode(e[t]+256*e[t+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function Bv(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Uv(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof e&&(e=Tv.from(e,r)),Lv(e))return 0===e.length?-1:jv(t,e,n,r,i);if("number"==typeof e)return e&=255,Tv.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):jv(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function jv(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>t.length||2>e.length)return-1;s=2,a/=2,u/=2,n/=2}if(i)for(r=-1;n<a;n++)if(o(t,n)===o(e,-1===r?0:n-r)){if(-1===r&&(r=n),n-r+1===u)return r*s}else-1!==r&&(n-=n-r),r=-1;else for(n+u>a&&(n=a-u);0<=n;n--){for(a=!0,r=0;r<u;r++)if(o(t,n+r)!==o(e,r)){a=!1;break}if(a)return n}return-1}function Gv(t,e,n){n=Math.min(t.length,n);for(var r=[];e<n;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:var u=t[e+2];128==(192&(a=t[e+1]))&&128==(192&u)&&2047<(i=(15&i)<<12|(63&a)<<6|63&u)&&(55296>i||57343<i)&&(o=i);break;case 4:u=t[e+2];var l=t[e+3];128==(192&(a=t[e+1]))&&128==(192&u)&&128==(192&l)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&l)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(r.push((o-=65536)>>>10&1023|55296),o=56320|1023&o),r.push(o),e+=s}if((t=r.length)<=Vv)r=String.fromCharCode.apply(String,r);else{for(n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=Vv));r=n}return r}Tv.poolSize=8192,Tv._augment=function(t){return t.__proto__=Tv.prototype,t},Tv.from=function(t,e,n){return Nv(null,t,e,n)},Tv.TYPED_ARRAY_SUPPORT&&(Tv.prototype.__proto__=Uint8Array.prototype,Tv.__proto__=Uint8Array),Tv.alloc=function(t,e,n){return Ov(t),0>=t?Dv(null,t):void 0!==e?"string"==typeof n?Dv(null,t).fill(e,n):Dv(null,t).fill(e):Dv(null,t)},Tv.allocUnsafe=function(t){return Rv(null,t)},Tv.allocUnsafeSlow=function(t){return Rv(null,t)},Tv.isBuffer=Jv,Tv.compare=function(t,e){if(!Lv(t)||!Lv(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Tv.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Tv.concat=function(t,e){if(!Iv(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Tv.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;e=Tv.allocUnsafe(e);var r=0;for(n=0;n<t.length;++n){var i=t[n];if(!Lv(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e},Tv.byteLength=Mv,Tv.prototype._isBuffer=!0,Tv.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Bv(this,e,e+1);return this},Tv.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Bv(this,e,e+3),Bv(this,e+1,e+2);return this},Tv.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Bv(this,e,e+7),Bv(this,e+1,e+6),Bv(this,e+2,e+5),Bv(this,e+3,e+4);return this},Tv.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Gv(this,0,t):kv.apply(this,arguments)},Tv.prototype.equals=function(t){if(!Lv(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Tv.compare(this,t)},Tv.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},Tv.prototype.compare=function(t,e,n,r,i){if(!Lv(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s);for(r=this.slice(r,i),t=t.slice(e,n),e=0;e<a;++e)if(r[e]!==t[e]){o=r[e],s=t[e];break}return o<s?-1:s<o?1:0},Tv.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Tv.prototype.indexOf=function(t,e,n){return Uv(this,t,e,n,!0)},Tv.prototype.lastIndexOf=function(t,e,n){return Uv(this,t,e,n,!1)},Tv.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":t:{if(e=Number(e)||0,r=this.length-e,n?(n=Number(n))>r&&(n=r):n=r,0!=(r=t.length)%2)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(t.substr(2*r,2),16),isNaN(i)){t=r;break t}this[e+r]=i}t=r}return t;case"utf8":case"utf-8":return Qv(Xv(t,this.length-e),this,e,n);case"ascii":return Qv(Kv(t),this,e,n);case"latin1":case"binary":return Qv(Kv(t),this,e,n);case"base64":return Qv(Zv(t),this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=t,i=this.length-e;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var a=r.charCodeAt(s);t=a>>8,o.push(a%=256),o.push(t)}return Qv(o,this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Tv.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Vv=4096;function Wv(t,e,n){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function qv(t,e,n,r,i,o){if(!Lv(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function Hv(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function zv(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function Yv(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}Tv.prototype.slice=function(t,e){var n=this.length;if(0>(t=~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),0>(e=void 0===e?n:~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),e<t&&(e=t),Tv.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=Tv.prototype;else{e=new Tv(n=e-t,void 0);for(var r=0;r<n;++r)e[r]=this[r+t]}return e},Tv.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Wv(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n},Tv.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Wv(t,e,this.length),n=this[t+--e];for(var r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},Tv.prototype.readUInt8=function(t,e){return e||Wv(t,1,this.length),this[t]},Tv.prototype.readUInt16LE=function(t,e){return e||Wv(t,2,this.length),this[t]|this[t+1]<<8},Tv.prototype.readUInt16BE=function(t,e){return e||Wv(t,2,this.length),this[t]<<8|this[t+1]},Tv.prototype.readUInt32LE=function(t,e){return e||Wv(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Tv.prototype.readUInt32BE=function(t,e){return e||Wv(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Tv.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Wv(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n>=128*r&&(n-=Math.pow(2,8*e)),n},Tv.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Wv(t,e,this.length),n=e;for(var r=1,i=this[t+--n];0<n&&(r*=256);)i+=this[t+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*e)),i},Tv.prototype.readInt8=function(t,e){return e||Wv(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Tv.prototype.readInt16LE=function(t,e){return e||Wv(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},Tv.prototype.readInt16BE=function(t,e){return e||Wv(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},Tv.prototype.readInt32LE=function(t,e){return e||Wv(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Tv.prototype.readInt32BE=function(t,e){return e||Wv(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Tv.prototype.readFloatLE=function(t,e){return e||Wv(t,4,this.length),Sv(this,t,!0,23,4)},Tv.prototype.readFloatBE=function(t,e){return e||Wv(t,4,this.length),Sv(this,t,!1,23,4)},Tv.prototype.readDoubleLE=function(t,e){return e||Wv(t,8,this.length),Sv(this,t,!0,52,8)},Tv.prototype.readDoubleBE=function(t,e){return e||Wv(t,8,this.length),Sv(this,t,!1,52,8)},Tv.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||qv(this,t,e,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},Tv.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||qv(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},Tv.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,1,255,0),Tv.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Tv.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,2,65535,0),Tv.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Hv(this,t,e,!0),e+2},Tv.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,2,65535,0),Tv.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Hv(this,t,e,!1),e+2},Tv.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,4,4294967295,0),Tv.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):zv(this,t,e,!0),e+4},Tv.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,4,4294967295,0),Tv.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):zv(this,t,e,!1),e+4},Tv.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||qv(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r),r=0;var i=1,o=0;for(this[e]=255&t;++r<n&&(i*=256);)0>t&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},Tv.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||qv(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=1,o=0;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)0>t&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},Tv.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,1,127,-128),Tv.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},Tv.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,2,32767,-32768),Tv.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Hv(this,t,e,!0),e+2},Tv.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,2,32767,-32768),Tv.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Hv(this,t,e,!1),e+2},Tv.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,4,2147483647,-2147483648),Tv.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):zv(this,t,e,!0),e+4},Tv.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||qv(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),Tv.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):zv(this,t,e,!1),e+4},Tv.prototype.writeFloatLE=function(t,e,n){return n||Yv(this,0,e,4),Cv(this,t,e,!0,23,4),e+4},Tv.prototype.writeFloatBE=function(t,e,n){return n||Yv(this,0,e,4),Cv(this,t,e,!1,23,4),e+4},Tv.prototype.writeDoubleLE=function(t,e,n){return n||Yv(this,0,e,8),Cv(this,t,e,!0,52,8),e+8},Tv.prototype.writeDoubleBE=function(t,e,n){return n||Yv(this,0,e,8),Cv(this,t,e,!1,52,8),e+8},Tv.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&n<e&&e<r)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(1e3>i||!Tv.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},Tv.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Tv.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else for(i=(t=Lv(t)?t:Xv(new Tv(t,r).toString())).length,r=0;r<n-e;++r)this[r+e]=t[r%i];return this};var $v=/[^+\/0-9A-Za-z-_]/g;function Xv(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=t.charCodeAt(s))&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--e)break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(n>>6|192,63&n|128)}else if(65536>n){if(0>(e-=3))break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw Error("Invalid code point");if(0>(e-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Kv(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Zv(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace($v,"")).length)t="";else for(;0!=t.length%4;)t+="=";vv||Ev();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var n="="===t[e-2]?2:"="===t[e-1]?1:0,r=new _v(3*e/4-n),i=0<n?e-4:e,o=0;for(e=0;e<i;e+=4){var s=mv[t.charCodeAt(e)]<<18|mv[t.charCodeAt(e+1)]<<12|mv[t.charCodeAt(e+2)]<<6|mv[t.charCodeAt(e+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=255&s}return 2===n?(s=mv[t.charCodeAt(e)]<<2|mv[t.charCodeAt(e+1)]>>4,r[o++]=255&s):1===n&&(s=mv[t.charCodeAt(e)]<<10|mv[t.charCodeAt(e+1)]<<4|mv[t.charCodeAt(e+2)]>>2,r[o++]=s>>8&255,r[o++]=255&s),r}function Qv(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Jv(t){return null!=t&&(!!t._isBuffer||tE(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&tE(t.slice(0,0)))}function tE(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var eE=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:Av,Buffer:Tv,SlowBuffer:function(t){return+t!=t&&(t=0),Tv.alloc(+t)},isBuffer:Jv}),nE=hv(function(t,e){function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new(eE.Buffer.bind.apply(eE.Buffer,r([void 0,t],e)))}var r=lv&&lv.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;t=Array(t);var r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,r++)t[r]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=eE.Buffer,e.bufferAllocUnsafe=eE.Buffer.allocUnsafe||n,e.bufferFrom=eE.Buffer.from||n});function rE(){throw Error("setTimeout has not been defined")}function iE(){throw Error("clearTimeout has not been defined")}cv(nE);var oE=rE,sE=iE;function aE(t){if(oE===setTimeout)return setTimeout(t,0);if((oE===rE||!oE)&&setTimeout)return oE=setTimeout,setTimeout(t,0);try{return oE(t,0)}catch(e){try{return oE.call(null,t,0)}catch(n){return oE.call(this,t,0)}}}"function"==typeof gv.setTimeout&&(oE=setTimeout),"function"==typeof gv.clearTimeout&&(sE=clearTimeout);var uE,lE=[],cE=!1,hE=-1;function fE(){cE&&uE&&(cE=!1,uE.length?lE=uE.concat(lE):hE=-1,lE.length&&pE())}function pE(){if(!cE){var t=aE(fE);cE=!0;for(var e=lE.length;e;){for(uE=lE,lE=[];++hE<e;)uE&&uE[hE].run();hE=-1,e=lE.length}uE=null,cE=!1,function(t){if(sE===clearTimeout)return clearTimeout(t);if((sE===iE||!sE)&&clearTimeout)return sE=clearTimeout,clearTimeout(t);try{sE(t)}catch(e){try{return sE.call(null,t)}catch(n){return sE.call(this,t)}}}(t)}}function dE(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];lE.push(new gE(t,e)),1!==lE.length||cE||aE(pE)}function gE(t,e){this.fun=t,this.array=e}function yE(){}gE.prototype.run=function(){this.fun.apply(null,this.array)};var mE=gv.performance||{},_E=mE.now||mE.mozNow||mE.msNow||mE.oNow||mE.webkitNow||function(){return(new Date).getTime()},vE=new Date,EE={nextTick:dE,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:yE,addListener:yE,once:yE,off:yE,removeListener:yE,removeAllListeners:yE,emit:yE,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*_E.call(mE),n=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(n-=t[0],0>(e-=t[1])&&(n--,e+=1e9)),[n,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-vE)/1e3}},wE="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},bE=/%[sdj%]/g;function SE(t){if(!kE(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(DE(arguments[n]));return e.join(" ")}n=1;var r=arguments,i=r.length;e=String(t).replace(bE,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}});for(var o=r[n];n<i;o=r[++n])e=null!==o&&jE(o)?e+" "+DE(o):e+" "+o;return e}function CE(t,e){if(BE(gv.process))return function(){return CE(t,e).apply(this,arguments)};if(!0===EE.noDeprecation)return t;var n=!1;return function(){if(!n){if(EE.throwDeprecation)throw Error(e);EE.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var xE,IE={};function AE(t){return BE(xE)&&(xE=EE.env.NODE_DEBUG||""),t=t.toUpperCase(),IE[t]||(IE[t]=new RegExp("\\b"+t+"\\b","i").test(xE)?function(){var e=SE.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:function(){}),IE[t]}function DE(t,e){var n={seen:[],stylize:NE};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),LE(e)?n.showHidden=e:e&&$E(n,e),BE(n.showHidden)&&(n.showHidden=!1),BE(n.depth)&&(n.depth=2),BE(n.colors)&&(n.colors=!1),BE(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=TE),OE(n,t,n.depth)}function TE(t,e){return(e=DE.styles[e])?"\x1b["+DE.colors[e][0]+"m"+t+"\x1b["+DE.colors[e][1]+"m":t}function NE(t){return t}function OE(t,e,n){if(t.customInspect&&e&&WE(e.inspect)&&e.inspect!==DE&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return kE(r)||(r=OE(t,r,n)),r}if(r=function(t,e){return BE(e)?t.stylize("undefined","undefined"):kE(e)?(e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(e,"string")):ME(e)?t.stylize(""+e,"number"):LE(e)?t.stylize(""+e,"boolean"):null===e?t.stylize("null","null"):void 0}(t,e))return r;var i=Object.keys(e),o=function(t){var e={};return t.forEach(function(t){e[t]=!0}),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),VE(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return RE(e);if(0===i.length){if(WE(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(UE(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(GE(e))return t.stylize(Date.prototype.toString.call(e),"date");if(VE(e))return RE(e)}r="";var s=!1,a=["{","}"];return PE(e)&&(s=!0,a=["[","]"]),WE(e)&&(r=" [Function"+(e.name?": "+e.name:"")+"]"),UE(e)&&(r=" "+RegExp.prototype.toString.call(e)),GE(e)&&(r=" "+Date.prototype.toUTCString.call(e)),VE(e)&&(r=" "+RE(e)),0!==i.length||s&&0!=e.length?0>n?UE(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(FE(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(FE(t,e,n,r,i,!0))}),o}(t,e,n,o,i):i.map(function(r){return FE(t,e,n,o,r,s)}),t.seen.pop(),function(t,e,n){return 60<t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(i,r,a)):a[0]+r+a[1]}function RE(t){return"["+Error.prototype.toString.call(t)+"]"}function FE(t,e,n,r,i,o){var s,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(e.set?"[Getter/Setter]":"[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(r,i)||(s="["+i+"]"),a||(0>t.seen.indexOf(e.value)?-1<(a=OE(t,e.value,null===n?null:n-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),BE(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function PE(t){return Array.isArray(t)}function LE(t){return"boolean"==typeof t}function ME(t){return"number"==typeof t}function kE(t){return"string"==typeof t}function BE(t){return void 0===t}function UE(t){return jE(t)&&"[object RegExp]"===Object.prototype.toString.call(t)}function jE(t){return"object"==typeof t&&null!==t}function GE(t){return jE(t)&&"[object Date]"===Object.prototype.toString.call(t)}function VE(t){return jE(t)&&("[object Error]"===Object.prototype.toString.call(t)||t instanceof Error)}function WE(t){return"function"==typeof t}function qE(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function HE(t){return 10>t?"0"+t.toString(10):t.toString(10)}DE.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},DE.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var zE="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function YE(){var t=new Date,e=[HE(t.getHours()),HE(t.getMinutes()),HE(t.getSeconds())].join(":");return[t.getDate(),zE[t.getMonth()],e].join(" ")}function $E(t,e){if(!e||!jE(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}var XE={inherits:wE,_extend:$E,log:function(){console.log("%s - %s",YE(),SE.apply(null,arguments))},isBuffer:function(t){return Jv(t)},isPrimitive:qE,isFunction:WE,isError:VE,isDate:GE,isObject:jE,isRegExp:UE,isUndefined:BE,isSymbol:function(t){return"symbol"==typeof t},isString:kE,isNumber:ME,isNullOrUndefined:function(t){return null==t},isNull:function(t){return null===t},isBoolean:LE,isArray:PE,inspect:DE,deprecate:CE,format:SE,debuglog:AE};function KE(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}var ZE,QE=Object.prototype.hasOwnProperty,JE=Object.keys||function(t){var e,n=[];for(e in t)QE.call(t,e)&&n.push(e);return n},tw=Array.prototype.slice;function ew(){return void 0!==ZE?ZE:ZE="foo"===(function(){}).name}function nw(t){return!Jv(t)&&"function"==typeof gv.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer))}function rw(t,e){t||lw(t,!0,e,"==",cw)}var iw=/\s*function\s+([^\(\s]*)\s*/;function ow(t){if(WE(t))return ew()?t.name:(t=t.toString().match(iw))&&t[1]}function sw(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=aw(uw(this.actual),128)+" "+this.operator+" "+aw(uw(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||lw;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error()).stack&&(t=t.stack,e=ow(e),0<=(e=t.indexOf("\n"+e))&&(e=t.indexOf("\n",e+1),t=t.substring(e+1)),this.stack=t)}function aw(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function uw(t){return ew()||!WE(t)?DE(t):"[Function"+((t=ow(t))?": "+t:"")+"]"}function lw(t,e,n,r,i){throw new sw({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function cw(t,e){t||lw(t,!0,e,"==",cw)}function hw(t,e,n,r){if(t===e)return!0;if(Jv(t)&&Jv(e))return 0===KE(t,e);if(GE(t)&&GE(e))return t.getTime()===e.getTime();if(UE(t)&&UE(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(!nw(t)||!nw(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(Jv(t)!==Jv(e))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(qE(t)||qE(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=fw(t),o=fw(e);if(i&&!o||!i&&o)return!1;if(i)return hw(t=tw.call(t),e=tw.call(e),n);i=JE(t);var s=JE(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(!hw(t[s=i[o]],e[s],n,r))return!1;return!0}(t,e,n,r))}return 0===KE(new Uint8Array(t.buffer),new Uint8Array(e.buffer))}return n?t===e:t==e}function fw(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function pw(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function dw(t,e,n,r){if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null);try{e()}catch(s){var i=s}e=i,r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!e&&lw(e,n,"Missing expected exception"+r),i="string"==typeof r;var o=!t&&e&&!n;if((!t&&VE(e)&&i&&pw(e,n)||o)&&lw(e,n,"Got unwanted exception"+r),t&&e&&n&&!pw(e,n)||!t&&e)throw e}rw.AssertionError=sw,wE(sw,Error),rw.fail=lw,rw.ok=cw,rw.equal=function t(e,n,r){e!=n&&lw(e,n,r,"==",t)},rw.notEqual=function t(e,n,r){e==n&&lw(e,n,r,"!=",t)},rw.deepEqual=function t(e,n,r){hw(e,n,!1)||lw(e,n,r,"deepEqual",t)},rw.deepStrictEqual=function t(e,n,r){hw(e,n,!0)||lw(e,n,r,"deepStrictEqual",t)},rw.notDeepEqual=function t(e,n,r){hw(e,n,!1)&&lw(e,n,r,"notDeepEqual",t)},rw.notDeepStrictEqual=function t(e,n,r){hw(e,n,!0)&&lw(e,n,r,"notDeepStrictEqual",t)},rw.strictEqual=function t(e,n,r){e!==n&&lw(e,n,r,"===",t)},rw.notStrictEqual=function t(e,n,r){e===n&&lw(e,n,r,"!==",t)},rw.throws=function(t,e,n){dw(!0,t,e,n)},rw.doesNotThrow=function(t,e,n){dw(!1,t,e,n)},rw.ifError=function(t){if(t)throw t};var gw=hv(function(t,e){function n(t){return function(t){function e(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(n=t.call(this,r(e,n))||this).code=e,n[a]=e,n.name=t.prototype.name+" ["+n[a]+"]",n}return s(e,t),e}(t)}function r(t,e){rw.strictEqual(typeof t,"string");var n=u[t];if(rw(n,"An invalid error message key was used: "+t+"."),"function"==typeof n)t=n;else{if(t=XE.format,void 0===e||0===e.length)return n;e.unshift(n)}return String(t.apply(null,e))}function i(t,e){u[t]="function"==typeof e?e:String(e)}function o(t,e){if(rw(t,"expected is required"),rw("string"==typeof e,"thing is required"),Array.isArray(t)){var n=t.length;return rw(0<n,"At least one expected value needs to be specified"),t=t.map(function(t){return String(t)}),2<n?"one of "+e+" "+t.slice(0,n-1).join(", ")+", or "+t[n-1]:2===n?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}var s=lv&&lv.__extends||function(){function t(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"==typeof Symbol?"_kCode":Symbol("code"),u={};t=function(t){function n(n){if("object"!=typeof n||null===n)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var r=n.message?t.call(this,n.message)||this:t.call(this,XE.inspect(n.actual).slice(0,128)+" "+n.operator+" "+XE.inspect(n.expected).slice(0,128))||this;return r.generatedMessage=!n.message,r.name="AssertionError [ERR_ASSERTION]",r.code="ERR_ASSERTION",r.actual=n.actual,r.expected=n.expected,r.operator=n.operator,e.Error.captureStackTrace(r,n.stackStartFunction),r}return s(n,t),n}(lv.Error),e.AssertionError=t,e.message=r,e.E=i,e.Error=n(lv.Error),e.TypeError=n(lv.TypeError),e.RangeError=n(lv.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'}),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"}),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",function(t){return'The "'+t+'" encoding is not supported'}),i("ERR_ENCODING_INVALID_ENCODED_DATA",function(t){return"The encoded data was not valid for encoding "+t}),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",function(t,e,n){if(rw(t,"name is required"),e.includes("not ")){var r="must not be";e=e.split("not ")[1]}else r="must be";if(Array.isArray(t))r="The "+t.map(function(t){return'"'+t+'"'}).join(", ")+" arguments "+r+" "+o(e,"type");else if(t.includes(" argument"))r="The "+t+" "+r+" "+o(e,"type");else{var i=t.includes(".")?"property":"argument";r='The "'+t+'" '+i+" "+r+" "+o(e,"type")}return 3<=arguments.length&&(r+=". Received type "+(null!==n?typeof n:"null")),r}),i("ERR_INVALID_ARRAY_LENGTH",function(t,e,n){return rw.strictEqual(typeof n,"number"),'The array "'+t+'" (length '+n+") must be of length "+e+"."}),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'}),i("ERR_INVALID_OPT_VALUE_ENCODING",function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'}),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",function(t){return"The URL must be "+o(t,"scheme")}),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];rw(0<t.length,"At least one arg needs to be specified"),e="The ";var n=t.length;switch(t=t.map(function(t){return'"'+t+'"'}),n){case 1:e+=t[0]+" argument";break;case 2:e+=t[0]+" and "+t[1]+" arguments";break;default:e+=t.slice(0,n-1).join(", "),e+=", and "+t[n-1]+" arguments"}return e+" must be specified"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",function(t){return"DH parameter size "+t+" is less than 2048"}),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")});cv(gw);var yw=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!nE.Buffer.isEncoding(t))throw new gw.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,n){return n&&n!==e.ENCODING_UTF8?"buffer"===n?new nE.Buffer(t):new nE.Buffer(t).toString(n):t}});cv(yw);var mw=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=fv.constants.S_IFMT,r=fv.constants.S_IFDIR,i=fv.constants.S_IFREG,o=fv.constants.S_IFBLK,s=fv.constants.S_IFCHR,a=fv.constants.S_IFLNK,u=fv.constants.S_IFIFO,l=fv.constants.S_IFSOCK;t=function(){function t(){this.name="",this.mode=0}return t.build=function(e,n){var r=new t,i=e.getNode().mode;return r.name=yw.strToEncoding(e.getName(),n),r.mode=i,r},t.prototype._checkModeProperty=function(t){return(this.mode&n)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(r)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(u)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}(),e.Dirent=t,e.default=t});function _w(t,e){for(var n=0,r=t.length-1;0<=r;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function vw(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var r=0<=n?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=_w(Sw(t.split("/"),function(t){return!!t}),!e).join("/"))||"."}function Ew(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=vw(t).substr(1),e=vw(e).substr(1),t=n(t.split("/")),e=n(e.split("/"));for(var r=Math.min(t.length,e.length),i=r,o=0;o<r;o++)if(t[o]!==e[o]){i=o;break}for(r=[],o=i;o<t.length;o++)r.push("..");return(r=r.concat(e.slice(i))).join("/")}cv(mw);var ww=Ew,bw=vw;function Sw(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}"ab".substr(-1);var Cw=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t="function"==typeof setImmediate?setImmediate.bind(lv):setTimeout.bind(lv),e.default=t});cv(Cw);var xw=hv(function(t,e){function n(){var t=EE||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=Cw.default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=n,e.default=n()});function Iw(){}function Aw(){Aw.init.call(this)}function Dw(t,e,n,r){var i;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(i=t._events){i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events);var o=i[e]}else i=t._events=new Iw,t._eventsCount=0;return o?("function"==typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(n=void 0===t._maxListeners?Aw.defaultMaxListeners:t._maxListeners)&&0<n&&o.length>n&&(o.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=o.length,"function"==typeof console.warn?console.warn(n):console.log(n))):(i[e]=n,++t._eventsCount),t}function Tw(t,e,n){function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}var i=!1;return r.listener=n,r}function Nw(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function Ow(t,e){for(var n=Array(e);e--;)n[e]=t[e];return n}cv(xw),Iw.prototype=Object.create(null),Aw.EventEmitter=Aw,Aw.usingDomains=!1,Aw.prototype.domain=void 0,Aw.prototype._events=void 0,Aw.prototype._maxListeners=void 0,Aw.defaultMaxListeners=10,Aw.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Iw,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Aw.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Aw.prototype.getMaxListeners=function(){return void 0===this._maxListeners?Aw.defaultMaxListeners:this._maxListeners},Aw.prototype.emit=function(t){var e,n,r="error"===t;if(e=this._events)r=r&&null==e.error;else if(!r)return!1;var i=this.domain;if(r){if(e=arguments[1],!i){if(e instanceof Error)throw e;throw(i=Error('Uncaught, unspecified "error" event. ('+e+")")).context=e,i}return e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(i=e[t]))return!1;e="function"==typeof i;var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(i=Ow(i,e=i.length),r=0;r<e;++r)i[r].call(this);break;case 2:if(r=arguments[1],e)i.call(this,r);else for(i=Ow(i,e=i.length),o=0;o<e;++o)i[o].call(this,r);break;case 3:if(r=arguments[1],o=arguments[2],e)i.call(this,r,o);else for(i=Ow(i,e=i.length),n=0;n<e;++n)i[n].call(this,r,o);break;case 4:if(r=arguments[1],o=arguments[2],n=arguments[3],e)i.call(this,r,o,n);else{i=Ow(i,e=i.length);for(var s=0;s<e;++s)i[s].call(this,r,o,n)}break;default:for(r=Array(o-1),n=1;n<o;n++)r[n-1]=arguments[n];if(e)i.apply(this,r);else for(i=Ow(i,e=i.length),o=0;o<e;++o)i[o].apply(this,r)}return!0},Aw.prototype.on=Aw.prototype.addListener=function(t,e){return Dw(this,t,e,!1)},Aw.prototype.prependListener=function(t,e){return Dw(this,t,e,!0)},Aw.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Tw(this,t,e)),this},Aw.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Tw(this,t,e)),this},Aw.prototype.removeListener=function(t,e){var n;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');var r=this._events;if(!r)return this;var i=r[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)0==--this._eventsCount?this._events=new Iw:(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){var o=-1;for(n=i.length;0<n--;)if(i[n]===e||i[n].listener&&i[n].listener===e){var s=i[n].listener;o=n;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new Iw,this;delete r[t]}else{n=o+1;for(var a=i.length;n<a;o+=1,n+=1)i[o]=i[n];i.pop()}r.removeListener&&this.emit("removeListener",t,s||e)}return this},Aw.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new Iw,this._eventsCount=0):e[t]&&(0==--this._eventsCount?this._events=new Iw:delete e[t]),this;if(0===arguments.length){e=Object.keys(e);for(var n,r=0;r<e.length;++r)"removeListener"!==(n=e[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new Iw,this._eventsCount=0,this}if("function"==typeof(e=e[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Aw.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var n=0;n<e.length;++n)e[n]=t[n].listener||t[n];t=e}else t=[];else t=[];return t},Aw.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Nw.call(t,e)},Aw.prototype.listenerCount=Nw,Aw.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var Rw=hv(function(t,e){var n=lv&&lv.__extends||function(){function t(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=fv.constants.S_IFMT,i=fv.constants.S_IFDIR,o=fv.constants.S_IFREG,s=fv.constants.S_IFLNK,a=fv.constants.O_APPEND;e.SEP="/",t=function(t){function e(e,n){void 0===n&&(n=438);var r=t.call(this)||this;return r.uid=xw.default.getuid(),r.gid=xw.default.getgid(),r.atime=new Date,r.mtime=new Date,r.ctime=new Date,r.perm=438,r.mode=o,r.nlink=1,r.perm=n,r.mode|=n,r.ino=e,r}return n(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=nE.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(nE.bufferAllocUnsafe(0)),nE.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=nE.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~r|t},e.prototype.setIsFile=function(){this.setModeProperty(o)},e.prototype.setIsDirectory=function(){this.setModeProperty(i)},e.prototype.setIsSymlink=function(){this.setModeProperty(s)},e.prototype.isFile=function(){return(this.mode&r)===o},e.prototype.isDirectory=function(){return(this.mode&r)===i},e.prototype.isSymlink=function(){return(this.mode&r)===s},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,n,r){if(void 0===e&&(e=0),void 0===n&&(n=t.length),void 0===r&&(r=0),this.buf||(this.buf=nE.bufferAllocUnsafe(0)),r+n>this.buf.length){var i=nE.bufferAllocUnsafe(r+n);this.buf.copy(i,0,0,this.buf.length),this.buf=i}return t.copy(this.buf,r,e,e+n),this.touch(),n},e.prototype.read=function(t,e,n,r){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),void 0===r&&(r=0),this.buf||(this.buf=nE.bufferAllocUnsafe(0)),n>t.byteLength&&(n=t.byteLength),n+r>this.buf.length&&(n=this.buf.length-r),this.buf.copy(t,e,r,r+n),n},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=nE.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=nE.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=nE.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=xw.default.getuid()),void 0===e&&(e=xw.default.getgid()),!!(4&this.perm||e===this.gid&&32&this.perm||t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=xw.default.getuid()),void 0===e&&(e=xw.default.getgid()),!!(2&this.perm||e===this.gid&&16&this.perm||t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(Aw.EventEmitter),e.Node=t,t=function(t){function r(e,n,r){var i=t.call(this)||this;return i.children={},i.steps=[],i.ino=0,i.length=0,i.vol=e,i.parent=n,i.steps=n?n.steps.concat([r]):[r],i}return n(r,t),r.prototype.setNode=function(t){this.node=t,this.ino=t.ino},r.prototype.getNode=function(){return this.node},r.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var n=new r(this.vol,this,t);return n.setNode(e),e.isDirectory(),this.setChild(t,n),n},r.prototype.setChild=function(t,e){return void 0===e&&(e=new r(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},r.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},r.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},r.prototype.getPath=function(){return this.steps.join(e.SEP)},r.prototype.getName=function(){return this.steps[this.steps.length-1]},r.prototype.walk=function(t,e,n){if(void 0===e&&(e=t.length),void 0===n&&(n=0),n>=t.length||n>=e)return this;var r=this.getChild(t[n]);return r?r.walk(t,e,n+1):null},r.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},r}(Aw.EventEmitter),e.Link=t,t=function(){function t(t,e,n,r){this.position=0,this.link=t,this.node=e,this.flags=n,this.fd=r}return t.prototype.getString=function(){return this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return dv.default.build(this.node)},t.prototype.write=function(t,e,n,r){return void 0===e&&(e=0),void 0===n&&(n=t.length),"number"!=typeof r&&(r=this.position),this.flags&a&&(r=this.getSize()),t=this.node.write(t,e,n,r),this.position=r+t,t},t.prototype.read=function(t,e,n,r){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),"number"!=typeof r&&(r=this.position),t=this.node.read(t,e,n,r),this.position=r+t,t},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}(),e.File=t});cv(Rw);var Fw=Rw.Node,Pw=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=setTimeout.apply(null,arguments);return r&&"object"==typeof r&&"function"==typeof r.unref&&r.unref(),r}});function Lw(){this.tail=this.head=null,this.length=0}cv(Pw),Lw.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},Lw.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},Lw.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},Lw.prototype.clear=function(){this.head=this.tail=null,this.length=0},Lw.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},Lw.prototype.concat=function(t){if(0===this.length)return Tv.alloc(0);if(1===this.length)return this.head.data;t=Tv.allocUnsafe(t>>>0);for(var e=this.head,n=0;e;)e.data.copy(t,n),n+=e.data.length,e=e.next;return t};var Mw=Tv.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function kw(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!Mw(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Uw;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=jw;break;default:return void(this.write=Bw)}this.charBuffer=new Tv(6),this.charLength=this.charReceived=0}function Bw(t){return t.toString(this.encoding)}function Uw(t){this.charLength=(this.charReceived=t.length%2)?2:0}function jw(t){this.charLength=(this.charReceived=t.length%3)?3:0}kw.prototype.write=function(t){for(var e="";this.charLength;){if(t.copy(this.charBuffer,this.charReceived,0,e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length);var n=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=n&&56319>=n)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),55296<=(n=(e+=t.toString(this.encoding,0,r)).charCodeAt(r=e.length-1))&&56319>=n?(this.charLength+=n=this.surrogateSize,this.charReceived+=n,this.charBuffer.copy(this.charBuffer,n,0,n),t.copy(this.charBuffer,0,0,n),e.substring(0,r)):e},kw.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var n=t[t.length-e];if(1==e&&6==n>>5){this.charLength=2;break}if(2>=e&&14==n>>4){this.charLength=3;break}if(3>=e&&30==n>>3){this.charLength=4;break}}this.charReceived=e},kw.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e},Ww.ReadableState=Vw;var Gw=AE("stream");function Vw(t,e){this.objectMode=!!(t=t||{}).objectMode,e instanceof gb&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=(e=t.highWaterMark)||0===e?e:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new Lw,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new kw(t.encoding),this.encoding=t.encoding)}function Ww(t){if(!(this instanceof Ww))return new Ww(t);this._readableState=new Vw(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Aw.call(this)}function qw(t,e,n,r,i){var o=n,s=null;if(Jv(o)||"string"==typeof o||null==o||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(null===n)e.reading=!1,e.ended||(e.decoder&&(n=e.decoder.end())&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length),e.ended=!0,zw(t));else if(e.objectMode||n&&0<n.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!r){n=e.decoder.write(n);var a=!e.objectMode&&0===n.length}i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&zw(t))),e.readingMore||(e.readingMore=!0,dE($w,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function Hw(t,e){if(0>=t||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var n=t;8388608<=n?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),e.highWaterMark=n}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function zw(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Gw("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?dE(Yw,t):Yw(t))}function Yw(t){Gw("emit readable"),t.emit("readable"),Zw(t)}function $w(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Gw("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function Xw(t){Gw("readable nexttick read 0"),t.read(0)}function Kw(t,e){e.reading||(Gw("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Zw(t),e.flowing&&!e.reading&&t.read(0)}function Zw(t){var e=t._readableState;for(Gw("flow",e.flowing);e.flowing&&null!==t.read(););}function Qw(t,e){if(0===e.length)return null;if(e.objectMode)var n=e.buffer.shift();else if(!t||t>=e.length)n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(n=e.buffer,e=e.decoder,t<n.head.data.length)e=n.head.data.slice(0,t),n.head.data=n.head.data.slice(t);else{if(t===n.head.data.length)n=n.shift();else if(e){var r=1,i=(e=n.head).data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.head=e.next?e.next:n.tail=null):(n.head=e,e.data=o.slice(s));break}++r}n.length-=r,n=i}else{for(e=Tv.allocUnsafe(t),i=1,(r=n.head).data.copy(e),t-=r.data.length;r=r.next;){if((o=r.data).copy(e,e.length-t,0,s=t>o.length?o.length:t),0==(t-=s)){s===o.length?(++i,n.head=r.next?r.next:n.tail=null):(n.head=r,r.data=o.slice(s));break}++i}n.length-=i,n=e}e=n}n=e}return n}function Jw(t){var e=t._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,dE(tb,e,t))}function tb(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function eb(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function nb(){}function rb(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function ib(t,e){Object.defineProperty(this,"buffer",{get:CE(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),this.objectMode=!!(t=t||{}).objectMode,e instanceof gb&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==t.decodeStrings,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var n=e._writableState,r=n.sync,i=n.writecb;n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(--n.pendingcb,r?dE(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t)):((t=lb(n))||n.corked||n.bufferProcessing||!n.bufferedRequest||ub(e,n),r?dE(ab,e,n,t,i):ab(e,n,t,i))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new hb(this)}function ob(t){if(!(this instanceof ob||this instanceof gb))return new ob(t);this._writableState=new ib(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),Aw.call(this)}function sb(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function ab(t,e,n,r){!n&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,r(),cb(t,e)}function ub(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=n;for(var o=0;n;)r[o]=n,n=n.next,o+=1;sb(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new hb(e)}else{for(;n&&(r=n.chunk,sb(t,e,!1,e.objectMode?1:r.length,r,n.encoding,n.callback),n=n.next,!e.writing););null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function lb(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function cb(t,e){var n=lb(e);return n&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),n}function hb(t){var e=this;this.entry=this.next=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}wE(Ww,Aw),Ww.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=Tv.from(t,e),e=""),qw(this,n,t,e,!1)},Ww.prototype.unshift=function(t){return qw(this,this._readableState,t,"",!0)},Ww.prototype.isPaused=function(){return!1===this._readableState.flowing},Ww.prototype.setEncoding=function(t){return this._readableState.decoder=new kw(t),this._readableState.encoding=t,this},Ww.prototype.read=function(t){Gw("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Gw("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Jw(this):zw(this),null;if(0===(t=Hw(t,e))&&e.ended)return 0===e.length&&Jw(this),null;var r=e.needReadable;return Gw("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&Gw("length less than watermark",r=!0),e.ended||e.reading?Gw("reading or ended",!1):r&&(Gw("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Hw(n,e))),null===(r=0<t?Qw(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Jw(this)),null!==r&&this.emit("data",r),r},Ww.prototype._read=function(){this.emit("error",Error("not implemented"))},Ww.prototype.pipe=function(t,e){function n(t){Gw("onunpipe"),t===c&&i()}function r(){Gw("onend"),t.end()}function i(){Gw("cleanup"),t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("drain",f),t.removeListener("error",s),t.removeListener("unpipe",n),c.removeListener("end",r),c.removeListener("end",i),c.removeListener("data",o),p=!0,!h.awaitDrain||t._writableState&&!t._writableState.needDrain||f()}function o(e){Gw("ondata"),d=!1,!1!==t.write(e)||d||((1===h.pipesCount&&h.pipes===t||1<h.pipesCount&&-1!==eb(h.pipes,t))&&!p&&(Gw("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,d=!0),c.pause())}function s(e){Gw("onerror",e),l(),t.removeListener("error",s),0===t.listeners("error").length&&t.emit("error",e)}function a(){t.removeListener("finish",u),l()}function u(){Gw("onfinish"),t.removeListener("close",a),l()}function l(){Gw("unpipe"),c.unpipe(t)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,Gw("pipe count=%d opts=%j",h.pipesCount,e),e=e&&!1===e.end?i:r,h.endEmitted?dE(e):c.once("end",e),t.on("unpipe",n);var f=function(t){return function(){var e=t._readableState;Gw("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Zw(t))}}(c);t.on("drain",f);var p=!1,d=!1;return c.on("data",o),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",s),t.once("close",a),t.once("finish",u),t.emit("pipe",c),h.flowing||(Gw("pipe resume"),c.resume()),t},Ww.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){t=e.pipes;var n=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<n;e++)t[e].emit("unpipe",this);return this}return-1===(n=eb(e.pipes,t))||(e.pipes.splice(n,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},Ww.prototype.addListener=Ww.prototype.on=function(t,e){return e=Aw.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&zw(this):dE(Xw,this))),e},Ww.prototype.resume=function(){var t=this._readableState;return t.flowing||(Gw("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,dE(Kw,this,t))),this},Ww.prototype.pause=function(){return Gw("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Gw("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ww.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;for(var i in t.on("end",function(){if(Gw("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){Gw("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||!(e.objectMode||i&&i.length)||r.push(i)||(n=!0,t.pause())}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n])}(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){Gw("wrapped _read",e),n&&(n=!1,t.resume())},r},Ww._fromList=Qw,ob.WritableState=ib,wE(ob,Aw),ib.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},ob.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},ob.prototype.write=function(t,e,n){var r=this._writableState,i=!1;if("function"==typeof e&&(n=e,e=null),Tv.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=nb),r.ended)r=n,t=Error("write after end"),this.emit("error",t),dE(r,t);else{var o=n,s=!0,a=!1;null===t?a=new TypeError("May not write null values to stream"):Tv.isBuffer(t)||"string"==typeof t||void 0===t||r.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),dE(o,a),s=!1),s&&(r.pendingcb++,i=e,r.objectMode||!1===r.decodeStrings||"string"!=typeof t||(t=Tv.from(t,i)),Tv.isBuffer(t)&&(i="buffer"),r.length+=o=r.objectMode?1:t.length,(e=r.length<r.highWaterMark)||(r.needDrain=!0),r.writing||r.corked?(o=r.lastBufferedRequest,r.lastBufferedRequest=new rb(t,i,n),o?o.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1):sb(this,r,!1,o,t,i,n),i=e)}return i},ob.prototype.cork=function(){this._writableState.corked++},ob.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||ub(this,t))},ob.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},ob.prototype._write=function(t,e,n){n(Error("not implemented"))},ob.prototype._writev=null,ob.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||(t=n,r.ending=!0,cb(this,r),t&&(r.finished?dE(t):this.once("finish",t)),r.ended=!0,this.writable=!1)},wE(gb,Ww);for(var fb=Object.keys(ob.prototype),pb=0;pb<fb.length;pb++){var db=fb[pb];gb.prototype[db]||(gb.prototype[db]=ob.prototype[db])}function gb(t){if(!(this instanceof gb))return new gb(t);Ww.call(this,t),ob.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",yb)}function yb(){this.allowHalfOpen||this._writableState.ended||dE(mb,this)}function mb(t){t.end()}function _b(t){this.afterTransform=function(e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;return i?(r.writechunk=null,r.writecb=null,null!=n&&t.push(n),i(e),(e=t._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function vb(t){if(!(this instanceof vb))return new vb(t);gb.call(this,t),this._transformState=new _b(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){Eb(e,t)}):Eb(e)})}function Eb(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}function wb(t){if(!(this instanceof wb))return new wb(t);vb.call(this,t)}function bb(){Aw.call(this)}wE(vb,gb),vb.prototype.push=function(t,e){return this._transformState.needTransform=!1,gb.prototype.push.call(this,t,e)},vb.prototype._transform=function(){throw Error("Not implemented")},vb.prototype._write=function(t,e,n){var r=this._transformState;r.writecb=n,r.writechunk=t,r.writeencoding=e,r.transforming||(t=this._readableState,(r.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},vb.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},wE(wb,vb),wb.prototype._transform=function(t,e,n){n(null,t)},wE(bb,Aw),bb.Readable=Ww,bb.Writable=ob,bb.Duplex=gb,bb.Transform=vb,bb.PassThrough=wb,bb.Stream=bb,bb.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function i(){l||(l=!0,t.end())}function o(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(a(),0===Aw.listenerCount(this,"error"))throw t}function a(){u.removeListener("data",n),t.removeListener("drain",r),u.removeListener("end",i),u.removeListener("close",o),u.removeListener("error",s),t.removeListener("error",s),u.removeListener("end",a),u.removeListener("close",a),t.removeListener("close",a)}var u=this;u.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(u.on("end",i),u.on("close",o));var l=!1;return u.on("error",s),t.on("error",s),u.on("end",a),u.on("close",a),t.on("close",a),t.emit("pipe",u),t};var Sb=Array.prototype.slice,Cb=function t(e,n){for(var r in n)e[r]=n[r];return 3>arguments.length?e:t.apply(null,[e].concat(Sb.call(arguments,2)))},xb=hv(function(t,e){function n(t,e,n){return void 0===n&&(n=function(t){return t}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Promise(function(o,s){t[e].bind(t).apply(void 0,r(i,[function(t,e){return t?s(t):o(n(e))}]))})}}var r=lv&&lv.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;t=Array(t);var r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,r++)t[r]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return n(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return n(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return n(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return n(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return n(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,r,i){return n(this.vol,"read",function(e){return{bytesRead:e,buffer:t}})(this.fd,t,e,r,i)},t.prototype.readFile=function(t){return n(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return n(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return n(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return n(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return n(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,r,i){return n(this.vol,"write",function(e){return{bytesWritten:e,buffer:t}})(this.fd,t,e,r,i)},t.prototype.writeFile=function(t,e){return n(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=i,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(e,r){return n(t,"access")(e,r)},appendFile:function(e,r,o){return n(t,"appendFile")(e instanceof i?e.fd:e,r,o)},chmod:function(e,r){return n(t,"chmod")(e,r)},chown:function(e,r,i){return n(t,"chown")(e,r,i)},copyFile:function(e,r,i){return n(t,"copyFile")(e,r,i)},lchmod:function(e,r){return n(t,"lchmod")(e,r)},lchown:function(e,r,i){return n(t,"lchown")(e,r,i)},link:function(e,r){return n(t,"link")(e,r)},lstat:function(e,r){return n(t,"lstat")(e,r)},mkdir:function(e,r){return n(t,"mkdir")(e,r)},mkdtemp:function(e,r){return n(t,"mkdtemp")(e,r)},open:function(e,r,o){return n(t,"open",function(e){return new i(t,e)})(e,r,o)},readdir:function(e,r){return n(t,"readdir")(e,r)},readFile:function(e,r){return n(t,"readFile")(e instanceof i?e.fd:e,r)},readlink:function(e,r){return n(t,"readlink")(e,r)},realpath:function(e,r){return n(t,"realpath")(e,r)},rename:function(e,r){return n(t,"rename")(e,r)},rmdir:function(e){return n(t,"rmdir")(e)},stat:function(e,r){return n(t,"stat")(e,r)},symlink:function(e,r,i){return n(t,"symlink")(e,r,i)},truncate:function(e,r){return n(t,"truncate")(e,r)},unlink:function(e){return n(t,"unlink")(e)},utimes:function(e,r,i){return n(t,"utimes")(e,r,i)},writeFile:function(e,r,o){return n(t,"writeFile")(e instanceof i?e.fd:e,r,o)}}}});cv(xb);var Ib=/[^\x20-\x7E]/,Ab=/[\x2E\u3002\uFF0E\uFF61]/g,Db="Overflow: input needs wider integers to process",Tb=Math.floor,Nb=String.fromCharCode;function Ob(t,e){return t+22+75*(26>t)-((0!=e)<<5)}var Rb=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Fb(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function Pb(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var Lb=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n};function Mb(t,e,n,r){n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;for(t=t.split(e||"&"),e=1e3,r&&"number"==typeof r.maxKeys&&(e=r.maxKeys),r=t.length,0<e&&r>e&&(r=e),e=0;e<r;++e){var s=t[e].replace(o,"%20"),a=s.indexOf(n);if(0<=a){var u=s.substr(0,a);s=s.substr(a+1)}else u=s,s="";u=decodeURIComponent(u),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,u)?Rb(i[u])?i[u].push(s):i[u]=[i[u],s]:i[u]=s}return i}var kb={parse:Zb,resolve:function(t,e){return Zb(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Zb(t,!1,!0).resolveObject(e):e},format:function(t){return kE(t)&&(t=Qb({},t)),Jb(t)},Url:Bb};function Bb(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var Ub=/^([a-z0-9.+-]+:)/i,jb=/:[0-9]*$/,Gb=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Vb="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),Wb=["'"].concat(Vb),qb=["%","/","?",";","#"].concat(Wb),Hb=["/","?","#"],zb=/^[+a-z0-9A-Z_-]{0,63}$/,Yb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$b={javascript:!0,"javascript:":!0},Xb={javascript:!0,"javascript:":!0},Kb={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Zb(t,e,n){if(t&&jE(t)&&t instanceof Bb)return t;var r=new Bb;return r.parse(t,e,n),r}function Qb(t,e,n,r){if(!kE(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=-1!==i&&i<e.indexOf("#")?"?":"#",(e=e.split(i))[0]=e[0].replace(/\\/g,"/"),i=(e=e.join(i)).trim(),!r&&1===e.split("#").length&&(e=Gb.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=n?Mb(t.search.substr(1)):t.search.substr(1)):n&&(t.search="",t.query={}),t;if(e=Ub.exec(i)){var o=(e=e[0]).toLowerCase();t.protocol=o,i=i.substr(e.length)}if(r||e||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||e&&Xb[e]||(i=i.substr(2),t.slashes=!0)}if(!Xb[e]&&(s||e&&!Kb[e])){for(e=-1,r=0;r<Hb.length;r++)-1!==(s=i.indexOf(Hb[r]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?i.lastIndexOf("@"):i.lastIndexOf("@",e))&&(r=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(r)),e=-1,r=0;r<qb.length;r++)-1!==(s=i.indexOf(qb[r]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),tS(t),t.hostname=t.hostname||"",!(s="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1])){var a=t.hostname.split(/\./);for(r=0,e=a.length;r<e;r++){var u=a[r];if(u&&!u.match(zb)){for(var l="",c=0,h=u.length;c<h;c++)l=127<u.charCodeAt(c)?l+"x":l+u[c];if(!l.match(zb)){e=a.slice(0,r),r=a.slice(r+1),(u=u.match(Yb))&&(e.push(u[1]),r.unshift(u[2])),r.length&&(i="/"+r.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>255?"":t.hostname.toLowerCase(),s||(t.hostname=function(t){return function(t,e){var n=t.split("@"),r="";1<n.length&&(r=n[0]+"@",t=n[1]),n=(t=(t=t.replace(Ab,".")).split(".")).length;for(var i=[];n--;)i[n]=e(t[n]);return r+i.join(".")}(t,function(t){if(Ib.test(t)){var e,n=[],r=[],i=0;for(e=t.length;i<e;){var o=t.charCodeAt(i++);if(55296<=o&&56319>=o&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?r.push(((1023&o)<<10)+(1023&s)+65536):(r.push(o),i--)}else r.push(o)}s=(t=r).length,r=128;var a=0,u=72;for(o=0;o<s;++o){var l=t[o];128>l&&n.push(Nb(l))}for((i=e=n.length)&&n.push("-");i<s;){var c=2147483647;for(o=0;o<s;++o)(l=t[o])>=r&&l<c&&(c=l);var h=i+1;if(c-r>Tb((2147483647-a)/h))throw new RangeError(Db);for(a+=(c-r)*h,r=c,o=0;o<s;++o){if((l=t[o])<r&&2147483647<++a)throw new RangeError(Db);if(l==r){var f=a;for(c=36;!(f<(l=c<=u?1:c>=u+26?26:c-u));c+=36){var p=f-l;n.push(Nb(Ob(l+p%(f=36-l),0))),f=Tb(p/f)}for(n.push(Nb(Ob(f,0))),u=h,c=0,a=i==e?Tb(a/700):a>>1,a+=Tb(a/u);455<a;c+=36)a=Tb(a/35);u=Tb(c+36*a/(a+38)),a=0,++i}}++a,++r}n="xn--"+n.join("")}else n=t;return n})}(t.hostname)),t.host=(t.hostname||"")+(r=t.port?":"+t.port:""),t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!$b[o])for(r=0,e=Wb.length;r<e;r++)-1!==i.indexOf(s=Wb[r])&&((u=encodeURIComponent(s))===s&&(u=escape(s)),i=i.split(s).join(u));return-1!==(r=i.indexOf("#"))&&(t.hash=i.substr(r),i=i.slice(0,r)),-1!==(r=i.indexOf("?"))?(t.search=i.substr(r),t.query=i.substr(r+1),n&&(t.query=Mb(t.query)),i=i.slice(0,r)):n&&(t.search="",t.query={}),i&&(t.pathname=i),Kb[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(t.path=(r=t.pathname||"")+(t.search||"")),t.href=Jb(t),t}function Jb(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n=t.protocol||"",r=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&jE(t.query)&&Object.keys(t.query).length&&(s=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Pb(Lb(t),function(r){var i=encodeURIComponent(Fb(r))+n;return Rb(t[r])?Pb(t[r],function(t){return i+encodeURIComponent(Fb(t))}).join(e):i+encodeURIComponent(Fb(t[r]))}).join(e):""}(t.query)),e=t.search||s&&"?"+s||"",n&&":"!==n.substr(-1)&&(n+=":"),t.slashes||(!n||Kb[n])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),n+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(e=e.replace("#","%23"))+i}function tS(t){var e=t.host,n=jb.exec(e);n&&(":"!==(n=n[0])&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e)}Bb.prototype.parse=function(t,e,n){return Qb(this,t,e,n)},Bb.prototype.format=function(){return Jb(this)},Bb.prototype.resolve=function(t){return this.resolveObject(Zb(t,!1,!0)).format()},Bb.prototype.resolveObject=function(t){if(kE(t)){var e=new Bb;e.parse(t,!1,!0),t=e}e=new Bb;for(var n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(n=Object.keys(t),r=0;r<n.length;r++)"protocol"!==(i=n[r])&&(e[i]=t[i]);return Kb[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!Kb[t.protocol]){for(n=Object.keys(t),r=0;r<n.length;r++)e[i=n[r]]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Xb[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}n=e.pathname&&"/"===e.pathname.charAt(0);var s=t.host||t.pathname&&"/"===t.pathname.charAt(0),a=n=s||n||e.host&&t.pathname;if(r=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!Kb[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),n=n&&(""===o[0]||""===r[0])),s)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,r=o;else if(o.length)r||(r=[]),r.pop(),r=r.concat(o),e.search=t.search,e.query=t.query;else if(null!=t.search)return i&&(e.hostname=e.host=r.shift(),i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!r.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=r.slice(-1)[0],o=(e.host||t.host||1<r.length)&&("."===s||".."===s)||""===s;for(var u=0,l=r.length;0<=l;l--)"."===(s=r[l])?r.splice(l,1):".."===s?(r.splice(l,1),u++):u&&(r.splice(l,1),u--);if(!n&&!a)for(;u--;u)r.unshift("..");return!n||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift(""),o&&"/"!==r.join("/").substr(-1)&&r.push(""),a=""===r[0]||r[0]&&"/"===r[0].charAt(0),i&&(e.hostname=e.host=a?"":r.length?r.shift():"",i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(n=n||e.host&&r.length)&&!a&&r.unshift(""),r.length?e.pathname=r.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Bb.prototype.parseHost=function(){return tS(this)};var eS=hv(function(t,e){function n(t,e){return t=t[e],0<e&&("/"===t||i&&"\\"===t)}function r(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var r=t;if("string"!=typeof r)throw new TypeError("expected a string");if(r=r.replace(/[\\\/]+/g,"/"),!1!==e)if(2>(r=(e=r).length-1))r=e;else{for(;n(e,r);)r--;r=e.substr(0,r+1)}return r.replace(/^([a-zA-Z]+:|\.\/)/,"")}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=r,e.correctPath=function(t){return r(t.replace(/^\\\\\?\\.:\\/,"\\"))};var i="win32"===EE.platform});cv(eS);var nS=hv(function(t,e){function n(t,e){return void 0===e&&(e=xw.default.cwd()),O(e,t)}function r(t,e){return"function"==typeof t?[i(),t]:[i(t),c(e)]}function i(t){return void 0===t&&(t={}),N({},ut,t)}function o(t){return N({},it,"number"==typeof t?{mode:t}:t)}function s(t,e,n,r,i){return void 0===e&&(e=""),void 0===n&&(n=""),void 0===r&&(r=""),void 0===i&&(i=Error),(e=new i(function(t,e,n,r){void 0===e&&(e=""),void 0===n&&(n=""),void 0===r&&(r="");var i="";switch(n&&(i=" '"+n+"'"),r&&(i+=" -> '"+r+"'"),t){case"ENOENT":return"ENOENT: no such file or directory, "+e+i;case"EBADF":return"EBADF: bad file descriptor, "+e+i;case"EINVAL":return"EINVAL: invalid argument, "+e+i;case"EPERM":return"EPERM: operation not permitted, "+e+i;case"EPROTO":return"EPROTO: protocol error, "+e+i;case"EEXIST":return"EEXIST: file already exists, "+e+i;case"ENOTDIR":return"ENOTDIR: not a directory, "+e+i;case"EISDIR":return"EISDIR: illegal operation on a directory, "+e+i;case"EACCES":return"EACCES: permission denied, "+e+i;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+e+i;case"EMFILE":return"EMFILE: too many open files, "+e+i;case"ENOSYS":return"ENOSYS: function not implemented, "+e+i;default:return t+": error occurred, "+e+i}}(t,e,n,r))).code=t,e}function a(t){if("number"==typeof t)return t;if("string"==typeof t){var e=T[t];if(void 0!==e)return e}throw new gw.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function u(t,e){if(!e)return t;var n=typeof e;switch(n){case"string":t=N({},t,{encoding:e});break;case"object":t=N({},t,e);break;default:throw TypeError("Expected options to be either an object or a string, but got "+n+" instead")}return"buffer"!==t.encoding&&yw.assertEncoding(t.encoding),t}function l(t){return function(e){return u(t,e)}}function c(t){if("function"!=typeof t)throw TypeError(Y.CB);return t}function h(t){return function(e,n){return"function"==typeof e?[t(),e]:[t(e),c(n)]}}function f(t){if("string"!=typeof t&&!nE.Buffer.isBuffer(t)){try{if(!(t instanceof kb.URL))throw new TypeError(Y.PATH_STR)}catch(r){throw new TypeError(Y.PATH_STR)}if(""!==t.hostname)throw new gw.TypeError("ERR_INVALID_FILE_URL_HOST",xw.default.platform);t=t.pathname;for(var e=0;e<t.length;e++)if("%"===t[e]){var n=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===n)throw new gw.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}t=decodeURIComponent(t)}return m(t=String(t)),t}function p(t,e){return(t=n(t,e).substr(1))?t.split(q):[]}function d(t){return p(f(t))}function g(t,e){return void 0===e&&(e=yw.ENCODING_UTF8),nE.Buffer.isBuffer(t)?t:t instanceof Uint8Array?nE.bufferFrom(t):nE.bufferFrom(String(t),e)}function y(t,e){return e&&"buffer"!==e?t.toString(e):t}function m(t,e){if(-1!==(""+t).indexOf("\0")){if((t=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof e)throw t;return xw.default.nextTick(e,t),!1}return!0}function _(t,e){if("number"!=typeof(t="number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?_(e):void 0)||isNaN(t))throw new TypeError(Y.MODE_INT);return t}function v(t){if(t>>>0!==t)throw TypeError(Y.FD)}function E(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return 0>t?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function w(t){if("number"!=typeof t)throw TypeError(Y.UID)}function b(t){if("number"!=typeof t)throw TypeError(Y.GID)}function S(t){t.emit("stop")}function C(t,e,n){if(!(this instanceof C))return new C(t,e,n);if(this._vol=t,void 0===(n=N({},u(n,{}))).highWaterMark&&(n.highWaterMark=65536),bb.Readable.call(this,n),this.path=f(e),this.fd=void 0===n.fd?null:n.fd,this.flags=void 0===n.flags?"r":n.flags,this.mode=void 0===n.mode?438:n.mode,this.start=n.start,this.end=n.end,this.autoClose=void 0===n.autoClose||n.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function x(){this.close()}function I(t,e,n){if(!(this instanceof I))return new I(t,e,n);if(this._vol=t,n=N({},u(n,{})),bb.Writable.call(this,n),this.path=f(e),this.fd=void 0===n.fd?null:n.fd,this.flags=void 0===n.flags?"w":n.flags,this.mode=void 0===n.mode?438:n.mode,this.start=n.start,this.autoClose=void 0===n.autoClose||!!n.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}n.encoding&&this.setDefaultEncoding(n.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}var A=lv&&lv.__extends||function(){function t(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=lv&&lv.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;t=Array(t);var r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,r++)t[r]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var T,N=Cb,O=bw,R=fv.constants.O_RDONLY,F=fv.constants.O_WRONLY,P=fv.constants.O_RDWR,L=fv.constants.O_CREAT,M=fv.constants.O_EXCL,k=fv.constants.O_TRUNC,B=fv.constants.O_APPEND,U=fv.constants.O_SYNC,j=fv.constants.O_DIRECTORY,G=fv.constants.F_OK,V=fv.constants.COPYFILE_EXCL,W=fv.constants.COPYFILE_FICLONE_FORCE,q="/",H=ww,z="win32"===xw.default.platform,Y={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};!function(t){t[t.r=R]="r",t[t["r+"]=P]="r+",t[t.rs=R|U]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=P|U]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=F|L|k]="w",t[t.wx=F|L|k|M]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=P|L|k]="w+",t[t["wx+"]=P|L|k|M]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=F|B|L]="a",t[t.ax=F|B|L|M]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=P|B|L]="a+",t[t["ax+"]=P|B|L|M]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(T=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=a;var $=l(t={encoding:"utf8"}),X=h($),K=l({flag:"r"}),Z={encoding:"utf8",mode:438,flag:T[T.w]},Q=l(Z),J={encoding:"utf8",mode:438,flag:T[T.a]},tt=l(J),et=h(tt),nt=l(t),rt=h(nt),it={mode:511,recursive:!1},ot={recursive:!1},st=l({encoding:"utf8",withFileTypes:!1}),at=h(st),ut={bigint:!1};if(e.pathToFilename=f,z){var lt=n,ct=eS.unixify;n=function(t,e){return ct(lt(t,e))}}e.filenameToSteps=p,e.pathToSteps=d,e.dataToStr=function(t,e){return void 0===e&&(e=yw.ENCODING_UTF8),nE.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?nE.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=g,e.bufferToEncoding=y,e.toUnixTimestamp=E,t=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=xb.default(this),this.statWatchers={},this.props=N({Node:Rw.Node,Link:Rw.Link,File:Rw.File},t),(t=this.createLink()).setNode(this.createNode(!0));var e=this;this.StatWatcher=function(t){function n(){return t.call(this,e)||this}return A(n,t),n}(ft),this.ReadStream=function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,D([e],n))||this}return A(n,t),n}(C),this.WriteStream=function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,D([e],n))||this}return A(n,t),n}(I),this.FSWatcher=function(t){function n(){return t.call(this,e)||this}return A(n,t),n}(pt),this.root=t}return t.fromJSON=function(e,n){var r=new t;return r.fromJSON(e,n),r},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,n,r){if(void 0===n&&(n=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(n,r))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){return void 0===t&&(t=!1),e=new this.props.Node(this.newInoNumber(),e),t&&e.setIsDirectory(),this.inodes[e.ino]=e},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var n=p(t);if(!(n=this.getLink(n)))throw s("ENOENT",e,t);return n},t.prototype.getResolvedLink=function(t){t="string"==typeof t?p(t):t;for(var e=this.root,n=0;n<t.length;){if(!(e=e.getChild(t[n])))return null;var r=e.getNode();r.isSymlink()?(t=r.symlink.concat(t.slice(n+1)),e=this.root,n=0):n++}return e},t.prototype.getResolvedLinkOrThrow=function(t,e){var n=this.getResolvedLink(t);if(!n)throw s("ENOENT",e,t);return n},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var n=this.getLinkOrThrow(t,e);if(!n.getNode().isDirectory())throw s("ENOTDIR",e,t);return n},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){t=t instanceof Array?t:p(t);var n=this.getLinkParent(t);if(!n)throw s("ENOENT",e,q+t.join(q));if(!n.getNode().isDirectory())throw s("ENOTDIR",e,q+t.join(q));return n},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(t>>>0!==t)throw TypeError(Y.FD);if(!(t=this.getFileByFd(t)))throw s("EBADF",e);return t},t.prototype.getNodeByIdOrCreate=function(t,e,n){if("number"==typeof t){if(!(t=this.getFileByFd(t)))throw Error("File nto found");return t.node}var r=d(t),i=this.getLink(r);if(i)return i.getNode();if(e&L&&(e=this.getLinkParent(r)))return(i=this.createLink(e,r[r.length-1],!1,n)).getNode();throw s("ENOENT","getNodeByIdOrCreate",f(t))},t.prototype.wrapAsync=function(t,e,n){var r=this;c(n),Cw.default(function(){try{n(null,t.apply(r,e))}catch(pm){n(pm)}})},t.prototype._toJSON=function(t,e,n){var r;void 0===t&&(t=this.root),void 0===e&&(e={});var i=!0,o=t.children;for(var s in t.getNode().isFile()&&((r={})[t.getName()]=t.parent.getChild(t.getName()),o=r,t=t.parent),o){if(i=!1,!(o=t.getChild(s)))throw Error("_toJSON: unexpected undefined");(r=o.getNode()).isFile()?(o=o.getPath(),n&&(o=H(n,o)),e[o]=r.getString()):r.isDirectory()&&this._toJSON(o,e,n)}return t=t.getPath(),n&&(t=H(n,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!1);var r=[];if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=f(t[i]);(o=this.getResolvedLink(o))&&r.push(o)}}else r.push(this.root);if(!r.length)return e;for(i=0;i<r.length;i++)this._toJSON(o=r[i],e,n?o.getPath():"");return e},t.prototype.fromJSON=function(t,e){for(var r in void 0===e&&(e=xw.default.cwd()),t){var i=t[r];if("string"==typeof i){var o=p(r=n(r,e));1<o.length&&(o=q+o.slice(0,o.length-1).join(q),this.mkdirpBase(o,511)),this.writeFileSync(r,i)}else this.mkdirpBase(r,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,n){if(void 0===n&&(n=!0),this.openFiles>=this.maxFiles)throw s("EMFILE","open",t.getPath());var r=t;if(n&&(r=this.resolveSymlinks(t)),!r)throw s("ENOENT","open",t.getPath());if((n=r.getNode()).isDirectory()){if((e&(R|P|F))!==R)throw s("EISDIR","open",t.getPath())}else if(e&j)throw s("ENOTDIR","open",t.getPath());if(!(e&F||n.canRead()))throw s("EACCES","open",t.getPath());return t=new this.props.File(t,n,e,this.newFdNumber()),this.fds[t.fd]=t,this.openFiles++,e&k&&t.truncate(),t},t.prototype.openFile=function(t,e,n,r){void 0===r&&(r=!0);var i=p(t),o=r?this.getResolvedLink(i):this.getLink(i);if(!o&&e&L){var a=this.getResolvedLink(i.slice(0,i.length-1));if(!a)throw s("ENOENT","open",q+i.join(q));e&L&&"number"==typeof n&&(o=this.createLink(a,i[i.length-1],!1,n))}if(o)return this.openLink(o,e,r);throw s("ENOENT","open",t)},t.prototype.openBase=function(t,e,n,r){if(void 0===r&&(r=!0),!(e=this.openFile(t,e,n,r)))throw s("ENOENT","open",t);return e.fd},t.prototype.openSync=function(t,e,n){return void 0===n&&(n=438),n=_(n),t=f(t),e=a(e),this.openBase(t,e,n)},t.prototype.open=function(t,e,n,r){var i=n;"function"==typeof n&&(i=438,r=n),n=_(i||438),t=f(t),e=a(e),this.wrapAsync(this.openBase,[t,e,n],r)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){v(t),t=this.getFileByFdOrThrow(t,"close"),this.closeFile(t)},t.prototype.close=function(t,e){v(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,n){if("number"==typeof t){if(!(t=this.fds[t]))throw s("ENOENT");return t}return this.openFile(f(t),e,n)},t.prototype.readBase=function(t,e,n,r,i){return this.getFileByFdOrThrow(t).read(e,Number(n),Number(r),i)},t.prototype.readSync=function(t,e,n,r,i){return v(t),this.readBase(t,e,n,r,i)},t.prototype.read=function(t,e,n,r,i,o){var s=this;if(c(o),0===r)return xw.default.nextTick(function(){o&&o(null,0,e)});Cw.default(function(){try{var a=s.readBase(t,e,n,r,i);o(null,a,e)}catch(u){o(u)}})},t.prototype.readFileBase=function(t,e,n){var r="number"==typeof t&&t>>>0===t;if(!r){var i=f(t);if(i=p(i),(i=this.getResolvedLink(i))&&i.getNode().isDirectory())throw s("EISDIR","open",i.getPath());t=this.openSync(t,e)}try{var o=y(this.getFileByFdOrThrow(t).getBuffer(),n)}finally{r||this.closeSync(t)}return o},t.prototype.readFileSync=function(t,e){var n=a((e=K(e)).flag);return this.readFileBase(t,n,e.encoding)},t.prototype.readFile=function(t,e,n){e=(n=h(K)(e,n))[0],n=n[1];var r=a(e.flag);this.wrapAsync(this.readFileBase,[t,r,e.encoding],n)},t.prototype.writeBase=function(t,e,n,r,i){return this.getFileByFdOrThrow(t,"write").write(e,n,r,i)},t.prototype.writeSync=function(t,e,n,r,i){v(t);var o="string"!=typeof e;if(o){var s=0|(n||0),a=r;n=i}else var u=r;return e=g(e,u),o?void 0===a&&(a=e.length):(s=0,a=e.length),this.writeBase(t,e,s,a,n)},t.prototype.write=function(t,e,n,r,i,o){var s=this;v(t);var a=typeof e,u=typeof n,l=typeof r,h=typeof i;if("string"!==a)if("function"===u)var f=n;else if("function"===l){var p=0|n;f=r}else if("function"===h){p=0|n;var d=r;f=i}else{p=0|n,d=r;var y=i;f=o}else if("function"===u)f=n;else if("function"===l)y=n,f=r;else if("function"===h){y=n;var m=r;f=i}var _=g(e,m);"string"!==a?void 0===d&&(d=_.length):(p=0,d=_.length);var E=c(f);Cw.default(function(){try{var n=s.writeBase(t,_,p,d,y);E(null,n,"string"!==a?_:e)}catch(r){E(r)}})},t.prototype.writeFileBase=function(t,e,n,r){var i="number"==typeof t;t=i?t:this.openBase(f(t),n,r),r=0;var o=e.length;n=n&B?void 0:0;try{for(;0<o;){var s=this.writeSync(t,e,r,o,n);r+=s,o-=s,void 0!==n&&(n+=s)}}finally{i||this.closeSync(t)}},t.prototype.writeFileSync=function(t,e,n){var r=Q(n);n=a(r.flag);var i=_(r.mode);e=g(e,r.encoding),this.writeFileBase(t,e,n,i)},t.prototype.writeFile=function(t,e,n,r){var i=n;"function"==typeof n&&(i=Z,r=n),n=c(r);var o=Q(i);i=a(o.flag),r=_(o.mode),e=g(e,o.encoding),this.wrapAsync(this.writeFileBase,[t,e,i,r],n)},t.prototype.linkBase=function(t,e){var n=p(t),r=this.getLink(n);if(!r)throw s("ENOENT","link",t,e);var i=p(e);if(!(n=this.getLinkParent(i)))throw s("ENOENT","link",t,e);if(n.getChild(i=i[i.length-1]))throw s("EEXIST","link",t,e);(t=r.getNode()).nlink++,n.createChild(i,t)},t.prototype.copyFileBase=function(t,e,n){var r=this.readFileSync(t);if(n&V&&this.existsSync(e))throw s("EEXIST","copyFile",t,e);if(n&W)throw s("ENOSYS","copyFile",t,e);this.writeFileBase(e,r,T.w,438)},t.prototype.copyFileSync=function(t,e,n){return t=f(t),e=f(e),this.copyFileBase(t,e,0|(n||0))},t.prototype.copyFile=function(t,e,n,r){if(t=f(t),e=f(e),"function"==typeof n)var i=0;else i=n,n=r;c(n),this.wrapAsync(this.copyFileBase,[t,e,i],n)},t.prototype.linkSync=function(t,e){t=f(t),e=f(e),this.linkBase(t,e)},t.prototype.link=function(t,e,n){t=f(t),e=f(e),this.wrapAsync(this.linkBase,[t,e],n)},t.prototype.unlinkBase=function(t){var e=p(t);if(!(e=this.getLink(e)))throw s("ENOENT","unlink",t);if(e.length)throw Error("Dir not empty...");this.deleteLink(e),(t=e.getNode()).nlink--,0>=t.nlink&&this.deleteNode(t)},t.prototype.unlinkSync=function(t){t=f(t),this.unlinkBase(t)},t.prototype.unlink=function(t,e){t=f(t),this.wrapAsync(this.unlinkBase,[t],e)},t.prototype.symlinkBase=function(t,e){var n=p(e),r=this.getLinkParent(n);if(!r)throw s("ENOENT","symlink",t,e);if(r.getChild(n=n[n.length-1]))throw s("EEXIST","symlink",t,e);return(e=r.createChild(n)).getNode().makeSymlink(p(t)),e},t.prototype.symlinkSync=function(t,e){t=f(t),e=f(e),this.symlinkBase(t,e)},t.prototype.symlink=function(t,e,n,r){n=c("function"==typeof n?n:r),t=f(t),e=f(e),this.wrapAsync(this.symlinkBase,[t,e],n)},t.prototype.realpathBase=function(t,e){var n=p(t);if(!(n=this.getResolvedLink(n)))throw s("ENOENT","realpath",t);return yw.strToEncoding(n.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(f(t),nt(e).encoding)},t.prototype.realpath=function(t,e,n){e=(n=rt(e,n))[0],n=n[1],t=f(t),this.wrapAsync(this.realpathBase,[t,e.encoding],n)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var n=this.getLink(p(t));if(!n)throw s("ENOENT","lstat",t);return dv.default.build(n.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(f(t),i(e).bigint)},t.prototype.lstat=function(t,e,n){e=(n=r(e,n))[0],n=n[1],this.wrapAsync(this.lstatBase,[f(t),e.bigint],n)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var n=this.getResolvedLink(p(t));if(!n)throw s("ENOENT","stat",t);return dv.default.build(n.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(f(t),i(e).bigint)},t.prototype.stat=function(t,e,n){e=(n=r(e,n))[0],n=n[1],this.wrapAsync(this.statBase,[f(t),e.bigint],n)},t.prototype.fstatBase=function(t,e){if(void 0===e&&(e=!1),!(t=this.getFileByFd(t)))throw s("EBADF","fstat");return dv.default.build(t.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,i(e).bigint)},t.prototype.fstat=function(t,e,n){e=r(e,n),this.wrapAsync(this.fstatBase,[t,e[0].bigint],e[1])},t.prototype.renameBase=function(t,e){var n=this.getLink(p(t));if(!n)throw s("ENOENT","rename",t,e);var r=p(e),i=this.getLinkParent(r);if(!i)throw s("ENOENT","rename",t,e);(t=n.parent)&&t.deleteChild(n),n.steps=D(i.steps,[r[r.length-1]]),i.setChild(n.getName(),n)},t.prototype.renameSync=function(t,e){t=f(t),e=f(e),this.renameBase(t,e)},t.prototype.rename=function(t,e,n){t=f(t),e=f(e),this.wrapAsync(this.renameBase,[t,e],n)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(f(t))}catch(xd){return!1}},t.prototype.exists=function(t,e){var n=this,r=f(t);if("function"!=typeof e)throw Error(Y.CB);Cw.default(function(){try{e(n.existsBase(r))}catch(pm){e(!1)}})},t.prototype.accessBase=function(t){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=G),t=f(t),this.accessBase(t,0|e)},t.prototype.access=function(t,e,n){var r=G;"function"!=typeof e&&(r=0|e,e=c(n)),t=f(t),this.wrapAsync(this.accessBase,[t,r],e)},t.prototype.appendFileSync=function(t,e,n){void 0===n&&(n=J),(n=tt(n)).flag&&t>>>0!==t||(n.flag="a"),this.writeFileSync(t,e,n)},t.prototype.appendFile=function(t,e,n,r){n=(r=et(n,r))[0],r=r[1],n.flag&&t>>>0!==t||(n.flag="a"),this.writeFile(t,e,n,r)},t.prototype.readdirBase=function(t,e){var n=p(t);if(!(n=this.getResolvedLink(n)))throw s("ENOENT","readdir",t);if(!n.getNode().isDirectory())throw s("ENOTDIR","scandir",t);if(e.withFileTypes){var r=[];for(i in n.children)(t=n.getChild(i))&&r.push(mw.default.build(t,e.encoding));return z||"buffer"===e.encoding||r.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}),r}var i=[];for(r in n.children)i.push(yw.strToEncoding(r,e.encoding));return z||"buffer"===e.encoding||i.sort(),i},t.prototype.readdirSync=function(t,e){return e=st(e),t=f(t),this.readdirBase(t,e)},t.prototype.readdir=function(t,e,n){e=(n=at(e,n))[0],n=n[1],t=f(t),this.wrapAsync(this.readdirBase,[t,e],n)},t.prototype.readlinkBase=function(t,e){var n=this.getLinkOrThrow(t,"readlink").getNode();if(!n.isSymlink())throw s("EINVAL","readlink",t);return t=q+n.symlink.join(q),yw.strToEncoding(t,e)},t.prototype.readlinkSync=function(t,e){return e=$(e),t=f(t),this.readlinkBase(t,e.encoding)},t.prototype.readlink=function(t,e,n){e=(n=X(e,n))[0],n=n[1],t=f(t),this.wrapAsync(this.readlinkBase,[t,e.encoding],n)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,n){var r="number"==typeof e?e:0;e=c("number"==typeof e?n:e),this.wrapAsync(this.ftruncateBase,[t,r],e)},t.prototype.truncateBase=function(t,e){t=this.openSync(t,"r+");try{this.ftruncateSync(t,e)}finally{this.closeSync(t)}},t.prototype.truncateSync=function(t,e){if(t>>>0===t)return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,n){var r="number"==typeof e?e:0;if(e=c("number"==typeof e?n:e),t>>>0===t)return this.ftruncate(t,r,e);this.wrapAsync(this.truncateBase,[t,r],e)},t.prototype.futimesBase=function(t,e,n){(t=this.getFileByFdOrThrow(t,"futimes").node).atime=new Date(1e3*e),t.mtime=new Date(1e3*n)},t.prototype.futimesSync=function(t,e,n){this.futimesBase(t,E(e),E(n))},t.prototype.futimes=function(t,e,n,r){this.wrapAsync(this.futimesBase,[t,E(e),E(n)],r)},t.prototype.utimesBase=function(t,e,n){t=this.openSync(t,"r+");try{this.futimesBase(t,e,n)}finally{this.closeSync(t)}},t.prototype.utimesSync=function(t,e,n){this.utimesBase(f(t),E(e),E(n))},t.prototype.utimes=function(t,e,n,r){this.wrapAsync(this.utimesBase,[f(t),E(e),E(n)],r)},t.prototype.mkdirBase=function(t,e){var n=p(t);if(!n.length)throw s("EISDIR","mkdir",t);var r=this.getLinkParentAsDirOrThrow(t,"mkdir");if(r.getChild(n=n[n.length-1]))throw s("EEXIST","mkdir",t);r.createChild(n,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){t=p(t);for(var n=this.root,r=0;r<t.length;r++){var i=t[r];if(!n.getNode().isDirectory())throw s("ENOTDIR","mkdir",n.getPath());var o=n.getChild(i);if(o){if(!o.getNode().isDirectory())throw s("ENOTDIR","mkdir",o.getPath());n=o}else n=n.createChild(i,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var n=_((e=o(e)).mode,511);t=f(t),e.recursive?this.mkdirpBase(t,n):this.mkdirBase(t,n)},t.prototype.mkdir=function(t,e,n){var r=o(e);e=c("function"==typeof e?e:n),n=_(r.mode,511),t=f(t),this.wrapAsync(r.recursive?this.mkdirpBase:this.mkdirBase,[t,n],e)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,n){var r="function"==typeof e?void 0:e;e=c("function"==typeof e?e:n),this.mkdir(t,{mode:r,recursive:!0},e)},t.prototype.mkdtempBase=function(t,e,n){void 0===n&&(n=5);var r=t+this.genRndStr();try{return this.mkdirBase(r,511),yw.strToEncoding(r,e)}catch(pm){if("EEXIST"===pm.code){if(1<n)return this.mkdtempBase(t,e,n-1);throw Error("Could not create temp dir.")}throw pm}},t.prototype.mkdtempSync=function(t,e){if(e=$(e).encoding,!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return m(t),this.mkdtempBase(t,e)},t.prototype.mkdtemp=function(t,e,n){if(e=(n=X(e,n))[0].encoding,n=n[1],!t||"string"!=typeof t)throw new TypeError("filename prefix is required");m(t)&&this.wrapAsync(this.mkdtempBase,[t,e],n)},t.prototype.rmdirBase=function(t,e){e=N({},ot,e);var n=this.getLinkAsDirOrThrow(t,"rmdir");if(n.length&&!e.recursive)throw s("ENOTEMPTY","rmdir",t);this.deleteLink(n)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(f(t),e)},t.prototype.rmdir=function(t,e,n){var r=N({},ot,e);e=c("function"==typeof e?e:n),this.wrapAsync(this.rmdirBase,[f(t),r],e)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,_(e))},t.prototype.fchmod=function(t,e,n){this.wrapAsync(this.fchmodBase,[t,_(e)],n)},t.prototype.chmodBase=function(t,e){t=this.openSync(t,"r+");try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.chmodSync=function(t,e){e=_(e),t=f(t),this.chmodBase(t,e)},t.prototype.chmod=function(t,e,n){e=_(e),t=f(t),this.wrapAsync(this.chmodBase,[t,e],n)},t.prototype.lchmodBase=function(t,e){t=this.openBase(t,P,0,!1);try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.lchmodSync=function(t,e){e=_(e),t=f(t),this.lchmodBase(t,e)},t.prototype.lchmod=function(t,e,n){e=_(e),t=f(t),this.wrapAsync(this.lchmodBase,[t,e],n)},t.prototype.fchownBase=function(t,e,n){this.getFileByFdOrThrow(t,"fchown").chown(e,n)},t.prototype.fchownSync=function(t,e,n){w(e),b(n),this.fchownBase(t,e,n)},t.prototype.fchown=function(t,e,n,r){w(e),b(n),this.wrapAsync(this.fchownBase,[t,e,n],r)},t.prototype.chownBase=function(t,e,n){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,n)},t.prototype.chownSync=function(t,e,n){w(e),b(n),this.chownBase(f(t),e,n)},t.prototype.chown=function(t,e,n,r){w(e),b(n),this.wrapAsync(this.chownBase,[f(t),e,n],r)},t.prototype.lchownBase=function(t,e,n){this.getLinkOrThrow(t,"lchown").getNode().chown(e,n)},t.prototype.lchownSync=function(t,e,n){w(e),b(n),this.lchownBase(f(t),e,n)},t.prototype.lchown=function(t,e,n,r){w(e),b(n),this.wrapAsync(this.lchownBase,[f(t),e,n],r)},t.prototype.watchFile=function(t,e,n){t=f(t);var r=e;if("function"==typeof r&&(n=e,r=null),"function"!=typeof n)throw Error('"watchFile()" requires a listener function');e=5007;var i=!0;return r&&"object"==typeof r&&("number"==typeof r.interval&&(e=r.interval),"boolean"==typeof r.persistent&&(i=r.persistent)),(r=this.statWatchers[t])||((r=new this.StatWatcher).start(t,i,e),this.statWatchers[t]=r),r.addListener("change",n),r},t.prototype.unwatchFile=function(t,e){t=f(t);var n=this.statWatchers[t];n&&("function"==typeof e?n.removeListener("change",e):n.removeAllListeners("change"),0===n.listenerCount("change")&&(n.stop(),delete this.statWatchers[t]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,n){t=f(t);var r=e;"function"==typeof e&&(n=e,r=null);var i=$(r);e=i.persistent,r=i.recursive,i=i.encoding,void 0===e&&(e=!0),void 0===r&&(r=!1);var o=new this.FSWatcher;return o.start(t,e,r,i),n&&o.addListener("change",n),o},t.fd=2147483647,t}(),e.Volume=t;var ht,ft=function(t){function e(e){var n=t.call(this)||this;return n.onInterval=function(){try{var t=n.vol.statSync(n.filename);n.hasChanged(t)&&(n.emit("change",t,n.prev),n.prev=t)}finally{n.loop()}},n.vol=e,n}return A(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=5007),this.filename=f(t),this.setTimeout=e?setTimeout:Pw.default,this.interval=n,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),xw.default.nextTick(S,this)},e}(Aw.EventEmitter);e.StatWatcher=ft,XE.inherits(C,bb.Readable),e.ReadStream=C,C.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,function(e,n){e?(t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())})},C.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",function(){this._read(t)});if(!this.destroyed){(!ht||128>ht.length-ht.used)&&((ht=nE.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var e=ht,n=Math.min(ht.length-ht.used,t),r=ht.used;if(void 0!==this.pos&&(n=Math.min(this.end-this.pos+1,n)),0>=n)return this.push(null);var i=this;this._vol.read(this.fd,ht,ht.used,n,this.pos,function(t,n){t?(i.autoClose&&i.destroy&&i.destroy(),i.emit("error",t)):(t=null,0<n&&(i.bytesRead+=n,t=e.slice(r,r+n)),i.push(t))}),void 0!==this.pos&&(this.pos+=n),ht.used+=n}},C.prototype._destroy=function(t,e){this.close(function(n){e(t||n)})},C.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",x):xw.default.nextTick(function(){return e.emit("close")});this.closed=!0,this._vol.close(this.fd,function(t){t?e.emit("error",t):e.emit("close")}),this.fd=null},XE.inherits(I,bb.Writable),e.WriteStream=I,I.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,(function(t,e){t?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t)):(this.fd=e,this.emit("open",e))}).bind(this))},I.prototype._write=function(t,e,n){if(!(t instanceof nE.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",function(){this._write(t,e,n)});var r=this;this._vol.write(this.fd,t,0,t.length,this.pos,function(t,e){if(t)return r.autoClose&&r.destroy&&r.destroy(),n(t);r.bytesWritten+=e,n()}),void 0!==this.pos&&(this.pos+=t.length)},I.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",function(){this._writev(t,e)});for(var n=this,r=t.length,i=Array(r),o=0,s=0;s<r;s++){var a=t[s].chunk;i[s]=a,o+=a.length}r=nE.Buffer.concat(i),this._vol.write(this.fd,r,0,r.length,this.pos,function(t,r){if(t)return n.destroy&&n.destroy(),e(t);n.bytesWritten+=r,e()}),void 0!==this.pos&&(this.pos+=o)},I.prototype._destroy=C.prototype._destroy,I.prototype.close=C.prototype.close,I.prototype.destroySoon=I.prototype.end;var pt=function(t){function e(e){var n=t.call(this)||this;return n._filename="",n._filenameEncoded="",n._recursive=!1,n._encoding=yw.ENCODING_UTF8,n._onNodeChange=function(){n._emit("change")},n._onParentChild=function(t){t.getName()===n._getName()&&n._emit("rename")},n._emit=function(t){n.emit("change",t,n._filenameEncoded)},n._persist=function(){n._timer=setTimeout(n._persist,1e6)},n._vol=e,n}return A(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,n,r){void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===r&&(r=yw.ENCODING_UTF8),this._filename=f(t),this._steps=p(this._filename),this._filenameEncoded=yw.strToEncoding(this._filename),this._recursive=n,this._encoding=r;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(H_){throw(e=Error("watch "+this._filename+" "+H_.code)).code=H_.code,e.errno=H_.code,e}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(t=this._link.parent)&&(t.setMaxListeners(t.getMaxListeners()+1),t.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(Aw.EventEmitter);e.FSWatcher=pt});cv(nS);var rS=nS.pathToFilename,iS=nS.filenameToSteps,oS=nS.Volume,sS=hv(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")});cv(sS);var aS=hv(function(t,e){function n(t){for(var e={F_OK:s,R_OK:a,W_OK:u,X_OK:l,constants:fv.constants,Stats:dv.default,Dirent:mw.default},n=0,r=i;n<r.length;n++){var c=r[n];"function"==typeof t[c]&&(e[c]=t[c].bind(t))}for(n=0,r=o;n<r.length;n++)"function"==typeof t[c=r[n]]&&(e[c]=t[c].bind(t));return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=nS.toUnixTimestamp,e}var r=lv&&lv.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=sS.fsSyncMethods,o=sS.fsAsyncMethods,s=fv.constants.F_OK,a=fv.constants.R_OK,u=fv.constants.W_OK,l=fv.constants.X_OK;e.Volume=nS.Volume,e.vol=new nS.Volume,e.createFsFromVolume=n,e.fs=n(e.vol),t.exports=r(r({},t.exports),e.fs),t.exports.semantic=!0});cv(aS);var uS=aS.createFsFromVolume;Fw.prototype.emit=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];i=this.listeners(t);try{for(var o=sv(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.apply(void 0,uv(r))}catch($y){console.error($y)}}}catch($y){e={error:$y}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0<i.length};var lS=function(){function t(){this.volume=new oS,this.fs=uS(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(t,e,n){void 0===e&&(e={});var r,i=!0;for(r in t.children){i=!1;var o=t.getChild(r);if(o){var s=o.getNode();s&&s.isFile()?(o=o.getPath(),n&&(o=Ew(n,o)),e[o]=s.getBuffer()):s&&s.isDirectory()&&this._toJSON(o,e,n)}}return t=t.getPath(),n&&(t=Ew(n,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,n){var r,i;void 0===e&&(e={}),void 0===n&&(n=!1);var o=[];if(t){t instanceof Array||(t=[t]);try{for(var s=sv(t),a=s.next();!a.done;a=s.next()){var u=rS(a.value),l=this.volume.getResolvedLink(u);l&&o.push(l)}}catch(dm){var c={error:dm}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(c)throw c.error}}}else o.push(this.volume.root);if(!o.length)return e;try{for(var h=sv(o),f=h.next();!f.done;f=h.next())this._toJSON(l=f.value,e,n?l.getPath():"")}catch(dm){var p={error:dm}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(p)throw p.error}}return e},t.prototype.fromJSONFixed=function(t,e){for(var n in e){var r=e[n];if(r?null!==Object.getPrototypeOf(r):null!==r){var i=iS(n);1<i.length&&(i="/"+i.slice(0,i.length-1).join("/"),t.mkdirpBase(i,511)),t.writeFileSync(n,r||"")}else t.mkdirpBase(n,511)}},t.prototype.fromJSON=function(t){this.volume=new oS,this.fromJSONFixed(this.volume,t),this.fs=uS(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var e=this.volume.openSync("/dev/stdout","w"),n=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==e)throw Error("invalid handle for stdout: "+e);if(0!==n)throw Error("invalid handle for stdin: "+n)},t.prototype.getStdOut=function(){return function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(t){t.done?e(t.value):new n(function(e){e(t.value)}).then(o,s)}a((r=r.apply(t,[])).next())})}(this,0,void 0,function(){var t=this;return function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(!((s=0<(s=u.trys).length&&s[s.length-1])||6!==n[0]&&2!==n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3]))u.label=n[1];else if(6===n[0]&&u.label<s[1])u.label=s[1],s=n;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(n)}}n=e.call(t,u)}catch(r){n=[6,r],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,function(){return[2,new Promise(function(e){e(t.fs.readFileSync("/dev/stdout","utf8"))})]})})},t}(),cS=n("WVt+"),hS=n("y3xr"),fS=n.n(hS);function pS(t,e){return new _(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=M(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const dS=new jn("NgValueAccessor"),gS={provide:dS,useExisting:it(()=>yS),multi:!0};let yS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds))},t.\u0275dir=$t({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[ws([gS])]}),t})();const mS={provide:dS,useExisting:it(()=>vS),multi:!0},_S=new jn("CompositionEventMode");let vS=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Hu()?Hu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds),Oo(_S,8))},t.\u0275dir=$t({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Go("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[ws([mS])]}),t})();function ES(t){return null==t||0===t.length}function wS(t){return null!=t&&"number"==typeof t.length}const bS=new jn("NgValidators"),SS=new jn("NgAsyncValidators"),CS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xS{static min(t){return e=>{if(ES(e.value)||ES(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(ES(e.value)||ES(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return ES(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ES(t.value)||CS.test(t.value)?null:{email:!0}}static minLength(t){return e=>ES(e.value)||!wS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>wS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return xS.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ES(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(IS);return 0==e.length?null:function(t){return DS(TS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(IS);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return pS(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return pS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return pS(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(I(t=>e(...t)))}return pS(t,null)}(TS(t,e).map(AS)).pipe(I(DS))}}}function IS(t){return null!=t}function AS(t){const e=Uo(t)?M(t):t;return jo(e),e}function DS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function TS(t,e){return e.map(e=>e(t))}function NS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function OS(t){return null!=t?xS.compose(NS(t)):null}function RS(t){return null!=t?xS.composeAsync(NS(t)):null}function FS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function PS(t){return t._rawValidators}function LS(t){return t._rawAsyncValidators}let MS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=OS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=$t({type:t}),t})(),kS=(()=>{class t extends MS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return BS(e||t)},t.\u0275dir=$t({type:t,features:[vo]}),t})();const BS=Mn(kS);class US extends MS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let jS=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Oo(US,2))},t.\u0275dir=$t({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Zo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[vo]}),t})();const GS={provide:dS,useExisting:it(()=>VS),multi:!0};let VS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds))},t.\u0275dir=$t({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Go("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[ws([GS])]}),t})();const WS={provide:dS,useExisting:it(()=>HS),multi:!0};let qS=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),HS=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(US),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds),Oo(qS),Oo(mo))},t.\u0275dir=$t({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ws([WS])]}),t})();const zS={provide:dS,useExisting:it(()=>YS),multi:!0};let YS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds))},t.\u0275dir=$t({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[ws([zS])]}),t})();const $S={provide:dS,useExisting:it(()=>XS),multi:!0};let XS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds))},t.\u0275dir=$t({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[ws([$S])]}),t})();const KS={provide:dS,useExisting:it(()=>ZS),multi:!0};let ZS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Oo(Os),Oo(Ds))},t.\u0275dir=$t({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Go("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[ws([KS])]}),t})();function QS(t,e){eC(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rC(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function JS(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nC(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function tC(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eC(t,e,n){const r=PS(t);null!==e.validator?t.setValidators(FS(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=LS(t);if(null!==e.asyncValidator?t.setAsyncValidators(FS(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();tC(e._rawValidators,n),tC(e._rawAsyncValidators,n)}}function nC(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=PS(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=LS(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};tC(e._rawValidators,t),tC(e._rawAsyncValidators,t)}return r}function rC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iC(t,e){eC(t,e,!1)}const oC=[yS,YS,VS,XS,ZS,HS];function sC(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function aC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const uC="VALID",lC="INVALID",cC="PENDING",hC="DISABLED";function fC(t){return(yC(t)?t.validators:t)||null}function pC(t){return Array.isArray(t)?OS(t):t||null}function dC(t,e){return(yC(e)?e.asyncValidators:t)||null}function gC(t){return Array.isArray(t)?RS(t):t||null}function yC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pC(this._rawValidators),this._composedAsyncValidatorFn=gC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===uC}get invalid(){return this.status===lC}get pending(){return this.status==cC}get disabled(){return this.status===hC}get enabled(){return this.status!==hC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=gC(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=cC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hC,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=uC,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==uC&&this.status!==cC||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hC:uC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=cC,this._hasOwnPendingAsyncValidator=!0;const e=AS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof vC?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof EC&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Aa,this.statusChanges=new Aa}_calculateStatus(){return this._allControlsDisabled()?hC:this.errors?lC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cC)?cC:this._anyControlsHaveStatus(lC)?lC:uC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _C extends mC{constructor(t=null,e,n){super(fC(e),dC(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){aC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){aC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class vC extends mC{constructor(t,e,n){super(fC(e),dC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof _C?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class EC extends mC{constructor(t,e,n){super(fC(e),dC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _C?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const wC={provide:kS,useExisting:it(()=>SC)},bC=(()=>Promise.resolve(null))();let SC=(()=>{class t extends kS{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Aa,this.form=new vC({},OS(t),RS(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bC.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),QS(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bC.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),aC(this._directives,t)})}addFormGroup(t){bC.then(()=>{const e=this._findContainer(t.path),n=new vC({});iC(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bC.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){bC.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,sC(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Oo(bS,10),Oo(SS,10))},t.\u0275dir=$t({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Go("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ws([wC]),vo]}),t})();const CC={provide:US,useExisting:it(()=>IC)},xC=(()=>Promise.resolve(null))();let IC=(()=>{class t extends US{constructor(t,e,n,r){super(),this.control=new _C,this._registered=!1,this.update=new Aa,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===vS?n=t:(e=t,oC.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){QS(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;xC.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Oo(kS,9),Oo(bS,10),Oo(SS,10),Oo(dS,10))},t.\u0275dir=$t({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ws([CC]),vo,ae]}),t})();const AC=new jn("NgModelWithFormControlWarning"),DC={provide:kS,useExisting:it(()=>TC)};let TC=(()=>{class t extends kS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Aa,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nC(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return QS(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){JS(t.control||null,t,!1),aC(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,sC(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(JS(t.control||null,t),e&&QS(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);iC(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return nC(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eC(this.form,this,!1),this._oldForm&&nC(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Oo(bS,10),Oo(SS,10))},t.\u0275dir=$t({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Go("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ws([DC]),vo,ae]}),t})(),NC=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),OC=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new vC(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new _C(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new EC(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof _C||t instanceof vC||t instanceof EC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),RC=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[qS],imports:[NC]}),t})(),FC=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:AC,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[OC,qS],imports:[NC]}),t})(),PC=(()=>{class t{constructor(t){this.http=t}getLAU(){console.log("GEO");try{return this.http.get("https://gisco-services.ec.europa.eu/distribution/v2/lau/geojson/LAU_RG_01M_2019_3857.geojson")}catch(t){alert(t)}}getPopulation(){console.log("POP");try{return this.http.get("./../assets/LAU_Population.json")}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(ir(vc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LC(t){return null!=t&&"false"!=`${t}`}function MC(t){return t instanceof Ds?t.nativeElement:t}class kC extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class BC extends kC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let UC=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class jC extends UC{constructor(t,e=UC.now){super(t,()=>jC.delegate&&jC.delegate!==this?jC.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return jC.delegate&&jC.delegate!==this?jC.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const GC=new jC(BC);class VC{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new WC(t,this.dueTime,this.scheduler))}}class WC extends d{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qC,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function qC(t){t.debouncedNext()}let HC,zC=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),YC=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=MC(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new S,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(ir(zC))},t.\u0275prov=ht({factory:function(){return new t(ir(zC))},token:t,providedIn:"root"}),t})(),$C=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Aa,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=LC(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=GC){return n=>n.lift(new VC(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Oo(YC),Oo(Ds),Oo(pu))},t.\u0275dir=$t({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),XC=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[zC]}),t})();try{HC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(TT){HC=!1}let KC,ZC=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!HC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(ir(Qa))},t.\u0275prov=ht({factory:function(){return new t(ir(Qa))},token:t,providedIn:"root"}),t})(),QC=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();const JC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tx(){if(KC)return KC;if("object"!=typeof document||!document)return KC=new Set(JC),KC;let t=document.createElement("input");return KC=new Set(JC.filter(e=>(t.setAttribute("type",e),t.type===e))),KC}let ex,nx;function rx(t){return function(){if(null==ex&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ex=!0}))}finally{ex=ex||!1}return ex}()?t:!!t.capture}function ix(t){return 0===t.buttons}function ox(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const sx=new jn("cdk-focus-monitor-default-options"),ax=rx({passive:!0,capture:!0});let ux=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=ix(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{ox(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=lx(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=lx(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=MC(t);if(!this._platform.isBrowser||1!==n.nodeType)return Ql(null);const r=function(t){if(function(){if(null==nx){const t="undefined"!=typeof document?document.head:null;nx=!(!t||!t.createShadowRoot&&!t.attachShadow)}return nx}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new S,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=MC(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=MC(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=lx(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===lx(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ax),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ax)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ax),t.addEventListener("mousedown",this._documentMousedownListener,ax),t.addEventListener("touchstart",this._documentTouchstartListener,ax),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ax),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ax),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ax),t.removeEventListener("mousedown",this._documentMousedownListener,ax),t.removeEventListener("touchstart",this._documentTouchstartListener,ax),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(ir(pu),ir(ZC),ir(zu,8),ir(sx,8))},t.\u0275prov=ht({factory:function(){return new t(ir(pu),ir(ZC),ir(zu,8),ir(sx,8))},token:t,providedIn:"root"}),t})();function lx(t){return t.composedPath?t.composedPath()[0]:t.target}const cx="cdk-high-contrast-black-on-white",hx="cdk-high-contrast-white-on-black",fx="cdk-high-contrast-active";let px=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(fx),t.remove(cx),t.remove(hx);const e=this.getHighContrastMode();1===e?(t.add(fx),t.add(cx)):2===e&&(t.add(fx),t.add(hx))}}}return t.\u0275fac=function(e){return new(e||t)(ir(ZC),ir(zu))},t.\u0275prov=ht({factory:function(){return new t(ir(ZC),ir(zu))},token:t,providedIn:"root"}),t})();const dx=new jn("cdk-dir-doc",{providedIn:"root",factory:function(){return or(zu)}});let gx=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Aa,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(ir(dx,8))},t.\u0275prov=ht({factory:function(){return new t(ir(dx,8))},token:t,providedIn:"root"}),t})(),yx=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();const mx=new Ps("11.2.5");class _x{}const vx="*";function Ex(t,e){return{type:7,name:t,definitions:e,options:{}}}function wx(t,e=null){return{type:4,styles:e,timings:t}}function bx(t,e=null){return{type:2,steps:t,options:e}}function Sx(t){return{type:6,styles:t,offset:null}}function Cx(t,e,n){return{type:0,name:t,styles:e,options:n}}function xx(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ix(t){Promise.resolve(null).then(t)}class Ax{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ix(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Dx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ix(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Tx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Nx(t){switch(t.length){case 0:return new Ax;case 1:return t[0];default:return new Dx(t)}}function Ox(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case vx:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),l=c,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Rx(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Fx(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Fx(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Fx(n,"destroy",t)))}}function Fx(t,e,n){const r=n.totalTime,i=Px(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Px(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Lx(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Mx(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let kx=(t,e)=>!1,Bx=(t,e)=>!1,Ux=(t,e,n)=>[];const jx=Tx();(jx||"undefined"!=typeof Element)&&(kx=(t,e)=>t.contains(e),Bx=(()=>{if(jx||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Bx}})(),Ux=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Gx=null,Vx=!1;function Wx(t){Gx||(Gx=("undefined"!=typeof document?document.body:null)||{},Vx=!!Gx.style&&"WebkitAppearance"in Gx.style);let e=!0;return Gx.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Gx.style,!e&&Vx)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Gx.style),e}const qx=Bx,Hx=kx,zx=Ux;function Yx(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let $x=(()=>{class t{validateStyleProperty(t){return Wx(t)}matchesElement(t,e){return qx(t,e)}containsElement(t,e){return Hx(t,e)}query(t,e,n){return zx(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Ax(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Xx=(()=>{class t{}return t.NOOP=new $x,t})();const Kx="ng-enter",Zx="ng-leave",Qx="ng-trigger",Jx=".ng-trigger",tI="ng-animating",eI=".ng-animating";function nI(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:rI(parseFloat(e[1]),e[2])}function rI(t,e){switch(e){case"s":return 1e3*t;default:return t}}function iI(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=rI(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=rI(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function oI(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function sI(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else oI(t,n);return n}function aI(t,e,n){return n?e+":"+n+";":""}function uI(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=aI(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=aI(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function lI(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=mI(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Tx()&&uI(t))}function cI(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=mI(e);t.style[n]=""}),Tx()&&uI(t))}function hI(t){return Array.isArray(t)?1==t.length?t[0]:bx(t):t}const fI=new RegExp("{{\\s*(.+?)\\s*}}","g");function pI(t){let e=[];if("string"==typeof t){let n;for(;n=fI.exec(t);)e.push(n[1]);fI.lastIndex=0}return e}function dI(t,e,n){const r=t.toString(),i=r.replace(fI,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function gI(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const yI=/-+([a-z0-9])/g;function mI(t){return t.replace(yI,(...t)=>t[1].toUpperCase())}function _I(t,e){return 0===t||0===e}function vI(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=wI(t,e)})}}return e}function EI(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function wI(t,e){return window.getComputedStyle(t)[e]}const bI="*";function SI(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(II(i,s)),"<"!=o[0]||i==bI&&s==bI||e.push(II(s,i))}(t,n,e)):n.push(t),n}const CI=new Set(["true","1"]),xI=new Set(["false","0"]);function II(t,e){const n=CI.has(t)||xI.has(t),r=CI.has(e)||xI.has(e);return(i,o)=>{let s=t==bI||t==i,a=e==bI||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?CI.has(t):xI.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?CI.has(e):xI.has(e)),s&&a}}const AI=new RegExp("s*:selfs*,?","g");function DI(t,e,n){return new TI(t).build(e,n)}class TI{constructor(t){this._driver=t}build(t,e){const n=new NI(e);return this._resetContextStyleTimingState(n),EI(this,hI(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(OI(t)){const e=t;Object.keys(e).forEach(t=>{pI(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=gI(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=EI(this,hI(t.animation),e);return{type:1,matchers:SI(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:RI(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>EI(this,t,e)),options:RI(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=EI(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:RI(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return FI(iI(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=FI(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||iI(r,e),FI(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Sx({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Sx(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==vx?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(OI(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=pI(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(OI(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(OI(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,f=e.currentTime,p=e.currentAnimateTimings,d=p.duration;return u.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*d;e.currentTime=f+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:EI(this,hI(t.animation),e),options:RI(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:RI(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:RI(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(AI,"")),[t=t.replace(/@\*/g,Jx).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,eI),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Lx(e.collectedStyles,e.currentQuerySelector,{});const s=EI(this,hI(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:RI(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:iI(t.timings,e.errors,!0);return{type:12,animation:EI(this,hI(t.animation),e),timings:n,options:null}}}class NI{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function OI(t){return!Array.isArray(t)&&"object"==typeof t}function RI(t){var e;return t?(t=oI(t)).params&&(t.params=(e=t.params)?oI(e):null):t={},t}function FI(t,e,n){return{duration:t,delay:e,easing:n}}function PI(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class LI{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const MI=new RegExp(":enter","g"),kI=new RegExp(":leave","g");function BI(t,e,n,r,i,o={},s={},a,u,l=[]){return(new UI).buildKeyframes(t,e,n,r,i,o,s,a,u,l)}class UI{buildKeyframes(t,e,n,r,i,o,s,a,u,l=[]){u=u||new LI;const c=new GI(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),EI(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[PI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?nI(n.duration):null,o=null!=n.delay?nI(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),EI(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jI);const t=nI(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>EI(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?nI(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),EI(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return iI(e.params?dI(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?nI(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jI);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),EI(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;EI(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const jI={};class GI{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new VI(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=nI(n.duration)),null!=n.delay&&(r.delay=nI(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=dI(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new GI(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=jI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new WI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(MI,"."+this._enterClassName)).replace(kI,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class VI{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||vx,this._currentKeyframe[t]=vx}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=vx})):sI(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=dI(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:vx),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=sI(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==vx&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?gI(t.values()):[],o=e.size?gI(e.values()):[];if(n){const t=r[0],e=oI(t);t.offset=0,e.offset=1,r=[t,e]}return PI(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class WI extends VI{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=sI(t[0],!1);a.offset=0,i.push(a);const u=sI(t[0],!1);u.offset=qI(s),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let s=sI(t[r],!1);s.offset=qI((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return PI(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function qI(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class HI{}class zI extends HI{normalizePropertyName(t,e){return mI(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(YI[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const YI=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function $I(t,e,n,r,i,o,s,a,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}const XI={};class KI{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||XI,f=this.buildStyles(n,s&&s.params||XI,c),p=a&&a.params||XI,d=this.buildStyles(r,p,c),g=new Set,y=new Map,m=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),p)},E=l?[]:BI(t,e,this.ast.animation,i,o,f,d,v,u,c);let w=0;if(E.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return $I(e,this._triggerName,n,r,_,f,d,[],[],y,m,w,c);E.forEach(t=>{const n=t.element,r=Lx(y,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Lx(m,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const b=gI(g.values());return $I(e,this._triggerName,n,r,_,f,d,E,b,y,m,w)}}class ZI{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=oI(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=dI(o,r,e)),n[t]=o})}}),n}}class QI{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ZI(t.style,t.options&&t.options.params||{})}),JI(this.states,"true","1"),JI(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new KI(t,e,this.states))}),this.fallbackTransition=new KI(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function JI(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const tA=new LI;class eA{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=DI(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ox(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=BI(this._driver,e,i,Kx,Zx,{},{},n,tA,r),o.forEach(t=>{const e=Lx(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,vx)})});const a=Nx(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Px(e,"","","");return Rx(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const nA="ng-animate-queued",rA="ng-animate-disabled",iA=".ng-animate-disabled",oA=[],sA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class uA{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=oI(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const lA="void",cA=new uA(lA);class hA{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_A(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Lx(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Lx(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(_A(t,Qx),_A(t,"ng-trigger-"+e),a[e]=cA),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new pA(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(_A(t,Qx),_A(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new uA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=cA),u.value!==lA&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{cI(t,n),lI(t,r)})}return}const l=Lx(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(_A(t,nA),o.onStart(()=>{vA(t,nA)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Jx,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,lA,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Nx(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||cA,a=new uA(lA),u=new pA(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==sA||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){_A(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Px(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Rx(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class fA{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new hA(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(dA(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!dA(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_A(t,rA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vA(t,rA))}removeNode(t,e,n,r){if(dA(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return dA(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Jx,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,eI,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nx(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=sA,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,iA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,iA,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)_A(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Nx(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new LI,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=mA(h,this.collectedEnterElements),p=new Map;let d=0;f.forEach((t,e)=>{const n=Kx+d++;p.set(e,n),t.forEach(t=>_A(t,n))});const g=[],y=new Set,m=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),y.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>y.add(t)):m.add(t))}const _=new Map,v=mA(h,Array.from(y));v.forEach((t,e)=>{const n=Zx+d++;_.set(e,n),t.forEach(t=>_A(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>vA(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>vA(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const E=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(E.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=_.get(i),f=p.get(i),d=this._buildInstruction(t,n,f,h,l);if(d.errors&&d.errors.length)w.push(d);else{if(l)return e.onStart(()=>cI(i,d.fromStyles)),e.onDestroy(()=>lI(i,d.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>cI(i,d.fromStyles)),e.onDestroy(()=>lI(i,d.toStyles)),void r.push(e);d.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,d.timelines),o.push({instruction:d,player:e,element:i}),d.queriedElements.forEach(t=>Lx(s,t,[]).push(e)),d.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),d.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),E.forEach(t=>t.destroy()),this.reportError(t)}const b=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,b))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Lx(b,e,[]).push(t),t.destroy()})});const C=g.filter(t=>bA(t,a,u)),x=new Map;yA(x,this.driver,m,u,vx).forEach(t=>{bA(t,a,u)&&C.push(t)});const I=new Map;f.forEach((t,e)=>{yA(I,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=x.get(t),n=I.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const A=[],D=[],T={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>lI(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=T;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,b,i,I,x);if(o.setRealPlayer(n),t===T)A.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Nx(e)),r.push(o)}}else cI(e,s.fromStyles),o.onDestroy(()=>lI(e,s.toStyles)),D.push(o),l.has(e)&&r.push(o)}),D.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Nx(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<g.length;N++){const t=g[N],e=t.__ng_removed;if(vA(t,Zx),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,eI,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?EA(this,t,r):this.processLeaveNode(t)}return g.length=0,A.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),A}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==lA;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=Lx(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}cI(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Ax(e.duration,e.delay);const p=h!==a,d=function(t){const e=[];return wA(t,e),e}((n.get(h)||oA).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),y=o.get(h),m=Ox(0,this._normalizer,0,e.keyframes,g,y),_=this._buildPlayer(e,m,d);if(e.subTimeline&&r&&c.add(h),p){const e=new pA(t,s,h);e.setRealPlayer(_),u.push(e)}return _});u.forEach(t=>{Lx(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>_A(t,tI));const f=Nx(h);return f.onDestroy(()=>{l.forEach(t=>vA(t,tI)),lI(a,e.toStyles)}),c.forEach(t=>{Lx(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ax(t.duration,t.delay)}}class pA{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ax,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Rx(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lx(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dA(t){return t&&1===t.nodeType}function gA(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function yA(t,e,n,r,i){const o=[];n.forEach(t=>o.push(gA(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=aA,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>gA(t,o[a++])),s}function mA(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function _A(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function vA(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function EA(t,e,n){Nx(n).onDone(()=>t.processLeaveNode(e))}function wA(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Dx?wA(r.players,e):e.push(r)}}function bA(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class SA{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new fA(t,e,n),this._timelineEngine=new eA(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=DI(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new QI(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Mx(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Mx(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function CA(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=IA(e[0]),e.length>1&&(r=IA(e[e.length-1]))):e&&(n=IA(e)),n||r?new xA(t,n,r):null}let xA=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&lI(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lI(this._element,this._initialStyles),this._endStyles&&(lI(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(cI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cI(this._element,this._endStyles),this._endStyles=null),lI(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function IA(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];AA(i)&&(e=e||{},e[i]=t[i])}return e}function AA(t){return"display"===t||"position"===t}const DA="animation",TA="animationend";class NA{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=MA(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),LA(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),PA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){OA(this._element,this._name,"paused")}resume(){OA(this._element,this._name,"running")}setPosition(t){const e=RA(this._element,this._name);this._position=t*this._duration,LA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),PA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=MA(t,"").split(","),r=FA(n,e);r>=0&&(n.splice(r,1),LA(t,"",n.join(",")))}(this._element,this._name))}}function OA(t,e,n){LA(t,"PlayState",n,RA(t,e))}function RA(t,e){const n=MA(t,"");return n.indexOf(",")>0?FA(n.split(","),e):FA([n],e)}function FA(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function PA(t,e,n){n?t.removeEventListener(TA,e):t.addEventListener(TA,e)}function LA(t,e,n,r){const i=DA+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function MA(t,e){return t.style[DA+e]||""}class kA{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new NA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:wI(this.element,n))})}this.currentSnapshot=t}}class BA extends Ax{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Yx(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class UA{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Wx(t)}matchesElement(t,e){return qx(t,e)}containsElement(t,e){return Hx(t,e)}query(t,e,n){return zx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Yx(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof kA),u={};_I(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=vI(t,e,u));if(0==n)return new BA(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const f=CA(t,e),p=new kA(t,e,c,n,r,i,l,f);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class jA{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:wI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class GA{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(VA().toString()),this._cssKeyframesDriver=new UA}validateStyleProperty(t){return Wx(t)}matchesElement(t,e){return qx(t,e)}containsElement(t,e){return Hx(t,e)}query(t,e,n){return zx(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=o.filter(t=>t instanceof jA);_I(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=CA(t,e=vI(t,e=e.map(t=>sI(t,!1)),u));return new jA(t,e,a,c)}}function VA(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let WA=(()=>{class t extends _x{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:It.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?bx(t):t;return zA(this._renderer,null,e,"register",[n]),new qA(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(ir(Ns),ir(zu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class qA extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new HA(this._id,t,e||{},this._renderer)}}class HA{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zA(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function zA(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const YA="@",$A="@.disabled";let XA=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new KA("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new ZA(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(ir(Ns),ir(SA),ir(pu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class KA{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==YA&&e==$A?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ZA extends KA{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==YA?"."==e.charAt(1)&&e==$A?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==YA){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=YA&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let QA=(()=>{class t extends SA{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(ir(zu),ir(Xx),ir(HI))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const JA=new jn("AnimationModuleType"),tD=[{provide:Xx,useFactory:function(){return"function"==typeof VA()?new GA:new UA}},{provide:JA,useValue:"BrowserAnimations"},{provide:_x,useClass:WA},{provide:HI,useFactory:function(){return new zI}},{provide:SA,useClass:QA},{provide:Ns,useFactory:function(t,e,n){return new XA(t,e,n)},deps:[Ul,SA,pu]}];let eD=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:tD,imports:[Zl]}),t})();const nD=new Ps("11.2.5"),rD=new jn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let iD,oD=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Au()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&nD.full!==mx.full&&console.warn("The Angular Material version ("+nD.full+") does not match the Angular CDK version ("+mx.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(ir(px),ir(rD,8),ir(zu))},imports:[[yx],yx]}),t})();function sD(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function aD(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=LC(t)}}}function uD(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{iD="undefined"!=typeof Intl}catch(TT){iD=!1}let lD=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();class cD{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hD={enterDuration:450,exitDuration:400},fD=rx({passive:!0}),pD=["mousedown","touchstart"],dD=["mouseup","mouseleave","touchend","touchcancel"];class gD{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=MC(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},hD),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-o+"px",l.style.top=a-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new cD(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},hD),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=MC(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(pD))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dD),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ix(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ox(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,fD)})})}_removeTriggerEvents(){this._triggerElement&&(pD.forEach(t=>{this._triggerElement.removeEventListener(t,this,fD)}),this._pointerUpEventsRegistered&&dD.forEach(t=>{this._triggerElement.removeEventListener(t,this,fD)}))}}const yD=new jn("mat-ripple-global-options");let mD=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new gD(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Oo(Ds),Oo(pu),Oo(ZC),Oo(yD,8),Oo(JA,8))},t.\u0275dir=$t({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Zo("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),_D=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[oD,QC],oD]}),t})();function vD(t,e,n,i){return r(n)&&(i=n,n=void 0),i?vD(t,e,n).pipe(I(t=>u(t)?i(...t):i(t))):new _(r=>{ED(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function ED(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)ED(t[o],e,n,r,i)}r.add(o)}function wD(t){return e=>e.lift(new bD(t))}class bD{constructor(t){this.notifier=t}call(t,e){const n=new SD(t),r=U(this.notifier,new k(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class SD extends B{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const CD=["underline"],xD=["connectionContainer"],ID=["inputContainer"],AD=["label"];function DD(t,e){1&t&&(ko(0),Po(1,"div",14),Mo(2,"div",15),Mo(3,"div",16),Mo(4,"div",17),Lo(),Po(5,"div",18),Mo(6,"div",15),Mo(7,"div",16),Mo(8,"div",17),Lo(),Bo())}function TD(t,e){1&t&&(Po(0,"div",19),Yo(1,1),Lo())}function ND(t,e){if(1&t&&(ko(0),Yo(1,2),Po(2,"span"),ns(3),Lo(),Bo()),2&t){const t=qo(2);oi(3),rs(t._control.placeholder)}}function OD(t,e){1&t&&Yo(0,3,["*ngSwitchCase","true"])}function RD(t,e){1&t&&(Po(0,"span",23),ns(1," *"),Lo())}function FD(t,e){if(1&t){const t=De();Po(0,"label",20,21),Go("cdkObserveContent",function(){return Ie.lFrame.contextLView=t,qo().updateOutlineGap()}),No(2,ND,4,1,"ng-container",12),No(3,OD,1,0,"ng-content",12),No(4,RD,2,0,"span",22),Lo()}if(2&t){const t=qo();Zo("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ro("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),To("for",t._control.id)("aria-owns",t._control.id),oi(2),Ro("ngSwitchCase",!1),oi(1),Ro("ngSwitchCase",!0),oi(1),Ro("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function PD(t,e){1&t&&(Po(0,"div",24),Yo(1,4),Lo())}function LD(t,e){if(1&t&&(Po(0,"div",25,26),Mo(2,"span",27),Lo()),2&t){const t=qo();oi(2),Zo("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function MD(t,e){1&t&&(Po(0,"div"),Yo(1,5),Lo()),2&t&&Ro("@transitionMessages",qo()._subscriptAnimationState)}function kD(t,e){if(1&t&&(Po(0,"div",31),ns(1),Lo()),2&t){const t=qo(2);Ro("id",t._hintLabelId),oi(1),rs(t.hintLabel)}}function BD(t,e){if(1&t&&(Po(0,"div",28),No(1,kD,2,2,"div",29),Yo(2,6),Mo(3,"div",30),Yo(4,7),Lo()),2&t){const t=qo();Ro("@transitionMessages",t._subscriptAnimationState),oi(1),Ro("ngIf",t.hintLabel)}}const UD=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jD=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],GD=new jn("MatError"),VD={transitionMessages:Ex("transitionMessages",[Cx("enter",Sx({opacity:1,transform:"translateY(0%)"})),xx("void => enter",[Sx({opacity:0,transform:"translateY(-5px)"}),wx("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let WD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=$t({type:t}),t})();const qD=new jn("MatHint");let HD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=$t({type:t,selectors:[["mat-label"]]}),t})(),zD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=$t({type:t,selectors:[["mat-placeholder"]]}),t})();const YD=new jn("MatPrefix"),$D=new jn("MatSuffix");let XD=0;class KD{constructor(t){this._elementRef=t}}const ZD=sD(KD,"primary"),QD=new jn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JD=new jn("MatFormField");let tT=(()=>{class t extends ZD{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+XD++,this._labelId="mat-form-field-label-"+XD++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=LC(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(th(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(wD(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(wD(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),H(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(th(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(th(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(wD(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,vD(this._label.nativeElement,"transitionend").pipe(Zc(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let u=0;for(let t=0;t<s.length;t++)u+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=u>0?.75*u+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(Oo(Ds),Oo(ta),Oo(Ds),Oo(gx,8),Oo(QD,8),Oo(ZC),Oo(pu),Oo(JA,8))},t.\u0275cmp=Vt({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(Ga(n,WD,1),Ga(n,WD,3),Ga(n,HD,1),Ga(n,HD,3),Ga(n,zD,1),Ga(n,GD,1),Ga(n,qD,1),Ga(n,YD,1),Ga(n,$D,1)),2&t){let t;Ua(t=Va())&&(e._controlNonStatic=t.first),Ua(t=Va())&&(e._controlStatic=t.first),Ua(t=Va())&&(e._labelChildNonStatic=t.first),Ua(t=Va())&&(e._labelChildStatic=t.first),Ua(t=Va())&&(e._placeholderChild=t.first),Ua(t=Va())&&(e._errorChildren=t),Ua(t=Va())&&(e._hintChildren=t),Ua(t=Va())&&(e._prefixChildren=t),Ua(t=Va())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(ja(CD,1),ja(xD,3),ja(ID,1),ja(AD,1)),2&t){let t;Ua(t=Va())&&(e.underlineRef=t.first),Ua(t=Va())&&(e._connectionContainerRef=t.first),Ua(t=Va())&&(e._inputContainerRef=t.first),Ua(t=Va())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&Zo("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ws([{provide:JD,useExisting:t}]),vo],ngContentSelectors:jD,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(zo(UD),Po(0,"div",0),Po(1,"div",1,2),Go("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),No(3,DD,9,0,"ng-container",3),No(4,TD,2,0,"div",4),Po(5,"div",5,6),Yo(7),Po(8,"span",7),No(9,FD,5,16,"label",8),Lo(),Lo(),No(10,PD,2,0,"div",9),Lo(),No(11,LD,3,4,"div",10),Po(12,"div",11),No(13,MD,2,1,"div",12),No(14,BD,5,2,"div",13),Lo(),Lo()),2&t&&(oi(3),Ro("ngIf","outline"==e.appearance),oi(1),Ro("ngIf",e._prefixChildren.length),oi(5),Ro("ngIf",e._hasFloatingLabel()),oi(1),Ro("ngIf",e._suffixChildren.length),oi(1),Ro("ngIf","outline"!=e.appearance),oi(1),Ro("ngSwitch",e._getDisplayedMessages()),oi(1),Ro("ngSwitchCase","error"),oi(1),Ro("ngSwitchCase","hint"))},directives:[dl,_l,vl,$C],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[VD.transitionMessages]},changeDetection:0}),t})(),eT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[El,oD,XC],oD]}),t})();const nT=rx({passive:!0});let rT=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return qc;const e=MC(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new S,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,nT),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,nT)}}),r}stopMonitoring(t){const e=MC(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(ir(ZC),ir(pu))},t.\u0275prov=ht({factory:function(){return new t(ir(ZC),ir(pu))},token:t,providedIn:"root"}),t})(),iT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[QC]]}),t})();const oT=new jn("MAT_INPUT_VALUE_ACCESSOR"),sT=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aT=0;class uT{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const lT=uD(uT);let cT=(()=>{class t extends lT{constructor(t,e,n,r,i,o,s,a,u,l){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+aT++,this.focused=!1,this.stateChanges=new S,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>tx().has(t));const c=this._elementRef.nativeElement,h=c.nodeName.toLowerCase();this._inputValueAccessor=s||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=LC(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=LC(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&tx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=LC(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){sT.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Oo(Ds),Oo(ZC),Oo(US,10),Oo(SC,8),Oo(TC,8),Oo(lD),Oo(oT,10),Oo(rT),Oo(pu),Oo(JD,8))},t.\u0275dir=$t({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&Go("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(os("disabled",e.disabled)("required",e.required),To("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),Zo("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[ws([{provide:WD,useExisting:t}]),vo,ae]}),t})(),hT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[lD],imports:[[iT,eT,oD],iT,eT]}),t})();class fT{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const pT=["button"],dT=["*"],gT=new jn("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),yT=new jn("MatButtonToggleGroup"),mT={provide:dS,useExisting:it(()=>ET),multi:!0};let _T=0;class vT{constructor(t,e){this.source=t,this.value=e}}let ET=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+_T++,this.valueChange=new Aa,this.change=new Aa,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=LC(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=LC(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=LC(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new fT(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new vT(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,r=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):r=!0,r?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(Oo(ta),Oo(gT,8))},t.\u0275dir=$t({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&Ga(n,ST,1),2&t){let t;Ua(t=Va())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(To("aria-disabled",e.disabled),Zo("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[ws([mT,{provide:yT,useExisting:t}])]}),t})();class wT{}const bT=aD(wT);let ST=(()=>{class t extends bT{constructor(t,e,n,r,i,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=r,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Aa;const s=Number(i);this.tabIndex=s||0===s?s:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=LC(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=LC(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+_T++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new vT(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Oo(yT,8),Oo(ta),Oo(Ds),Oo(ux),kn("tabindex"),Oo(gT,8))},t.\u0275cmp=Vt({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&ja(pT,1),2&t){let t;Ua(t=Va())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&Go("focus",function(){return e.focus()}),2&t&&(To("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),Zo("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[vo],ngContentSelectors:dT,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(zo(),Po(0,"button",0,1),Go("click",function(){return e._onButtonClick()}),Po(2,"span",2),Yo(3),Lo(),Lo(),Mo(4,"span",3),Mo(5,"span",4)),2&t){const t=Ie.lFrame.contextLView[21];Ro("id",e.buttonId)("disabled",e.disabled||null),To("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),oi(5),Ro("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[mD],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),CT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[oD,_D],oD]}),t})(),xT=(()=>{class t{constructor(t){this.api=t,this.title="nova",this.distancematrixmode="centroid",this.fontStyleControl=new _C,this.defaultdurability=7,this.cutoff=500,this.afterconsume=.1,this.incubationmax=4,this.incubationmin=1,this.epsilon=100,this.unselectrandom=!1,this.mincases=5,this.nrplots=5}handleFileInput(){console.log("GO"),this.api.getLAU().subscribe(t=>{var e;this.geojson=(e=t.features,new Ty(Object.keys(e).map(function(t){return{Field:t,Value:e[t]}}))),this.geojson=this.geojson.toArray(),console.log("GeoJSON",this.geojson)}),this.api.getPopulation().subscribe(t=>{console.log("Population",t),this.population=jy(JSON.stringify(t))})}calculateDistanceMatrix(){let t=[];"centerofmass"==this.distancematrixmode?(console.log("Mass"),this.geojson.forEach(e=>{if(e.Value.properties.GISCO_ID.includes("NO")){let n={LAU:e.Value.properties.GISCO_ID,center:cS.centerOfMass(e.Value.geometry),area:cS.area(e.Value.geometry)};t.push(n)}})):(console.log("centrod"),this.geojson.forEach(e=>{if(e.Value.properties.GISCO_ID.includes("NO")){let n={LAU:e.Value.properties.GISCO_ID,center:cS.centroid(e.Value.geometry),area:cS.area(e.Value.geometry)};t.push(n)}})),console.log("Centers",t);let e=[];t.forEach(n=>{let r=[];t.forEach(t=>{let e=cS.distance(n.center,t.center);r.push({lau:t.LAU,distance:e})}),e.push({lau:n.LAU,area:n.area,distances:r})}),console.log("Matrix",e),this.distancematrix=e}handleCaseInput(t){this.file=t.target.files[0],this.handleFileInput();const e=new FileReader;e.addEventListener("load",t=>{this.cases=t.target.result,this.cases=jy(this.cases)}),e.readAsText(this.file)}handleProductInput(t){this.file=t.target.files[0];const e=new FileReader;e.addEventListener("load",t=>{this.products=t.target.result,this.products=Gy(this.products),console.log("products",this.products)}),e.readAsText(this.file)}handleHelpExpiaryInput(t){this.file=t.target.files[0];const e=new FileReader;e.addEventListener("load",t=>{this.helpExipiary=t.target.result,this.helpExipiary=Gy(this.helpExipiary),console.log("help",this.helpExipiary)}),e.readAsText(this.file)}runWasi(){console.log("WASI WASI"),this.helpExipiary=this.helpExipiary.toArray(),console.log("Help",this.helpExipiary),this.products=this.products.toArray(),this.products.forEach(t=>{t.deliverydate=fS.a.transform(t.deliverydate,"YYYYMMDD","YYYY-MM-DD")}),console.log("Prod",this.products),this.cases=this.cases.toArray(),this.cases.forEach(t=>{t.dateofinfection=fS.a.transform(t.dateofinfection,"DD.MM.YYYY","YYYY-MM-DD")}),console.log("Cases",this.cases),this.calculateDistanceMatrix();let t=[];this.population.forEach(e=>{"NO"===e.country&&t.push(e)}),console.log(t);let e=[];t.forEach(t=>{this.distancematrix.forEach(n=>{t.giscoid.includes(n.lau)&&(n.populationdensity=Number.parseFloat(t.population)/Number.parseInt(n.area),e.push(n))})}),console.log("Density",e),this.wasmFilePath="../assets/rustynova2.wasm",this.echoStr="This assembly",this.wasmFs=new lS,this.wasi=new rv({args:[this.wasmFilePath,JSON.stringify(this.cases),JSON.stringify(this.products),JSON.stringify(this.helpExipiary),JSON.stringify(e),this.incubationmax,this.incubationmin],env:{},bindings:Object.assign(Object.assign({},ov.a),{fs:this.wasmFs.fs})}),this.startWasiTask(this.wasmFilePath).then(t=>{console.log("X",t)})}startWasiTask(t){return function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(t,[])).next())})}(this,0,void 0,function*(){let e=yield fetch(t),n=new Uint8Array(yield e.arrayBuffer()),r=yield WebAssembly.compile(n),i=yield WebAssembly.instantiate(r,Object.assign({},this.wasi.getImports(r)));this.wasi.start(i);let o=yield this.wasmFs.getStdOut();return String(o)})}}return t.\u0275fac=function(e){return new(e||t)(Oo(PC))},t.\u0275cmp=Vt({type:t,selectors:[["app-root"]],decls:62,vars:8,consts:[[1,"form-group"],["for","file"],["type","file","id","file",3,"change"],["matInput","","type","number",3,"ngModel","ngModelChange"],["aria-label","Font Style",3,"ngModel","ngModelChange"],["value","true"],["value","false"],["value","centroid"],["value","centerofmass"],[3,"click"]],template:function(t,e){1&t&&(Po(0,"h2"),ns(1,"INPUT"),Lo(),Po(2,"div",0),Po(3,"label",1),ns(4,"Choose Case file:"),Lo(),Po(5,"input",2),Go("change",function(t){return e.handleCaseInput(t)}),Lo(),Lo(),Po(6,"div",0),Po(7,"label",1),ns(8,"Choose Product file:"),Lo(),Po(9,"input",2),Go("change",function(t){return e.handleProductInput(t)}),Lo(),Lo(),Po(10,"div",0),Po(11,"label",1),ns(12,"Choose Expiary Help file:"),Lo(),Po(13,"input",2),Go("change",function(t){return e.handleHelpExpiaryInput(t)}),Lo(),Lo(),Po(14,"section"),Po(15,"mat-form-field"),Po(16,"mat-label"),ns(17,"Default durability for products"),Lo(),Po(18,"input",3),Go("ngModelChange",function(t){return e.defaultdurability=t}),Lo(),Lo(),Po(19,"p"),Po(20,"mat-form-field"),Po(21,"mat-label"),ns(22,"Cutoff (Maximal distance consumers take)"),Lo(),Po(23,"input",3),Go("ngModelChange",function(t){return e.cutoff=t}),Lo(),Lo(),Lo(),Po(24,"p"),Po(25,"mat-form-field"),Po(26,"mat-label"),ns(27,"durability after durability date things are assumed to be consumed"),Lo(),Po(28,"input",3),Go("ngModelChange",function(t){return e.afterconsume=t}),Lo(),Lo(),Lo(),Po(29,"p"),Po(30,"mat-form-field"),Po(31,"mat-label"),ns(32,"Longest potential incubation time (days)"),Lo(),Po(33,"input",3),Go("ngModelChange",function(t){return e.incubationmax=t}),Lo(),Lo(),Lo(),Po(34,"p"),Po(35,"mat-form-field"),Po(36,"mat-label"),ns(37,"Shortest potential incubation time (days)"),Lo(),Po(38,"input",3),Go("ngModelChange",function(t){return e.incubationmin=t}),Lo(),Lo(),Lo(),Po(39,"p"),Po(40,"mat-form-field"),Po(41,"mat-label"),ns(42,"Constant for multiplying zeroes in likelihood calkulations "),Lo(),Po(43,"input",3),Go("ngModelChange",function(t){return e.epsilon=t}),Lo(),Lo(),Lo(),Po(44,"p"),ns(45," Unselect Random Cases? "),Po(46,"mat-button-toggle-group",4),Go("ngModelChange",function(t){return e.unselectrandom=t}),Po(47,"mat-button-toggle",5),ns(48,"true"),Lo(),Po(49,"mat-button-toggle",6),ns(50,"false"),Lo(),Lo(),Lo(),Po(51,"p"),Po(52,"mat-button-toggle-group",4),Go("ngModelChange",function(t){return e.distancematrixmode=t}),Po(53,"mat-button-toggle",7),ns(54,"Centroid"),Lo(),Po(55,"mat-button-toggle",8),ns(56,"Center of Mass"),Lo(),Lo(),Lo(),Mo(57,"p"),Lo(),Po(58,"button",9),Go("click",function(){return e.runWasi()}),ns(59,"Run Wasm"),Lo(),Po(60,"button",9),Go("click",function(){return e.calculateDistanceMatrix()}),ns(61,"Calc Distancematrix"),Lo()),2&t&&(oi(18),Ro("ngModel",e.defaultdurability),oi(5),Ro("ngModel",e.cutoff),oi(5),Ro("ngModel",e.afterconsume),oi(5),Ro("ngModel",e.incubationmax),oi(5),Ro("ngModel",e.incubationmin),oi(5),Ro("ngModel",e.epsilon),oi(3),Ro("ngModel",e.unselectrandom),oi(6),Ro("ngModel",e.distancematrixmode))},directives:[tT,HD,cT,VS,vS,jS,IC,ET,ST],styles:[".tp-radio-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.tp-radio-button[_ngcontent-%COMP%]{margin:5px}.tp-selected-value[_ngcontent-%COMP%]{margin:15px 0}"]}),t})(),IT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),AT=(()=>{class t{}return t.\u0275mod=zt({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[_D,oD,XC,IT],oD,IT]}),t})(),DT=(()=>{class t{}return t.\u0275mod=zt({type:t,bootstrap:[xT]}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[],imports:[[Zl,yd,Pc,eD,AT,RC,FC,CT,iT,hT]]}),t})();(function(){if(Iu)throw new Error("Cannot enable prod mode after platform setup.");xu=!1})(),Xl().bootstrapModule(DT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);