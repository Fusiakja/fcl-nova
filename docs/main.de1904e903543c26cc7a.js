(self.webpackChunknova=self.webpackChunknova||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},784:function(t,e){!function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&S(r),i&&D(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,s=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(s&&S(s),t){case"Point":i=r(e).geometry;break;case"LineString":i=a(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=h(e).geometry;break;case"MultiLineString":i=c(e).geometry;break;case"MultiPolygon":i=f(e).geometry;break;default:throw new Error(t+" is invalid")}return s&&(i.bbox=s),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return r(t,e)}),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++){if(0===i&&0===s&&!E(o[0][0])||!E(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return o(t,e)}),n)}function a(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return a(t,e)}),n)}function l(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&S(n),r&&D(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function c(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function d(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function m(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=ko[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=ko[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function y(t,e){return v(g(t,e))}function _(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function v(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function w(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return m(g(t,e),n||"kilometers")}function x(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=To[e||"meters"];if(!r)throw new Error("invalid original units");var i=To[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function S(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!E(t))throw new Error("bbox must only contain numbers")})}function D(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function I(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,m="Feature"===p,g=d?t.features.length:1,y=0;y<g;y++){a=(c=!!(l=d?t.features[y].geometry:m?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var _=0;_<a;_++){var v=0,b=0;if(null!==(s=c?l.geometries[_]:l)){u=s.coordinates;var w=s.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":e(u,f,y,v,b),f++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],f,y,v,b),f++,"MultiPoint"===w&&v++;"LineString"===w&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++)e(u[r][i],f,y,v,b),f++;"MultiLineString"===w&&v++,"Polygon"===w&&b++}"Polygon"===w&&v++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===w&&(b=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++)e(u[r][i][o],f,y,v,b),f++;b++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)I(s.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function A(t,e,n,r){var i=n;return I(t,function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)},r),i}function k(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function O(t,e,n){var r=n;return k(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function T(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function R(t,e,n){var r=n;return T(t,function(t,i){r=0===i&&void 0===n?t:e(r,t,i)}),r}function P(t){var e=[];return I(t,function(t){e.push(t)}),e}function L(t,e){var n,r,i,o,s,a,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,m=p?t.features.length:1;for(n=0;n<m;n++){for(l=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,h=p?t.features[n].id:d?t.id:void 0,s=(u=!!(a=p?t.features[n].geometry:d?t.geometry:t)&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,l,c,h);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],f,l,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,l,c,h);f++}}function N(t,e,n){var r=n;return L(t,function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),r}function M(t,n){L(t,function(t,r,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:s}),r,0)}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach(function(t,o){n(e({type:a,coordinates:t},i),r,o)})})}function F(t,e,n){var r=n;return M(t,function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)}),r}function B(t,e){M(t,function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&A(t,function(o,s,u,l,c,h){var f=a([o,s],t.properties);return e(f,n,r,h,i),i++,s})}})}function j(t,e,n){var r=n,i=!1;return B(t,function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0}),r}function z(t,e){if(!t)throw new Error("geojson is required");M(t,function(t,n,r){if(null!==t.geometry){var i=t.geometry.coordinates;switch(t.geometry.type){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var o=0;o<i.length;o++)e(a(i[o],t.properties),n,r,o)}}})}function V(t,e,n){var r=n;return z(t,function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)}),r}function U(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function q(t){if(!t)throw new Error("obj is required");var e=G(t);if(e.length>1&&E(e[0])&&E(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function G(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return H(e),e;throw new Error("No valid coordinates")}function H(t){if(t.length>1&&E(t[0])&&E(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return H(t[0]);throw new Error("coordinates must only contain numbers")}function Y(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function Z(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function W(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function $(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function X(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function K(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function J(t,e,n){n=n||{};for(var r=Object.keys(No),i=0;i<r.length;i++){var o=r[i],s=n[o];Mo[o]=s=null!=s?s:No[o]}Mo.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0;return t.cells.forEach(function(r,i){r.forEach(function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var s=function(t,e,n){var r,i,o,s=t.length,a=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=t[e][n],f=h.cval,p=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);a.push([n+p[0],e+p[1]]),p=nt(h,o=c[f]),a.push([n+p[0],e+p[1]]),et(h);for(var d=n+u[f],m=e+l[f],g=f;d>=0&&m>=0&&m<s&&(d!=n||m!=e)&&void 0!==(h=t[m][d]);){if(0===(f=h.cval)||15===f)return{path:a,info:"mergeable"};o=c[f],r=u[f],i=l[f],5!==f&&10!==f||(5===f?h.flipped?-1===l[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===u[g]&&(o="bottom",r=0,i=-1):10===f&&(h.flipped?-1===u[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===l[g]&&(o="left",r=-1,i=0))),p=nt(h,o),a.push([d+p[0],m+p[1]]),et(h),d+=r,m+=i,g=f}return{path:a,info:"closed"}}(t.cells,i,o),a=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],l=s.path[s.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=s.path.length-2;h>=0;--h)e[c].unshift(s.path[h]);a=!0;break}a||(e[n++]=s.path)}})}),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){a|=u>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0;var f,p,d,m,g=!1;if(5==(a|=h>=e?1:0)||10===a){var y=(u+l+c+h)/4;5===a&&y<e?(a=10,g=!0):10===a&&y<e&&(a=5,g=!0)}0!==a&&15!==a&&(f=p=d=m=.5,1===a?(d=1-Q(e,u,h),p=1-Q(e,c,h)):2===a?(p=Q(e,h,c),m=1-Q(e,l,c)):3===a?(d=1-Q(e,u,h),m=1-Q(e,l,c)):4===a?(f=Q(e,u,l),m=Q(e,c,l)):5===a?(f=Q(e,u,l),m=Q(e,c,l),p=1-Q(e,c,h),d=1-Q(e,u,h)):6===a?(p=Q(e,h,c),f=Q(e,u,l)):7===a?(d=1-Q(e,u,h),f=Q(e,u,l)):8===a?(d=Q(e,h,u),f=1-Q(e,l,u)):9===a?(p=1-Q(e,c,h),f=1-Q(e,l,u)):10===a?(f=1-Q(e,l,u),m=1-Q(e,l,c),p=Q(e,h,c),d=Q(e,h,u)):11===a?(f=1-Q(e,l,u),m=1-Q(e,l,c)):12===a?(d=Q(e,h,u),m=Q(e,c,l)):13===a?(p=1-Q(e,c,h),m=Q(e,c,l)):14===a?(d=Q(e,h,u),p=Q(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[o][s]={cval:a,flipped:g,top:f,right:m,bottom:p,left:d})}}}return i}(t,e));return"function"==typeof Mo.successCallback&&Mo.successCallback(a),a}function Q(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function it(t,e){if(!(this instanceof it))return new it(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){st(t,0,t.children.length,e,t)}function st(t,e,n,r,i){i||(i=dt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],at(i,t.leaf?r(o):o);return i}function at(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ut(t,e){return t.minX-e.minX}function lt(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ft(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mt(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Fo(t,o,e,n,i),s.push(e,o,o,n))}function gt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var a=[e,n,r,i],u=a.slice();for(o=0;o<t.length;o++)Xo(t[o],a)||u.push(t[o]);var l=Yo(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=Bo(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),r=Et(u,r),s.push(r)}var l=Bo(16);for(a=0;a<s.length;a++)l.insert(xt(s[a]));for(var c=e*e,h=n*n;s.length;){var f=s.shift(),p=f.p,d=f.next.p,m=Ct(p,d);if(!(m<h)){var g=m/c;(u=function(t,e,n,r,i,o,s){for(var a=new Wo(null,vt),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?St(c,n,r):function(t,e,n){if(bt(t,n)||bt(e,n))return 0;var r=Dt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Dt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Dt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=Dt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}(n,r,c);h>o||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=St(p,e,n),m=St(p,r,i);if(f.dist<d&&f.dist<m&&wt(n,p,s)&&wt(r,p,s))return p}(u=a.pop())&&(u=u.node)}return null}(o,f.prev.p,p,d,f.next.next.p,g,l))&&Math.min(Ct(u,p),Ct(u,d))<=g&&(s.push(f),s.push(Et(u,f)),o.remove(u),l.remove(f),l.insert(xt(f)),l.insert(xt(f.next)))}}f=r;var y=[];do{y.push(f.p),f=f.next}while(f!==r);return y.push(f.p),y}function vt(t,e){return t.dist-e.dist}function bt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function wt(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:r,minY:i,maxX:o,maxY:s}),u=0;u<a.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&Ko(t,e,n)>0!=Ko(t,e,r)>0&&Ko(n,r,t)>0!=Ko(n,r,e)>0}(a[u].p,a[u].next.p,t,e))return!1;return!0}function xt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Et(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function St(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function Dt(t,e,n,r,i,o,s,a){var u,l,c,h,f=n-t,p=r-e,d=s-i,m=a-o,g=t-i,y=e-o,_=f*f+p*p,v=f*d+p*m,b=d*d+m*m,w=f*g+p*y,x=d*g+m*y,E=_*b-v*v,C=E,S=E;0===E?(l=0,C=1,h=x,S=b):(h=_*x-v*w,(l=v*x-b*w)<0?(l=0,h=x,S=b):l>C&&(l=C,h=x+v,S=b)),h<0?(h=0,-w<0?l=0:-w>_?l=C:(l=-w,C=_)):h>S&&(h=S,-w+v<0?l=0:-w+v>_?l=C:(l=-w+v,C=_));var D=(1-(c=0===h?0:h/S))*i+c*s-((1-(u=0===l?0:l/C))*t+u*n),I=(1-c)*o+c*a-((1-u)*e+u*r);return D*D+I*I}function It(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(I(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var i=Jo(r,n);return i.length>3?o([i]):null}function At(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=q(t),o=G(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,a))return!1;"Polygon"===s&&(o=[o]);for(var u=0,l=!1;u<o.length&&!l;u++)if(kt(i,o[u][0],r)){for(var c=!1,h=1;h<o[u].length&&!c;)kt(i,o[u][h],!r)&&(c=!0),h++;c||(l=!0)}return l}function kt(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(r=!r)}return r}function Ot(t,e){var n=[];return L(e,function(e){T(t,function(t){At(t,e)&&n.push(t)})}),l(n)}function Tt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(Pt);for(var e,n,r,i=t.length-1,o=t[i].x,s=t[0].x,a=t[i].y,u=a;i--;)t[i].y<a&&(a=t[i].y),t[i].y>u&&(u=t[i].y);var l,c=s-o,h=u-a,f=c>h?c:h,p=.5*(s+o),d=.5*(u+a),m=[new Rt({x:p-20*f,y:d-f,__sentinel:!0},{x:p,y:d+20*f,__sentinel:!0},{x:p+20*f,y:d-f,__sentinel:!0})],g=[],y=[];for(i=t.length;i--;){for(y.length=0,l=m.length;l--;)(c=t[i].x-m[l].x)>0&&c*c>m[l].r?(g.push(m[l]),m.splice(l,1)):c*c+(h=t[i].y-m[l].y)*h>m[l].r||(y.push(m[l].a,m[l].b,m[l].b,m[l].c,m[l].c,m[l].a),m.splice(l,1));for(Lt(y),l=y.length;l;)n=y[--l],e=y[--l],r=t[i],Math.abs(2*((n.x-e.x)*(r.y-n.y)-(n.y-e.y)*(r.x-n.x)))>1e-12&&m.push(new Rt(e,n,r))}for(Array.prototype.push.apply(g,m),i=g.length;i--;)(g[i].a.__sentinel||g[i].b.__sentinel||g[i].c.__sentinel)&&g.splice(i,1);return g}(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r})).map(function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],s)}))}function Rt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*c)/h,this.y=(o*c-a*l)/h,this.r=(r=this.x-t.x)*r+(i=this.y-t.y)*i}function Pt(t,e){return e.x-t.x}function Lt(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function Nt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=q(t),o=q(e),s=b(o[1]-i[1]),a=b(o[0]-i[0]),u=b(i[1]),l=b(o[1]),c=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(l);return m(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Mt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Ft(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return Ft(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return jt(t);default:throw new Error("unknown GeoJSON type")}}function Ft(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=Bt(t.properties),e.geometry=jt(t.geometry),e}function Bt(t){var e={};return t?(Object.keys(t).forEach(function(n){var r=t[n];e[n]="object"==typeof r?null===r?null:r.length?r.map(function(t){return t}):Bt(r):r}),e):e}function jt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return jt(t)}),e):(e.coordinates=zt(t.coordinates),e)}function zt(t){return"object"!=typeof t[0]?t.slice():t.map(function(t){return zt(t)})}function Vt(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(a(n[r],r));t<0&&es(e,i)}function r(t){return a(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}var a=ts(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:o,coordinates:n}}(e)}function Ut(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)})}),o.push(t)}function r(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)o+=(e=i)[0]*(i=t[n])[1]-e[1]*i[0];return Math.abs(o)}(Vt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var i={},o=[],s=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].length<2&&o.push(t)})})}),(n=(o=ns(t,o)).length)>1)for(var s,a,u=1,l=r(o[0]);u<n;++u)(s=r(o[u]))>l&&(a=o[0],o[0]=o[u],o[u]=a,l=s);return o})}}function qt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Gt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Ht)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Ht:Yt)(t)}function Ht(t){var e,n=Yt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Yt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Yt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Zt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Wt(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function $t(t){return t[0].toString()+","+t[1].toString()}function Xt(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=K(t),o=[];switch(i){case"LineString":o=Kt(t);break;case"MultiLineString":case"Polygon":G(t).forEach(function(t){o.push(Kt(t))});break;case"MultiPolygon":G(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Kt(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var s={};G(t).forEach(function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox)}function Kt(t){var e=G(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i=[],o=e.length-1;i.push(e[0]);for(var s=1;s<o;s++)(function(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return(r-o)*c-(i-s)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=a:a<=r&&r<=o:c>0?s<=i&&i<=u:u<=i&&i<=s)})(e[s-1],r=e[s+1],n=e[s])||i.push(n);return i.push(r),i}function Jt(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Qt(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return(o=t.x-r)*o+(s=t.y-i)*s}function te(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=Qt(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&te(t,e,o,r,i),i.push(t[o]),n-o>1&&te(t,o,n,r,i))}function ee(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return te(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,s=t.length;o<s;o++)Jt(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function ne(t,e,n){return ee(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function re(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4)throw new Error("invalid polygon");for(var i=ee(r,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=ee(r,e-=.01*e,n).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function ie(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!E(n))throw new Error("resolution must be an number");if(!E(r))throw new Error("sharpness must be an number");for(var i=[],o=new hs({points:$(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:r}),s=0;s<o.duration;s+=10){var u=o.pos(s);Math.floor(s/100)%2==0&&i.push([u.x,u.y])}return a(i,t.properties)}function oe(t){S(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,n];return o([[s,[r,n],[r,i],[e,i],s]])}function se(t){return oe(U(t))}function ae(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Nt(t.slice(0,2),[r,n])>=Nt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function ue(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,s=i.properties,a=q(t),u=b(a[0]),l=b(a[1]),c=b(n),h=g(e,o),f=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(c));return r([v(u+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(f))),v(f)],s)}function le(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var s=[],a=0;a<r;a++)s.push(ue(t,e,-360*a/r,n).geometry.coordinates);return s.push(s[0]),o([s],i)}function ce(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){return(ce(e,t)+180)%360}(t,e);var r=q(t),i=q(e),o=b(r[0]),s=b(i[0]),a=b(r[1]),u=b(i[1]),l=Math.sin(s-o)*Math.cos(u),c=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return v(Math.atan2(l,c))}function he(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=U(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function fe(t,e){var n=0,i=0,o=0;return I(t,function(t){n+=t[0],i+=t[1],o++},!0),r([n/o,i/o],e)}function pe(t){var e=[];return"FeatureCollection"===t.type?T(t,function(t){I(t,function(n){e.push(r(n,t.properties))})}):I(t,function(n){e.push(r(n,t.properties))}),l(e)}function de(t,e,n){n=n||2;var r,i,o,s,a,u,l,c=e&&e.length,h=c?e[0]*n:t.length,f=me(t,0,h,n,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,n,r){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)(s=me(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===s.next&&(s.steiner=!0),a.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(s));for(a.sort(_e),i=0;i<a.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&be(o<h?i:s,o,c,h,o<h?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&Ce(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=Se(e,t);ge(n,n.next)}}(a[i],n),n=ge(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=s=t[1];for(var d=n;d<h;d+=n)(a=t[d])<r&&(r=a),(u=t[d+1])<i&&(i=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-r,s-i))?1/l:0}return ye(f,p,n,r,i,l),p}function me(t,e,n,r,i){var o,s;if(i===ke(t,e,n,r)>0)for(o=e;o<n;o+=r)s=De(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=De(o,t[o],t[o+1],s);return s&&xe(s,s.next)&&(Ie(s),s=s.next),s}function ge(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!xe(r,r.next)&&0!==we(r.prev,r,r.next))r=r.next;else{if(Ie(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function ye(t,e,n,r,i,o,s){if(t){!s&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ve(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,r,i,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?function(t,e,n,r){var i=t.prev,o=t,s=t.next;if(we(i,o,s)>=0)return!1;for(var a=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,l=ve(i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,e,n,r),c=ve(a,u,e,n,r),h=t.nextZ;h&&h.z<=c;){if(h!==t.prev&&h!==t.next&&be(i.x,i.y,o.x,o.y,s.x,s.y,h.x,h.y)&&we(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&be(i.x,i.y,o.x,o.y,s.x,s.y,h.x,h.y)&&we(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(we(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(be(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&we(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),Ie(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?ye(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!xe(i,o)&&Ee(i,r,r.next,o)&&Ce(i,o)&&Ce(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ie(r),Ie(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===s&&function(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ee(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Ce(t,e)&&Ce(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,a)){var u=Se(s,a);return s=ge(s,s.next),u=ge(u,u.next),ye(s,e,n,r,i,o),void ye(u,e,n,r,i,o)}a=a.next}s=s.next}while(s!==t)}(t,e,n,r,i,o):ye(ge(t),e,n,r,i,o,1);break}}}function _e(t,e){return t.x-e.x}function ve(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function be(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function we(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function xe(t,e){return t.x===e.x&&t.y===e.y}function Ee(t,e,n,r){return!!(xe(t,e)&&xe(n,r)||xe(t,r)&&xe(n,e))||we(t,e,n)>0!=we(t,e,r)>0&&we(n,r,t)>0!=we(n,r,e)>0}function Ce(t,e){return we(t.prev,t,t.next)<0?we(t,e,t.next)>=0&&we(t,t.prev,e)>=0:we(t,e,t.prev)<0||we(t,t.next,e)<0}function Se(t,e){var n=new Ae(t.i,t.x,t.y),r=new Ae(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function De(t,e,n,r){var i=new Ae(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ie(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ae(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ke(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function Oe(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&n.holes.push(r+=t[i-1].length)}return n}(t),n=fs(e.vertices,e.holes,2),r=[],i=[];n.forEach(function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var s=0;s<i.length;s+=3){var a=i.slice(s,s+3);a.push(i[s]),r.push(o([a]))}return r}function Te(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return T(e,function(e,i){var o=Nt(t,e);o<r&&((n=Mt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)}),n}function Re(t,e,n,r,i){Pe(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Pe(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Pe(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(r,Math.floor(e+(o-s)*u/o+l)),i)}var c=t[e],h=n,f=r;for(Le(t,n,e),i(t[r],c)>0&&Le(t,n,r);h<f;){for(Le(t,h,f),h++,f--;i(t[h],c)<0;)h++;for(;i(t[f],c)>0;)f--}0===i(t[n],c)?Le(t,n,f):Le(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function Le(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ne(t,e){if(!(this instanceof Ne))return new Ne(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Me(t,e){Fe(t,0,t.children.length,e,t)}function Fe(t,e,n,r,i){i||(i=He(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Be(i,t.leaf?r(o):o);return i}function Be(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function je(t,e){return t.minX-e.minX}function ze(t,e){return t.minY-e.minY}function Ve(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ue(t){return t.maxX-t.minX+(t.maxY-t.minY)}function qe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ge(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function He(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ye(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(Re(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),s.push(e,o,o,n))}function Ze(t){var e=Ne(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=We(e)).bbox=e}else t.bbox=t.bbox?t.bbox:$e(t);return Ne.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=We(t);n.bbox=t,e.push(n)}):T(t,function(t){t.bbox=t.bbox?t.bbox:$e(t),e.push(t)}),Ne.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=We(e)).bbox=e}return Ne.prototype.remove.call(this,t)},e.clear=function(){return Ne.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Ne.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Ne.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Ne.prototype.all.call(this)}},e.toJSON=function(){return Ne.prototype.toJSON.call(this)},e.fromJSON=function(t){return Ne.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:$e(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function We(t){var e=[t[0],t[1]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]]}}}function $e(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function Xe(t){if(!t)throw new Error("geojson is required");var e=[];return M(t,function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=G(r);break;case"LineString":n=[G(r)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,r){var i=a([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),l(e)}function Ke(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Je(t,n);return o&&i.push(o),l(i)}var s=Ze();return s.load(Xe(n)),T(Xe(t),function(t){T(s.search(t),function(e){var n=Je(t,e);if(n){var o=G(n).join(",");r[o]||(r[o]=!0,i.push(n))}})}),l(i)}function Je(t,e){var n=G(t),i=G(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],h=i[1][0],f=i[1][1],p=(f-c)*(a-o)-(h-l)*(u-s);if(0===p)return null;var d=((h-l)*(s-c)-(f-c)*(o-l))/p,m=((a-o)*(s-c)-(u-s)*(o-l))/p;return d>=0&&d<=1&&m>=0&&m<=1?r([o+d*(a-o),s+d*(u-s)]):null}function Qe(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),s=0;return M(t,function(t){for(var i=G(t),u=0;u<i.length-1;u++){var l=r(i[u]);l.properties.dist=Nt(e,l,n);var c=r(i[u+1]);c.properties.dist=Nt(e,c,n);var h=Nt(l,c,n),f=Math.max(l.properties.dist,c.properties.dist),p=ce(l,c),d=ue(e,f,p+90,n),m=ue(e,f,p-90,n),g=Ke(a([d.geometry.coordinates,m.geometry.coordinates]),a([l.geometry.coordinates,c.geometry.coordinates])),y=null;g.features.length>0&&((y=g.features[0]).properties.dist=Nt(e,y,n),y.properties.location=s+Nt(l,y,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=u,o.properties.location=s),c.properties.dist<o.properties.dist&&((o=c).properties.index=u+1,o.properties.location=s+h),y&&y.properties.dist<o.properties.dist&&((o=y).properties.index=u),s+=h}}),o}function tn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?en(q(e),q(t)):en(q(t),q(e)))>180?-(360-r):r}function en(t,e){var n=b(t[1]),r=b(e[1]),i=b(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(i,o))+360)%360}function nn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=q(t),o=q(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,w(function(t,e,n){var r=n=void 0===n?Ao:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-i,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+l*l*a*a)*r}(i,o),"meters",r)}function rn(t,e){return sn(t,"mercator",e)}function on(t,e){return sn(t,"wgs84",e)}function sn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&E(t[0])?t="mercator"===e?an(t):un(t):(!0!==r&&(t=Mt(t)),I(t,function(t){var n="mercator"===e?an(t):un(t);t[0]=n[0],t[1]=n[1]})),t}function an(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function un(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function ln(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):Z(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=e(n):Z(n,"LineString","line");var o=1/0,s=t.geometry.coordinates;return B(n,function(t){var e=function(t,e,n,i){var o=i.mercator,s=!0!==o?Nt(e,t,i):cn(e,t,i),a=_(!0!==o?ce(e,t):tn(e,t)),u=_(!0!==o?ce(e,n):tn(e,n)),l=Math.abs(a-u);if(l>90)return s;var c=(u+180)%360,h=_(!0!==o?ce(n,t):tn(n,t)),f=Math.abs(h-c);return f>180&&(f=Math.abs(f-360)),f>90?!0!==o?Nt(t,n,i):cn(t,n,i):!0!==o?s*Math.sin(b(l)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=r(n),a=on(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,s=e[1]-i,a=((n[0]-r)*o+(n[1]-i)*s)/(o*o+s*s);return[r+a*o,i+a*s]}(rn([t[0]+o,t[1]]),rn([e[0]+o,e[1]]),rn([n[0]+o,n[1]])));return 0!==o&&(a[0]-=o),nn(s,a,i)}(e,n,t,i)}(s,t.geometry.coordinates[0],t.geometry.coordinates[1],i);o>e&&(o=e)}),o}function cn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=rn([t[0]+i,t[1]]),s=rn([e[0]+i,e[1]]),a=function(t){return t*t},u=a(o[0]-s[0])+a(o[1]-s[1]);return w(Math.sqrt(u),"meters",r)}function hn(t){for(var n=function(t){return"FeatureCollection"!==t.type?l("Feature"!==t.type?[e(t)]:[t]):t}(t),i=he(n),o=!1,s=0;!o&&s<n.features.length;){var a,u=n.features[s].geometry,c=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var h=!1;for(a=0;!h&&a<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[a][0]&&i.geometry.coordinates[1]===u.coordinates[a][1]&&(o=!0,h=!0),a++}else if("LineString"===u.type)for(a=0;!c&&a<u.coordinates.length-1;)fn(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[a][0],u.coordinates[a][1],u.coordinates[a+1][0],u.coordinates[a+1][1])&&(c=!0,o=!0),a++;else if("MultiLineString"===u.type)for(var f=0;f<u.coordinates.length;){c=!1,a=0;for(var p=u.coordinates[f];!c&&a<p.length-1;)fn(i.geometry.coordinates[0],i.geometry.coordinates[1],p[a][0],p[a][1],p[a+1][0],p[a+1][1])&&(c=!0,o=!0),a++;f++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||At(i,u)&&(o=!0);s++}if(o)return i;var d=l([]);for(s=0;s<n.features.length;s++)d.features=d.features.concat(pe(n.features[s]).features);return r(Te(i,d).geometry.coordinates)}function fn(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function pn(t){return N(t,function(t,e){return t+dn(e)},0)}function dn(t){var e,n=0;switch(t.type){case"Polygon":return mn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=mn(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=dn(t.geometries[e]);return n}}function mn(t){var e=0;if(t&&t.length>0){e+=Math.abs(gn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(gn(t[n]))}return e}function gn(t){var e,n,r,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(r=u-2,i=u-1,o=0):s===u-1?(r=u-1,i=0,o=1):(r=s,i=s+1,o=s+2),e=t[r],n=t[i],a+=(yn(t[o][0])-yn(e[0]))*Math.sin(yn(n[1]));a=a*ms*ms/2}return a}function yn(t){return t*Math.PI/180}function _n(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return j(t,function(t,n){var r=n.geometry.coordinates;return t+Nt(r[0],r[1],e)},0)}function vn(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var s,u,l,c=0,h=0;h<i.length&&!(e>=c&&h===i.length-1);h++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(i[h]),a(o);u=ce(i[h],i[h-1])-180,l=ue(i[h],s,u,r),o.push(l.geometry.coordinates)}if(c>=n)return(s=n-c)?(u=ce(i[h],i[h-1])-180,l=ue(i[h],s,u,r),o.push(l.geometry.coordinates),a(o)):(o.push(i[h]),a(o));if(c>=e&&o.push(i[h]),h===i.length-1)return a(o);c+=Nt(i[h],i[h+1],r)}return a(i[i.length-1])}function bn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=q(t),o=G(e),s=0;s<o.length-1;s++){var a=!1;if(r&&(0===s&&(a="start"),s===o.length-2&&(a="end"),0===s&&s+1===o.length-1&&(a="both")),function(t,e,n,r){var i=n[0],o=n[1],s=t[0],a=t[1],u=e[0],l=e[1],c=u-s,h=l-a;return(n[0]-s)*h-(n[1]-a)*c==0&&(r?"start"===r?Math.abs(c)>=Math.abs(h)?c>0?s<i&&i<=u:u<=i&&i<s:h>0?a<o&&o<=l:l<=o&&o<a:"end"===r?Math.abs(c)>=Math.abs(h)?c>0?s<=i&&i<u:u<i&&i<=s:h>0?a<=o&&o<l:l<o&&o<=a:"both"===r?Math.abs(c)>=Math.abs(h)?c>0?s<i&&i<u:u<i&&i<s:h>0?a<o&&o<l:l<o&&o<a:void 0:Math.abs(c)>=Math.abs(h)?c>0?s<=i&&i<=u:u<=i&&i<=s:h>0?a<=o&&o<=l:l<=o&&o<=a)}(o[s],o[s+1],i,a))return!0}return!1}function wn(t,e){var n=K(t),r=K(e),i=$(t),o=$(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(En(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return bn(i,o,{ignoreEndVertices:!0});case"Polygon":return At(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)En(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!bn(t.coordinates[r],e))return!1;n||(n=bn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=At(t.coordinates[1],e);if(!i){n=!1;break}i=At(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!bn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!xn(U(e),U(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!At(t.coordinates[r],e))return!1;n||(n=At(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=At(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=U(t);if(!xn(U(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!At(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function xn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function En(t,e){return t[0]===e[0]&&t[1]===e[1]}function Cn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],c=t[2],h=t[3],f=e/Nt([a,u],[c,u],n)*(c-a),p=e/Nt([a,u],[a,h],n)*(h-u),d=c-a,m=h-u,g=Math.floor(d/f),y=(m-Math.floor(m/p)*p)/2,_=a+(d-g*f)/2;_<=c;){for(var v=u+y;v<=h;){var b=r([_,v],o);i?wn(b,i)&&s.push(b):s.push(b),v+=p}_+=f}return l(s)}function Sn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return I(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)}),t}function Dn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Dn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function In(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function An(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!An(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function kn(t,e){var n=[],r=Ze();return M(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var i=r.search(e);if(i.features.length){var o=Tn(e,i);n=n.filter(function(t){return t.id!==o.id}),r.remove(o),T(On(o,e),function(t){n.push(t),r.insert(t)})}}else(n=On(t,e).features).forEach(function(t){t.bbox||(t.bbox=ae(U(t)))}),r.load(l(n))}),l(n)}function On(t,e){var n=[],r=G(t)[0],i=G(t)[t.geometry.coordinates.length-1];if(Rn(r,q(e))||Rn(i,q(e)))return l([t]);var o=Ze(),s=Xe(t);o.load(s);var u=o.search(e);if(!u.features.length)return l([t]);var c=Tn(e,u),h=R(s,function(t,r,i){var o=G(r)[1],s=q(e);return i===c.id?(t.push(s),n.push(a(t)),Rn(s,o)?[s]:[s,o]):(t.push(o),t)},[r]);return h.length>1&&n.push(a(h)),l(n)}function Tn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return T(e,function(e){var i=Qe(e,t).properties.dist;i<r&&(n=e,r=i)}),n}function Rn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Pn(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.steps,s=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var u=Ln(n),l=Ln(r),c=t.properties;if(u===l)return a(le(t,e,i).geometry.coordinates[0],c);for(var h=u,f=u<l?l:l+360,p=h,d=[],m=0;p<f;)d.push(ue(t,e,p,s).geometry.coordinates),p=h+360*++m/o;return p>f&&d.push(ue(t,e,f,s).geometry.coordinates),a(d,c)}function Ln(t){var e=t%360;return e<0&&(e+=360),e}function Nn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=K(t),i=G(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Mn(i,n);case"MultiPolygon":var o=[];return i.forEach(function(t){o.push(Mn(t,n))}),l(o);default:throw new Error("geom "+r+" not supported")}}function Mn(t,e){return t.length>1?c(t,e):a(t[0],e)}function Fn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,K(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push(G(Bn(t,{},r,i)))}),f(o,n)}return Bn(t,n,r,i)}function Bn(t,e,n,r){e=e||t.properties||{};var i=G(t),s=K(t);if(!i.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(i=jn(i)),o([i],e);case"MultiLineString":var u=[],l=0;return i.forEach(function(t){if(n&&(t=jn(t)),r){var e=function(t){var e=t[1],n=t[3];return Math.abs(t[0]-t[2])*Math.abs(e-n)}(U(a(t)));e>l?(u.unshift(t),l=e):u.push(t)}else u.push(t)}),o(u,e);default:throw new Error("geometry type "+s+" is not supported")}}function jn(t){var e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]||t.push(e),t}function zn(t,e,n){var r,i,o,s,a,u=t.length,l=Un(t[0],e),c=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],s=a=Un(o=t[r],e);;){if(!(l|s)){c.push(i),s!==a?(c.push(o),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(o);break}if(l&s)break;l?l=Un(i=Vn(i,o,l,e),e):s=Un(o=Vn(i,o,s,e),e)}l=a}return c.length&&n.push(c),n}function Vn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Un(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function qn(t,e){for(var n=[],r=0;r<t.length;r++){var i=Cs.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Gn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Hn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?t===e:function(t,e,n){var r,i;if(Yn(t)||Yn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Gn(t))return!!Gn(e)&&Hn(t=Ss.call(t),e=Ss.call(e),n);if(Zn(t)){if(!Zn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),r=o.length-1;r>=0;r--)if(o[r]!==s[r])return!1;for(r=o.length-1;r>=0;r--)if(!Hn(t[i=o[r]],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Yn(t){return null==t}function Zn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function Wn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],s=Ze();return s.load(Xe(t)),B(e,function(t){var e=!1;T(s.search(t),function(n){if(!1===e){var o=G(t).sort(),s=G(n).sort();Hn(o,s)||(0===i?bn(o[0],n)&&bn(o[1],n):Qe(n,o[0]).properties.dist<=i&&Qe(n,o[1]).properties.dist<=i)?(e=!0,r=r?$n(r,t):t):(0===i?bn(s[0],t)&&bn(s[1],t):Qe(t,s[0]).properties.dist<=i&&Qe(t,s[1]).properties.dist<=i)&&(r=r?$n(r,n):n)}}),!1===e&&r&&(o.push(r),r=void 0)}),r&&o.push(r),l(o)}function $n(t,e){var n=G(e),r=G(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return Hn(n[0],i)?s.unshift(n[1]):Hn(n[0],o)?s.push(n[1]):Hn(n[1],i)?s.unshift(n[0]):Hn(n[1],o)&&s.push(n[0]),t}function Xn(t){var e=t%360;return e<0&&(e+=360),e}function Kn(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.units,s=i.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=w(e,o,"meters"),u=q(t),l=function(t,e,n,r){var i=e/(r=void 0===r?Ao:Number(r)),o=t[0]*Math.PI/180,s=b(t[1]),a=b(n),u=i*Math.cos(a),l=s+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(s);return[(180*(o+i*Math.sin(a)/h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,a,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r(l,s)}function Jn(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=Qn(a,u,e),n<=0&&r>0?function(t,e,n){return Qn(t,e,n)<0}(e,a,i)||(i=a):n>0&&r<=0&&(function(t,e,n){return Qn(t,e,n)>0}(e,a,o)||(o=a)),n=r}return[i,o]}function Qn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function tr(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=G(t),o=0,s=1;s<i.length;)n=r||i[0],o+=((r=i[s])[0]-n[0])*(r[1]+n[1]),s++;return o>0}function er(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return L(t,function(t){er(t,e)}),t;case"LineString":return nr(G(t),e),t;case"Polygon":return rr(G(t),e),t;case"MultiLineString":return G(t).forEach(function(t){nr(t,e)}),t;case"MultiPolygon":return G(t).forEach(function(t){rr(t,e)}),t;case"Point":case"MultiPoint":return t}}function nr(t,e){tr(t)===e&&t.reverse()}function rr(t,e){tr(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)tr(t[n])===e&&t[n].reverse()}function ir(t,e,n,r){r=r||{};for(var i=Object.keys(Ds),o=0;o<i.length;o++){var s=i[o],a=r[s];Is[s]=a=null!=a?a:Ds[s]}Is.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,c=t[a+1][u],h=t[a+1][u+1],f=t[a][u+1],p=t[a][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){l|=c<e?0:c>s?128:64,l|=h<e?0:h>s?32:16,l|=f<e?0:f>s?8:4;var d=+(l|=p<e?0:p>s?2:1),m=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+h+f+p)/4;m=g>s?2:g<e?0:1,34===l?1===m?l=35:0===m&&(l=136):136===l?1===m?(l=35,m=4):0===m&&(l=34):17===l?1===m?(l=155,m=4):0===m&&(l=153):68===l?1===m?(l=103,m=4):0===m&&(l=102):153===l?1===m&&(l=155):102===l?1===m&&(l=103):152===l?m<2&&(l=156,m=1):137===l?m<2&&(l=139,m=1):98===l?m<2&&(l=99,m=1):38===l?m<2&&(l=39,m=1):18===l?m>0?(l=156,m=4):l=152:33===l?m>0?(l=139,m=4):l=137:72===l?m>0?(l=99,m=4):l=98:132===l&&(m>0?(l=39,m=4):l=38)}if(0!=l&&170!=l){var y,_,v,b,w,x,E,C;y=_=v=b=w=x=E=C=.5;var S=[];1===l?(v=1-or(e,f,p),C=1-or(e,c,p),S.push(pa[l])):169===l?(v=or(s,p,f),C=or(s,p,c),S.push(pa[l])):4===l?(x=1-or(e,h,f),b=or(e,p,f),S.push(ha[l])):166===l?(x=or(s,f,h),b=1-or(s,f,p),S.push(ha[l])):16===l?(w=or(e,f,h),_=or(e,c,h),S.push(ca[l])):154===l?(w=1-or(s,h,f),_=1-or(s,h,c),S.push(ca[l])):64===l?(E=or(e,p,c),y=1-or(e,h,c),S.push(ma[l])):106===l?(E=1-or(s,c,p),y=or(s,c,h),S.push(ma[l])):168===l?(b=or(s,p,f),v=or(e,p,f),C=or(e,p,c),E=or(s,p,c),S.push(fa[l]),S.push(pa[l])):2===l?(b=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),S.push(fa[l]),S.push(pa[l])):162===l?(w=or(s,f,h),x=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),S.push(fa[l]),S.push(pa[l])):8===l?(w=1-or(e,h,f),x=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),S.push(ca[l]),S.push(ha[l])):138===l?(w=1-or(e,h,f),x=1-or(s,h,f),y=1-or(s,h,c),_=1-or(e,h,c),S.push(ca[l]),S.push(ha[l])):32===l?(w=or(s,f,h),x=or(e,f,h),y=or(e,c,h),_=or(s,c,h),S.push(ca[l]),S.push(ha[l])):42===l?(C=1-or(s,c,p),E=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h),S.push(da[l]),S.push(ma[l])):128===l&&(C=or(e,p,c),E=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c),S.push(da[l]),S.push(ma[l])),5===l?(x=1-or(e,h,f),C=1-or(e,c,p),S.push(ha[l])):165===l?(x=or(s,f,h),C=or(s,p,c),S.push(ha[l])):20===l?(b=or(e,p,f),_=or(e,c,h),S.push(fa[l])):150===l?(b=1-or(s,f,p),_=1-or(s,h,c),S.push(fa[l])):80===l?(w=or(e,f,h),E=or(e,p,c),S.push(ca[l])):90===l?(w=1-or(s,h,f),E=1-or(s,c,p),S.push(ca[l])):65===l?(v=1-or(e,f,p),y=1-or(e,h,c),S.push(pa[l])):105===l?(v=or(s,p,f),y=or(s,c,h),S.push(pa[l])):160===l?(w=or(s,f,h),x=or(e,f,h),C=or(e,p,c),E=or(s,p,c),S.push(ca[l]),S.push(ha[l])):10===l?(w=1-or(e,h,f),x=1-or(s,h,f),C=1-or(s,c,p),E=1-or(e,c,p),S.push(ca[l]),S.push(ha[l])):130===l?(b=1-or(e,f,p),v=1-or(s,f,p),y=1-or(s,h,c),_=1-or(e,h,c),S.push(fa[l]),S.push(pa[l])):40===l?(b=or(s,p,f),v=or(e,p,f),y=or(e,c,h),_=or(s,c,h),S.push(fa[l]),S.push(pa[l])):101===l?(x=or(s,f,h),y=or(s,c,h),S.push(ha[l])):69===l?(x=1-or(e,h,f),y=1-or(e,h,c),S.push(ha[l])):149===l?(C=or(s,p,c),_=1-or(s,h,c),S.push(da[l])):21===l?(C=1-or(e,c,p),_=or(e,c,h),S.push(da[l])):86===l?(b=1-or(s,f,p),E=1-or(s,c,p),S.push(fa[l])):84===l?(b=or(e,p,f),E=or(e,p,c),S.push(fa[l])):89===l?(w=1-or(s,h,f),v=or(s,p,f),S.push(pa[l])):81===l?(w=or(e,f,h),v=1-or(e,f,p),S.push(pa[l])):96===l?(w=or(s,f,h),x=or(e,f,h),E=or(e,p,c),y=or(s,c,h),S.push(ca[l]),S.push(ha[l])):74===l?(w=1-or(e,h,f),x=1-or(s,h,f),E=1-or(s,c,p),y=1-or(e,h,c),S.push(ca[l]),S.push(ha[l])):24===l?(w=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),_=or(e,c,h),S.push(ca[l]),S.push(pa[l])):146===l?(w=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),_=1-or(s,h,c),S.push(ca[l]),S.push(pa[l])):6===l?(x=1-or(e,h,f),b=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),S.push(ha[l]),S.push(fa[l])):164===l?(x=or(s,f,h),b=or(e,p,f),C=or(e,p,c),E=or(s,p,c),S.push(ha[l]),S.push(fa[l])):129===l?(v=1-or(e,f,p),C=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c),S.push(pa[l]),S.push(da[l])):41===l?(v=or(s,p,f),C=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h),S.push(pa[l]),S.push(da[l])):66===l?(b=1-or(e,f,p),v=1-or(s,f,p),E=1-or(s,c,p),y=1-or(e,h,c),S.push(fa[l]),S.push(pa[l])):104===l?(b=or(s,p,f),v=or(e,p,f),E=or(e,p,c),y=or(s,c,h),S.push(pa[l]),S.push(ga[l])):144===l?(w=or(e,f,h),C=or(e,p,c),E=or(s,p,c),_=1-or(s,h,c),S.push(ca[l]),S.push(ma[l])):26===l?(w=1-or(s,h,f),C=1-or(s,c,p),E=1-or(e,c,p),_=or(e,c,h),S.push(ca[l]),S.push(ma[l])):36===l?(x=or(s,f,h),b=or(e,p,f),y=or(e,c,h),_=or(s,c,h),S.push(ha[l]),S.push(fa[l])):134===l?(x=1-or(e,h,f),b=1-or(s,f,p),y=1-or(s,h,c),_=1-or(e,h,c),S.push(ha[l]),S.push(fa[l])):9===l?(w=1-or(e,h,f),x=1-or(s,h,f),v=or(s,p,f),C=1-or(e,c,p),S.push(ca[l]),S.push(ha[l])):161===l?(w=or(s,f,h),x=or(e,f,h),v=1-or(e,f,p),C=or(s,p,c),S.push(ca[l]),S.push(ha[l])):37===l?(x=or(s,f,h),C=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h),S.push(ha[l]),S.push(da[l])):133===l?(x=1-or(e,h,f),C=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c),S.push(ha[l]),S.push(da[l])):148===l?(b=or(e,p,f),C=or(e,p,c),E=or(s,p,c),_=1-or(s,h,c),S.push(fa[l]),S.push(ma[l])):22===l?(b=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),_=or(e,c,h),S.push(fa[l]),S.push(ma[l])):82===l?(w=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),E=1-or(s,c,p),S.push(ca[l]),S.push(pa[l])):88===l?(w=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),E=or(e,p,c),S.push(ca[l]),S.push(pa[l])):73===l?(w=1-or(e,h,f),x=1-or(s,h,f),v=or(s,p,f),y=1-or(e,h,c),S.push(ca[l]),S.push(ha[l])):97===l?(w=or(s,f,h),x=or(e,f,h),v=1-or(e,f,p),y=or(s,c,h),S.push(ca[l]),S.push(ha[l])):145===l?(w=or(e,f,h),v=1-or(e,f,p),C=or(s,p,c),_=1-or(s,h,c),S.push(ca[l]),S.push(da[l])):25===l?(w=1-or(s,h,f),v=or(s,p,f),C=1-or(e,c,p),_=or(e,c,h),S.push(ca[l]),S.push(da[l])):70===l?(x=1-or(e,h,f),b=1-or(s,f,p),E=1-or(s,c,p),y=1-or(e,h,c),S.push(ha[l]),S.push(fa[l])):100===l?(x=or(s,f,h),b=or(e,p,f),E=or(e,p,c),y=or(s,c,h),S.push(ha[l]),S.push(fa[l])):34===l?(0===m?(w=1-or(e,h,f),x=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),C=or(e,p,c),E=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)):(w=or(s,f,h),x=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)),S.push(ca[l]),S.push(ha[l]),S.push(da[l]),S.push(ma[l])):35===l?(4===m?(w=1-or(e,h,f),x=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),C=or(e,p,c),E=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)):(w=or(s,f,h),x=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)),S.push(ca[l]),S.push(ha[l]),S.push(pa[l]),S.push(ma[l])):136===l?(0===m?(w=or(s,f,h),x=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)):(w=1-or(e,h,f),x=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),C=or(e,p,c),E=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)),S.push(ca[l]),S.push(ha[l]),S.push(da[l]),S.push(ma[l])):153===l?(0===m?(w=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),_=1-or(s,h,c)),S.push(ca[l]),S.push(pa[l])):102===l?(0===m?(x=1-or(e,h,f),b=or(e,p,f),E=or(e,p,c),y=1-or(e,h,c)):(x=or(s,f,h),b=1-or(s,f,p),E=1-or(s,c,p),y=or(s,c,h)),S.push(ha[l]),S.push(ma[l])):155===l?(4===m?(w=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),_=1-or(s,h,c)),S.push(ca[l]),S.push(da[l])):103===l?(4===m?(x=1-or(e,h,f),b=or(e,p,f),E=or(e,p,c),y=1-or(e,h,c)):(x=or(s,f,h),b=1-or(s,f,p),E=1-or(s,c,p),y=or(s,c,h)),S.push(ha[l]),S.push(fa[l])):152===l?(0===m?(w=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),C=or(e,p,c),E=or(s,p,c),_=1-or(s,h,c)),S.push(ca[l]),S.push(fa[l]),S.push(pa[l])):156===l?(4===m?(w=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),_=or(e,c,h)):(w=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),C=or(e,p,c),E=or(s,p,c),_=1-or(s,h,c)),S.push(ca[l]),S.push(pa[l]),S.push(ma[l])):137===l?(0===m?(w=or(s,f,h),x=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)):(w=1-or(e,h,f),x=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)),S.push(ca[l]),S.push(ha[l]),S.push(pa[l])):139===l?(4===m?(w=or(s,f,h),x=or(e,f,h),v=1-or(e,f,p),C=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)):(w=1-or(e,h,f),x=1-or(s,h,f),v=or(s,p,f),C=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)),S.push(ca[l]),S.push(ha[l]),S.push(da[l])):98===l?(0===m?(w=1-or(e,h,f),x=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),E=or(e,p,c),y=1-or(e,h,c)):(w=or(s,f,h),x=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),E=1-or(s,c,p),y=or(s,c,h)),S.push(ca[l]),S.push(ha[l]),S.push(ma[l])):99===l?(4===m?(w=1-or(e,h,f),x=1-or(s,h,f),b=or(s,p,f),v=or(e,p,f),E=or(e,p,c),y=1-or(e,h,c)):(w=or(s,f,h),x=or(e,f,h),b=1-or(e,f,p),v=1-or(s,f,p),E=1-or(s,c,p),y=or(s,c,h)),S.push(ca[l]),S.push(ha[l]),S.push(pa[l])):38===l?(0===m?(x=1-or(e,h,f),b=or(e,p,f),C=or(e,p,c),E=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)):(x=or(s,f,h),b=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)),S.push(ha[l]),S.push(da[l]),S.push(ma[l])):39===l?(4===m?(x=1-or(e,h,f),b=or(e,p,f),C=or(e,p,c),E=or(s,p,c),y=1-or(s,h,c),_=1-or(e,h,c)):(x=or(s,f,h),b=1-or(s,f,p),C=1-or(s,c,p),E=1-or(e,c,p),y=or(e,c,h),_=or(s,c,h)),S.push(ha[l]),S.push(fa[l]),S.push(ma[l])):85===l&&(w=1,x=0,b=1,v=0,C=0,E=1,y=0,_=1),(y<0||y>1||_<0||_>1||w<0||w>1||b<0||b>1||C<0||C>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+h+","+f+","+p+" "+m+" "+y+" "+_+" "+w+" "+x+" "+b+" "+v+" "+C+" "+E),o.cells[a][u]={cval:l,cval_real:d,flipped:m,topleft:y,topright:_,righttop:w,rightbottom:x,bottomright:b,bottomleft:v,leftbottom:C,lefttop:E,edges:S}}}}}return o}(t,e,n);return Is.polygons?(Is.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach(function(t,r){t.forEach(function(t,i){if(void 0!==t){var o=_a[t.cval](t);"object"==typeof o&&sr(o)?"object"==typeof o[0]&&sr(o[0])?"object"==typeof o[0][0]&&sr(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=t}):(o.forEach(function(t){t[0]+=i,t[1]+=r}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(Is.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=function(t){if(t.edges.length>0){var e=t.cval_real;switch(t.edges[t.edges.length-1]){case 0:return e&ks?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return e&Os?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return e&Os?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return e&Ts?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&ks?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return e&Os?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return e&Os?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return e&Ts?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return e&Os?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return e&Ts?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return e&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&As?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return e&Os?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return e&Ts?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return e&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&As?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return e&Os?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&As?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return e&Ts?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&As?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&As?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&ks?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&As?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&ks?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][s]),u=null,l=s,c=o;null!==a&&i.push([a.p[0]+l,a.p[1]+c]);do{if(null===(u=function(t,e,n,r){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=ha[l],s=Vs[l],a=Us[l],u=qs[l];break;default:i=ca[l],s=Bs[l],a=js[l],u=zs[l]}break;case 1:switch(r){case 0:i=da[l],s=Qs[l],a=ta[l],u=ea[l];break;default:i=ma[l],s=Xs[l],a=Ks[l],u=Js[l]}break;default:switch(n){case-1:switch(r){case 0:i=ga[l],s=Rs[l],a=Ps[l],u=Ls[l];break;default:i=ya[l],s=Ns[l],a=Ms[l],u=Fs[l]}break;case 1:switch(r){case 0:i=pa[l],s=Gs[l],a=Hs[l],u=Ys[l];break;default:i=fa[l],s=Zs[l],a=Ws[l],u=$s[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&ks?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&Os?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&Os?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&Ts?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&ks?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&Os?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&Os?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&Ts?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&Os?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&Ts?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&Ts?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&As?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&Os?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&Ts?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&Ts?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&As?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&Os?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&As?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&Ts?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&As?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&As?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&ks?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&As?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&ks?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}(t.cells[c][l],a.x,a.y,a.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,a=u,(c+=u.y)<0||c>=n||l<0||l>=r||void 0===t.cells[c][l]){var h=function(t,e,n,r,i,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,l=n+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(a=(s=t.cells[l-=i][u-=r]).cval_real,-1===i)if(0===o)if(a&Ts)c.push([u,l]),r=-1,i=0,o=0;else{if(!(a&Os)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(a&Ts)){if(a&Os){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+s.bottomleft,l]),r=0,i=1,o=0,h=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&ks)){if(a&As){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+s.topright,l+1]),r=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(a&As)){if(a&Ts){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+s.lefttop]),r=1,i=0,o=1,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(a&As)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&Os)){c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(a&Os)){if(a&ks){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(a&Ts)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(a&As)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(a&ks)){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(a&Os)){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(a&As)){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(l+=i,(u+=r)===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:o}}(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(t){i.push(t)}),l=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),"function"==typeof Is.successCallback&&Is.successCallback(u),u}function or(t,e,n){return(t-e)/(n-e)}function sr(t){return t.constructor.toString().indexOf("Array")>-1}function ar(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=fe(t)),!1!==i&&void 0!==i||(t=Mt(t)),I(t,function(t){var n=tn(r,t)+e,i=nn(r,t),o=G(Kn(r,i,n));t[0]=o[0],t[1]=o[1]})),t}function ur(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Mt(t)),"FeatureCollection"!==t.type||o?lr(t,e,r):(T(t,function(n,i){t.features[i]=lr(n,e,r)}),t)}function lr(t,e,n){var i="Point"===K(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return q(e);var n=t.bbox?t.bbox:U(t),i=n[0],o=n[1],s=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return r([s,a]);case"center":return he(t);case void 0:case null:case"centroid":return fe(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||I(t,function(t){var r=nn(n,t),i=tn(n,t),o=G(Kn(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t}function cr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function hr(t,e){return t[0]*e[1]-e[0]*t[1]}function fr(t,e,n){var r=[],i=y(e,n),o=G(t),s=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]));return[[t[0]+n*(e[1]-t[1])/r,t[1]+n*(t[0]-e[0])/r],[e[0]+n*(e[1]-t[1])/r,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var a=r[e-1],u=function(t,e){return!function(t,e){return 0===hr(cr(t),cr(e))}(t,e)&&function(t,e){var n=t[0],r=cr(t),i=e[0],o=cr(e),s=hr(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(hr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/s,r))}(t,e)}(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}}),a(s,t.properties)}function pr(t,e,n){return Math.sign((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function dr(t,e){return e.geometry.coordinates[0].every(function(e){return At(r(e),t)})}function mr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=e[0]-t[0],i=e[1]-t[1];return(n[0]-t[0])*i-(n[1]-t[1])*r==0&&(Math.abs(r)>=Math.abs(i)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:i>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function gr(t,e){return Ke(e,Nn(t)).features.length>0}function yr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function _r(t,e){return t[0]===e[0]&&t[1]===e[1]}function vr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),xr(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function br(t,e){return Ke(t,Nn(e)).features.length>0}function wr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,s=0;s<o&&n&&i;)At(r(t.coordinates[0][s]),e)?n=!0:i=!0,s++;return i&&i}function xr(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];return 0==(n[0]-t[0])*o-(n[1]-t[1])*i&&(r?Math.abs(i)>=Math.abs(o)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:o>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(i)>=Math.abs(o)?i>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:o>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Er(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function Cr(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Sr(t,e){return Da(t,e,{strict:!0})}function Dr(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=K(t);if(n!==K(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Aa({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=P(t),o=P(e);i.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&r++})});break;case"LineString":case"MultiLineString":B(t,function(t){B(e,function(e){Wn(t,e).features.length&&r++})});break;case"Polygon":case"MultiPolygon":B(t,function(t){B(e,function(e){Ke(t,e).features.length&&r++})})}return r>0}function Ir(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function Ar(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function kr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Or(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Tr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Tr(t,e,n){this.x=t,this.y=e,this.weight=n}function Rr(t){this.content=[],this.scoreFunction=t}function Pr(t){return t[0]}function Lr(t){return t[1]}function Nr(){this._=null}function Mr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Fr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Br(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function jr(t){for(;t.L;)t=t.L;return t}function zr(t,e,n,r){var i=[null,null],o=Ga.push(i)-1;return i.left=t,i.right=e,n&&Ur(i,t,e,n),r&&Ur(i,e,t,r),Ua[t.index].halfedges.push(o),Ua[e.index].halfedges.push(o),i}function Vr(t,e,n){var r=[e,n];return r.left=t,r}function Ur(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function qr(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,p=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Gr(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],m=(h+p)/2;if(d===f){if(m<e||m>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(a=(f+d)/2-(s=(h-p)/(d-f))*m,s<-1||s>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Hr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Yr(t,e){return e[+(e.left!==t.site)]}function Zr(t,e){return e[+(e.left===t.site)]}function Wr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,c=o[0]-s,h=o[1]-a,f=2*(u*h-l*c);if(!(f>=-Wa)){var p=u*u+l*l,d=c*c+h*h,m=(h*p-l*d)/f,g=(u*d-c*p)/f,y=Ha.pop()||new function(){Mr(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=m+s,y.y=(y.cy=g+a)+Math.sqrt(m*m+g*g),t.circle=y;for(var _=null,v=qa._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}qa.insert(_,y),_||(za=y)}}}}function $r(t){var e=t.circle;e&&(e.P||(za=e.N),qa.remove(e),Ha.push(e),Mr(e),t.circle=null)}function Xr(t){var e=Ya.pop()||new function(){Mr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Kr(t){$r(t),Va.remove(t),Ya.push(t),Mr(t)}function Jr(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];Kr(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Za&&Math.abs(r-u.circle.cy)<Za;)o=u.P,a.unshift(u),Kr(u),u=o;a.unshift(u),$r(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<Za&&Math.abs(r-l.circle.cy)<Za;)s=l.N,a.push(l),Kr(l),l=s;a.push(l),$r(l);var c,h=a.length;for(c=1;c<h;++c)Ur((l=a[c]).edge,(u=a[c-1]).site,l.site,i);(l=a[h-1]).edge=zr((u=a[0]).site,l.site,null,i),Wr(u),Wr(l)}function Qr(t){for(var e,n,r,i,o=t[0],s=t[1],a=Va._;a;)if((r=ti(a,s)-o)>Za)a=a.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return ti(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(a,s))>Za)){r>-Za?(e=a.P,n=a):i>-Za?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Ua[t.index]={site:t,halfedges:[]}}(t);var u=Xr(t);if(Va.insert(e,u),e||n){if(e===n)return $r(e),n=Xr(e.site),Va.insert(u,n),u.edge=n.edge=zr(e.site,u.site),Wr(e),void Wr(n);if(n){$r(e),$r(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,m=d[0]-c,g=d[1]-h,y=2*(f*g-p*m),_=f*f+p*p,v=m*m+g*g,b=[(g*_-p*v)/y+c,(f*v-m*_)/y+h];Ur(n.edge,l,d,b),u.edge=zr(l,t,null,b),n.edge=zr(t,d,null,b),Wr(e),Wr(n)}else u.edge=zr(e.site,u.site)}}function ti(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+a)/2}function ei(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ni(t,e){return e[1]-t[1]||e[0]-t[0]}function ri(t,e){var n,r,i,o=t.sort(ni).pop();for(Ga=[],Ua=new Array(t.length),Va=new Nr,qa=new Nr;;)if(i=za,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Qr(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Jr(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Ua.length;i<o;++i)if((t=Ua[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Hr(t,Ga[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Ga.length;o--;)Gr(i=Ga[o],t,e,n,r)&&qr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Za||Math.abs(i[0][1]-i[1][1])>Za)||delete Ga[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,c,h,f,p,d,m,g=Ua.length,y=!0;for(i=0;i<g;++i)if(o=Ua[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)Ga[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(p=Zr(o,Ga[u[a]]))[0],m=p[1],h=(c=Yr(o,Ga[u[++a%l]]))[0],f=c[1],(Math.abs(d-h)>Za||Math.abs(m-f)>Za)&&(u.splice(a,0,Ga.push(Vr(s,p,Math.abs(d-t)<Za&&r-m>Za?[t,Math.abs(h-t)<Za?f:r]:Math.abs(m-r)<Za&&n-d>Za?[Math.abs(f-r)<Za?h:n,r]:Math.abs(d-n)<Za&&m-e>Za?[n,Math.abs(h-n)<Za?f:e]:Math.abs(m-e)<Za&&d-t>Za?[Math.abs(f-e)<Za?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var _,v,b,w=1/0;for(i=0,y=null;i<g;++i)(o=Ua[i])&&(b=(_=(s=o.site)[0]-t)*_+(v=s[1]-e)*v)<w&&(w=b,y=o);if(y){var x=[t,e],E=[t,r],C=[n,r],S=[n,e];y.halfedges.push(Ga.push(Vr(s=y.site,x,E))-1,Ga.push(Vr(s,E,C))-1,Ga.push(Vr(s,C,S))-1,Ga.push(Vr(s,S,x))-1)}}for(i=0;i<g;++i)(o=Ua[i])&&(o.halfedges.length||delete Ua[i])}(s,a,u,l)}this.edges=Ga,this.cells=Ua,Va=qa=Ga=Ua=null}function ii(t){return(t=t.slice()).push(t[0]),o([t])}function oi(t,e,n,r){var i=(r=r||{}).steps||64,s=r.units||"kilometers",a=r.angle||0,u=r.pivot||t,l=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!E(i))throw new Error("steps must be a number");if(!E(a))throw new Error("angle must be a number");var c=q(t);if("degrees"===s)var h=b(a);else e=Kn(t,e,90,{units:s}),n=Kn(t,n,0,{units:s}),e=q(e)[0]-c[0],n=q(n)[1]-c[1];for(var f=[],p=0;p<i;p+=1){var d=-360*p/i,m=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(si(d),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(si(d),2));if(d<-90&&d>=-270&&(m=-m),d<-180&&d>=-360&&(g=-g),"degrees"===s){var y=m*Math.cos(h)+g*Math.sin(h),_=g*Math.cos(h)-m*Math.sin(h);m=y,g=_}f.push([m+c[0],g+c[1]])}return f.push(f[0]),"degrees"===s?o([f],l):ar(o([f],l),a,{pivot:u})}function si(t){var e=t*Math.PI/180;return Math.tan(e)}function ai(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,s=0,a=0;return L(t,function(t,e,n){var r=n[i];if(!E(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&I(t,function(t){o+=t[0]*r,s+=t[1]*r,a+=r})}),r([o/a,s/a],n)}function ui(t,e,n,i){var o=n.properties.tolerance||.001,s=0,a=0,u=0,l=0;if(T(n,function(e){var n=e.properties.weight,r=null==n?1:n;if(!E(r=Number(r)))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*Nt(e,t);0===i&&(i=1);var o=r/i;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,u+=o}}),l<1)throw new Error("no features to measure");var c=s/u,h=a/u;return 1===l||0===i||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?r([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),ui([c,h],t,n,i-1))}function li(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function ci(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*di(),180*di()]}function hi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(ci(n)));return l(i)}function fi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;null!=t||(t=1),E(r)||(r=10),E(i)||(i=10);for(var s=[],a=0;a<t;a++){var u=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),c.forEach(function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])}),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(ci(n))),s.push(o([u]))}return l(s)}function pi(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null!=t||(t=1),(!E(r)||r<2)&&(r=10),E(i)||(i=1e-4),E(o)||(o=Math.PI/8);for(var s=[],u=0;u<t;u++){for(var c=[ci(n)],h=0;h<r-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*i;c.push([c[h][0]+p*Math.cos(f),c[h][1]+p*Math.sin(f)])}s.push(a(c))}return l(s)}function di(){return Math.random()-.5}function mi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return T(t,function(t){vi(t.properties,e)&&n.push(t)}),l(n)}function gi(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=_i(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],c=0;c<a.length;c++)u.push(t.features[a[c]]);n(l(u),s,o)}}function yi(t,e,n,r){var i=r;return gi(t,e,function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)}),i}function _i(t,e){var n={};return T(t,function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}}),n}function vi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!vi(t,e[r]))return!1;return!0}return bi(t,e)}function bi(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function wi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function xi(){}function Ei(t){this.message=t||""}function Ci(t){this.message=t||""}function Si(){}function Di(t){return null===t?ml:t.color}function Ii(t){return null===t?null:t.parent}function Ai(t,e){null!==t&&(t.color=e)}function ki(t){return null===t?null:t.left}function Oi(t){return null===t?null:t.right}function Ti(){this.root_=null,this.size_=0}function Ri(){}function Pi(){this.array_=[],arguments[0]instanceof tl&&this.addAll(arguments[0])}function Li(){}function Ni(t){this.message=t||""}function Mi(){this.array_=[]}function Fi(t){switch(t.type){case"Polygon":return pn(t)>1?t:null;case"MultiPolygon":var e=[];if(M(t,function(t){pn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Bi(){this.reset()}function ji(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}function zi(t){return t>1?wp:t<-1?-wp:Math.asin(t)}function Vi(){}function Ui(t,e){t&&Mp.hasOwnProperty(t.type)&&Mp[t.type](t,e)}function qi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function Gi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)qi(t[n],e,1);e.polygonEnd()}function Hi(t){return[Ap(t[1],t[0]),zi(t[2])]}function Yi(t){var e=t[0],n=t[1],r=kp(n);return[r*kp(e),r*Rp(e),Rp(n)]}function Zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Wi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $i(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Xi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ki(t){var e=Pp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ji(t,e){return[t>bp?t-Ep:t<-bp?t+Ep:t,e]}function Qi(t,e,n){return(t%=Ep)?e||n?Bp(eo(t),no(e,n)):eo(t):e||n?no(e,n):Ji}function to(t){return function(e,n){return[(e+=t)>bp?e-Ep:e<-bp?e+Ep:e,n]}}function eo(t){var e=to(t);return e.invert=to(-t),e}function no(t,e){function n(t,e){var n=kp(e),a=kp(t)*n,u=Rp(t)*n,l=Rp(e),c=l*r+a*i;return[Ap(u*o-c*s,a*r-l*i),zi(c*o+u*s)]}var r=kp(t),i=Rp(t),o=kp(e),s=Rp(e);return n.invert=function(t,e){var n=kp(e),a=kp(t)*n,u=Rp(t)*n,l=Rp(e),c=l*o-u*s;return[Ap(u*o+l*s,a*r+c*i),zi(c*r-a*i)]},n}function ro(t,e){(e=Yi(e))[0]-=t,Ki(e);var n=function(t){return t>1?0:t<-1?bp:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+Ep-vp)%Ep}function io(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function oo(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function so(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,l){var c=0,h=0;if(null==i||(c=s(i,a))!==(h=s(o,a))||u(i,o)<0^a>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+a+4)%4)!==h);else l.point(o[0],o[1])}function s(r,i){return Dp(r[0]-t)<vp?i>0?0:3:Dp(r[0]-n)<vp?i>0?2:1:Dp(r[1]-e)<vp?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){i(t,e)&&w.point(t,e)}function l(o,s){var a=i(o,s);if(h&&f.push([o,s]),v)p=o,d=s,m=a,v=!1,a&&(w.lineStart(),w.point(o,s));else if(a&&_)w.point(o,s);else{var u=[g=Math.max(Yp,Math.min(Hp,g)),y=Math.max(Yp,Math.min(Hp,y))],l=[o=Math.max(Yp,Math.min(Hp,o)),s=Math.max(Yp,Math.min(Hp,s))];zp(u,l,t,e,n,r)?(_||(w.lineStart(),w.point(u[0],u[1])),w.point(l[0],l[1]),a||w.lineEnd(),b=!1):a&&(w.lineStart(),w.point(o,s),b=!1)}g=o,y=s,_=a}var c,h,f,p,d,m,g,y,_,v,b,w=s,x=jp(),E={point:u,lineStart:function(){E.point=l,h&&h.push(f=[]),v=!0,_=!1,g=y=NaN},lineEnd:function(){c&&(l(p,d),m&&_&&x.rejoin(),c.push(x.result())),E.point=u,_&&w.lineEnd()},polygonStart:function(){w=x,c=[],h=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=h.length;n<i;++n)for(var o,s,a=h[n],u=1,l=a.length,c=a[0],f=c[0],p=c[1];u<l;++u)o=f,s=p,f=(c=a[u])[0],p=c[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}(),n=b&&e,i=(c=Gp(c)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Up(c,a,e,o,s),s.polygonEnd()),w=s,c=h=f=null}};return E}}function ao(t){return t.length>1}function uo(t,e){return((t=t.x)[0]<0?t[1]-wp-vp:wp-t[1])-((e=e.x)[0]<0?e[1]-wp-vp:wp-e[1])}function lo(t){return function(e){var n=new co;for(var r in t)n[r]=t[r];return n.stream=e,n}}function co(){}function ho(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Fp(n,t.stream(Qp));var s=Qp.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}function fo(t,e){return[t,Tp(Lp((wp+e)/2))]}function po(t,e){return[Tp(Lp((wp+e)/2)),-t]}function mo(t,n,r,i){var o=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var a=[];return L(t,function(t){var e=mo(t,n,r,i);e&&a.push(e)}),l(a)}var u,c=U(t),h=c[1]>50&&c[3]>50;u=h?{type:s.type,coordinates:yo(s.coordinates,vo(s))}:rn(s);var f,p=(new ic).read(u),d=m(g(n,r),"meters"),y=$h.bufferOp(p,d);if(!go((y=(new oc).write(y)).coordinates))return(f=h?{type:y.type,coordinates:_o(y.coordinates,vo(s))}:on(y)).geometry?f:e(f,o)}function go(t){return Array.isArray(t[0])?go(t[0]):isNaN(t[0])}function yo(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return yo(t,e)})}function _o(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return _o(t,e)})}function vo(t){var e=he(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return sd().center(e).rotate(n).scale(Ao)}function bo(){for(var t=new ic,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=gp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new oc).write(e),properties:arguments[0].properties}}function wo(t,n){var r=$(t),i=$(n);if(Xt(Sn(i,{precision:4})).coordinates[0].length<4)return null;if(Xt(Sn(r,{precision:4})).coordinates[0].length<4)return null;var o=new ic,s=o.read(Sn(r)),a=o.read(Sn(i)),u=ap.intersection(s,a);return u.isEmpty()?null:e((new oc).write(u))}function xo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,r=n)}),r}(t,e)}function Eo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,s=n.mask;if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(s&&-1===["Polygon","MultiPolygon"].indexOf(K(s)))throw new Error("options.mask must be a (Multi)Polygon");var a=t[0],u=t[1],c=t[2],h=t[3],f=(u+h)/2,p=(a+c)/2,d=2*e/Nt([a,f],[c,f],n)*(c-a),m=2*e/Nt([p,u],[p,h],n)*(h-u),g=d/2,y=2*g,_=Math.sqrt(3)/2*m,v=c-a,b=h-u,w=.75*y,x=_,S=Math.floor((v-y)/(y-g/2)),D=(S*w-g/2-v)/2-g/2+w/2,I=Math.floor((b-_)/_),A=(b-I*_)/2,k=I*_-b>_/2;k&&(A-=_/4);for(var O=[],T=[],R=0;R<6;R++){var P=2*Math.PI/6*R;O.push(Math.cos(P)),T.push(Math.sin(P))}for(var L=[],N=0;N<=S;N++)for(var M=0;M<=I;M++){var F=N%2==1;if(!(0===M&&F||0===M&&k)){var B=N*w+a-D,j=M*x+u+A;if(F&&(j-=_/2),!0===i)(function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*i[u],t[1]+n*s[u]]),l.push([t[0]+e*i[(u+1)%6],t[1]+n*s[(u+1)%6]]),l.push(t),a.push(o([l],r))}return a})([B,j],d/2,m/2,r,O,T).forEach(function(t){s?wo(s,t)&&L.push(t):L.push(t)});else{var z=function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++)a.push([t[0]+e*i[u],t[1]+n*s[u]]);return a.push(a[0].slice()),o([a],r)}([B,j],d/2,m/2,r,O,T);s?wo(s,z)&&L.push(z):L.push(z)}}}return l(L)}function Co(t){if(t.features.length<=1)return t;var e=function(t){var e=Bo(),n=[];return M(t,function(t,e){var r=U(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],r={};return M(t,function(t,i){if(r[i])return!0;for(e.remove({index:i},So),r[i]=!0;;){var o=U(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map(function(t){return r[t.index]=!0,e.remove({index:t.index},So),t.geojson});a.push(t),t=bo.apply(this,a)}if(0===s.length)break}n.push(t)}),l(n)}function So(t,e){return t.index===e.index}function Do(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],c=t[2],h=t[3],f=e/Nt([a,u],[c,u],n)*(c-a),p=e/Nt([a,u],[a,h],n)*(h-u),d=c-a,m=h-u,g=Math.floor(d/f),y=Math.floor(m/p),_=(m-y*p)/2,v=a+(d-g*f)/2,b=0;b<g;b++){for(var w=u+_,x=0;x<y;x++){var S=o([[[v,w],[v,w+p],[v+f,w+p],[v+f,w],[v,w]]],r);i?wo(i,S)&&s.push(S):s.push(S),w+=p}v+=f}return l(s)}function Io(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/Nt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Nt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var f=0,p=t[1];p<=t[3];){var d=null,m=null;c%2==0&&f%2==0?(d=o([[[h,p],[h,p+u],[h+a,p],[h,p]]],r),m=o([[[h,p+u],[h+a,p+u],[h+a,p],[h,p+u]]],r)):c%2==0&&f%2==1?(d=o([[[h,p],[h+a,p+u],[h+a,p],[h,p]]],r),m=o([[[h,p],[h,p+u],[h+a,p+u],[h,p]]],r)):f%2==0&&c%2==1?(d=o([[[h,p],[h,p+u],[h+a,p+u],[h,p]]],r),m=o([[[h,p],[h+a,p+u],[h+a,p],[h,p]]],r)):f%2==1&&c%2==1&&(d=o([[[h,p],[h,p+u],[h+a,p],[h,p]]],r),m=o([[[h,p+u],[h+a,p+u],[h+a,p],[h,p+u]]],r)),i?(wo(i,d)&&s.push(d),wo(i,m)&&s.push(m)):(s.push(d),s.push(m)),p+=u,f++}c++,h+=a}return l(s)}var Ao=6371008.8,ko={meters:Ao,metres:Ao,millimeters:1e3*Ao,millimetres:1e3*Ao,centimeters:100*Ao,centimetres:100*Ao,kilometers:Ao/1e3,kilometres:Ao/1e3,miles:Ao/1609.344,nauticalmiles:Ao/1852,inches:39.37*Ao,yards:Ao/1.0936,feet:3.28084*Ao,radians:1,degrees:Ao/111325},Oo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Ao,degrees:1/111325},To={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Ro=Object.freeze({earthRadius:Ao,factors:ko,unitsFactors:Oo,areaFactors:To,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:s,lineString:a,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:h,multiPolygon:f,geometryCollection:p,round:d,radiansToLength:m,lengthToRadians:g,lengthToDegrees:y,bearingToAzimuth:_,radiansToDegrees:v,degreesToRadians:b,convertLength:w,convertArea:x,isNumber:E,isObject:C,validateBBox:S,validateId:D,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Po=Object.freeze({coordEach:I,coordReduce:A,propEach:k,propReduce:O,featureEach:T,featureReduce:R,coordAll:P,geomEach:L,geomReduce:N,flattenEach:M,flattenReduce:F,segmentEach:B,segmentReduce:j,lineEach:z,lineReduce:V}),Lo=Object.freeze({getCoord:q,getCoords:G,containsNumber:H,geojsonType:Y,featureOf:Z,collectionOf:W,getGeom:$,getGeomType:X,getType:K}),No={successCallback:null,verbose:!1},Mo={},Fo=function t(e,n,r,i,o){for(r=r||0,i=i||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};i>r;){if(i-r>600){var s=i-r+1,a=n-r+1,u=Math.log(s),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-a*l/s+c)),Math.min(i,Math.floor(n+(s-a)*l/s+c)),o)}var h=e[n],f=r,p=i;for(rt(e,r,n),o(e[i],h)>0&&rt(e,r,i);f<p;){for(rt(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[r],h)?rt(e,r,p):rt(e,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}},Bo=it;it.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!pt(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],pt(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):ft(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],pt(t,s=e.leaf?n(o):o)){if(e.leaf||ft(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=dt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!ft(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:ut,compareMinY:lt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return ot(i=dt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=dt([])).leaf=!1,i.height=r;var a,u,l,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(mt(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(mt(t,a,l=Math.min(a+f-1,n),h,this.compareMinY),u=a;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return ot(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=ct(s=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),at(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=dt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ot(n,this.toBBox),ot(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=st(t,0,r,this.toBBox),o=st(t,r,n,this.toBBox)),a=ct(i)+ct(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ut,i=t.leaf?this.compareMinY:lt;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=st(t,0,e,s),u=st(t,n-e,n,s),l=ht(a)+ht(u);for(i=e;i<n-e;i++)o=t.children[i],at(a,t.leaf?s(o):o),l+=ht(a);for(i=n-e-1;i>=e;i--)o=t.children[i],at(u,t.leaf?s(o):o),l+=ht(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)at(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var jo=function(t,e,n){var r=t*e,i=zo*t,o=i-(i-t),s=t-o,a=zo*e,u=a-(a-e),l=e-u,c=s*l-(r-o*u-s*u-o*l);return n?(n[0]=c,n[1]=r,n):[c,r]},zo=+(Math.pow(2,27)+1),Vo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=e[l],d=c(p);f<d?(o=h,(u+=1)<n&&(f=c(h=t[u]))):(o=p,(l+=1)<r&&(d=c(p=e[l]))),u<n&&f<d||l>=r?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=e[l])));for(var m,g,y=i+o,_=y-i,v=o-_,b=v,w=y;u<n&&l<r;)f<d?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=e[l]))),(v=(o=b)-(_=(y=i+o)-i))&&(s[a++]=v),b=w-((m=w+y)-(g=m-w))+(y-g),w=m;for(;u<n;)(v=(o=b)-(_=(y=(i=h)+o)-i))&&(s[a++]=v),b=w-((m=w+y)-(g=m-w))+(y-g),w=m,(u+=1)<n&&(h=t[u]);for(;l<r;)(v=(o=b)-(_=(y=(i=p)+o)-i))&&(s[a++]=v),b=w-((m=w+y)-(g=m-w))+(y-g),w=m,(l+=1)<r&&(p=e[l]);return b&&(s[a++]=b),w&&(s[a++]=w),a||(s[a++]=0),s.length=a,s},Uo=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);return n?(n[0]=s+o,n[1]=r,n):[s+o,r]},qo=function(t,e){var n=t.length;if(1===n){var r=jo(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;jo(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<n;++u){jo(t[u],e,s),Uo(o[1],s[0],o),o[0]&&(i[a++]=o[0]);var l=s[1],c=o[1],h=l+c,f=c-(h-l);o[1]=h,f&&(i[a++]=f)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},Go=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=-e[l],d=c(p);f<d?(o=h,(u+=1)<n&&(f=c(h=t[u]))):(o=p,(l+=1)<r&&(d=c(p=-e[l]))),u<n&&f<d||l>=r?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=-e[l])));for(var m,g,y=i+o,_=y-i,v=o-_,b=v,w=y;u<n&&l<r;)f<d?(i=h,(u+=1)<n&&(f=c(h=t[u]))):(i=p,(l+=1)<r&&(d=c(p=-e[l]))),(v=(o=b)-(_=(y=i+o)-i))&&(s[a++]=v),b=w-((m=w+y)-(g=m-w))+(y-g),w=m;for(;u<n;)(v=(o=b)-(_=(y=(i=h)+o)-i))&&(s[a++]=v),b=w-((m=w+y)-(g=m-w))+(y-g),w=m,(u+=1)<n&&(h=t[u]);for(;l<r;)(v=(o=b)-(_=(y=(i=p)+o)-i))&&(s[a++]=v),b=w-((m=w+y)-(g=m-w))+(y-g),w=m,(l+=1)<r&&(p=-e[l]);return b&&(s[a++]=b),w&&(s[a++]=w),a||(s[a++]=0),s.length=a,s},Ho=gt(function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],s=0;s<t.length;++s)o.push(["scale(",r(i(e(t,s))),",",n(s),t[0][s],")"].join(""));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(s,u))):o.push.apply(o,i(e(s,u))),a.push("m"+u);var l=r(n),c=r(o),h="orientation"+t+"Exact",f=["function ",h,"(",a.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(Vo,jo,qo,Go)}var s=o(3),a=o(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var u=33306690738754716e-32*r;return a>=u||a<=-u?a:s(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],s=n[0]-r[0],u=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],h=t[2]-r[2],f=e[2]-r[2],p=n[2]-r[2],d=o*c,m=s*l,g=s*u,y=i*c,_=i*l,v=o*u,b=h*(d-m)+f*(g-y)+p*(_-v),w=7771561172376103e-31*((Math.abs(d)+Math.abs(m))*Math.abs(h)+(Math.abs(g)+Math.abs(y))*Math.abs(f)+(Math.abs(_)+Math.abs(v))*Math.abs(p));return b>w||-b>w?b:a(t,e,n,r)}];!function(){for(;u.length<=5;)u.push(o(u.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}].concat(u)),r=0;r<=5;++r)t.exports[r]=u[r]}()}),Yo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var o=[i[0],i[1]],s=[i[0],i[1]];for(r=2;r<e;++r){for(var a=i[r],u=t[a],l=o.length;l>1&&Zo(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(a),l=s.length;l>1&&Zo(t[s[l-2]],t[s[l-1]],u)>=0;)l-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var c=0,h=(r=0,o.length);r<h;++r)n[c++]=o[r];for(var f=s.length-2;f>0;--f)n[c++]=s[f];return n},Zo=Ho[3],Wo=yt,$o=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},Wo.default=$o;var Xo=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][1];u>r!=l>r&&n<(e[s][0]-a)*(r-u)/(l-u)+a&&(i=!i)}return i},Ko=Ho[3],Jo=_t;Jo.default=_t;var Qo=function(t){return t},ts=function(t){if(null==t)return Qo;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+s;u<l;)c[u]=t[u],++u;return c}},es=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},ns=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),s.push(i)}}var r={},i={},o={},s=[],a=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)}),e.forEach(function(e){var n,r,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=a,r=o[a]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=a]=o[n.end=u]=n}),n(o,i),n(i,o),e.forEach(function(t){r[t<0?~t:t]||s.push([t])}),s},rs=function(t){return Vt(t,Ut.apply(this,arguments))},is=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;return{set:function(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l]=o;if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o},get:function(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)break;c=s[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}}},os=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ss=new ArrayBuffer(16),as=new Float64Array(ss),us=new Uint32Array(ss),ls=function(t){as[0]=t[0],as[1]=t[1];var e=us[0]^us[1];return 2147483647&(e<<5^e>>7^us[2]^us[3])},cs=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,s=1/0,a=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return a>=o&&u>=s?[o,s,a,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Gt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-l)*p),Math.round((t[1]-c)*d)]}function i(t,e){for(var n,r,i,o,s,a=-1,u=0,h=t.length,f=new Array(h);++a<h;)n=t[a],o=Math.round((n[0]-l)*p),s=Math.round((n[1]-c)*d),o===r&&s===i||(f[u++]=[r=o,i=s]);for(f.length=u;u<e;)u=f.push([f[0][0],f[0][1]]);return f}function o(t){return i(t,2)}function s(t){return i(t,4)}function a(t){return t.map(s)}function u(t){null!=t&&m.hasOwnProperty(t.type)&&m[t.type](t)}var l=e[0],c=e[1],h=e[2],f=e[3],p=h-l?(n-1)/(h-l):1,d=f-c?(n-1)/(f-c):1,m={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var g in t)u(t[g]);return{scale:[1/p,1/d],translate:[l,c]}}(t,o,e),a=function(t){function e(t){var e,n,r,i,o,s,a,u;if(r=p.get(e=l[t[0]]))for(a=0,u=r.length;a<u;++a)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!os(l[n],l[r]))return!1;return!0}(i=r[a],t))return t[0]=i[0],void(t[1]=i[1]);if(o=p.get(n=l[t[1]]))for(a=0,u=o.length;a<u;++a)if(function(t,e){var n=t[0],r=t[1],i=e[1];if(n-r!=e[0]-i)return!1;for(;n<=r;++n,--i)if(!os(l[n],l[i]))return!1;return!0}(s=o[a],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var s=i(t),a=i(e),u=0;u<o;++u)if(!os(l[n+(u+s)%o],l[r+(u+a)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[1],o=t[1]-n;if(o!==r-e[0])return!1;for(var s=i(t),a=o-i(e),u=0;u<o;++u)if(!os(l[n+(u+s)%o],l[r-(u+a)%o]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=l[r];++r<n;){var s=l[r];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(i=r,o=s)}return i-e}var o,s,a,u,l=t.coordinates,c=t.lines,h=t.rings,f=c.length+h.length;for(delete t.lines,delete t.rings,a=0,u=c.length;a<u;++a)for(o=c[a];o=o.next;)++f;for(a=0,u=h.length;a<u;++a)for(s=h[a];s=s.next;)++f;var p=is(2*f*1.4,ls,os),d=t.arcs=[];for(a=0,u=c.length;a<u;++a){o=c[a];do{e(o)}while(o=o.next)}for(a=0,u=h.length;a<u;++a)if((s=h[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,u;if(o=p.get(l[t[0]]))for(a=0,u=o.length;a<u;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=p.get(e=l[t[0]+i(t)]))for(a=0,u=o.length;a<u;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(s);return t}(function(t){var e,n,r,i=function(t){function e(t,e,n,r){if(f[n]!==t){f[n]=t;var i=p[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++g,m[n]=1)}else p[n]=e,d[n]=r}}function n(t){return ls(u[t])}function r(t,e){return os(u[t],u[e])}var i,o,s,a,u=t.coordinates,l=t.lines,c=t.rings,h=function(){for(var t=is(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),f=new Int32Array(u.length),p=new Int32Array(u.length),d=new Int32Array(u.length),m=new Int8Array(u.length),g=0;for(i=0,o=u.length;i<o;++i)f[i]=p[i]=d[i]=-1;for(i=0,o=l.length;i<o;++i){var y=l[i],_=y[0],v=y[1];for(s=h[_],a=h[++_],++g,m[s]=1;++_<=v;)e(i,s,s=a,a=h[_]);++g,m[a]=1}for(i=0,o=u.length;i<o;++i)f[i]=-1;for(i=0,o=c.length;i<o;++i){var b=c[i],w=b[0]+1,x=b[1];for(e(i,h[x-1],s=h[w-1],a=h[w]);++w<=x;)e(i,s,s=a,a=h[w])}f=p=d=null;var E,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;return{add:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=r,!0},has:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,ls,os);for(i=0,o=u.length;i<o;++i)m[E=h[i]]&&C.add(u[E]);return C}(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var h=a[n],f=h[0],p=f,d=h[1],m=i.has(o[f]);++p<d;)i.has(o[p])&&(m?(e={0:p,1:h[1]},h[1]=p,h=h.next=e):(function(t,e,n,r){qt(t,e,n),qt(t,e,e+r),qt(t,e+r,n)}(o,f,d,d-p),o[d]=o[f],m=!0,p=f));return t}(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function i(t){return t.map(r)}var o=-1,s=[],a=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:s,rings:a,objects:t}}(t))),u=a.coordinates,l=is(1.4*a.arcs.length,Zt,Wt);t=a.objects,a.bbox=o,a.arcs=a.arcs.map(function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)}),delete a.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var h in t)n(t[h]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],h=l[1];++s<u;)r=(l=o[s])[0],i=l[1],r===c&&i===h||(o[a++]=[r-c,i-h],c=r,h=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},hs=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};hs.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},hs.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},hs.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var fs=de,ps=de;de.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(ke(t,0,i?e[0]*n:t.length,n));if(i)for(var s=0,a=e.length;s<a;s++)o-=Math.abs(ke(t,e[s]*n,s<a-1?e[s+1]*n:t.length,n));var u=0;for(s=0;s<r.length;s+=3){var l=r[s]*n,c=r[s+1]*n,h=r[s+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},de.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&n.holes.push(r+=t[i-1].length)}return n},fs.default=ps,Ne.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ge(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],Ge(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):qe(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ge(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Ge(t,s=e.leaf?n(o):o)){if(e.leaf||qe(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=He([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!qe(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:je,compareMinY:ze,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return Me(i=He(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=He([])).leaf=!1,i.height=r;var a,u,l,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(Ye(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(Ye(t,a,l=Math.min(a+f-1,n),h,this.compareMinY),u=a;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,r-1));return Me(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,h;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=Ve(s=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=n?t:(0,this.toBBox)(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),Be(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=He(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Me(n,this.toBBox),Me(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=He([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Me(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=Fe(t,0,r,this.toBBox),o=Fe(t,r,n,this.toBBox)),a=Ve(i)+Ve(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:je,i=t.leaf?this.compareMinY:ze;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=Fe(t,0,e,s),u=Fe(t,n-e,n,s),l=Ue(a)+Ue(u);for(i=e;i<n-e;i++)o=t.children[i],Be(a,t.leaf?s(o):o),l+=Ue(a);for(i=n-e-1;i>=e;i--)o=t.children[i],Be(u,t.leaf?s(o):o),l+=Ue(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Be(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Me(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ds=Object.freeze({toMercator:rn,toWgs84:on}),ms=6378137,gs=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},ys=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var _s=Math.PI/180,vs=180/Math.PI,bs=function(t,e){this.lon=t,this.lat=e,this.x=_s*t,this.y=_s*e};bs.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},bs.prototype.antipode=function(){return new bs(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var ws=function(){this.coords=[],this.length=0};ws.prototype.move_to=function(t){this.length++,this.coords.push(t)};var xs=function(t){this.properties=t||{},this.geometries=[]};xs.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},xs.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Es=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new bs(t.x,t.y),this.end=new bs(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Es.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=vs*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[vs*Math.atan2(i,r),s]},Es.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=this.interpolate(r*i);n.push(o)}for(var s=!1,a=0,u=e&&e.offset?e.offset:10,l=180-u,c=-180+u,h=360-u,f=1;f<n.length;++f){var p=n[f-1][0],d=n[f][0],m=Math.abs(d-p);m>h&&(d>l&&p<c||p>l&&d<c)?s=!0:m>a&&(a=m)}var g=[];if(s&&a<u){var y=[];g.push(y);for(var _=0;_<n.length;++_){var v=parseFloat(n[_][0]);if(_>0&&Math.abs(v-n[_-1][0])>h){var b=parseFloat(n[_-1][0]),w=parseFloat(n[_-1][1]),x=parseFloat(n[_][0]),E=parseFloat(n[_][1]);if(b>-180&&b<c&&180===x&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<c){y.push([-180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(b>l&&b<180&&-180===x&&_+1<n.length&&n[_-1][0]>l&&n[_-1][0]<180){y.push([180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(b<c&&x>l){var C=b;b=x,x=C;var S=w;w=E,E=S}if(b>l&&x<c&&(x+=360),b<=180&&x>=180&&b<x){var D=(180-b)/(x-b),I=D*E+(1-D)*w;y.push([n[_-1][0]>l?180:-180,I]),(y=[]).push([n[_-1][0]>l?-180:180,I]),g.push(y)}else g.push(y=[]);y.push([v,n[_][1]])}else y.push([n[_][0],n[_][1]])}}else{var A=[];g.push(A);for(var k=0;k<n.length;++k)A.push([n[k][0],n[k][1]])}for(var O=new xs(this.properties),T=0;T<g.length;++T){var R=new ws;O.geometries.push(R);for(var P=g[T],L=0;L<P.length;++L)R.move_to(P[L])}return O};var Cs=zn;zn.polyline=zn,zn.polygon=function(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Un(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(Un(a=t[s],e)&r))!==o&&n.push(Vn(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n};var Ss=Array.prototype.slice,Ds={successCallback:null,verbose:!1,polygons:!1},Is={},As=64,ks=16,Os=4,Ts=1,Rs=[],Ps=[],Ls=[],Ns=[],Ms=[],Fs=[],Bs=[],js=[],zs=[],Vs=[],Us=[],qs=[],Gs=[],Hs=[],Ys=[],Zs=[],Ws=[],$s=[],Xs=[],Ks=[],Js=[],Qs=[],ta=[],ea=[];Bs[85]=Vs[85]=-1,js[85]=Us[85]=0,zs[85]=qs[85]=1,Xs[85]=Qs[85]=1,Ks[85]=ta[85]=0,Js[85]=ea[85]=1,Rs[85]=Ns[85]=0,Ps[85]=Ms[85]=-1,Ls[85]=Ys[85]=0,Zs[85]=Gs[85]=0,Ws[85]=Hs[85]=1,Fs[85]=$s[85]=1,Qs[1]=Qs[169]=0,ta[1]=ta[169]=-1,ea[1]=ea[169]=0,Gs[1]=Gs[169]=-1,Hs[1]=Hs[169]=0,Ys[1]=Ys[169]=0,Vs[4]=Vs[166]=0,Us[4]=Us[166]=-1,qs[4]=qs[166]=1,Zs[4]=Zs[166]=1,Ws[4]=Ws[166]=0,$s[4]=$s[166]=0,Bs[16]=Bs[154]=0,js[16]=js[154]=1,zs[16]=zs[154]=1,Ns[16]=Ns[154]=1,Ms[16]=Ms[154]=0,Fs[16]=Fs[154]=1,Xs[64]=Xs[106]=0,Ks[64]=Ks[106]=1,Js[64]=Js[106]=0,Rs[64]=Rs[106]=-1,Ps[64]=Ps[106]=0,Ls[64]=Ls[106]=1,Xs[2]=Xs[168]=0,Ks[2]=Ks[168]=-1,Js[2]=Js[168]=1,Qs[2]=Qs[168]=0,ta[2]=ta[168]=-1,ea[2]=ea[168]=0,Gs[2]=Gs[168]=-1,Hs[2]=Hs[168]=0,Ys[2]=Ys[168]=0,Zs[2]=Zs[168]=-1,Ws[2]=Ws[168]=0,$s[2]=$s[168]=1,Bs[8]=Bs[162]=0,js[8]=js[162]=-1,zs[8]=zs[162]=0,Vs[8]=Vs[162]=0,Us[8]=Us[162]=-1,qs[8]=qs[162]=1,Gs[8]=Gs[162]=1,Hs[8]=Hs[162]=0,Ys[8]=Ys[162]=1,Zs[8]=Zs[162]=1,Ws[8]=Ws[162]=0,$s[8]=$s[162]=0,Bs[32]=Bs[138]=0,js[32]=js[138]=1,zs[32]=zs[138]=1,Vs[32]=Vs[138]=0,Us[32]=Us[138]=1,qs[32]=qs[138]=0,Rs[32]=Rs[138]=1,Ps[32]=Ps[138]=0,Ls[32]=Ls[138]=0,Ns[32]=Ns[138]=1,Ms[32]=Ms[138]=0,Fs[32]=Fs[138]=1,Qs[128]=Qs[42]=0,ta[128]=ta[42]=1,ea[128]=ea[42]=1,Xs[128]=Xs[42]=0,Ks[128]=Ks[42]=1,Js[128]=Js[42]=0,Rs[128]=Rs[42]=-1,Ps[128]=Ps[42]=0,Ls[128]=Ls[42]=1,Ns[128]=Ns[42]=-1,Ms[128]=Ms[42]=0,Fs[128]=Fs[42]=0,Vs[5]=Vs[165]=-1,Us[5]=Us[165]=0,qs[5]=qs[165]=0,Qs[5]=Qs[165]=1,ta[5]=ta[165]=0,ea[5]=ea[165]=0,Zs[20]=Zs[150]=0,Ws[20]=Ws[150]=1,$s[20]=$s[150]=1,Ns[20]=Ns[150]=0,Ms[20]=Ms[150]=-1,Fs[20]=Fs[150]=1,Bs[80]=Bs[90]=-1,js[80]=js[90]=0,zs[80]=zs[90]=1,Xs[80]=Xs[90]=1,Ks[80]=Ks[90]=0,Js[80]=Js[90]=1,Gs[65]=Gs[105]=0,Hs[65]=Hs[105]=1,Ys[65]=Ys[105]=0,Rs[65]=Rs[105]=0,Ps[65]=Ps[105]=-1,Ls[65]=Ls[105]=0,Bs[160]=Bs[10]=-1,js[160]=js[10]=0,zs[160]=zs[10]=1,Vs[160]=Vs[10]=-1,Us[160]=Us[10]=0,qs[160]=qs[10]=0,Qs[160]=Qs[10]=1,ta[160]=ta[10]=0,ea[160]=ea[10]=0,Xs[160]=Xs[10]=1,Ks[160]=Ks[10]=0,Js[160]=Js[10]=1,Zs[130]=Zs[40]=0,Ws[130]=Ws[40]=1,$s[130]=$s[40]=1,Gs[130]=Gs[40]=0,Hs[130]=Hs[40]=1,Ys[130]=Ys[40]=0,Rs[130]=Rs[40]=0,Ps[130]=Ps[40]=-1,Ls[130]=Ls[40]=0,Ns[130]=Ns[40]=0,Ms[130]=Ms[40]=-1,Fs[130]=Fs[40]=1,Vs[37]=Vs[133]=0,Us[37]=Us[133]=1,qs[37]=qs[133]=1,Qs[37]=Qs[133]=0,ta[37]=ta[133]=1,ea[37]=ea[133]=0,Rs[37]=Rs[133]=-1,Ps[37]=Ps[133]=0,Ls[37]=Ls[133]=0,Ns[37]=Ns[133]=1,Ms[37]=Ms[133]=0,Fs[37]=Fs[133]=0,Zs[148]=Zs[22]=-1,Ws[148]=Ws[22]=0,$s[148]=$s[22]=0,Qs[148]=Qs[22]=0,ta[148]=ta[22]=-1,ea[148]=ea[22]=1,Xs[148]=Xs[22]=0,Ks[148]=Ks[22]=1,Js[148]=Js[22]=1,Ns[148]=Ns[22]=-1,Ms[148]=Ms[22]=0,Fs[148]=Fs[22]=1,Bs[82]=Bs[88]=0,js[82]=js[88]=-1,zs[82]=zs[88]=1,Zs[82]=Zs[88]=1,Ws[82]=Ws[88]=0,$s[82]=$s[88]=1,Gs[82]=Gs[88]=-1,Hs[82]=Hs[88]=0,Ys[82]=Ys[88]=1,Xs[82]=Xs[88]=0,Ks[82]=Ks[88]=-1,Js[82]=Js[88]=0,Bs[73]=Bs[97]=0,js[73]=js[97]=1,zs[73]=zs[97]=0,Vs[73]=Vs[97]=0,Us[73]=Us[97]=-1,qs[73]=qs[97]=0,Gs[73]=Gs[97]=1,Hs[73]=Hs[97]=0,Ys[73]=Ys[97]=0,Rs[73]=Rs[97]=1,Ps[73]=Ps[97]=0,Ls[73]=Ls[97]=1,Bs[145]=Bs[25]=0,js[145]=js[25]=-1,zs[145]=zs[25]=0,Gs[145]=Gs[25]=1,Hs[145]=Hs[25]=0,Ys[145]=Ys[25]=1,Qs[145]=Qs[25]=0,ta[145]=ta[25]=1,ea[145]=ea[25]=1,Ns[145]=Ns[25]=-1,Ms[145]=Ms[25]=0,Fs[145]=Fs[25]=0,Vs[70]=Vs[100]=0,Us[70]=Us[100]=1,qs[70]=qs[100]=0,Zs[70]=Zs[100]=-1,Ws[70]=Ws[100]=0,$s[70]=$s[100]=1,Xs[70]=Xs[100]=0,Ks[70]=Ks[100]=-1,Js[70]=Js[100]=1,Rs[70]=Rs[100]=1,Ps[70]=Ps[100]=0,Ls[70]=Ls[100]=0,Vs[101]=Vs[69]=0,Us[101]=Us[69]=1,qs[101]=qs[69]=0,Rs[101]=Rs[69]=1,Ps[101]=Ps[69]=0,Ls[101]=Ls[69]=0,Qs[149]=Qs[21]=0,ta[149]=ta[21]=1,ea[149]=ea[21]=1,Ns[149]=Ns[21]=-1,Ms[149]=Ms[21]=0,Fs[149]=Fs[21]=0,Zs[86]=Zs[84]=-1,Ws[86]=Ws[84]=0,$s[86]=$s[84]=1,Xs[86]=Xs[84]=0,Ks[86]=Ks[84]=-1,Js[86]=Js[84]=1,Bs[89]=Bs[81]=0,js[89]=js[81]=-1,zs[89]=zs[81]=0,Gs[89]=Gs[81]=1,Hs[89]=Hs[81]=0,Ys[89]=Ys[81]=1,Bs[96]=Bs[74]=0,js[96]=js[74]=1,zs[96]=zs[74]=0,Vs[96]=Vs[74]=-1,Us[96]=Us[74]=0,qs[96]=qs[74]=1,Xs[96]=Xs[74]=1,Ks[96]=Ks[74]=0,Js[96]=Js[74]=0,Rs[96]=Rs[74]=1,Ps[96]=Ps[74]=0,Ls[96]=Ls[74]=1,Bs[24]=Bs[146]=0,js[24]=js[146]=-1,zs[24]=zs[146]=1,Zs[24]=Zs[146]=1,Ws[24]=Ws[146]=0,$s[24]=$s[146]=1,Gs[24]=Gs[146]=0,Hs[24]=Hs[146]=1,Ys[24]=Ys[146]=1,Ns[24]=Ns[146]=0,Ms[24]=Ms[146]=-1,Fs[24]=Fs[146]=0,Vs[6]=Vs[164]=-1,Us[6]=Us[164]=0,qs[6]=qs[164]=1,Zs[6]=Zs[164]=-1,Ws[6]=Ws[164]=0,$s[6]=$s[164]=0,Qs[6]=Qs[164]=0,ta[6]=ta[164]=-1,ea[6]=ea[164]=1,Xs[6]=Xs[164]=1,Ks[6]=Ks[164]=0,Js[6]=Js[164]=0,Gs[129]=Gs[41]=0,Hs[129]=Hs[41]=1,Ys[129]=Ys[41]=1,Qs[129]=Qs[41]=0,ta[129]=ta[41]=1,ea[129]=ea[41]=0,Rs[129]=Rs[41]=-1,Ps[129]=Ps[41]=0,Ls[129]=Ls[41]=0,Ns[129]=Ns[41]=0,Ms[129]=Ms[41]=-1,Fs[129]=Fs[41]=0,Zs[66]=Zs[104]=0,Ws[66]=Ws[104]=1,$s[66]=$s[104]=0,Gs[66]=Gs[104]=-1,Hs[66]=Hs[104]=0,Ys[66]=Ys[104]=1,Xs[66]=Xs[104]=0,Ks[66]=Ks[104]=-1,Js[66]=Js[104]=0,Rs[66]=Rs[104]=0,Ps[66]=Ps[104]=-1,Ls[66]=Ls[104]=1,Bs[144]=Bs[26]=-1,js[144]=js[26]=0,zs[144]=zs[26]=0,Qs[144]=Qs[26]=1,ta[144]=ta[26]=0,ea[144]=ea[26]=1,Xs[144]=Xs[26]=0,Ks[144]=Ks[26]=1,Js[144]=Js[26]=1,Ns[144]=Ns[26]=-1,Ms[144]=Ms[26]=0,Fs[144]=Fs[26]=1,Vs[36]=Vs[134]=0,Us[36]=Us[134]=1,qs[36]=qs[134]=1,Zs[36]=Zs[134]=0,Ws[36]=Ws[134]=1,$s[36]=$s[134]=0,Rs[36]=Rs[134]=0,Ps[36]=Ps[134]=-1,Ls[36]=Ls[134]=1,Ns[36]=Ns[134]=1,Ms[36]=Ms[134]=0,Fs[36]=Fs[134]=0,Bs[9]=Bs[161]=-1,js[9]=js[161]=0,zs[9]=zs[161]=0,Vs[9]=Vs[161]=0,Us[9]=Us[161]=-1,qs[9]=qs[161]=0,Gs[9]=Gs[161]=1,Hs[9]=Hs[161]=0,Ys[9]=Ys[161]=0,Qs[9]=Qs[161]=1,ta[9]=ta[161]=0,ea[9]=ea[161]=1,Bs[136]=0,js[136]=1,zs[136]=1,Vs[136]=0,Us[136]=1,qs[136]=0,Zs[136]=-1,Ws[136]=0,$s[136]=1,Gs[136]=-1,Hs[136]=0,Ys[136]=0,Qs[136]=0,ta[136]=-1,ea[136]=0,Xs[136]=0,Ks[136]=-1,Js[136]=1,Rs[136]=1,Ps[136]=0,Ls[136]=0,Ns[136]=1,Ms[136]=0,Fs[136]=1,Bs[34]=0,js[34]=-1,zs[34]=0,Vs[34]=0,Us[34]=-1,qs[34]=1,Zs[34]=1,Ws[34]=0,$s[34]=0,Gs[34]=1,Hs[34]=0,Ys[34]=1,Qs[34]=0,ta[34]=1,ea[34]=1,Xs[34]=0,Ks[34]=1,Js[34]=0,Rs[34]=-1,Ps[34]=0,Ls[34]=1,Ns[34]=-1,Ms[34]=0,Fs[34]=0,Bs[35]=0,js[35]=1,zs[35]=1,Vs[35]=0,Us[35]=-1,qs[35]=1,Zs[35]=1,Ws[35]=0,$s[35]=0,Gs[35]=-1,Hs[35]=0,Ys[35]=0,Qs[35]=0,ta[35]=-1,ea[35]=0,Xs[35]=0,Ks[35]=1,Js[35]=0,Rs[35]=-1,Ps[35]=0,Ls[35]=1,Ns[35]=1,Ms[35]=0,Fs[35]=1,Bs[153]=0,js[153]=1,zs[153]=1,Gs[153]=-1,Hs[153]=0,Ys[153]=0,Qs[153]=0,ta[153]=-1,ea[153]=0,Ns[153]=1,Ms[153]=0,Fs[153]=1,Vs[102]=0,Us[102]=-1,qs[102]=1,Zs[102]=1,Ws[102]=0,$s[102]=0,Xs[102]=0,Ks[102]=1,Js[102]=0,Rs[102]=-1,Ps[102]=0,Ls[102]=1,Bs[155]=0,js[155]=-1,zs[155]=0,Gs[155]=1,Hs[155]=0,Ys[155]=1,Qs[155]=0,ta[155]=1,ea[155]=1,Ns[155]=-1,Ms[155]=0,Fs[155]=0,Vs[103]=0,Us[103]=1,qs[103]=0,Zs[103]=-1,Ws[103]=0,$s[103]=1,Xs[103]=0,Ks[103]=-1,Js[103]=1,Rs[103]=1,Ps[103]=0,Ls[103]=0,Bs[152]=0,js[152]=1,zs[152]=1,Zs[152]=-1,Ws[152]=0,$s[152]=1,Gs[152]=-1,Hs[152]=0,Ys[152]=0,Qs[152]=0,ta[152]=-1,ea[152]=0,Xs[152]=0,Ks[152]=-1,Js[152]=1,Ns[152]=1,Ms[152]=0,Fs[152]=1,Bs[156]=0,js[156]=-1,zs[156]=1,Zs[156]=1,Ws[156]=0,$s[156]=1,Gs[156]=-1,Hs[156]=0,Ys[156]=0,Qs[156]=0,ta[156]=-1,ea[156]=0,Xs[156]=0,Ks[156]=1,Js[156]=1,Ns[156]=-1,Ms[156]=0,Fs[156]=1,Bs[137]=0,js[137]=1,zs[137]=1,Vs[137]=0,Us[137]=1,qs[137]=0,Gs[137]=-1,Hs[137]=0,Ys[137]=0,Qs[137]=0,ta[137]=-1,ea[137]=0,Rs[137]=1,Ps[137]=0,Ls[137]=0,Ns[137]=1,Ms[137]=0,Fs[137]=1,Bs[139]=0,js[139]=1,zs[139]=1,Vs[139]=0,Us[139]=-1,qs[139]=0,Gs[139]=1,Hs[139]=0,Ys[139]=0,Qs[139]=0,ta[139]=1,ea[139]=0,Rs[139]=-1,Ps[139]=0,Ls[139]=0,Ns[139]=1,Ms[139]=0,Fs[139]=1,Bs[98]=0,js[98]=-1,zs[98]=0,Vs[98]=0,Us[98]=-1,qs[98]=1,Zs[98]=1,Ws[98]=0,$s[98]=0,Gs[98]=1,Hs[98]=0,Ys[98]=1,Xs[98]=0,Ks[98]=1,Js[98]=0,Rs[98]=-1,Ps[98]=0,Ls[98]=1,Bs[99]=0,js[99]=1,zs[99]=0,Vs[99]=0,Us[99]=-1,qs[99]=1,Zs[99]=1,Ws[99]=0,$s[99]=0,Gs[99]=-1,Hs[99]=0,Ys[99]=1,Xs[99]=0,Ks[99]=-1,Js[99]=0,Rs[99]=1,Ps[99]=0,Ls[99]=1,Vs[38]=0,Us[38]=-1,qs[38]=1,Zs[38]=1,Ws[38]=0,$s[38]=0,Qs[38]=0,ta[38]=1,ea[38]=1,Xs[38]=0,Ks[38]=1,Js[38]=0,Rs[38]=-1,Ps[38]=0,Ls[38]=1,Ns[38]=-1,Ms[38]=0,Fs[38]=0,Vs[39]=0,Us[39]=1,qs[39]=1,Zs[39]=-1,Ws[39]=0,$s[39]=0,Qs[39]=0,ta[39]=-1,ea[39]=1,Xs[39]=0,Ks[39]=1,Js[39]=0,Rs[39]=-1,Ps[39]=0,Ls[39]=1,Ns[39]=1,Ms[39]=0,Fs[39]=0;var na=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ra=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ia=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},oa=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},sa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},aa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},ua=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},la=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ca=[],ha=[],fa=[],pa=[],da=[],ma=[],ga=[],ya=[];pa[1]=da[1]=18,pa[169]=da[169]=18,fa[4]=ha[4]=12,fa[166]=ha[166]=12,ca[16]=ya[16]=4,ca[154]=ya[154]=4,ma[64]=ga[64]=22,ma[106]=ga[106]=22,fa[2]=ma[2]=17,pa[2]=da[2]=18,fa[168]=ma[168]=17,pa[168]=da[168]=18,ca[8]=pa[8]=9,ha[8]=fa[8]=12,ca[162]=pa[162]=9,ha[162]=fa[162]=12,ca[32]=ya[32]=4,ha[32]=ga[32]=1,ca[138]=ya[138]=4,ha[138]=ga[138]=1,da[128]=ya[128]=21,ma[128]=ga[128]=22,da[42]=ya[42]=21,ma[42]=ga[42]=22,ha[5]=da[5]=14,ha[165]=da[165]=14,fa[20]=ya[20]=6,fa[150]=ya[150]=6,ca[80]=ma[80]=11,ca[90]=ma[90]=11,pa[65]=ga[65]=3,pa[105]=ga[105]=3,ca[160]=ma[160]=11,ha[160]=da[160]=14,ca[10]=ma[10]=11,ha[10]=da[10]=14,fa[130]=ya[130]=6,pa[130]=ga[130]=3,fa[40]=ya[40]=6,pa[40]=ga[40]=3,ha[101]=ga[101]=1,ha[69]=ga[69]=1,da[149]=ya[149]=21,da[21]=ya[21]=21,fa[86]=ma[86]=17,fa[84]=ma[84]=17,ca[89]=pa[89]=9,ca[81]=pa[81]=9,ca[96]=ga[96]=0,ha[96]=ma[96]=15,ca[74]=ga[74]=0,ha[74]=ma[74]=15,ca[24]=fa[24]=8,pa[24]=ya[24]=7,ca[146]=fa[146]=8,pa[146]=ya[146]=7,ha[6]=ma[6]=15,fa[6]=da[6]=16,ha[164]=ma[164]=15,fa[164]=da[164]=16,pa[129]=ya[129]=7,da[129]=ga[129]=20,pa[41]=ya[41]=7,da[41]=ga[41]=20,fa[66]=ga[66]=2,pa[66]=ma[66]=19,fa[104]=ga[104]=2,pa[104]=ma[104]=19,ca[144]=da[144]=10,ma[144]=ya[144]=23,ca[26]=da[26]=10,ma[26]=ya[26]=23,ha[36]=ya[36]=5,fa[36]=ga[36]=2,ha[134]=ya[134]=5,fa[134]=ga[134]=2,ca[9]=da[9]=10,ha[9]=pa[9]=13,ca[161]=da[161]=10,ha[161]=pa[161]=13,ha[37]=ya[37]=5,da[37]=ga[37]=20,ha[133]=ya[133]=5,da[133]=ga[133]=20,fa[148]=da[148]=16,ma[148]=ya[148]=23,fa[22]=da[22]=16,ma[22]=ya[22]=23,ca[82]=fa[82]=8,pa[82]=ma[82]=19,ca[88]=fa[88]=8,pa[88]=ma[88]=19,ca[73]=ga[73]=0,ha[73]=pa[73]=13,ca[97]=ga[97]=0,ha[97]=pa[97]=13,ca[145]=pa[145]=9,da[145]=ya[145]=21,ca[25]=pa[25]=9,da[25]=ya[25]=21,ha[70]=ga[70]=1,fa[70]=ma[70]=17,ha[100]=ga[100]=1,fa[100]=ma[100]=17,ca[34]=pa[34]=9,ha[34]=fa[34]=12,da[34]=ya[34]=21,ma[34]=ga[34]=22,ca[136]=ya[136]=4,ha[136]=ga[136]=1,fa[136]=ma[136]=17,pa[136]=da[136]=18,ca[35]=ya[35]=4,ha[35]=fa[35]=12,pa[35]=da[35]=18,ma[35]=ga[35]=22,ca[153]=ya[153]=4,pa[153]=da[153]=18,ha[102]=fa[102]=12,ma[102]=ga[102]=22,ca[155]=pa[155]=9,da[155]=ya[155]=23,ha[103]=ga[103]=1,fa[103]=ma[103]=17,ca[152]=ya[152]=4,fa[152]=ma[152]=17,pa[152]=da[152]=18,ca[156]=fa[156]=8,pa[156]=da[156]=18,ma[156]=ya[156]=23,ca[137]=ya[137]=4,ha[137]=ga[137]=1,pa[137]=da[137]=18,ca[139]=ya[139]=4,ha[139]=pa[139]=13,da[139]=ga[139]=20,ca[98]=pa[98]=9,ha[98]=fa[98]=12,ma[98]=ga[98]=22,ca[99]=ga[99]=0,ha[99]=fa[99]=12,pa[99]=ma[99]=19,ha[38]=fa[38]=12,da[38]=ya[38]=21,ma[38]=ga[38]=22,ha[39]=ya[39]=5,fa[39]=da[39]=16,ma[39]=ga[39]=22;var _a=[];_a[1]=_a[169]=na,_a[4]=_a[166]=ra,_a[16]=_a[154]=ia,_a[64]=_a[106]=oa,_a[168]=_a[2]=sa,_a[162]=_a[8]=aa,_a[138]=_a[32]=ua,_a[42]=_a[128]=la,_a[5]=_a[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},_a[20]=_a[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},_a[80]=_a[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},_a[65]=_a[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},_a[160]=_a[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},_a[130]=_a[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},_a[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},_a[101]=_a[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},_a[149]=_a[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},_a[86]=_a[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},_a[89]=_a[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},_a[96]=_a[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[24]=_a[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},_a[6]=_a[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},_a[129]=_a[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},_a[66]=_a[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[144]=_a[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},_a[36]=_a[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},_a[9]=_a[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},_a[37]=_a[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},_a[148]=_a[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},_a[82]=_a[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},_a[73]=_a[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},_a[145]=_a[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},_a[70]=_a[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[34]=function(t){return[la(t),aa(t)]},_a[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},_a[136]=function(t){return[ua(t),sa(t)]},_a[153]=function(t){return[ia(t),na(t)]},_a[102]=function(t){return[ra(t),oa(t)]},_a[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},_a[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[152]=function(t){return[ia(t),sa(t)]},_a[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},_a[137]=function(t){return[ua(t),na(t)]},_a[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},_a[98]=function(t){return[aa(t),oa(t)]},_a[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},_a[38]=function(t){return[ra(t),la(t)]},_a[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var va=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};va.buildId=function(t){return t.join(",")},va.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},va.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},va.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},va.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=pr(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},va.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},va.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},va.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ba=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ba.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ba(this.to,this.from),this.symetric.symetric=this),this.symetric},ba.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ba.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ba.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ba.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},ba.prototype.compareTo=function(t){return pr(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var wa=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},xa={length:{configurable:!0}};wa.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},wa.prototype.get=function(t){return this.edges[t]},xa.length.get=function(){return this.edges.length},wa.prototype.forEach=function(t){this.edges.forEach(t)},wa.prototype.map=function(t){return this.edges.map(t)},wa.prototype.some=function(t){return this.edges.some(t)},wa.prototype.isValid=function(){return!0},wa.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e},0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=pr(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},wa.prototype.toMultiPoint=function(){return h(this.edges.map(function(t){return t.from.coordinates}))},wa.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},wa.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=se(this.toPolygon())},wa.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach(function(e){var s=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),r=t.geometry.coordinates.map(function(t){return t[1]}),i=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(s,o)&&dr(s,o)){var a=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});a&&e.inside(r(a))&&(i&&!dr(n,s)||(i=e))}}),i},wa.prototype.inside=function(t){return At(t,this.toPolygon())},Object.defineProperties(wa.prototype,xa);var Ea=function(){this.edges=[],this.nodes={}};Ea.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new Ea;return M(t,function(t){Z(t,"LineString","Graph::fromGeoJson"),A(t,function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n})}),e},Ea.prototype.getNode=function(t){var e=va.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new va(t)),n},Ea.prototype.addEdge=function(t,e){var n=new ba(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Ea.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},Ea.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},Ea.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},Ea.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},Ea.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},Ea.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}}),t},Ea.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},Ea.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++r}),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},Ea.prototype._findEdgeRing=function(t){var e=t,n=new wa;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},Ea.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},Ea.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var Ca=gt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),Sa=gt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}),Da=gt(function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(Sa(t))return!!Sa(o)&&(t=r.call(t),o=r.call(o),i(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var l=Ca(t),c=Ca(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),a=l.length-1;a>=0;a--)if(l[a]!=c[a])return!1;for(a=l.length-1;a>=0;a--)if(!i(t[u=l[a]],o[u],s))return!1;return typeof t==typeof o}(t,o,s))}}),Ia=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Sr};Ia.prototype.compare=function(t,e){if(t.type!==e.type||!Cr(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=Er(t),i=Er(e);return r.every(function(t){return this.some(function(e){return n.compare(t,e)})},i)}}return!1},Ia.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Ia.prototype.compareLine=function(t,e,n,r){if(!Cr(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Ia.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Ia.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},Ia.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every(function(t){return this.some(function(e){return i.compareLine(t,e,1,!0)})},r)}return!1},Ia.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Ia.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Ia.prototype.removePseudo=function(t){return t};var Aa=Ia,ka=gt(function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Oa=gt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,u=0;u<c;u++)s[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<c;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ta=gt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Ra=gt(function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Ta;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e];t.push([r,this._reachability[r]])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Pa=gt(function(t){t.exports&&(t.exports={DBSCAN:ka,KMEANS:Oa,OPTICS:Ra,PriorityQueue:Ta})}),La=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},Na=La,Ma=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Fa=La,Ba={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Ba.heuristics.manhattan,o=r.closest||!1,s=new Rr(function(t){return t.f}),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return kr(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?kr(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Or.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Ba.cleanNode(this.nodes[t])},Or.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Ba.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Or.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Or.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Or.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Tr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Tr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Tr.prototype.isWall=function(){return 0===this.weight},Rr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e&&(i=this.scoreFunction(this.content[s]))<r&&(a=s),o<e&&this.scoreFunction(this.content[o])<(null===a?r:i)&&(a=o),null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var ja=function(t){return function(){return t}};Nr.prototype={constructor:Nr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=jr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Fr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Br(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Br(this,n),n=(t=n).U),n.C=!1,r.C=!0,Fr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?jr(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Fr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Br(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Fr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Br(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Fr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Br(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var za,Va,Ua,qa,Ga,Ha=[],Ya=[],Za=1e-6,Wa=1e-12;ri.prototype={constructor:ri,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Yr(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,u=-1,l=e[i[o-1]],c=l.left===a?l.right:l.left;++u<o;)s=c,c=(l=e[i[u]]).left===a?l.right:l.left,s&&c&&r<s.index&&r<c.index&&ei(a,s,c)<0&&t.push([a.data,s.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach(function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=r,null==n||c<=n*n?i.site:null}};var $a=Object.freeze({randomPosition:ci,randomPoint:hi,randomPolygon:fi,randomLineString:pi}),Xa=Object.freeze({getCluster:mi,clusterEach:gi,clusterReduce:yi,createBins:_i,applyFilter:vi,propertiesContainsFilter:bi,filterProperties:wi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Ka=function(){};Ka.prototype.interfaces_=function(){return[]},Ka.prototype.getClass=function(){return Ka},Ka.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Ja=function(){},Qa=function(){},tu={MAX_VALUE:{configurable:!0}};Qa.isNaN=function(t){return Number.isNaN(t)},Qa.doubleToLongBits=function(t){return t},Qa.longBitsToDouble=function(t){return t},Qa.isInfinite=function(t){return!Number.isFinite(t)},tu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Qa,tu);var eu=function(){},nu=function(){},ru=function(){},iu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ou={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};iu.prototype.setOrdinate=function(t,e){switch(t){case iu.X:this.x=e;break;case iu.Y:this.y=e;break;case iu.Z:this.z=e;break;default:throw new Ja("Invalid ordinate index: "+t)}},iu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Ka.equalsWithTolerance(this.x,e.x,n)&&!!Ka.equalsWithTolerance(this.y,e.y,n)}},iu.prototype.getOrdinate=function(t){switch(t){case iu.X:return this.x;case iu.Y:return this.y;case iu.Z:return this.z}throw new Ja("Invalid ordinate index: "+t)},iu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Qa.isNaN(this.z))&&Qa.isNaN(t.z)},iu.prototype.equals=function(t){return t instanceof iu&&this.equals2D(t)},iu.prototype.equalInZ=function(t,e){return Ka.equalsWithTolerance(this.z,t.z,e)},iu.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},iu.prototype.clone=function(){},iu.prototype.copy=function(){return new iu(this)},iu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},iu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},iu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},iu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+iu.hashCode(this.x))+iu.hashCode(this.y)},iu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},iu.prototype.interfaces_=function(){return[eu,nu,xi]},iu.prototype.getClass=function(){return iu},iu.hashCode=function(){if(1===arguments.length){var t=Qa.doubleToLongBits(arguments[0]);return Math.trunc((t^t)>>>32)}},ou.DimensionalComparator.get=function(){return su},ou.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ou.NULL_ORDINATE.get=function(){return Qa.NaN},ou.X.get=function(){return 0},ou.Y.get=function(){return 1},ou.Z.get=function(){return 2},Object.defineProperties(iu,ou);var su=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Ja("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};su.prototype.compare=function(t,e){var n=t,r=e,i=su.compare(n.x,r.x);if(0!==i)return i;var o=su.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:su.compare(n.z,r.z)},su.prototype.interfaces_=function(){return[ru]},su.prototype.getClass=function(){return su},su.compare=function(t,e){return t<e?-1:t>e?1:Qa.isNaN(t)?Qa.isNaN(e)?0:-1:Qa.isNaN(e)?1:0};var au=function(){};au.prototype.create=function(){},au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au};var uu=function(){},lu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};uu.prototype.interfaces_=function(){return[]},uu.prototype.getClass=function(){return uu},uu.toLocationSymbol=function(t){switch(t){case uu.EXTERIOR:return"e";case uu.BOUNDARY:return"b";case uu.INTERIOR:return"i";case uu.NONE:return"-"}throw new Ja("Unknown location value: "+t)},lu.INTERIOR.get=function(){return 0},lu.BOUNDARY.get=function(){return 1},lu.EXTERIOR.get=function(){return 2},lu.NONE.get=function(){return-1},Object.defineProperties(uu,lu);var cu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},hu=function(){},fu={LOG_10:{configurable:!0}};hu.prototype.interfaces_=function(){return[]},hu.prototype.getClass=function(){return hu},hu.log10=function(t){var e=Math.log(t);return Qa.isInfinite(e)||Qa.isNaN(e)?e:e/hu.LOG_10},hu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},hu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},hu.wrap=function(t,e){return t<0?e- -t%e:t%e},hu.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}},hu.average=function(t,e){return(t+e)/2},fu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(hu,fu);var pu=function(t){this.str=t};pu.prototype.append=function(t){this.str+=t},pu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},pu.prototype.toString=function(t){return this.str};var du=function(t){this.value=t};du.prototype.intValue=function(){return this.value},du.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},du.isNaN=function(t){return Number.isNaN(t)};var mu=function(){};mu.isWhitespace=function(t){return t<=32&&t>=0||127===t},mu.toUpperCase=function(t){return t.toUpperCase()};var gu=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},yu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};gu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},gu.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=gu.magnitude(n._hi),i=gu.TEN.pow(r);(n=n.divide(i)).gt(gu.TEN)?(n=n.divide(gu.TEN),r+=1):n.lt(gu.ONE)&&(n=n.multiply(gu.TEN),r-=1);for(var o=r+1,s=new pu,a=gu.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,s.append(h),n=n.subtract(gu.valueOf(l)).multiply(gu.TEN),c&&n.selfAdd(gu.TEN);var f=!0,p=gu.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=r,s.toString()},gu.prototype.sqr=function(){return this.multiply(this)},gu.prototype.doubleValue=function(){return this._hi+this._lo},gu.prototype.subtract=function(){return arguments[0]instanceof gu?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},gu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},gu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},gu.prototype.selfSubtract=function(){if(arguments[0]instanceof gu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},gu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},gu.prototype.min=function(t){return this.le(t)?this:t},gu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof gu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null,u=null,l=null;return this._hi=l=(s=this._hi/e)+(a=(this._hi-(u=s*e)-(l=(n=(a=gu.SPLIT*s)-(n=a-s))*(i=(l=gu.SPLIT*e)-(i=l-e))-u+n*(o=e-i)+(r=s-n)*i+r*o)+this._lo-s*arguments[1])/e),this._lo=s-l+a,this}},gu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},gu.prototype.divide=function(){if(arguments[0]instanceof gu){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=gu.SPLIT*o)-(e=s-o)),u=e*(r=(u=gu.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,new gu(u=o+(s=(this._hi-a-u+this._lo-o*t._lo)/t._hi),o-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return Qa.isNaN(l)?gu.createNaN():gu.copy(this).selfDivide(l,0)}},gu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},gu.prototype.pow=function(t){if(0===t)return gu.valueOf(1);var e=new gu(this),n=gu.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},gu.prototype.ceil=function(){if(this.isNaN())return gu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new gu(t,e)},gu.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},gu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},gu.prototype.setValue=function(){return arguments[0]instanceof gu||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},gu.prototype.max=function(t){return this.ge(t)?this:t},gu.prototype.sqrt=function(){if(this.isZero())return gu.valueOf(0);if(this.isNegative())return gu.NaN;var t=1/Math.sqrt(this._hi),e=gu.valueOf(this._hi*t),n=this.subtract(e.sqr())._hi*(.5*t);return e.add(n)},gu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof gu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null;return this._hi=(n=(i=this._hi+e)+(s=e-(o=i-this._hi)+(this._hi-(i-o))+this._lo))+(r=s+(i-n)),this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var a=arguments[0],u=arguments[1],l=null,c=null,h=null,f=null,p=null,d=null,m=null;p=(f=this._hi+a)-(d=f-this._hi),h=(c=this._lo+u)-(m=c-this._lo);var g=(l=f+(d=(p=a-d+(this._hi-p))+c))+(d=(h=u-m+(this._lo-h))+(d+(f-l))),y=d+(l-g);return this._hi=g,this._lo=y,this}},gu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof gu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;n=(s=gu.SPLIT*this._hi)-this._hi,n=s-n;var u=(s=this._hi*e)+(a=n*(i=(a=gu.SPLIT*e)-(i=a-e))-s+n*(o=e-i)+(r=this._hi-n)*i+r*o+(this._hi*arguments[1]+this._lo*e)),l=a+(n=s-u);return this._hi=u,this._lo=l,this}},gu.prototype.selfSqr=function(){return this.selfMultiply(this)},gu.prototype.floor=function(){if(this.isNaN())return gu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new gu(t,e)},gu.prototype.negate=function(){return this.isNaN()?this:new gu(-this._hi,-this._lo)},gu.prototype.clone=function(){},gu.prototype.multiply=function(){if(arguments[0]instanceof gu){var t=arguments[0];return t.isNaN()?gu.createNaN():gu.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Qa.isNaN(e)?gu.createNaN():gu.copy(this).selfMultiply(e,0)}},gu.prototype.isNaN=function(){return Qa.isNaN(this._hi)},gu.prototype.intValue=function(){return Math.trunc(this._hi)},gu.prototype.toString=function(){var t=gu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},gu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;return"."===n.charAt(0)?i="0"+n:r<0?i="0."+gu.stringOfChar("0",-r)+n:-1===n.indexOf(".")&&(i=n+gu.stringOfChar("0",r-n.length)+".0"),this.isNegative()?"-"+i:i},gu.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,s=null,a=null;t=(n=1/this._hi)-(i=(s=gu.SPLIT*n)-(i=s-n)),o=(a=gu.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(a=i*(o=a-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new gu(u,n-u+s)},gu.prototype.toSciNotation=function(){if(this.isZero())return gu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=gu.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},gu.prototype.abs=function(){return this.isNaN()?gu.NaN:this.isNegative()?this.negate():new gu(this)},gu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},gu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},gu.prototype.add=function(){if(arguments[0]instanceof gu){var t=arguments[0];return gu.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return gu.copy(this).selfAdd(e)}},gu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof gu){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var e=arguments[1];this._hi=arguments[0],this._lo=e}},gu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},gu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},gu.prototype.trunc=function(){return this.isNaN()?gu.NaN:this.isPositive()?this.floor():this.ceil()},gu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},gu.prototype.interfaces_=function(){return[xi,eu,nu]},gu.prototype.getClass=function(){return gu},gu.sqr=function(t){return gu.valueOf(t).selfMultiply(t)},gu.valueOf=function(){return"string"==typeof arguments[0]?gu.parse(arguments[0]):"number"==typeof arguments[0]?new gu(arguments[0]):void 0},gu.sqrt=function(t){return gu.valueOf(t).sqrt()},gu.parse=function(t){for(var e=0,n=t.length;mu.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new gu,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,mu.isDigit(l)){var c=l-"0";o.selfMultiply(gu.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=du.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=gu.TEN.pow(p);f=o.divide(d)}else if(p<0){var m=gu.TEN.pow(-p);f=o.multiply(m)}return r?f.negate():f},gu.createNaN=function(){return new gu(Qa.NaN,Qa.NaN)},gu.copy=function(t){return new gu(t)},gu.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},gu.stringOfChar=function(t,e){for(var n=new pu,r=0;r<e;r++)n.append(t);return n.toString()},yu.PI.get=function(){return new gu(3.141592653589793,12246467991473532e-32)},yu.TWO_PI.get=function(){return new gu(6.283185307179586,24492935982947064e-32)},yu.PI_2.get=function(){return new gu(1.5707963267948966,6123233995736766e-32)},yu.E.get=function(){return new gu(2.718281828459045,14456468917292502e-32)},yu.NaN.get=function(){return new gu(Qa.NaN,Qa.NaN)},yu.EPS.get=function(){return 123259516440783e-46},yu.SPLIT.get=function(){return 134217729},yu.MAX_PRINT_DIGITS.get=function(){return 32},yu.TEN.get=function(){return gu.valueOf(10)},yu.ONE.get=function(){return gu.valueOf(1)},yu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},yu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(gu,yu);var _u=function(){},vu={DP_SAFE_EPSILON:{configurable:!0}};_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u},_u.orientationIndex=function(t,e,n){var r=_u.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=gu.valueOf(e.x).selfAdd(-t.x),o=gu.valueOf(e.y).selfAdd(-t.y),s=gu.valueOf(n.x).selfAdd(-e.x),a=gu.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},_u.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},_u.intersection=function(t,e,n,r){var i=gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(gu.valueOf(e.x).selfSubtract(t.x)),o=gu.valueOf(r.x).selfSubtract(n.x).selfMultiply(gu.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=gu.valueOf(r.x).selfSubtract(n.x).selfMultiply(gu.valueOf(t.y).selfSubtract(n.y)),u=gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(gu.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=gu.valueOf(t.x).selfAdd(gu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=gu.valueOf(e.x).selfSubtract(t.x).selfMultiply(gu.valueOf(t.y).selfSubtract(n.y)),f=gu.valueOf(e.y).selfSubtract(t.y).selfMultiply(gu.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue(),d=gu.valueOf(n.y).selfAdd(gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new iu(c,d)},_u.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return _u.signum(s);r=i+o}else{if(!(i<0))return _u.signum(s);if(o>=0)return _u.signum(s);r=-i-o}var a=_u.DP_SAFE_EPSILON*r;return s>=a||-s>=a?_u.signum(s):2},_u.signum=function(t){return t>0?1:t<0?-1:0},vu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(_u,vu);var bu=function(){},wu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};wu.X.get=function(){return 0},wu.Y.get=function(){return 1},wu.Z.get=function(){return 2},wu.M.get=function(){return 3},bu.prototype.setOrdinate=function(t,e,n){},bu.prototype.size=function(){},bu.prototype.getOrdinate=function(t,e){},bu.prototype.getCoordinate=function(){},bu.prototype.getCoordinateCopy=function(t){},bu.prototype.getDimension=function(){},bu.prototype.getX=function(t){},bu.prototype.clone=function(){},bu.prototype.expandEnvelope=function(t){},bu.prototype.copy=function(){},bu.prototype.getY=function(t){},bu.prototype.toCoordinateArray=function(){},bu.prototype.interfaces_=function(){return[nu]},bu.prototype.getClass=function(){return bu},Object.defineProperties(bu,wu);var xu=function(){},Eu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xu),Cu=function(){};Cu.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},Cu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Su=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[1];this.x=arguments[0],this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[1],u=arguments[2];this.x=arguments[0],this.y=a,this.w=u}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=l.y-c.y,d=c.x-l.x,m=l.x*c.y-c.x*l.y,g=h.y-f.y,y=f.x-h.x,_=h.x*f.y-f.x*h.y;this.x=d*_-y*m,this.y=g*m-p*_,this.w=p*y-g*d}};Su.prototype.getY=function(){var t=this.y/this.w;if(Qa.isNaN(t)||Qa.isInfinite(t))throw new Eu;return t},Su.prototype.getX=function(){var t=this.x/this.w;if(Qa.isNaN(t)||Qa.isInfinite(t))throw new Eu;return t},Su.prototype.getCoordinate=function(){var t=new iu;return t.x=this.getX(),t.y=this.getY(),t},Su.prototype.interfaces_=function(){return[]},Su.prototype.getClass=function(){return Su},Su.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-a*o,h=(o*l-u*s)/c,f=(a*s-i*l)/c;if(Qa.isNaN(h)||Qa.isInfinite(h)||Qa.isNaN(f)||Qa.isInfinite(f))throw new Eu;return new iu(h,f)};var Du=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof iu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Iu={serialVersionUID:{configurable:!0}};Du.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Du.prototype.equals=function(t){if(!(t instanceof Du))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Du.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new Du:new Du(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},Du.prototype.isNull=function(){return this._maxx<this._minx},Du.prototype.getMaxX=function(){return this._maxx},Du.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Du){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Du.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof iu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Du.prototype.getMinY=function(){return this._miny},Du.prototype.getMinX=function(){return this._minx},Du.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Du){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Du.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Du.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Du.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Du.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Du.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Du.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Du.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Du.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Du.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Du.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Du)return this.covers(arguments[0]);if(arguments[0]instanceof iu)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Du.prototype.centre=function(){return this.isNull()?null:new iu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Du.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Du){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Du.prototype.getMaxY=function(){return this._maxy},Du.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Du.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+iu.hashCode(this._minx))+iu.hashCode(this._maxx))+iu.hashCode(this._miny))+iu.hashCode(this._maxy)},Du.prototype.interfaces_=function(){return[eu,xi]},Du.prototype.getClass=function(){return Du},Du.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<a))}},Iu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Du,Iu);var Au={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},ku=function(t){this.geometryFactory=t||new Jl};ku.prototype.read=function(t){var e,n;t=t.replace(/[\n\r]/g," ");var r=Au.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Au.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),Tu[n]&&(e=Tu[n].apply(this,[r[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},ku.prototype.write=function(t){return this.extractGeometry(t)},ku.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Ou[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Ou[e].apply(this,[t])+")"};var Ou={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Ou.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Ou.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Ou.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Ou.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Ou.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Ou.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Ou.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Ou.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Tu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Au.spaces);return this.geometryFactory.createPoint(new iu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Au.trimParens,"$1"),r.push(Tu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Au.spaces),r.push(new iu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Au.spaces),r.push(new iu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Au.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Au.trimParens,"$1"),r.push(Tu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Au.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Au.trimParens,"$1"),n=Tu.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Au.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Au.trimParens,"$1"),r.push(Tu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Ru=function(t){this.parser=new ku(t)};Ru.prototype.write=function(t){return this.parser.write(t)},Ru.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Pu=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Lu=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Pu),Nu=function(){};Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu},Nu.shouldNeverReachHere=function(){if(0===arguments.length)Nu.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Lu("Should never reach here"+(null!==t?": "+t:""))}},Nu.isTrue=function(){var t;if(1===arguments.length)Nu.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Lu:new Lu(t)},Nu.equals=function(){var t,e,n;if(2===arguments.length)Nu.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new Lu("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Mu=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new iu,this._intPt[1]=new iu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Fu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Mu.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Mu.prototype.getTopologySummary=function(){var t=new pu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Mu.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},Mu.prototype.getIntersectionNum=function(){return this._result},Mu.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Mu.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Mu.prototype.setPrecisionModel=function(t){this._precisionModel=t},Mu.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Mu.prototype.getIntersection=function(t){return this._intPt[t]},Mu.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Mu.prototype.hasIntersection=function(){return this._result!==Mu.NO_INTERSECTION},Mu.prototype.getEdgeDistance=function(t,e){return Mu.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Mu.prototype.isCollinear=function(){return this._result===Mu.COLLINEAR_INTERSECTION},Mu.prototype.toString=function(){return Ru.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ru.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Mu.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Mu.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Mu.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu},Mu.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return Nu.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Mu.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Nu.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Fu.DONT_INTERSECT.get=function(){return 0},Fu.DO_INTERSECT.get=function(){return 1},Fu.COLLINEAR.get=function(){return 2},Fu.NO_INTERSECTION.get=function(){return 0},Fu.POINT_INTERSECTION.get=function(){return 1},Fu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Mu,Fu);var Bu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Du(this._inputLines[0][0],this._inputLines[0][1]),n=new Du(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Du.intersects(n,r,e)&&0===Vu.orientationIndex(n,r,e)&&0===Vu.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Su.intersection(t,n,r,i)}catch(s){if(!(s instanceof Eu))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new iu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=_u.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);Cu.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&Cu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new iu(t),o=new iu(e),s=new iu(n),a=new iu(r),u=new iu;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Du.intersects(e,n,r),s=Du.intersects(e,n,i),a=Du.intersects(r,i,e),u=Du.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,p=((s>c?s:c)+(u<f?u:f))/2;i.x=((o>l?o:l)+(a<h?a:h))/2,i.y=p,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Du.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=Vu.orientationIndex(e,n,r),s=Vu.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=Vu.orientationIndex(r,i,e),u=Vu.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new iu(r):0===s?this._intPt[0]=new iu(i):0===a?this._intPt[0]=new iu(e):0===u&&(this._intPt[0]=new iu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=Vu.distancePointLine(t,n,r),s=Vu.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=Vu.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=Vu.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(Mu),ju=function(){};ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.orientationIndex=function(t,e,n){return ju.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},ju.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var zu=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};zu.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.y-this._p.y,o=e.y-this._p.y,s=ju.signOfDet2x2(t.x-this._p.x,i,e.x-this._p.x,o);if(0===s)return this._isPointOnSegment=!0,null;o<i&&(s=-s),s>0&&this._crossingCount++}},zu.prototype.isPointInPolygon=function(){return this.getLocation()!==uu.EXTERIOR},zu.prototype.getLocation=function(){return this._isPointOnSegment?uu.BOUNDARY:this._crossingCount%2==1?uu.INTERIOR:uu.EXTERIOR},zu.prototype.isOnSegment=function(){return this._isPointOnSegment},zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.locatePointInRing=function(){if(arguments[0]instanceof iu&&cu(arguments[1],bu)){for(var t=arguments[1],e=new zu(arguments[0]),n=new iu,r=new iu,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof iu&&arguments[1]instanceof Array){for(var o=arguments[1],s=new zu(arguments[0]),a=1;a<o.length;a++)if(s.countSegment(o[a],o[a-1]),s.isOnSegment())return s.getLocation();return s.getLocation()}};var Vu=function(){},Uu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu},Vu.orientationIndex=function(t,e,n){return _u.orientationIndex(t,e,n)},Vu.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++)e+=(t[r].x-n)*(t[r-1].y-t[r+1].y);return e/2}if(cu(arguments[0],bu)){var i=arguments[0],o=i.size();if(o<3)return 0;var s=new iu,a=new iu,u=new iu;i.getCoordinate(0,a),i.getCoordinate(1,u);var l=a.x;u.x-=l;for(var c=0,h=1;h<o-1;h++)s.y=a.y,a.x=u.x,a.y=u.y,i.getCoordinate(h+1,u),u.x-=l,c+=a.x*(s.y-u.y);return c/2}},Vu.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Vu.distancePointLine(t,n,r);if(n.equals(r))return Vu.distancePointLine(r,t,e);var i=!1;if(Du.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,a=((t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y))/o;(a<0||a>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?hu.min(Vu.distancePointLine(t,n,r),Vu.distancePointLine(e,n,r),Vu.distancePointLine(n,t,e),Vu.distancePointLine(r,t,e)):0},Vu.isPointInRing=function(t,e){return Vu.locatePointInRing(t,e)!==uu.EXTERIOR},Vu.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new iu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=a,o=u}return n},Vu.isCCW=function(t){var e=t.length-1;if(e<3)throw new Ja("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=Vu.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},Vu.locatePointInRing=function(t,e){return zu.locatePointInRing(t,e)},Vu.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r)*Math.sqrt(r)},Vu.computeOrientation=function(t,e,n){return Vu.orientationIndex(t,e,n)},Vu.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Ja("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=Vu.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;return l<=0?o.distance(s):l>=1?o.distance(a):Math.abs(((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u)*Math.sqrt(u)}},Vu.isOnLine=function(t,e){for(var n=new Bu,r=1;r<e.length;r++)if(n.computeIntersection(t,e[r-1],e[r]),n.hasIntersection())return!0;return!1},Uu.CLOCKWISE.get=function(){return-1},Uu.RIGHT.get=function(){return Vu.CLOCKWISE},Uu.COUNTERCLOCKWISE.get=function(){return 1},Uu.LEFT.get=function(){return Vu.COUNTERCLOCKWISE},Uu.COLLINEAR.get=function(){return 0},Uu.STRAIGHT.get=function(){return Vu.COLLINEAR},Object.defineProperties(Vu,Uu);var qu=function(){};qu.prototype.filter=function(t){},qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu};var Gu=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Hu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Gu.prototype.isGeometryCollection=function(){return this.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION},Gu.prototype.getFactory=function(){return this._factory},Gu.prototype.getGeometryN=function(t){return this},Gu.prototype.getArea=function(){return 0},Gu.prototype.isRectangle=function(){return!1},Gu.prototype.equals=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Gu&&this.equalsExact(e)}},Gu.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Gu.prototype.geometryChanged=function(){this.apply(Gu.geometryChangedFilter)},Gu.prototype.geometryChangedAction=function(){this._envelope=null},Gu.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Gu.prototype.getLength=function(){return 0},Gu.prototype.getNumGeometries=function(){return 1},Gu.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Gu.prototype.getUserData=function(){return this._userData},Gu.prototype.getSRID=function(){return this._SRID},Gu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Gu.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION)throw new Ja("This method does not support GeometryCollection arguments")},Gu.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Gu.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Gu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Gu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Du(this._envelope)},Gu.prototype.setSRID=function(t){this._SRID=t},Gu.prototype.setUserData=function(t){this._userData=t},Gu.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},Gu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Gu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Gu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Gu.SORTINDEX_MULTIPOINT||this.getSortIndex()===Gu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Gu.SORTINDEX_MULTIPOLYGON},Gu.prototype.interfaces_=function(){return[nu,eu,xi]},Gu.prototype.getClass=function(){return Gu},Gu.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Gu.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Hu.serialVersionUID.get=function(){return 0x799ea46522854c00},Hu.SORTINDEX_POINT.get=function(){return 0},Hu.SORTINDEX_MULTIPOINT.get=function(){return 1},Hu.SORTINDEX_LINESTRING.get=function(){return 2},Hu.SORTINDEX_LINEARRING.get=function(){return 3},Hu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Hu.SORTINDEX_POLYGON.get=function(){return 5},Hu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Hu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Hu.geometryChangedFilter.get=function(){return Yu},Object.defineProperties(Gu,Hu);var Yu=function(){};Yu.interfaces_=function(){return[qu]},Yu.filter=function(t){t.geometryChangedAction()};var Zu=function(){};Zu.prototype.filter=function(t){},Zu.prototype.interfaces_=function(){return[]},Zu.prototype.getClass=function(){return Zu};var Wu=function(){},$u={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Wu.prototype.isInBoundary=function(t){},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu},$u.Mod2BoundaryNodeRule.get=function(){return Xu},$u.EndPointBoundaryNodeRule.get=function(){return Ku},$u.MultiValentEndPointBoundaryNodeRule.get=function(){return Ju},$u.MonoValentEndPointBoundaryNodeRule.get=function(){return Qu},$u.MOD2_BOUNDARY_RULE.get=function(){return new Xu},$u.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ku},$u.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ju},$u.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Qu},$u.OGC_SFS_BOUNDARY_RULE.get=function(){return Wu.MOD2_BOUNDARY_RULE},Object.defineProperties(Wu,$u);var Xu=function(){};Xu.prototype.isInBoundary=function(t){return t%2==1},Xu.prototype.interfaces_=function(){return[Wu]},Xu.prototype.getClass=function(){return Xu};var Ku=function(){};Ku.prototype.isInBoundary=function(t){return t>0},Ku.prototype.interfaces_=function(){return[Wu]},Ku.prototype.getClass=function(){return Ku};var Ju=function(){};Ju.prototype.isInBoundary=function(t){return t>1},Ju.prototype.interfaces_=function(){return[Wu]},Ju.prototype.getClass=function(){return Ju};var Qu=function(){};Qu.prototype.isInBoundary=function(t){return 1===t},Qu.prototype.interfaces_=function(){return[Wu]},Qu.prototype.getClass=function(){return Qu};var tl=function(){};tl.prototype.add=function(){},tl.prototype.addAll=function(){},tl.prototype.isEmpty=function(){},tl.prototype.iterator=function(){},tl.prototype.size=function(){},tl.prototype.toArray=function(){},tl.prototype.remove=function(){};var el=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),nl=function(){};nl.prototype.hasNext=function(){},nl.prototype.next=function(){},nl.prototype.remove=function(){};var rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(tl);(Ei.prototype=new Error).name="NoSuchElementException";var il=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof tl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,tl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new ol(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new el;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(rl),ol=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Ei;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(nl),sl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof iu&&"boolean"==typeof arguments[1]){var e=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(e))return null;t.prototype.add.call(this,e)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];if(arguments[2])for(var i=0;i<n.length;i++)this.add(n[i],r);else for(var o=n.length-1;o>=0;o--)this.add(n[o],r);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof iu){var s=arguments[0],a=arguments[1];if(!arguments[2]){var u=this.size();if(u>0){if(s>0&&this.get(s-1).equals2D(a))return null;if(s<u&&this.get(s).equals2D(a))return null}}t.prototype.add.call(this,s,a)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=1;h>f&&(p=-1);for(var d=h;d!==f;d+=p)this.add(l[d],c);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new iu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(il),al=function(){},ul={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ul.ForwardComparator.get=function(){return ll},ul.BidirectionalComparator.get=function(){return cl},ul.coordArrayType.get=function(){return new Array(0).fill(null)},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},al.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(al.indexOf(r,e)<0)return r}return null},al.scroll=function(t,e){var n=al.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Cu.arraycopy(t,n,r,0,t.length-n),Cu.arraycopy(t,0,r,t.length-n,n),Cu.arraycopy(r,0,t,0,t.length)},al.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},al.intersection=function(t,e){for(var n=new sl,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},al.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},al.removeRepeatedPoints=function(t){return al.hasRepeatedPoints(t)?new sl(t,!1).toCoordinateArray():t},al.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},al.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},al.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new iu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new iu(r[i+u])},al.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},al.envelope=function(t){for(var e=new Du,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},al.toCoordinateArray=function(t){return t.toArray(al.coordArrayType)},al.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},al.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},al.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},al.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},al.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},al.extract=function(t,e,n){e=hu.clamp(e,0,t.length);var r=(n=hu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(al,ul);var ll=function(){};ll.prototype.compare=function(t,e){return al.compare(t,e)},ll.prototype.interfaces_=function(){return[ru]},ll.prototype.getClass=function(){return ll};var cl=function(){};cl.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=al.compare(n,r);return al.isEqualReversed(n,r)?0:i},cl.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=al.increasingDirection(n),o=al.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0},cl.prototype.interfaces_=function(){return[ru]},cl.prototype.getClass=function(){return cl};var hl=function(){};hl.prototype.get=function(){},hl.prototype.put=function(){},hl.prototype.size=function(){},hl.prototype.values=function(){},hl.prototype.entrySet=function(){};var fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(hl);(Ci.prototype=new Error).name="OperationNotSupported",(Si.prototype=new tl).contains=function(){};var pl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof tl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new dl(this)},e}(Si),dl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Ei;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Ci},e}(nl),ml=0;(Ti.prototype=new fl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Ti.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:ml,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:ml,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Ti.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Ii(t)===ki(Ii(Ii(t)))){var e=Oi(Ii(Ii(t)));1===Di(e)?(Ai(Ii(t),ml),Ai(e,ml),Ai(Ii(Ii(t)),1),t=Ii(Ii(t))):(t===Oi(Ii(t))&&(t=Ii(t),this.rotateLeft(t)),Ai(Ii(t),ml),Ai(Ii(Ii(t)),1),this.rotateRight(Ii(Ii(t))))}else{var n=ki(Ii(Ii(t)));1===Di(n)?(Ai(Ii(t),ml),Ai(n,ml),Ai(Ii(Ii(t)),1),t=Ii(Ii(t))):(t===ki(Ii(t))&&(t=Ii(t),this.rotateRight(t)),Ai(Ii(t),ml),Ai(Ii(Ii(t)),1),this.rotateLeft(Ii(Ii(t))))}this.root_.color=ml},Ti.prototype.values=function(){var t=new il,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Ti.successor(e));)t.add(e.value);return t},Ti.prototype.entrySet=function(){var t=new pl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Ti.successor(e));)t.add(e);return t},Ti.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Ti.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Ti.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Ti.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Ti.prototype.size=function(){return this.size_};var gl=function(){};gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl},Ri.prototype=new Si,(Pi.prototype=new Ri).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Pi.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Pi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Pi.prototype.remove=function(t){throw new Ci},Pi.prototype.size=function(){return this.array_.length},Pi.prototype.isEmpty=function(){return 0===this.array_.length},Pi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Pi.prototype.iterator=function(){return new yl(this)};var yl=function(t){this.treeSet_=t,this.position_=0};yl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Ei;return this.treeSet_.array_[this.position_++]},yl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},yl.prototype.remove=function(){throw new Ci};var _l=function(){};_l.sort=function(){var t,e,n,r=arguments[0];if(1===arguments.length)r.sort(function(t,e){return t.compareTo(e)});else if(2===arguments.length)n=arguments[1],r.sort(function(t,e){return n.compare(t,e)});else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])},_l.asList=function(t){for(var e=new il,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var vl=function(){},bl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};bl.P.get=function(){return 0},bl.L.get=function(){return 1},bl.A.get=function(){return 2},bl.FALSE.get=function(){return-1},bl.TRUE.get=function(){return-2},bl.DONTCARE.get=function(){return-3},bl.SYM_FALSE.get=function(){return"F"},bl.SYM_TRUE.get=function(){return"T"},bl.SYM_DONTCARE.get=function(){return"*"},bl.SYM_P.get=function(){return"0"},bl.SYM_L.get=function(){return"1"},bl.SYM_A.get=function(){return"2"},vl.prototype.interfaces_=function(){return[]},vl.prototype.getClass=function(){return vl},vl.toDimensionSymbol=function(t){switch(t){case vl.FALSE:return vl.SYM_FALSE;case vl.TRUE:return vl.SYM_TRUE;case vl.DONTCARE:return vl.SYM_DONTCARE;case vl.P:return vl.SYM_P;case vl.L:return vl.SYM_L;case vl.A:return vl.SYM_A}throw new Ja("Unknown dimension value: "+t)},vl.toDimensionValue=function(t){switch(mu.toUpperCase(t)){case vl.SYM_FALSE:return vl.FALSE;case vl.SYM_TRUE:return vl.TRUE;case vl.SYM_DONTCARE:return vl.DONTCARE;case vl.SYM_P:return vl.P;case vl.SYM_L:return vl.L;case vl.SYM_A:return vl.A}throw new Ja("Unknown dimension symbol: "+t)},Object.defineProperties(vl,bl);var wl=function(){};wl.prototype.filter=function(t){},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl};var xl=function(){};xl.prototype.filter=function(t,e){},xl.prototype.isDone=function(){},xl.prototype.isGeometryChanged=function(){},xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl};var El=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Ja("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Du,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();_l.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=vl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=vl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Pi(_l.asList(this._geometries)),n=new Pi(_l.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),s=i.getNumGeometries(),a=0;a<o&&a<s;){var u=this.getGeometryN(a),l=i.getGeometryN(a),c=u.compareToSameClass(l,r);if(0!==c)return c;a++}return a<o?1:a<s?-1:0}},e.prototype.apply=function(){if(cu(arguments[0],Zu))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(cu(arguments[0],xl)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(cu(arguments[0],wl)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(cu(arguments[0],qu)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Nu.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Gu),Cl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?vl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Sl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[gl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(El),Sl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Wu.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Sl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Sl.prototype.getBoundary=function(){return this._geom instanceof Ol?this.boundaryLineString(this._geom):this._geom instanceof Cl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Sl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Sl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Sl.prototype.computeBoundaryCoordinates=function(t){var e=new il;this._endpointMap=new Ti;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return al.toCoordinateArray(e)},Sl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Dl,this._endpointMap.put(t,e)),e.count++},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.getBoundary=function(){return 1===arguments.length?new Sl(arguments[0]).getBoundary():2===arguments.length?new Sl(arguments[0],arguments[1]).getBoundary():void 0};var Dl=function(){this.count=null};Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl};var Il=function(){},Al={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Il.prototype.interfaces_=function(){return[]},Il.prototype.getClass=function(){return Il},Il.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Il.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[1],i="",o=new function(){}(new function(){}(Il.getStackTrace(arguments[0]))),s=0;s<r;s++)try{i+=o.readLine()+Il.NEWLINE}catch(t){if(!(t instanceof Li))throw t;Nu.shouldNeverReachHere()}return i}},Il.split=function(t,e){for(var n=e.length,r=new il,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Il.toString=function(){if(1===arguments.length)return Il.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Il.spaces=function(t){return Il.chars(" ",t)},Al.NEWLINE.get=function(){return Cu.getProperty("line.separator")},Al.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Il,Al);var kl=function(){};kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},kl.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,bu.X)===t.getOrdinate(e-1,bu.X)&&t.getOrdinate(0,bu.Y)===t.getOrdinate(e-1,bu.Y)},kl.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||Qa.isNaN(s)&&Qa.isNaN(a)))return!1}return!0},kl.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(kl.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)kl.copy(e,i-1,r,o,1);return r},kl.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)kl.swap(t,r,e-r)},kl.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},kl.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)kl.copyCoord(t,e+o,n,r+o)},kl.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new pu;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Il.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},kl.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?kl.createClosedRing(t,e,4):e.getOrdinate(0,bu.X)===e.getOrdinate(n-1,bu.X)&&e.getOrdinate(0,bu.Y)===e.getOrdinate(n-1,bu.Y)?e:kl.createClosedRing(t,e,n+1)},kl.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();kl.copy(e,0,r,0,i);for(var o=i;o<n;o++)kl.copy(e,0,r,o,1);return r};var Ol=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Du:this._points.expandEnvelope(new Du)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&kl.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?vl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Vu.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return kl.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(cu(arguments[0],Zu))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(cu(arguments[0],xl)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(cu(arguments[0],wl)||cu(arguments[0],qu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Sl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Ja("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[gl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Gu),Tl=function(){};Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl};var Rl=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Du;var t=new Du;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return vl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(cu(arguments[0],Zu)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(cu(arguments[0],xl)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(cu(arguments[0],wl)||cu(arguments[0],qu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Nu.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Tl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Gu),Pl=function(){};Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl};var Ll=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Ja("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Ja("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Vu.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Vu.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(!this._shell.equalsExact(r._shell,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var i=0;i<this._holes.length;i++)if(!this._holes[i].equalsExact(r._holes[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);_l.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);Cu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=al.minCoordinate(e.getCoordinates());al.scroll(r,i),Cu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],Vu.isCCW(e.getCoordinates())===n&&al.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var t=arguments[1],e=arguments[0],n=this._shell.compareToSameClass(e._shell,t);if(0!==n)return n;for(var r=this.getNumInteriorRing(),i=e.getNumInteriorRing(),o=0;o<r&&o<i;){var s=this.getInteriorRingN(o),a=e.getInteriorRingN(o),u=s.compareToSameClass(a,t);if(0!==u)return u;o++}return o<r?1:o<i?-1:0}},e.prototype.apply=function(t){if(cu(t,Zu)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(cu(t,xl)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(cu(t,wl))t.filter(this);else if(cu(t,qu)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Pl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Gu),Nl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return vl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Tl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(El),Ml=function(t){function e(e,n){e instanceof iu&&n instanceof Jl&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return vl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return kl.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Ja("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Ja("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Ol),Fl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gu.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new il,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Pl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(El),Bl=function(t){this._factory=t||null,this._isUserDataCopied=!1},jl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Bl.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Bl.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Bl.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof El?this.editGeometryCollection(t,e):t instanceof Ll?this.editPolygon(t,e):t instanceof Rl||t instanceof Ol?e.edit(t,this._factory):(Nu.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Bl.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new il,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Nl?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Cl?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Fl?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Bl.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new il,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl},Bl.GeometryEditorOperation=function(){},jl.NoOpGeometryOperation.get=function(){return zl},jl.CoordinateOperation.get=function(){return Vl},jl.CoordinateSequenceOperation.get=function(){return Ul},Object.defineProperties(Bl,jl);var zl=function(){};zl.prototype.edit=function(t,e){return t},zl.prototype.interfaces_=function(){return[Bl.GeometryEditorOperation]},zl.prototype.getClass=function(){return zl};var Vl=function(){};Vl.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Ml?e.createLinearRing(n):t instanceof Ol?e.createLineString(n):t instanceof Rl?n.length>0?e.createPoint(n[0]):e.createPoint():t},Vl.prototype.interfaces_=function(){return[Bl.GeometryEditorOperation]},Vl.prototype.getClass=function(){return Vl};var Ul=function(){};Ul.prototype.edit=function(t,e){return t instanceof Ml?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Ol?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Rl?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Ul.prototype.interfaces_=function(){return[Bl.GeometryEditorOperation]},Ul.prototype.getClass=function(){return Ul};var ql=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new iu}else if(cu(arguments[0],bu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new iu}},Gl={serialVersionUID:{configurable:!0}};ql.prototype.setOrdinate=function(t,e,n){switch(e){case bu.X:this._coordinates[t].x=n;break;case bu.Y:this._coordinates[t].y=n;break;case bu.Z:this._coordinates[t].z=n;break;default:throw new Ja("invalid ordinateIndex")}},ql.prototype.size=function(){return this._coordinates.length},ql.prototype.getOrdinate=function(t,e){switch(e){case bu.X:return this._coordinates[t].x;case bu.Y:return this._coordinates[t].y;case bu.Z:return this._coordinates[t].z}return Qa.NaN},ql.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}},ql.prototype.getCoordinateCopy=function(t){return new iu(this._coordinates[t])},ql.prototype.getDimension=function(){return this._dimension},ql.prototype.getX=function(t){return this._coordinates[t].x},ql.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ql(t,this._dimension)},ql.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ql.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ql(t,this._dimension)},ql.prototype.toString=function(){if(this._coordinates.length>0){var t=new pu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ql.prototype.getY=function(t){return this._coordinates[t].y},ql.prototype.toCoordinateArray=function(){return this._coordinates},ql.prototype.interfaces_=function(){return[bu,xi]},ql.prototype.getClass=function(){return ql},Gl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ql,Gl);var Hl=function(){},Yl={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Hl.prototype.readResolve=function(){return Hl.instance()},Hl.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ql(arguments[0]);if(cu(arguments[0],bu))return new ql(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new ql(t):new ql(t,e)}},Hl.prototype.interfaces_=function(){return[au,xi]},Hl.prototype.getClass=function(){return Hl},Hl.instance=function(){return Hl.instanceObject},Yl.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Yl.instanceObject.get=function(){return new Hl},Object.defineProperties(Hl,Yl);var Zl=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new il,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new pl;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(hl),Wl=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Xl){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},$l={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Wl.prototype.equals=function(t){return t instanceof Wl&&this._modelType===t._modelType&&this._scale===t._scale},Wl.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new du(n).compareTo(new du(r))},Wl.prototype.getScale=function(){return this._scale},Wl.prototype.isFloating=function(){return this._modelType===Wl.FLOATING||this._modelType===Wl.FLOATING_SINGLE},Wl.prototype.getType=function(){return this._modelType},Wl.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Wl.FLOATING?t="Floating":this._modelType===Wl.FLOATING_SINGLE?t="Floating-Single":this._modelType===Wl.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Wl.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Qa.isNaN(t)||this._modelType===Wl.FLOATING_SINGLE?t:this._modelType===Wl.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof iu){var e=arguments[0];if(this._modelType===Wl.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Wl.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Wl.FLOATING?t=16:this._modelType===Wl.FLOATING_SINGLE?t=6:this._modelType===Wl.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Wl.prototype.setScale=function(t){this._scale=Math.abs(t)},Wl.prototype.interfaces_=function(){return[xi,eu]},Wl.prototype.getClass=function(){return Wl},Wl.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},$l.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},$l.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Wl,$l);var Xl=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Kl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Xl.prototype.readResolve=function(){return Xl.nameToTypeMap.get(this._name)},Xl.prototype.toString=function(){return this._name},Xl.prototype.interfaces_=function(){return[xi]},Xl.prototype.getClass=function(){return Xl},Kl.serialVersionUID.get=function(){return-552860263173159e4},Kl.nameToTypeMap.get=function(){return new Zl},Object.defineProperties(Xl,Kl),Wl.Type=Xl,Wl.FIXED=new Xl("FIXED"),Wl.FLOATING=new Xl("FLOATING"),Wl.FLOATING_SINGLE=new Xl("FLOATING SINGLE");var Jl=function t(){this._precisionModel=new Wl,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?cu(arguments[0],au)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Wl&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ql={serialVersionUID:{configurable:!0}};Jl.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new iu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new iu(t.getMinX(),t.getMinY()),new iu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new iu(t.getMinX(),t.getMinY()),new iu(t.getMinX(),t.getMaxY()),new iu(t.getMaxX(),t.getMaxY()),new iu(t.getMaxX(),t.getMinY()),new iu(t.getMinX(),t.getMinY())]),null)},Jl.prototype.createLineString=function(t){return t?t instanceof Array?new Ol(this.getCoordinateSequenceFactory().create(t),this):cu(t,bu)?new Ol(t,this):void 0:new Ol(this.getCoordinateSequenceFactory().create([]),this)},Jl.prototype.createMultiLineString=function(){return 0===arguments.length?new Cl(null,this):1===arguments.length?new Cl(arguments[0],this):void 0},Jl.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Jl.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Ll)return this.createMultiPolygon(Jl.toPolygonArray(t));if(a instanceof Ol)return this.createMultiLineString(Jl.toLineStringArray(t));if(a instanceof Rl)return this.createMultiPoint(Jl.toPointArray(t));Nu.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},Jl.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Jl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof iu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(cu(arguments[0],bu))return new Rl(arguments[0],this)}},Jl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Jl.prototype.createPolygon=function(){if(0===arguments.length)return new Ll(null,null,this);if(1===arguments.length){if(cu(arguments[0],bu))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Ml)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Ll(arguments[0],arguments[1],this)},Jl.prototype.getSRID=function(){return this._SRID},Jl.prototype.createGeometryCollection=function(){return 0===arguments.length?new El(null,this):1===arguments.length?new El(arguments[0],this):void 0},Jl.prototype.createGeometry=function(t){return new Bl(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Jl.prototype.getPrecisionModel=function(){return this._precisionModel},Jl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(cu(arguments[0],bu))return new Ml(arguments[0],this)}},Jl.prototype.createMultiPolygon=function(){return 0===arguments.length?new Fl(null,this):1===arguments.length?new Fl(arguments[0],this):void 0},Jl.prototype.createMultiPoint=function(){if(0===arguments.length)return new Nl(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Nl(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(cu(arguments[0],bu)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());kl.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},Jl.prototype.interfaces_=function(){return[xi]},Jl.prototype.getClass=function(){return Jl},Jl.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.getDefaultCoordinateSequenceFactory=function(){return Hl.instance()},Jl.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jl.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ql.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Jl,Ql);var tc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ec=function(t){this.geometryFactory=t||new Jl};ec.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!nc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==tc.indexOf(n)?nc[n].apply(this,[e.coordinates]):nc[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},ec.prototype.write=function(t){var e=t.getGeometryType();if(!rc[e])throw new Error("Geometry is not supported");return rc[e].apply(this,[t])};var nc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!nc[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=nc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new iu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new iu(t[0],t[1]),new iu(t[2],t[1]),new iu(t[2],t[3]),new iu(t[0],t[3]),new iu(t[0],t[1])])},Point:function(t){var e=new iu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(nc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=nc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(nc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=nc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=nc.coordinates.apply(this,[t[i]]),s=this.geometryFactory.createLinearRing(o);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push(nc.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},rc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:rc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=rc.Point.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r)e.push(rc.coordinate.apply(this,[n[r]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=rc.LineString.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=rc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=rc.LineString.apply(this,[t._holes[r]]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=rc.Polygon.apply(this,[t._geometries[n]]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(rc[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},ic=function(t){this.geometryFactory=t||new Jl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ec(this.geometryFactory)};ic.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Wl.FIXED&&this.reducePrecision(e),e},ic.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var oc=function(){this.parser=new ec(this.geometryFactory)};oc.prototype.write=function(t){return this.parser.write(t)};var sc=function(){},ac={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc},sc.opposite=function(t){return t===sc.LEFT?sc.RIGHT:t===sc.RIGHT?sc.LEFT:t},ac.ON.get=function(){return 0},ac.LEFT.get=function(){return 1},ac.RIGHT.get=function(){return 2},Object.defineProperties(sc,ac),(Ni.prototype=new Error).name="EmptyStackException",(Mi.prototype=new rl).add=function(t){return this.array_.push(t),!0},Mi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Mi.prototype.push=function(t){return this.array_.push(t),t},Mi.prototype.pop=function(t){if(0===this.array_.length)throw new Ni;return this.array_.pop()},Mi.prototype.peek=function(){if(0===this.array_.length)throw new Ni;return this.array_[this.array_.length-1]},Mi.prototype.empty=function(){return 0===this.array_.length},Mi.prototype.isEmpty=function(){return this.empty()},Mi.prototype.search=function(t){return this.array_.indexOf(t)},Mi.prototype.size=function(){return this.array_.length},Mi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var uc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};uc.prototype.getCoordinate=function(){return this._minCoord},uc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},uc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Nu.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=Vu.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Vu.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Vu.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},uc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=sc.LEFT;return n[e].y<n[e+1].y&&(r=sc.RIGHT),r},uc.prototype.getEdge=function(){return this._orientedDe},uc.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},uc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},uc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Nu.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===sc.LEFT&&(this._orientedDe=this._minDe.getSym())},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var lc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new iu(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Pu),cc=function(){this.array_=[]};cc.prototype.addLast=function(t){this.array_.push(t)},cc.prototype.removeFirst=function(){return this.array_.shift()},cc.prototype.isEmpty=function(){return 0===this.array_.length};var hc=function(){this._finder=null,this._dirEdgeList=new il,this._nodes=new il,this._rightMostCoord=null,this._env=null,this._finder=new uc};hc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},hc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},hc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new lc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},hc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(sc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},hc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},hc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(sc.RIGHT)>=1&&e.getDepth(sc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},hc.prototype.computeDepths=function(t){var e=new pl,n=new cc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},hc.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},hc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Du,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},hc.prototype.addReachable=function(t){var e=new Mi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},hc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(sc.LEFT,t.getDepth(sc.RIGHT)),e.setDepth(sc.RIGHT,t.getDepth(sc.LEFT))},hc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},hc.prototype.getNodes=function(){return this._nodes},hc.prototype.getDirectedEdges=function(){return this._dirEdgeList},hc.prototype.interfaces_=function(){return[eu]},hc.prototype.getClass=function(){return hc};var fc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[sc.ON]=e}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[sc.ON]=i,this.location[sc.LEFT]=o,this.location[sc.RIGHT]=s}};fc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},fc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==uu.NONE)return!1;return!0},fc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===uu.NONE&&(this.location[e]=t)},fc.prototype.isLine=function(){return 1===this.location.length},fc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[sc.ON]=this.location[sc.ON],e[sc.LEFT]=uu.NONE,e[sc.RIGHT]=uu.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===uu.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},fc.prototype.getLocations=function(){return this.location},fc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[sc.LEFT];this.location[sc.LEFT]=this.location[sc.RIGHT],this.location[sc.RIGHT]=t},fc.prototype.toString=function(){var t=new pu;return this.location.length>1&&t.append(uu.toLocationSymbol(this.location[sc.LEFT])),t.append(uu.toLocationSymbol(this.location[sc.ON])),this.location.length>1&&t.append(uu.toLocationSymbol(this.location[sc.RIGHT])),t.toString()},fc.prototype.setLocations=function(t,e,n){this.location[sc.ON]=t,this.location[sc.LEFT]=e,this.location[sc.RIGHT]=n},fc.prototype.get=function(t){return t<this.location.length?this.location[t]:uu.NONE},fc.prototype.isArea=function(){return this.location.length>1},fc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===uu.NONE)return!0;return!1},fc.prototype.setLocation=function(){1===arguments.length?this.setLocation(sc.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},fc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(uu.NONE)},fc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},fc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var pc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new fc(e),this.elt[1]=new fc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new fc(n.elt[0]),this.elt[1]=new fc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new fc(uu.NONE),this.elt[1]=new fc(uu.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new fc(o,s,a),this.elt[1]=new fc(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new fc(uu.NONE,uu.NONE,uu.NONE),this.elt[1]=new fc(uu.NONE,uu.NONE,uu.NONE),this.elt[u].setLocations(l,c,h)}};pc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},pc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},pc.prototype.isNull=function(t){return this.elt[t].isNull()},pc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},pc.prototype.isLine=function(t){return this.elt[t].isLine()},pc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new fc(t.elt[e]):this.elt[e].merge(t.elt[e])},pc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},pc.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(sc.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},pc.prototype.toString=function(){var t=new pu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},pc.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},pc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},pc.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(sc.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},pc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},pc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},pc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new fc(this.elt[t].location[0]))},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc},pc.toLineLabel=function(t){for(var e=new pc(uu.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var dc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new il,this._pts=new il,this._label=new pc(uu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new il,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};dc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Vu.isCCW(this._ring.getCoordinates())},dc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},dc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new lc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new lc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();Nu.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},dc.prototype.getLinearRing=function(){return this._ring},dc.prototype.getCoordinate=function(t){return this._pts.get(t)},dc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},dc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},dc.prototype.isHole=function(){return this._isHole},dc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},dc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Vu.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},dc.prototype.addHole=function(t){this._holes.add(t)},dc.prototype.isShell=function(){return null===this._shell},dc.prototype.getLabel=function(){return this._label},dc.prototype.getEdges=function(){return this._edges},dc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},dc.prototype.getShell=function(){return this._shell},dc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,sc.RIGHT);if(n===uu.NONE)return null;if(this._label.getLocation(e)===uu.NONE)return this._label.setLocation(e,n),null}},dc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},dc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var mc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),gc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var t=new il,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new mc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),yc=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(this._label=arguments[0])};yc.prototype.setVisited=function(t){this._isVisited=t},yc.prototype.setInResult=function(t){this._isInResult=t},yc.prototype.isCovered=function(){return this._isCovered},yc.prototype.isCoveredSet=function(){return this._isCoveredSet},yc.prototype.setLabel=function(t){this._label=t},yc.prototype.getLabel=function(){return this._label},yc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},yc.prototype.updateIM=function(t){Nu.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},yc.prototype.isInResult=function(){return this._isInResult},yc.prototype.isVisited=function(){return this._isVisited},yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc};var _c=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[1];this._coord=arguments[0],this._edges=e,this._label=new pc(0,uu.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=uu.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==uu.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new pc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof pc)for(var t=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(t,n);this._label.getLocation(n)===uu.NONE&&this._label.setLocation(n,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=uu.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case uu.BOUNDARY:n=uu.INTERIOR;break;case uu.INTERIOR:default:n=uu.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yc),vc=function(){this.nodeMap=new Ti,this.nodeFact=null,this.nodeFact=arguments[0]};vc.prototype.find=function(t){return this.nodeMap.get(t)},vc.prototype.addNode=function(){if(arguments[0]instanceof iu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof _c){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},vc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},vc.prototype.iterator=function(){return this.nodeMap.values().iterator()},vc.prototype.values=function(){return this.nodeMap.values()},vc.prototype.getBoundaryNodes=function(t){for(var e=new il,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===uu.BOUNDARY&&e.add(r)}return e},vc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc};var bc=function(){},wc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};bc.prototype.interfaces_=function(){return[]},bc.prototype.getClass=function(){return bc},bc.isNorthern=function(t){return t===bc.NE||t===bc.NW},bc.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},bc.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},bc.isInHalfPlane=function(t,e){return e===bc.SE?t===bc.SE||t===bc.SW:t===e||t===e+1},bc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ja("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?bc.NE:bc.SE:e>=0?bc.NW:bc.SW}if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new Ja("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?bc.NE:bc.SE:r.y>=n.y?bc.NW:bc.SW}},wc.NE.get=function(){return 0},wc.NW.get=function(){return 1},wc.SW.get=function(){return 2},wc.SE.get=function(){return 3},Object.defineProperties(bc,wc);var xc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var t=arguments[1],e=arguments[2];this._edge=arguments[0],this.init(t,e),this._label=null}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this._edge=arguments[0],this.init(n,r),this._label=i}};xc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Vu.computeOrientation(t._p0,t._p1,this._p1)},xc.prototype.getDy=function(){return this._dy},xc.prototype.getCoordinate=function(){return this._p0},xc.prototype.setNode=function(t){this._node=t},xc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},xc.prototype.compareTo=function(t){return this.compareDirection(t)},xc.prototype.getDirectedCoordinate=function(){return this._p1},xc.prototype.getDx=function(){return this._dx},xc.prototype.getLabel=function(){return this._label},xc.prototype.getEdge=function(){return this._edge},xc.prototype.getQuadrant=function(){return this._quadrant},xc.prototype.getNode=function(){return this._node},xc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},xc.prototype.computeLabel=function(t){},xc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=bc.quadrant(this._dx,this._dy),Nu.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},xc.prototype.interfaces_=function(){return[eu]},xc.prototype.getClass=function(){return xc};var Ec=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new pc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new lc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,sc.LEFT)===uu.INTERIOR&&this._label.getLocation(e,sc.RIGHT)===uu.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[sc.LEFT]+"/"+this._depth[sc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,uu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,uu.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===sc.LEFT&&(r=-1);var i=sc.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===uu.EXTERIOR&&e===uu.INTERIOR?1:t===uu.INTERIOR&&e===uu.EXTERIOR?-1:0},e}(xc),Cc=function(){};Cc.prototype.createNode=function(t){return new _c(t,null)},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Sc=function(){this._edges=new il,this._nodes=null,this._edgeEndList=new il,0===arguments.length?this._nodes=new vc(new Cc):1===arguments.length&&(this._nodes=new vc(arguments[0]))};Sc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Sc.prototype.find=function(t){return this._nodes.find(t)},Sc.prototype.addNode=function(){return arguments[0]instanceof _c||arguments[0]instanceof iu?this._nodes.addNode(arguments[0]):void 0},Sc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Sc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Sc.prototype.debugPrintln=function(t){Cu.out.println(t)},Sc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===uu.BOUNDARY},Sc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Sc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&Vu.computeOrientation(t,e,r)===Vu.COLLINEAR&&bc.quadrant(t,e)===bc.quadrant(n,r)},Sc.prototype.getEdgeEnds=function(){return this._edgeEndList},Sc.prototype.debugPrint=function(t){Cu.out.print(t)},Sc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Sc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Sc.prototype.insertEdge=function(t){this._edges.add(t)},Sc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Sc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Ec(n,!0),i=new Ec(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Sc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Sc.prototype.getNodes=function(){return this._nodes.values()},Sc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc},Sc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Dc=function(){this._geometryFactory=null,this._shellList=new il,this._geometryFactory=arguments[0]};Dc.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Dc.prototype.computePolygons=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Dc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new lc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Dc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new il,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Dc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Dc.prototype.buildMaximalEdgeRings=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new gc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Dc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Dc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Dc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&Vu.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},Dc.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Nu.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Dc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];Sc.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(e),r=new il,i=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(i,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var Ic=function(){};Ic.prototype.getBounds=function(){},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Ac=function(){this._bounds=null,this._item=null;var t=arguments[1];this._bounds=arguments[0],this._item=t};Ac.prototype.getItem=function(){return this._item},Ac.prototype.getBounds=function(){return this._bounds},Ac.prototype.interfaces_=function(){return[Ic,xi]},Ac.prototype.getClass=function(){return Ac};var kc=function(){this._size=null,this._items=null,this._size=0,this._items=new il,this._items.add(null)};kc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},kc.prototype.size=function(){return this._size},kc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},kc.prototype.clear=function(){this._size=0,this._items.clear()},kc.prototype.isEmpty=function(){return 0===this._size},kc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var Oc=function(){};Oc.prototype.visitItem=function(t){},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc};var Tc=function(){};Tc.prototype.insert=function(t,e){},Tc.prototype.remove=function(t,e){},Tc.prototype.query=function(){},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc};var Rc=function(){this._childBoundables=new il,this._bounds=null,this._level=null,0===arguments.length||1===arguments.length&&(this._level=arguments[0])},Pc={serialVersionUID:{configurable:!0}};Rc.prototype.getLevel=function(){return this._level},Rc.prototype.size=function(){return this._childBoundables.size()},Rc.prototype.getChildBoundables=function(){return this._childBoundables},Rc.prototype.addChildBoundable=function(t){Nu.isTrue(null===this._bounds),this._childBoundables.add(t)},Rc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Rc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Rc.prototype.interfaces_=function(){return[Ic,xi]},Rc.prototype.getClass=function(){return Rc},Pc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Rc,Pc);var Lc=function(){};Lc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Lc.min=function(t){return Lc.sort(t),t.get(0)},Lc.sort=function(t,e){var n=t.toArray();e?_l.sort(n,e):_l.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Lc.singletonList=function(t){var e=new il;return e.add(t),e};var Nc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[1],e=arguments[2];this._boundable1=arguments[0],this._boundable2=t,this._itemDistance=e,this._distance=this.distance()};Nc.prototype.expandToQueue=function(t,e){var n=Nc.isComposite(this._boundable1),r=Nc.isComposite(this._boundable2);if(n&&r)return Nc.area(this._boundable1)>Nc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Ja("neither boundable is composite")},Nc.prototype.isLeaves=function(){return!(Nc.isComposite(this._boundable1)||Nc.isComposite(this._boundable2))},Nc.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Nc.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new Nc(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},Nc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Nc.prototype.getDistance=function(){return this._distance},Nc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Nc.prototype.interfaces_=function(){return[eu]},Nc.prototype.getClass=function(){return Nc},Nc.area=function(t){return t.getBounds().getArea()},Nc.isComposite=function(t){return t instanceof Rc};var Mc=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new il,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var e=arguments[0];Nu.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},Fc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Mc.prototype.getNodeCapacity=function(){return this._nodeCapacity},Mc.prototype.lastNode=function(t){return t.get(t.size()-1)},Mc.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Rc?t+=this.size(n):n instanceof Ac&&(t+=1)}return t}},Mc.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Ac&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Mc.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new il:t}if(1===arguments.length){for(var e=arguments[0],n=new il,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Rc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Ac?n.add(i.getItem()):Nu.shouldNeverReachHere()}return n.size()<=0?null:n}},Mc.prototype.insert=function(t,e){Nu.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ac(t,e))},Mc.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new il;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Nu.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Rc?this.boundablesAtLevel(n,s,i):(Nu.isTrue(s instanceof Ac),-1===n&&i.add(s))}return null}},Mc.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new il;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(cu(arguments[2],Oc)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc)for(var i=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Rc?this.query(i,u,o):u instanceof Ac?o.visitItem(u.getItem()):Nu.shouldNeverReachHere())}else if(cu(arguments[2],rl)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc)for(var l=arguments[0],c=arguments[2],h=arguments[1].getChildBoundables(),f=0;f<h.size();f++){var p=h.get(f);this.getIntersectsOp().intersects(p.getBounds(),l)&&(p instanceof Rc?this.query(l,p,c):p instanceof Ac?c.add(p.getItem()):Nu.shouldNeverReachHere())}},Mc.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Mc.prototype.getRoot=function(){return this.build(),this._root},Mc.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Rc&&(o=this.remove(n,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},Mc.prototype.createHigherLevels=function(t,e){Nu.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Mc.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Rc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},Mc.prototype.createParentBoundables=function(t,e){Nu.isTrue(!t.isEmpty());var n=new il;n.add(this.createNode(e));var r=new il(t);Lc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Mc.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Mc.prototype.interfaces_=function(){return[xi]},Mc.prototype.getClass=function(){return Mc},Mc.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Fc.IntersectsOp.get=function(){return Bc},Fc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Fc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Mc,Fc);var Bc=function(){},jc=function(){};jc.prototype.distance=function(t,e){},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc};var zc=function(t){function e(n){t.call(this,n=n||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Nu.isTrue(t.length>0);for(var n=new il,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new Vc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new il;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(cu(arguments[2],Oc)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc||cu(arguments[2],rl)&&arguments[0]instanceof Object&&arguments[1]instanceof Rc)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Nu.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new il(t);Lc.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(cu(arguments[0],jc)){var t=arguments[0],n=new Nc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Nc)return this.nearestNeighbour(arguments[0],Qa.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&cu(arguments[1],jc)){var r=arguments[0],i=arguments[1],o=new Nc(this.getRoot(),r.getRoot(),i);return this.nearestNeighbour(o)}if(arguments[0]instanceof Nc&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=null,l=new kc;for(l.add(s);!l.isEmpty()&&a>0;){var c=l.poll(),h=c.getDistance();if(h>=a)break;c.isLeaves()?(a=h,u=c):c.expandToQueue(l,a)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[2],p=new Ac(arguments[0],arguments[1]),d=new Nc(this.getRoot(),p,f);return this.nearestNeighbour(d)[0]}},e.prototype.interfaces_=function(){return[Tc,xi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Vc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[ru]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[ru]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Mc),Vc=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Du(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Rc),Uc=function(){};Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Uc.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Uc.relativeSign(e.x,n.x),i=Uc.relativeSign(e.y,n.y);switch(t){case 0:return Uc.compareValue(r,i);case 1:return Uc.compareValue(i,r);case 2:return Uc.compareValue(i,-r);case 3:return Uc.compareValue(-r,i);case 4:return Uc.compareValue(-r,-i);case 5:return Uc.compareValue(-i,-r);case 6:return Uc.compareValue(-i,r);case 7:return Uc.compareValue(r,-i)}return Nu.shouldNeverReachHere("invalid octant value"),0},Uc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var qc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new iu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};qc.prototype.getCoordinate=function(){return this.coord},qc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},qc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Uc.compare(this._segmentOctant,this.coord,e.coord)},qc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},qc.prototype.isInterior=function(){return this._isInterior},qc.prototype.interfaces_=function(){return[eu]},qc.prototype.getClass=function(){return qc};var Gc=function(){this._nodeMap=new Ti,this._edge=null,this._edge=arguments[0]};Gc.prototype.getSplitCoordinates=function(){var t=new sl;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},Gc.prototype.addCollapsedNodes=function(){var t=new il;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Gc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new du(e+1))}},Gc.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new iu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new iu(e.coord))},Gc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Gc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Gc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},Gc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new du(e[0])),r=i}},Gc.prototype.getEdge=function(){return this._edge},Gc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Gc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new iu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new iu(e.coord)),new Wc(o,this._edge.getData())},Gc.prototype.add=function(t,e){var n=new qc(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Nu.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},Gc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Pu("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Pu("bad split edge end point at "+i)},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc};var Hc=function(){};Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ja("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new Ja("Cannot compute the octant for two identical points "+i);return Hc.octant(s,a)}};var Yc=function(){};Yc.prototype.getCoordinates=function(){},Yc.prototype.size=function(){},Yc.prototype.getCoordinate=function(t){},Yc.prototype.isClosed=function(){},Yc.prototype.setData=function(t){},Yc.prototype.getData=function(){},Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc};var Zc=function(){};Zc.prototype.addIntersection=function(t,e){},Zc.prototype.interfaces_=function(){return[Yc]},Zc.prototype.getClass=function(){return Zc};var Wc=function(){this._nodeList=new Gc(this),this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};Wc.prototype.getCoordinates=function(){return this._pts},Wc.prototype.size=function(){return this._pts.length},Wc.prototype.getCoordinate=function(t){return this._pts[t]},Wc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Wc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Wc.prototype.setData=function(t){this._data=t},Wc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Hc.octant(t,e)},Wc.prototype.getData=function(){return this._data},Wc.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var t=arguments[1],e=new iu(arguments[0].getIntersection(arguments[3]));this.addIntersection(e,t)}},Wc.prototype.toString=function(){return Ru.toLineString(new ql(this._pts))},Wc.prototype.getNodeList=function(){return this._nodeList},Wc.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;return r<this._pts.length&&t.equals2D(this._pts[r])&&(n=r),this._nodeList.add(t,n)},Wc.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},Wc.prototype.interfaces_=function(){return[Zc]},Wc.prototype.getClass=function(){return Wc},Wc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new il;return Wc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var $c=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new iu,this.p1=new iu;else if(1===arguments.length){var t=arguments[0];this.p0=new iu(t.p0),this.p1=new iu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[2],n=arguments[3];this.p0=new iu(arguments[0],arguments[1]),this.p1=new iu(e,n)}},Xc={serialVersionUID:{configurable:!0}};$c.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},$c.prototype.orientationIndex=function(){if(arguments[0]instanceof $c){var t=arguments[0],e=Vu.orientationIndex(this.p0,this.p1,t.p0),n=Vu.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof iu)return Vu.orientationIndex(this.p0,this.p1,arguments[0])},$c.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},$c.prototype.isVertical=function(){return this.p0.x===this.p1.x},$c.prototype.equals=function(t){if(!(t instanceof $c))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},$c.prototype.intersection=function(t){var e=new Bu;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},$c.prototype.project=function(){if(arguments[0]instanceof iu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new iu(t);var e=this.projectionFactor(t),n=new iu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof $c){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new $c(s,a)}},$c.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},$c.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},$c.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},$c.prototype.distancePerpendicular=function(t){return Vu.distancePointLinePerpendicular(t,this.p0,this.p1)},$c.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},$c.prototype.midPoint=function(){return $c.midPoint(this.p0,this.p1)},$c.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?Qa.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},$c.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=Qa.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},$c.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},$c.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},$c.prototype.getLength=function(){return this.p0.distance(this.p1)},$c.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},$c.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},$c.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},$c.prototype.lineIntersection=function(t){try{return Su.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Eu))throw t}return null},$c.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},$c.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new iu(n-u,r+a)},$c.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},$c.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Qa.isNaN(e))&&(e=1),e},$c.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},$c.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},$c.prototype.distance=function(){if(arguments[0]instanceof $c){var t=arguments[0];return Vu.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof iu)return Vu.distancePointLine(arguments[0],this.p0,this.p1)},$c.prototype.pointAlong=function(t){var e=new iu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},$c.prototype.hashCode=function(){var t=Qa.doubleToLongBits(this.p0.x);t^=31*Qa.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Qa.doubleToLongBits(this.p1.x);return n^=31*Qa.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},$c.prototype.interfaces_=function(){return[eu,xi]},$c.prototype.getClass=function(){return $c},$c.midPoint=function(t,e){return new iu((t.x+e.x)/2,(t.y+e.y)/2)},Xc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties($c,Xc);var Kc=function(){this.tempEnv1=new Du,this.tempEnv2=new Du,this._overlapSeg1=new $c,this._overlapSeg2=new $c};Kc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[2],e=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),t.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Jc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[1],e=arguments[2],n=arguments[3];this._pts=arguments[0],this._start=t,this._end=e,this._context=n};Jc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Jc.prototype.computeSelect=function(t,e,n,r){if(r.tempEnv1.init(this._pts[e],this._pts[n]),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var i=Math.trunc((e+n)/2);e<i&&this.computeSelect(t,e,i,r),i<n&&this.computeSelect(t,i,n,r)},Jc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Jc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Jc.prototype.setId=function(t){this._id=t},Jc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Jc.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Du(this._pts[this._start],this._pts[this._end])),this._env},Jc.prototype.getEndIndex=function(){return this._end},Jc.prototype.getStartIndex=function(){return this._start},Jc.prototype.getContext=function(){return this._context},Jc.prototype.getId=function(){return this._id},Jc.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.getChainStartIndices=function(t){var e=0,n=new il;n.add(new du(e));do{var r=Qc.findChainEnd(t,e);n.add(new du(r)),e=r}while(e<t.length-1);return Qc.toIntArray(n)},Qc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=bc.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||bc.quadrant(t[i-1],t[i])===r);)i++;return i-1},Qc.getChains=function(){if(1===arguments.length)return Qc.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new il,r=Qc.getChainStartIndices(t),i=0;i<r.length-1;i++){var o=new Jc(t,r[i],r[i+1],e);n.add(o)}return n}},Qc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var th=function(){};th.prototype.computeNodes=function(t){},th.prototype.getNodedSubstrings=function(){},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th};var eh=function(){this._segInt=null,0===arguments.length||1===arguments.length&&this.setSegmentIntersector(arguments[0])};eh.prototype.setSegmentIntersector=function(t){this._segInt=t},eh.prototype.interfaces_=function(){return[th]},eh.prototype.getClass=function(){return eh};var nh=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new il,this._index=new zc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Wc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Qc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new rh(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return rh},Object.defineProperties(e,n),e}(eh),rh=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kc),ih=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var e=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(e)}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(n),this.setJoinStyle(r),this.setMitreLimit(i)}},oh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};ih.prototype.getEndCapStyle=function(){return this._endCapStyle},ih.prototype.isSingleSided=function(){return this._isSingleSided},ih.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=ih.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=ih.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==ih.JOIN_ROUND&&(this._quadrantSegments=ih.DEFAULT_QUADRANT_SEGMENTS)},ih.prototype.getJoinStyle=function(){return this._joinStyle},ih.prototype.setJoinStyle=function(t){this._joinStyle=t},ih.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},ih.prototype.getSimplifyFactor=function(){return this._simplifyFactor},ih.prototype.getQuadrantSegments=function(){return this._quadrantSegments},ih.prototype.setEndCapStyle=function(t){this._endCapStyle=t},ih.prototype.getMitreLimit=function(){return this._mitreLimit},ih.prototype.setMitreLimit=function(t){this._mitreLimit=t},ih.prototype.setSingleSided=function(t){this._isSingleSided=t},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},ih.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},oh.CAP_ROUND.get=function(){return 1},oh.CAP_FLAT.get=function(){return 2},oh.CAP_SQUARE.get=function(){return 3},oh.JOIN_ROUND.get=function(){return 1},oh.JOIN_MITRE.get=function(){return 2},oh.JOIN_BEVEL.get=function(){return 3},oh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},oh.DEFAULT_MITRE_LIMIT.get=function(){return 5},oh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(ih,oh);var sh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Vu.COUNTERCLOCKWISE,this._inputLine=t||null},ah={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};sh.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},sh.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=sh.DELETE,i=!0,r=!0),e=this.findNextNonDeletedIndex(t=i?n:e),n=this.findNextNonDeletedIndex(e)}return r},sh.prototype.isShallowConcavity=function(t,e,n,r){return Vu.computeOrientation(t,e,n)===this._angleOrientation&&Vu.distancePointLine(e,t,n)<r},sh.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/sh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},sh.prototype.isConcave=function(t,e,n){return Vu.computeOrientation(t,e,n)===this._angleOrientation},sh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Vu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},sh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===sh.DELETE;)e++;return e},sh.prototype.isShallow=function(t,e,n,r){return Vu.distancePointLine(e,t,n)<r},sh.prototype.collapseLine=function(){for(var t=new sl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==sh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},sh.simplify=function(t,e){return new sh(t).simplify(e)},ah.INIT.get=function(){return 0},ah.DELETE.get=function(){return 1},ah.KEEP.get=function(){return 1},ah.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(sh,ah);var uh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new il},lh={COORDINATE_ARRAY_TYPE:{configurable:!0}};uh.prototype.getCoordinates=function(){return this._ptList.toArray(uh.COORDINATE_ARRAY_TYPE)},uh.prototype.setPrecisionModel=function(t){this._precisionModel=t},uh.prototype.addPt=function(t){var e=new iu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},uh.prototype.revere=function(){},uh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},uh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},uh.prototype.toString=function(){return(new Jl).createLineString(this.getCoordinates()).toString()},uh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new iu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},uh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},lh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(uh,lh);var ch=function(){},hh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},ch.toDegrees=function(t){return 180*t/Math.PI},ch.normalize=function(t){for(;t>Math.PI;)t-=ch.PI_TIMES_2;for(;t<=-Math.PI;)t+=ch.PI_TIMES_2;return t},ch.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Math.atan2(n.y-e.y,n.x-e.x)}},ch.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},ch.isObtuse=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)<0},ch.interiorAngle=function(t,e,n){var r=ch.angle(e,t),i=ch.angle(e,n);return Math.abs(i-r)},ch.normalizePositive=function(t){if(t<0){for(;t<0;)t+=ch.PI_TIMES_2;t>=ch.PI_TIMES_2&&(t=0)}else{for(;t>=ch.PI_TIMES_2;)t-=ch.PI_TIMES_2;t<0&&(t=0)}return t},ch.angleBetween=function(t,e,n){var r=ch.angle(e,t),i=ch.angle(e,n);return ch.diff(r,i)},ch.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},ch.toRadians=function(t){return t*Math.PI/180},ch.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ch.COUNTERCLOCKWISE:n<0?ch.CLOCKWISE:ch.NONE},ch.angleBetweenOriented=function(t,e,n){var r=ch.angle(e,t),i=ch.angle(e,n)-r;return i<=-Math.PI?i+ch.PI_TIMES_2:i>Math.PI?i-ch.PI_TIMES_2:i},hh.PI_TIMES_2.get=function(){return 2*Math.PI},hh.PI_OVER_2.get=function(){return Math.PI/2},hh.PI_OVER_4.get=function(){return Math.PI/4},hh.COUNTERCLOCKWISE.get=function(){return Vu.COUNTERCLOCKWISE},hh.CLOCKWISE.get=function(){return Vu.CLOCKWISE},hh.NONE.get=function(){return Vu.COLLINEAR},Object.defineProperties(ch,hh);var fh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new $c,this._seg1=new $c,this._offset0=new $c,this._offset1=new $c,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[1],n=arguments[2];this._precisionModel=arguments[0],this._bufParams=e,this._li=new Bu,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===ih.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},ph={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};fh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Vu.computeOrientation(this._s0,this._s1,this._s2),r=n===Vu.CLOCKWISE&&this._side===sc.LEFT||n===Vu.COUNTERCLOCKWISE&&this._side===sc.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},fh.prototype.addLineEndCap=function(t,e){var n=new $c(t,e),r=new $c;this.computeOffsetSegment(n,sc.LEFT,this._distance,r);var i=new $c;this.computeOffsetSegment(n,sc.RIGHT,this._distance,i);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case ih.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,Vu.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case ih.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case ih.CAP_SQUARE:var s=new iu;s.x=Math.abs(this._distance)*Math.cos(o),s.y=Math.abs(this._distance)*Math.sin(o);var a=new iu(r.p1.x+s.x,r.p1.y+s.y),u=new iu(i.p1.x+s.x,i.p1.y+s.y);this._segList.addPt(a),this._segList.addPt(u)}},fh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},fh.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Su.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof Eu))throw t;o=new iu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},fh.prototype.addFilletCorner=function(t,e,n,r,i){var o=Math.atan2(e.y-t.y,e.x-t.x),s=Math.atan2(n.y-t.y,n.x-t.x);r===Vu.CLOCKWISE?o<=s&&(o+=2*Math.PI):o>=s&&(o-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,o,s,r,i),this._segList.addPt(n)},fh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*fh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===ih.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===ih.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},fh.prototype.createSquare=function(t){this._segList.addPt(new iu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new iu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new iu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new iu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},fh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},fh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},fh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},fh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},fh.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=ch.angle(i,this._seg0.p0),s=ch.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=ch.normalize(o+s),u=ch.normalize(a+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(s)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),p=new iu(h,f),d=new $c(i,p),m=d.pointAlongOffset(1,c),g=d.pointAlongOffset(1,-c);this._side===sc.LEFT?(this._segList.addPt(m),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(m))},fh.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===sc.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},fh.prototype.addFilletArc=function(t,e,n,r,i){var o=r===Vu.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new iu;l<s;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},fh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*fh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new iu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new iu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},fh.prototype.createCircle=function(t){var e=new iu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},fh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},fh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new uh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*fh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},fh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===ih.JOIN_BEVEL||this._bufParams.getJoinStyle()===ih.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Vu.CLOCKWISE,this._distance))},fh.prototype.closeRing=function(){this._segList.closeRing()},fh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},ph.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},ph.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},ph.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ph.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(fh,ph);var dh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[1];this._precisionModel=arguments[0],this._bufParams=t};dh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&al.reverse(o),o},dh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=sh.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],sc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=sh.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],sc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},dh.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===sc.RIGHT&&(r=-r);var i=sh.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++)n.addNextSegment(i[s],1!==s);n.closeRing()},dh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=sh.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],sc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=sh.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],sc.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},dh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case ih.CAP_ROUND:e.createCircle(t);break;case ih.CAP_SQUARE:e.createSquare(t)}},dh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],r):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,r):this.computeLineBufferCurve(t,r),r.getCoordinates()},dh.prototype.getBufferParameters=function(){return this._bufParams},dh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},dh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return dh.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},dh.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=sh.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],sc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=sh.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],sc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},dh.prototype.getSegGen=function(t){return new fh(this._precisionModel,this._bufParams,t)},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},dh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new iu(t[n]);return e};var mh=function(){this._subgraphs=null,this._seg=new $c,this._cga=new Vu,this._subgraphs=arguments[0]},gh={DepthSegment:{configurable:!0}};mh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new il,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(cu(arguments[2],rl)&&arguments[0]instanceof iu&&arguments[1]instanceof Ec){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Vu.computeOrientation(this._seg.p0,this._seg.p1,o)===Vu.RIGHT)){var c=s.getDepth(sc.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(sc.RIGHT));var h=new yh(this._seg,c);a.add(h)}}else if(cu(arguments[2],rl)&&arguments[0]instanceof iu&&cu(arguments[1],rl))for(var f=arguments[0],p=arguments[2],d=arguments[1].iterator();d.hasNext();){var m=d.next();m.isForward()&&this.findStabbedSegments(f,m,p)}},mh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Lc.min(e)._leftDepth},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},gh.DepthSegment.get=function(){return yh},Object.defineProperties(mh,gh);var yh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[1];this._upwardSeg=new $c(arguments[0]),this._leftDepth=t};yh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},yh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},yh.prototype.toString=function(){return this._upwardSeg.toString()},yh.prototype.interfaces_=function(){return[eu]},yh.prototype.getClass=function(){return yh};var _h=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};_h.prototype.area=function(){return _h.area(this.p0,this.p1,this.p2)},_h.prototype.signedArea=function(){return _h.signedArea(this.p0,this.p1,this.p2)},_h.prototype.interpolateZ=function(t){if(null===t)throw new Ja("Supplied point is null.");return _h.interpolateZ(t,this.p0,this.p1,this.p2)},_h.prototype.longestSideLength=function(){return _h.longestSideLength(this.p0,this.p1,this.p2)},_h.prototype.isAcute=function(){return _h.isAcute(this.p0,this.p1,this.p2)},_h.prototype.circumcentre=function(){return _h.circumcentre(this.p0,this.p1,this.p2)},_h.prototype.area3D=function(){return _h.area3D(this.p0,this.p1,this.p2)},_h.prototype.centroid=function(){return _h.centroid(this.p0,this.p1,this.p2)},_h.prototype.inCentre=function(){return _h.inCentre(this.p0,this.p1,this.p2)},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h},_h.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},_h.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},_h.det=function(t,e,n,r){return t*r-e*n},_h.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,c=s*l-a*u,h=t.x-i,f=t.y-o;return e.z+(l*h-a*f)/c*(n.z-e.z)+(-u*h+s*f)/c*(r.z-e.z)},_h.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},_h.isAcute=function(t,e,n){return!!ch.isAcute(t,e,n)&&!!ch.isAcute(e,n,t)&&!!ch.isAcute(n,t,e)},_h.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,l=2*_h.det(o,s,a,u),c=_h.det(s,o*o+s*s,u,a*a+u*u),h=_h.det(o,o*o+s*s,a,a*a+u*u);return new iu(r-c/l,i+h/l)},_h.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Su(t.x+n/2,t.y+r/2,1),o=new Su(t.x-r+n/2,t.y+n+r/2,1);return new Su(i,o)},_h.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n));return new iu(t.x+i*(n.x-t.x),t.y+i*(n.y-t.y))},_h.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=i*u-o*a,c=o*s-r*u,h=r*a-i*s;return Math.sqrt(l*l+c*c+h*h)/2},_h.centroid=function(t,e,n){return new iu((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},_h.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o;return new iu((r*t.x+i*e.x+o*n.x)/s,(r*t.y+i*e.y+o*n.y)/s)};var vh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new il;var t=arguments[1],e=arguments[2];this._inputGeom=arguments[0],this._distance=t,this._curveBuilder=e};vh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,uu.EXTERIOR,uu.INTERIOR)},vh.prototype.addPolygon=function(t){var e=this._distance,n=sc.LEFT;this._distance<0&&(e=-this._distance,n=sc.RIGHT);var r=t.getExteriorRing(),i=al.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,uu.EXTERIOR,uu.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=al.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,sc.opposite(n),uu.INTERIOR,uu.EXTERIOR)}},vh.prototype.isTriangleErodedCompletely=function(t,e){var n=new _h(t[0],t[1],t[2]),r=n.inCentre();return Vu.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},vh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=al.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,uu.EXTERIOR,uu.INTERIOR)},vh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new Wc(t,new pc(0,uu.BOUNDARY,e,n));this._curveList.add(r)},vh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},vh.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<Ml.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=Ml.MINIMUM_VALID_SIZE&&Vu.isCCW(t)&&(o=i,s=r,n=sc.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},vh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Ll?this.addPolygon(t):t instanceof Ol?this.addLineString(t):t instanceof Rl?this.addPoint(t):(t instanceof Nl||t instanceof Cl||t instanceof Fl||t instanceof El)&&this.addCollection(t)},vh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},vh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var bh=function(){};bh.prototype.locate=function(t){},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh};var wh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};wh.prototype.next=function(){if(this._atStart)return this._atStart=!1,wh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Ei;var t=this._parent.getGeometryN(this._index++);return t instanceof El?(this._subcollectionIterator=new wh(t),this._subcollectionIterator.next()):t},wh.prototype.remove=function(){throw new Error(this.getClass().getName())},wh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},wh.prototype.interfaces_=function(){return[nl]},wh.prototype.getClass=function(){return wh},wh.isAtomic=function(t){return!(t instanceof El)};var xh=function(){this._geom=null,this._geom=arguments[0]};xh.prototype.locate=function(t){return xh.locate(t,this._geom)},xh.prototype.interfaces_=function(){return[bh]},xh.prototype.getClass=function(){return xh},xh.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Vu.isPointInRing(t,e.getCoordinates())},xh.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!xh.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(xh.isPointInRing(t,i))return!1}return!0},xh.containsPoint=function(t,e){if(e instanceof Ll)return xh.containsPointInPolygon(t,e);if(e instanceof El)for(var n=new wh(e);n.hasNext();){var r=n.next();if(r!==e&&xh.containsPoint(t,r))return!0}return!1},xh.locate=function(t,e){return e.isEmpty()?uu.EXTERIOR:xh.containsPoint(t,e)?uu.INTERIOR:uu.EXTERIOR};var Eh=function(){this._edgeMap=new Ti,this._edgeList=null,this._ptInAreaLocation=[uu.NONE,uu.NONE]};Eh.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Eh.prototype.propagateSideLabels=function(t){for(var e=uu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,sc.LEFT)!==uu.NONE&&(e=r.getLocation(t,sc.LEFT))}if(e===uu.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,sc.ON)===uu.NONE&&a.setLocation(t,sc.ON,i),a.isArea(t)){var u=a.getLocation(t,sc.LEFT),l=a.getLocation(t,sc.RIGHT);if(l!==uu.NONE){if(l!==i)throw new lc("side location conflict",s.getCoordinate());u===uu.NONE&&Nu.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else Nu.isTrue(a.getLocation(t,sc.LEFT)===uu.NONE,"found single null side"),a.setLocation(t,sc.RIGHT,i),a.setLocation(t,sc.LEFT,i)}}},Eh.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Eh.prototype.print=function(t){Cu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Eh.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Eh.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,sc.LEFT);Nu.isTrue(r!==uu.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();Nu.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,sc.LEFT),u=s.getLocation(t,sc.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},Eh.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Eh.prototype.iterator=function(){return this.getEdges().iterator()},Eh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new il(this._edgeMap.values())),this._edgeList},Eh.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===uu.NONE&&(this._ptInAreaLocation[t]=xh.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Eh.prototype.toString=function(){var t=new pu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Eh.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Eh.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===uu.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=uu.NONE;if(e[u])l=uu.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},Eh.prototype.getDegree=function(){return this._edgeMap.size()},Eh.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var Ch=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new lc("no outgoing dirEdge found",this.getCoordinate());Nu.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){this.insertEdgeEnd(t,t)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return bc.isNorthern(i)&&bc.isNorthern(o)?n:bc.isNorthern(i)||bc.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Nu.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){Cu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new il;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(sc.LEFT),r=t.getDepth(sc.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new lc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var u=this._edgeList.get(a);u.setEdgeDepths(sc.RIGHT,s),s=u.getDepth(sc.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Nu.isTrue(null!==e,"found null for first outgoing dirEdge"),Nu.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=uu.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=uu.INTERIOR;break}if(r.isInResult()){t=uu.EXTERIOR;break}}}if(t===uu.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===uu.INTERIOR):(s.isInResult()&&(i=uu.EXTERIOR),a.isInResult()&&(i=uu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new pc(uu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==uu.INTERIOR&&o!==uu.BOUNDARY||this._label.setLocation(i,uu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Eh),Sh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(t){return new _c(t,new Ch)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cc),Dh=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Dh.prototype.compareTo=function(t){return Dh.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Dh.prototype.interfaces_=function(){return[eu]},Dh.prototype.getClass=function(){return Dh},Dh.orientation=function(t){return 1===al.increasingDirection(t)},Dh.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===s,f=(l+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Ih=function(){this._edges=new il,this._ocaMap=new Ti};Ih.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Ih.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Ih.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Ih.prototype.iterator=function(){return this._edges.iterator()},Ih.prototype.getEdges=function(){return this._edges},Ih.prototype.get=function(t){return this._edges.get(t)},Ih.prototype.findEqualEdge=function(t){var e=new Dh(t.getCoordinates());return this._ocaMap.get(e)},Ih.prototype.add=function(t){this._edges.add(t);var e=new Dh(t.getCoordinates());this._ocaMap.put(e,t)},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih};var Ah=function(){};Ah.prototype.processIntersections=function(t,e,n,r){},Ah.prototype.isDone=function(){},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah};var kh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};kh.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(kh.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},kh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},kh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},kh.prototype.getLineIntersector=function(){return this._li},kh.prototype.hasProperIntersection=function(){return this._hasProper},kh.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},kh.prototype.hasIntersection=function(){return this._hasIntersection},kh.prototype.isDone=function(){return!1},kh.prototype.hasInteriorIntersection=function(){return this._hasInterior},kh.prototype.interfaces_=function(){return[Ah]},kh.prototype.getClass=function(){return kh},kh.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Oh=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[1],e=arguments[2];this.coord=new iu(arguments[0]),this.segmentIndex=t,this.dist=e};Oh.prototype.getSegmentIndex=function(){return this.segmentIndex},Oh.prototype.getCoordinate=function(){return this.coord},Oh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Oh.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},Oh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Oh.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Oh.prototype.getDistance=function(){return this.dist},Oh.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Oh.prototype.interfaces_=function(){return[eu]},Oh.prototype.getClass=function(){return Oh};var Th=function(){this._nodeMap=new Ti,this.edge=null,this.edge=arguments[0]};Th.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Th.prototype.iterator=function(){return this._nodeMap.values().iterator()},Th.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Th.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Th.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);r||n--;var i=new Array(n).fill(null),o=0;i[o++]=new iu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)i[o++]=this.edge.pts[s];return r&&(i[o]=e.coord),new Mh(i,new pc(this.edge._label))},Th.prototype.add=function(t,e,n){var r=new Oh(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Th.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Rh=function(){};Rh.prototype.getChainStartIndices=function(t){var e=0,n=new il;n.add(new du(e));do{var r=this.findChainEnd(t,e);n.add(new du(r)),e=r}while(e<t.length-1);return Rh.toIntArray(n)},Rh.prototype.findChainEnd=function(t,e){for(var n=bc.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&bc.quadrant(t[r-1],t[r])===n;)r++;return r-1},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Rh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Ph=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Du,this.env2=new Du;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Rh;this.startIndex=e.getChainStartIndices(this.pts)};Ph.prototype.getCoordinates=function(){return this.pts},Ph.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Ph.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Ph.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else if(6===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=arguments[5],l=this.pts[r],c=this.pts[i],h=o.pts[s],f=o.pts[a];if(i-r==1&&a-s==1)return u.addIntersections(this.e,r,o.e,s),null;if(this.env1.init(l,c),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+i)/2),d=Math.trunc((s+a)/2);r<p&&(s<d&&this.computeIntersectsForChain(r,p,o,s,d,u),d<a&&this.computeIntersectsForChain(r,p,o,d,a,u)),p<i&&(s<d&&this.computeIntersectsForChain(p,i,o,s,d,u),d<a&&this.computeIntersectsForChain(p,i,o,d,a,u))}},Ph.prototype.getStartIndexes=function(){return this.startIndex},Ph.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph};var Lh=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Nh={NULL_VALUE:{configurable:!0}};Lh.prototype.getDepth=function(t,e){return this._depth[t][e]},Lh.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Lh.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Lh.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Lh.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Lh.NULL_VALUE:void 0},Lh.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},Lh.prototype.getDelta=function(t){return this._depth[t][sc.RIGHT]-this._depth[t][sc.LEFT]},Lh.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?uu.EXTERIOR:uu.INTERIOR},Lh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Lh.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==uu.EXTERIOR&&r!==uu.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Lh.depthAtLocation(r):this._depth[e][n]+=Lh.depthAtLocation(r))}else 3===arguments.length&&arguments[2]===uu.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh},Lh.depthAtLocation=function(t){return t===uu.EXTERIOR?0:t===uu.INTERIOR?1:Lh.NULL_VALUE},Nh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Lh,Nh);var Mh=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Th(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Lh,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var n=arguments[1];this.pts=arguments[0],this._label=n}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,pc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Ph(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Du;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new iu(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;a<this.pts.length&&i.equals2D(this.pts[a])&&(o=a,s=0),this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new pu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,sc.ON),e.getLocation(1,sc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,sc.LEFT),e.getLocation(1,sc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,sc.RIGHT),e.getLocation(1,sc.RIGHT),2))},e}(yc),Fh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ih,this._bufParams=t||null};Fh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Fh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new pc(t.getLabel())).flip(),n.merge(r);var i=Fh.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Fh.depthDelta(t.getLabel()))},Fh.prototype.buildSubgraphs=function(t,e){for(var n=new il,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new mh(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},Fh.prototype.createSubgraphs=function(t){for(var e=new il,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new hc;i.create(r),e.add(i)}}return Lc.sort(e,Lc.reverseOrder()),e},Fh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Fh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new nh,n=new Bu;return n.setPrecisionModel(t),e.setSegmentIntersector(new kh(n)),e},Fh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new dh(n,this._bufParams),i=new vh(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Sc(new Sh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Dc(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},Fh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new Mh(i.getCoordinates(),new pc(s));this.insertUniqueEdge(a)}}},Fh.prototype.setNoder=function(t){this._workingNoder=t},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.depthDelta=function(t){var e=t.getLocation(0,sc.LEFT),n=t.getLocation(0,sc.RIGHT);return e===uu.INTERIOR&&n===uu.EXTERIOR?1:e===uu.EXTERIOR&&n===uu.INTERIOR?-1:0},Fh.convertSegStrings=function(t){for(var e=new Jl,n=new il;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var Bh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[1];this._noder=arguments[0],this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[1],n=arguments[2],r=arguments[3];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=n,this._offsetY=r,this._isScaled=!this.isIntegerPrecision()}};Bh.prototype.rescale=function(){if(cu(arguments[0],tl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Cu.out.println(n)}},Bh.prototype.scale=function(){if(cu(arguments[0],tl)){for(var t=arguments[0],e=new il,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Wc(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new iu(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return al.removeRepeatedPoints(o)}},Bh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Bh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Bh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Bh.prototype.interfaces_=function(){return[th]},Bh.prototype.getClass=function(){return Bh};var jh=function(){this._li=new Bu,this._segStrings=null,this._segStrings=arguments[0]},zh={fact:{configurable:!0}};jh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Pu("found endpt/interior pt intersection at index "+o+" :pt "+n)},jh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],m=c.getCoordinates()[h+1],g=f.getCoordinates()[p],y=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,m,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,m)||this.hasInteriorIntersection(this._li,g,y)))throw new Pu("found non-noded intersection at "+d+"-"+m+" and "+g+"-"+y)}},jh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},jh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},jh.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},jh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Pu("found non-noded collapse at "+jh.fact.createLineString([t,e,n]))},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh},zh.fact.get=function(){return new Jl},Object.defineProperties(jh,zh);var Vh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Ja("Scale factor must be non-zero");1!==e&&(this._pt=new iu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new iu,this._p1Scaled=new iu),this.initCorners(this._pt)},Uh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Vh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return Nu.isTrue(!(s&&a),"Found bad envelope test"),a},Vh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new iu(this._maxx,this._maxy),this._corner[1]=new iu(this._minx,this._maxy),this._corner[2]=new iu(this._minx,this._miny),this._corner[3]=new iu(this._maxx,this._miny)},Vh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Vh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Vh.prototype.getCoordinate=function(){return this._originalPt},Vh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Vh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Vh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Du(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Vh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Vh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},Vh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Uh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Vh,Uh);var qh=function(){this.tempEnv1=new Du,this.selectedSegment=new $c};qh.prototype.select=function(){1===arguments.length||2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh};var Gh=function(){this._index=null,this._index=arguments[0]},Hh={HotPixelSnapAction:{configurable:!0}};Gh.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getSafeEnvelope(),i=new Yh(t,e,n);return this._index.query(r,{interfaces_:function(){return[Oc]},visitItem:function(t){t.select(r,i)}}),i.isNodeAdded()}},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh},Hh.HotPixelSnapAction.get=function(){return Yh},Object.defineProperties(Gh,Hh);var Yh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[1],n=arguments[2];this._hotPixel=arguments[0],this._parentEdge=e,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qh),Zh=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new il};Zh.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},Zh.prototype.isDone=function(){return!1},Zh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Zh.prototype.interfaces_=function(){return[Ah]},Zh.prototype.getClass=function(){return Zh};var Wh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Bu,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Wh.prototype.checkCorrectness=function(t){var e=Wc.getNodedSubstrings(t),n=new jh(e);try{n.checkValid()}catch(t){if(!(t instanceof xu))throw t;t.printStackTrace()}},Wh.prototype.getNodedSubstrings=function(){return Wc.getNodedSubstrings(this._nodedSegStrings)},Wh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Wh.prototype.findInteriorIntersections=function(t,e){var n=new Zh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Wh.prototype.computeVertexSnaps=function(){if(cu(arguments[0],tl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Wc)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new Vh(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},Wh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new nh,this._pointSnapper=new Gh(this._noder.getIndex()),this.snapRound(t,this._li)},Wh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new Vh(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},Wh.prototype.interfaces_=function(){return[th]},Wh.prototype.getClass=function(){return Wh};var $h=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new ih,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this._argGeom=arguments[0],this._bufParams=t}},Xh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};$h.prototype.bufferFixedPrecision=function(t){var e=new Bh(new Wh(new Wl(1)),t.getScale()),n=new Fh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},$h.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=$h.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof lc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=$h.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),r=new Wl(n);this.bufferFixedPrecision(r)}},$h.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Wl.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},$h.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},$h.prototype.bufferOriginalPrecision=function(){try{var t=new Fh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Pu))throw t;this._saveException=t}},$h.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},$h.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},$h.prototype.interfaces_=function(){return[]},$h.prototype.getClass=function(){return $h},$h.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new $h(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Gu&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new $h(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof ih&&arguments[0]instanceof Gu&&"number"==typeof arguments[1]){var i=arguments[1];return new $h(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],u=new $h(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(a),u.getResultGeometry(o)}},$h.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=hu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Xh.CAP_ROUND.get=function(){return ih.CAP_ROUND},Xh.CAP_BUTT.get=function(){return ih.CAP_FLAT},Xh.CAP_FLAT.get=function(){return ih.CAP_FLAT},Xh.CAP_SQUARE.get=function(){return ih.CAP_SQUARE},Xh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties($h,Xh);var Kh=function(){this._pt=[new iu,new iu],this._distance=Qa.NaN,this._isNull=!0};Kh.prototype.getCoordinates=function(){return this._pt},Kh.prototype.getCoordinate=function(t){return this._pt[t]},Kh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Kh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},Kh.prototype.getDistance=function(){return this._distance},Kh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh};var Jh=function(){};Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh},Jh.computeDistance=function(){if(arguments[2]instanceof Kh&&arguments[0]instanceof Ol&&arguments[1]instanceof iu)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new $c,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof Kh&&arguments[0]instanceof Ll&&arguments[1]instanceof iu){var s=arguments[0],a=arguments[1],u=arguments[2];Jh.computeDistance(s.getExteriorRing(),a,u);for(var l=0;l<s.getNumInteriorRing();l++)Jh.computeDistance(s.getInteriorRingN(l),a,u)}else if(arguments[2]instanceof Kh&&arguments[0]instanceof Gu&&arguments[1]instanceof iu){var c=arguments[0],h=arguments[1],f=arguments[2];if(c instanceof Ol)Jh.computeDistance(c,h,f);else if(c instanceof Ll)Jh.computeDistance(c,h,f);else if(c instanceof El)for(var p=c,d=0;d<p.getNumGeometries();d++){var m=p.getGeometryN(d);Jh.computeDistance(m,h,f)}else f.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof Kh&&arguments[0]instanceof $c&&arguments[1]instanceof iu){var g=arguments[1],y=arguments[2],_=arguments[0].closestPoint(g);y.setMinimum(_,g)}};var Qh=function(t){this._maxPtDist=new Kh,this._inputGeom=t||null},tf={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Qh.prototype.computeMaxMidpointDistance=function(t){var e=new nf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Qh.prototype.computeMaxVertexDistance=function(t){var e=new ef(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Qh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Qh.prototype.getDistancePoints=function(){return this._maxPtDist},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},tf.MaxPointDistanceFilter.get=function(){return ef},tf.MaxMidpointDistanceFilter.get=function(){return nf},Object.defineProperties(Qh,tf);var ef=function(t){this._maxPtDist=new Kh,this._minPtDist=new Kh,this._geom=t||null};ef.prototype.filter=function(t){this._minPtDist.initialize(),Jh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ef.prototype.getMaxPointDistance=function(){return this._maxPtDist},ef.prototype.interfaces_=function(){return[Zu]},ef.prototype.getClass=function(){return ef};var nf=function(t){this._maxPtDist=new Kh,this._minPtDist=new Kh,this._geom=t||null};nf.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new iu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Jh.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nf.prototype.isDone=function(){return!1},nf.prototype.isGeometryChanged=function(){return!1},nf.prototype.getMaxPointDistance=function(){return this._maxPtDist},nf.prototype.interfaces_=function(){return[xl]},nf.prototype.getClass=function(){return nf};var rf=function(t){this._comps=t||null};rf.prototype.filter=function(t){t instanceof Ll&&this._comps.add(t)},rf.prototype.interfaces_=function(){return[wl]},rf.prototype.getClass=function(){return rf},rf.getPolygons=function(){if(1===arguments.length)return rf.getPolygons(arguments[0],new il);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Ll?e.add(t):t instanceof El&&t.apply(new rf(e)),e}};var of=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var t=arguments[1];this._lines=arguments[0],this._isForcedToLineString=t}};of.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Ml){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Ol&&this._lines.add(t)},of.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},of.prototype.interfaces_=function(){return[qu]},of.prototype.getClass=function(){return of},of.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(of.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(of.getLines(e,n))}},of.getLines=function(){if(1===arguments.length)return of.getLines(arguments[0],!1);if(2===arguments.length){if(cu(arguments[0],tl)&&cu(arguments[1],tl)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();of.getLines(n,t)}return t}if(arguments[0]instanceof Gu&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1],o=new il;return r.apply(new of(o,i)),o}if(arguments[0]instanceof Gu&&cu(arguments[1],tl)){var s=arguments[0],a=arguments[1];return s instanceof Ol?a.add(s):s.apply(new of(a)),a}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&cu(arguments[0],tl)&&cu(arguments[1],tl)){for(var u=arguments[1],l=arguments[2],c=arguments[0].iterator();c.hasNext();){var h=c.next();of.getLines(h,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Gu&&cu(arguments[1],tl)){var f=arguments[1];return arguments[0].apply(new of(f,arguments[2])),f}}};var sf=function(){if(this._boundaryRule=Wu.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Ja("Rule must be non-null");this._boundaryRule=t}};sf.prototype.locateInternal=function(){if(arguments[0]instanceof iu&&arguments[1]instanceof Ll){var t=arguments[0],e=arguments[1];if(e.isEmpty())return uu.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===uu.EXTERIOR)return uu.EXTERIOR;if(r===uu.BOUNDARY)return uu.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===uu.INTERIOR)return uu.EXTERIOR;if(s===uu.BOUNDARY)return uu.BOUNDARY}return uu.INTERIOR}if(arguments[0]instanceof iu&&arguments[1]instanceof Ol){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return uu.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?Vu.isOnLine(a,l)?uu.INTERIOR:uu.EXTERIOR:uu.BOUNDARY}if(arguments[0]instanceof iu&&arguments[1]instanceof Rl){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?uu.INTERIOR:uu.EXTERIOR}},sf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Vu.locatePointInRing(t,e.getCoordinates()):uu.EXTERIOR},sf.prototype.intersects=function(t,e){return this.locate(t,e)!==uu.EXTERIOR},sf.prototype.updateLocationInfo=function(t){t===uu.INTERIOR&&(this._isIn=!0),t===uu.BOUNDARY&&this._numBoundaries++},sf.prototype.computeLocation=function(t,e){if(e instanceof Rl&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Ol)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ll)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Cl)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof Fl)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof El)for(var u=new wh(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},sf.prototype.locate=function(t,e){return e.isEmpty()?uu.EXTERIOR:e instanceof Ol||e instanceof Ll?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?uu.BOUNDARY:this._numBoundaries>0||this._isIn?uu.INTERIOR:uu.EXTERIOR)},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf};var af=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[1],n=arguments[2];this._component=arguments[0],this._segIndex=e,this._pt=n}},uf={INSIDE_AREA:{configurable:!0}};af.prototype.isInsideArea=function(){return this._segIndex===af.INSIDE_AREA},af.prototype.getCoordinate=function(){return this._pt},af.prototype.getGeometryComponent=function(){return this._component},af.prototype.getSegmentIndex=function(){return this._segIndex},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af},uf.INSIDE_AREA.get=function(){return-1},Object.defineProperties(af,uf);var lf=function(t){this._pts=t||null};lf.prototype.filter=function(t){t instanceof Rl&&this._pts.add(t)},lf.prototype.interfaces_=function(){return[wl]},lf.prototype.getClass=function(){return lf},lf.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Rl?Lc.singletonList(t):lf.getPoints(t,new il)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Rl?n.add(e):e instanceof El&&e.apply(new lf(n)),n}};var cf=function(){this._locations=null,this._locations=arguments[0]};cf.prototype.filter=function(t){(t instanceof Rl||t instanceof Ol||t instanceof Ll)&&this._locations.add(new af(t,0,t.getCoordinate()))},cf.prototype.interfaces_=function(){return[wl]},cf.prototype.getClass=function(){return cf},cf.getLocations=function(t){var e=new il;return t.apply(new cf(e)),e};var hf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new sf,this._minDistanceLocation=null,this._minDistance=Qa.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=n}};hf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=rf.getPolygons(this._geom[e]);if(i.size()>0){var o=cf.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&cu(arguments[0],rl)&&cu(arguments[1],rl)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof af&&arguments[1]instanceof Ll){var f=arguments[0],p=arguments[1],d=arguments[2],m=f.getCoordinate();if(uu.EXTERIOR!==this._ptLocator.locate(m,p))return this._minDistance=0,d[0]=f,d[1]=new af(p,m),null}},hf.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=of.getLines(this._geom[0]),n=of.getLines(this._geom[1]),r=lf.getPoints(this._geom[0]),i=lf.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},hf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},hf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},hf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},hf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ol&&arguments[1]instanceof Rl){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=Vu.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new $c(r[o],r[o+1]).closestPoint(i);n[0]=new af(t,o,a),n[1]=new af(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ol&&arguments[1]instanceof Ol){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),f=l.getCoordinates(),p=0;p<h.length-1;p++)for(var d=0;d<f.length-1;d++){var m=Vu.distanceLineLine(h[p],h[p+1],f[d],f[d+1]);if(m<this._minDistance){this._minDistance=m;var g=new $c(h[p],h[p+1]),y=new $c(f[d],f[d+1]),_=g.closestPoints(y);c[0]=new af(u,p,_[0]),c[1]=new af(l,d,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},hf.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new af(i,0,i.getCoordinate()),n[1]=new af(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},hf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Ja("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},hf.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.distance=function(t,e){return new hf(t,e).distance()},hf.isWithinDistance=function(t,e,n){return new hf(t,e,n).distance()<=n},hf.nearestPoints=function(t,e){return new hf(t,e).nearestPoints()};var ff=function(){this._pt=[new iu,new iu],this._distance=Qa.NaN,this._isNull=!0};ff.prototype.getCoordinates=function(){return this._pt},ff.prototype.getCoordinate=function(t){return this._pt[t]},ff.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},ff.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},ff.prototype.toString=function(){return Ru.toLineString(this._pt[0],this._pt[1])},ff.prototype.getDistance=function(){return this._distance},ff.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff};var pf=function(){};pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.computeDistance=function(){if(arguments[2]instanceof ff&&arguments[0]instanceof Ol&&arguments[1]instanceof iu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new $c,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Ll&&arguments[1]instanceof iu){var a=arguments[0],u=arguments[1],l=arguments[2];pf.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)pf.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Gu&&arguments[1]instanceof iu){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Ol)pf.computeDistance(h,f,p);else if(h instanceof Ll)pf.computeDistance(h,f,p);else if(h instanceof El)for(var d=h,m=0;m<d.getNumGeometries();m++){var g=d.getGeometryN(m);pf.computeDistance(g,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof ff&&arguments[0]instanceof $c&&arguments[1]instanceof iu){var y=arguments[1],_=arguments[2],v=arguments[0].closestPoint(y);_.setMinimum(v,y)}};var df=function(){this._g0=null,this._g1=null,this._ptDist=new ff,this._densifyFrac=0;var t=arguments[1];this._g0=arguments[0],this._g1=t},mf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};df.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},df.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ja("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},df.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},df.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},df.prototype.computeOrientedDistance=function(t,e,n){var r=new gf(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new yf(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},df.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df},df.distance=function(){if(2===arguments.length)return new df(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new df(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},mf.MaxPointDistanceFilter.get=function(){return gf},mf.MaxDensifiedByFractionDistanceFilter.get=function(){return yf},Object.defineProperties(df,mf);var gf=function(){this._maxPtDist=new ff,this._minPtDist=new ff,this._euclideanDist=new pf,this._geom=null,this._geom=arguments[0]};gf.prototype.filter=function(t){this._minPtDist.initialize(),pf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},gf.prototype.getMaxPointDistance=function(){return this._maxPtDist},gf.prototype.interfaces_=function(){return[Zu]},gf.prototype.getClass=function(){return gf};var yf=function(){this._maxPtDist=new ff,this._minPtDist=new ff,this._geom=null,this._numSubSegs=0;var t=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/t))};yf.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=new iu(n.x+s*i,n.y+s*o);this._minPtDist.initialize(),pf.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},yf.prototype.isDone=function(){return!1},yf.prototype.isGeometryChanged=function(){return!1},yf.prototype.getMaxPointDistance=function(){return this._maxPtDist},yf.prototype.interfaces_=function(){return[xl]},yf.prototype.getClass=function(){return yf};var _f=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},vf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};_f.prototype.checkMaximumDistance=function(t,e,n){var r=new df(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Ru.toLineString(i[0],i[1])+")"}},_f.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=_f.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),_f.VERBOSE&&Cu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},_f.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ll||this._input instanceof Fl||this._input instanceof El))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},_f.prototype.getErrorIndicator=function(){return this._errorIndicator},_f.prototype.checkMinimumDistance=function(t,e,n){var r=new hf(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Ru.toLineString(i[0],i[1])+" )"}},_f.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},_f.prototype.getErrorLocation=function(){return this._errorLocation},_f.prototype.getPolygonLines=function(t){for(var e=new il,n=new of(e),r=rf.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},_f.prototype.getErrorMessage=function(){return this._errMsg},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f},vf.VERBOSE.get=function(){return!1},vf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(_f,vf);var bf=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},wf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};bf.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},bf.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*bf.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Du(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Du(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},bf.prototype.checkDistance=function(){var t=new _f(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},bf.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},bf.prototype.checkPolygonal=function(){this._result instanceof Ll||this._result instanceof Fl||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},bf.prototype.getErrorIndicator=function(){return this._errorIndicator},bf.prototype.getErrorLocation=function(){return this._errorLocation},bf.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},bf.prototype.report=function(t){if(!bf.VERBOSE)return null;Cu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},bf.prototype.getErrorMessage=function(){return this._errorMsg},bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf},bf.isValidMsg=function(t,e,n){var r=new bf(t,e,n);return r.isValid()?null:r.getErrorMessage()},bf.isValid=function(t,e,n){return!!new bf(t,e,n).isValid()},wf.VERBOSE.get=function(){return!1},wf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(bf,wf);var xf=function(){this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};xf.prototype.getCoordinates=function(){return this._pts},xf.prototype.size=function(){return this._pts.length},xf.prototype.getCoordinate=function(t){return this._pts[t]},xf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},xf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Hc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},xf.prototype.setData=function(t){this._data=t},xf.prototype.getData=function(){return this._data},xf.prototype.toString=function(){return Ru.toLineString(new ql(this._pts))},xf.prototype.interfaces_=function(){return[Yc]},xf.prototype.getClass=function(){return xf};var Ef=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new il,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Ef.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ef.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Ef.prototype.getIntersectionSegments=function(){return this._intSegments},Ef.prototype.count=function(){return this._intersectionCount},Ef.prototype.getIntersections=function(){return this._intersections},Ef.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ef.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Ef.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ef.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Ef.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Ef.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Ef.prototype.interfaces_=function(){return[Ah]},Ef.prototype.getClass=function(){return Ef},Ef.createAllIntersectionsFinder=function(t){var e=new Ef(t);return e.setFindAllIntersections(!0),e},Ef.createAnyIntersectionFinder=function(t){return new Ef(t)},Ef.createIntersectionCounter=function(t){var e=new Ef(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Cf=function(){this._li=new Bu,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Cf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Cf.prototype.getIntersections=function(){return this._segInt.getIntersections()},Cf.prototype.isValid=function(){return this.execute(),this._isValid},Cf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Cf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ef(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new nh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Cf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new lc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Cf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Ru.toLineString(t[0],t[1])+" and "+Ru.toLineString(t[2],t[3])},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.computeIntersections=function(t){var e=new Cf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Sf=function t(){this._nv=null,this._nv=new Cf(t.toSegmentStrings(arguments[0]))};Sf.prototype.checkValid=function(){this._nv.checkValid()},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Sf.toSegmentStrings=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next();e.add(new xf(r.getCoordinates(),r))}return e},Sf.checkValid=function(t){new Sf(t).checkValid()};var Df=function(t){this._mapOp=t};Df.prototype.map=function(t){for(var e=new il,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Jl.toGeometryArray(e))},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df},Df.map=function(t,e){return new Df(e).map(t)};var If=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new il,this._resultLineList=new il;var t=arguments[1],e=arguments[2];this._op=arguments[0],this._geometryFactory=t,this._ptLocator=e};If.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},If.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},If.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},If.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ap.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},If.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},If.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},If.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},If.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Nu.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ap.isResultOfOp(r,e)&&e===ap.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If};var Af=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new il;var t=arguments[1];this._op=arguments[0],this._geometryFactory=t};Af.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Af.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==ap.INTERSECTION)){var r=n.getLabel();ap.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Af.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af};var kf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};kf.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},kf.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Ml&&!r.isEmpty()||(n=!1);for(var i=new il,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Ml||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new il;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},kf.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},kf.prototype.getInputGeometry=function(){return this._inputGeom},kf.prototype.transformMultiLineString=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},kf.prototype.transformCoordinates=function(t,e){return this.copy(t)},kf.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},kf.prototype.transformMultiPoint=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},kf.prototype.transformMultiPolygon=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},kf.prototype.copy=function(t){return t.copy()},kf.prototype.transformGeometryCollection=function(t,e){for(var n=new il,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Jl.toGeometryArray(n)):this._factory.buildGeometry(n)},kf.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Rl)return this.transformPoint(t,null);if(t instanceof Nl)return this.transformMultiPoint(t,null);if(t instanceof Ml)return this.transformLinearRing(t,null);if(t instanceof Ol)return this.transformLineString(t,null);if(t instanceof Cl)return this.transformMultiLineString(t,null);if(t instanceof Ll)return this.transformPolygon(t,null);if(t instanceof Fl)return this.transformMultiPolygon(t,null);if(t instanceof El)return this.transformGeometryCollection(t,null);throw new Ja("Unknown Geometry subtype: "+t.getClass().getName())},kf.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},kf.prototype.interfaces_=function(){return[]},kf.prototype.getClass=function(){return kf};var Of=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new $c,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ol&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Of.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new iu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new iu(o)))}},Of.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Of.prototype.snapTo=function(t){var e=new sl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Of.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new iu(i),!1)}},Of.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Qa.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Of.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Tf=function(t){this._srcGeom=t||null},Rf={SNAP_PRECISION_FACTOR:{configurable:!0}};Tf.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Pf(e,n).transform(this._srcGeom)},Tf.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Pf(t,n,!0).transform(this._srcGeom),i=r;return e&&cu(i,Pl)&&(i=r.buffer(0)),i},Tf.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Tf.prototype.extractTargetCoordinates=function(t){for(var e=new Pi,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Tf.prototype.computeMinimumSegmentLength=function(t){for(var e=Qa.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Tf.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Tf(t);r[0]=i.snapTo(e,n);var o=new Tf(e);return r[1]=o.snapTo(r[0],n),r},Tf.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Tf.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Wl.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[1];return Math.min(Tf.computeOverlaySnapTolerance(arguments[0]),Tf.computeOverlaySnapTolerance(i))}},Tf.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Tf.SNAP_PRECISION_FACTOR},Tf.snapToSelf=function(t,e,n){return new Tf(t).snapToSelf(e,n)},Rf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Tf,Rf);var Pf=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(t,e){var n=new Of(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(kf),Lf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Lf.prototype.getCommon=function(){return Qa.longBitsToDouble(this._commonBits)},Lf.prototype.add=function(t){var e=Qa.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Lf.signExpBits(this._commonBits),this._isFirst=!1,null):Lf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Lf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Lf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Lf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Qa.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Qa.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf},Lf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Lf.signExpBits=function(t){return t>>52},Lf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Lf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Lf.getBit(t,r)!==Lf.getBit(e,r))return n;n++}return 52};var Nf=function(){this._commonCoord=null,this._ccFilter=new Ff},Mf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Nf.prototype.addCommonBits=function(t){var e=new Bf(this._commonCoord);t.apply(e),t.geometryChanged()},Nf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new iu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Bf(e);return t.apply(n),t.geometryChanged(),t},Nf.prototype.getCommonCoordinate=function(){return this._commonCoord},Nf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf},Mf.CommonCoordinateFilter.get=function(){return Ff},Mf.Translater.get=function(){return Bf},Object.defineProperties(Nf,Mf);var Ff=function(){this._commonBitsX=new Lf,this._commonBitsY=new Lf};Ff.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Ff.prototype.getCommonCoordinate=function(){return new iu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ff.prototype.interfaces_=function(){return[Zu]},Ff.prototype.getClass=function(){return Ff};var Bf=function(){this.trans=null,this.trans=arguments[0]};Bf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},Bf.prototype.isDone=function(){return!1},Bf.prototype.isGeometryChanged=function(){return!0},Bf.prototype.interfaces_=function(){return[xl]},Bf.prototype.getClass=function(){return Bf};var jf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};jf.prototype.selfSnap=function(t){return new Tf(t).snapTo(t,this._snapTolerance)},jf.prototype.removeCommonBits=function(t){this._cbr=new Nf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},jf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},jf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=ap.overlayOp(e[0],e[1],t);return this.prepareResult(n)},jf.prototype.checkValid=function(t){t.isValid()||Cu.out.println("Snapped geometry is invalid")},jf.prototype.computeSnapTolerance=function(){this._snapTolerance=Tf.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},jf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Tf.snap(e[0],e[1],this._snapTolerance)},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.overlayOp=function(t,e,n){return new jf(t,e).getResultGeometry(n)},jf.union=function(t,e){return jf.overlayOp(t,e,ap.UNION)},jf.intersection=function(t,e){return jf.overlayOp(t,e,ap.INTERSECTION)},jf.symDifference=function(t,e){return jf.overlayOp(t,e,ap.SYMDIFFERENCE)},jf.difference=function(t,e){return jf.overlayOp(t,e,ap.DIFFERENCE)};var zf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};zf.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=ap.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Pu))throw t;r=t}if(!n)try{e=jf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Pu?r:t}return e},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},zf.overlayOp=function(t,e,n){return new zf(t,e).getResultGeometry(n)},zf.union=function(t,e){return zf.overlayOp(t,e,ap.UNION)},zf.intersection=function(t,e){return zf.overlayOp(t,e,ap.INTERSECTION)},zf.symDifference=function(t,e){return zf.overlayOp(t,e,ap.SYMDIFFERENCE)},zf.difference=function(t,e){return zf.overlayOp(t,e,ap.DIFFERENCE)};var Vf=function(){this.mce=null,this.chainIndex=null;var t=arguments[1];this.mce=arguments[0],this.chainIndex=t};Vf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Uf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},qf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Uf.prototype.isDelete=function(){return this._eventType===Uf.DELETE},Uf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Uf.prototype.getObject=function(){return this._obj},Uf.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},Uf.prototype.getInsertEvent=function(){return this._insertEvent},Uf.prototype.isInsert=function(){return this._eventType===Uf.INSERT},Uf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Uf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Uf.prototype.interfaces_=function(){return[eu]},Uf.prototype.getClass=function(){return Uf},qf.INSERT.get=function(){return 1},qf.DELETE.get=function(){return 2},Object.defineProperties(Uf,qf);var Gf=function(){};Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf};var Hf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[1],e=arguments[2];this._li=arguments[0],this._includeProper=t,this._recordIsolated=e};Hf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Hf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Hf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Hf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},Hf.prototype.hasProperIntersection=function(){return this._hasProper},Hf.prototype.hasIntersection=function(){return this._hasIntersection},Hf.prototype.isDone=function(){return this._isDone},Hf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Hf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Hf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf},Hf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Yf=function(t){function e(){t.call(this),this.events=new il,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){Lc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Hf&&cu(arguments[0],rl)&&cu(arguments[1],rl)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&cu(arguments[0],rl)&&arguments[1]instanceof Hf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new Vf(n,i),s=new Uf(e,n.getMinX(i),o);this.events.add(s),this.events.add(new Uf(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gf),Zf=function(){this._min=Qa.POSITIVE_INFINITY,this._max=Qa.NEGATIVE_INFINITY},Wf={NodeComparator:{configurable:!0}};Zf.prototype.getMin=function(){return this._min},Zf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Zf.prototype.getMax=function(){return this._max},Zf.prototype.toString=function(){return Ru.toLineString(new iu(this._min,0),new iu(this._max,0))},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf},Wf.NodeComparator.get=function(){return $f},Object.defineProperties(Zf,Wf);var $f=function(){};$f.prototype.compare=function(t,e){var n=(t._min+t._max)/2,r=(e._min+e._max)/2;return n<r?-1:n>r?1:0},$f.prototype.interfaces_=function(){return[ru]},$f.prototype.getClass=function(){return $f};var Xf=function(t){function e(){t.call(this),this._item=null;var e=arguments[1],n=arguments[2];this._min=arguments[0],this._max=e,this._item=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zf),Kf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[1];this._node1=arguments[0],this._node2=e,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zf),Jf=function(){this._leaves=new il,this._root=null,this._level=0};Jf.prototype.buildTree=function(){Lc.sort(this._leaves,new Zf.NodeComparator);for(var t=this._leaves,e=null,n=new il;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Jf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Xf(t,e,n))},Jf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Jf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Jf.prototype.printNode=function(t){Cu.out.println(Ru.toLineString(new iu(t._min,this._level),new iu(t._max,this._level)))},Jf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Jf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Kf(t.get(n),t.get(n+1));e.add(i)}}},Jf.prototype.interfaces_=function(){return[]},Jf.prototype.getClass=function(){return Jf};var Qf=function(){this._items=new il};Qf.prototype.visitItem=function(t){this._items.add(t)},Qf.prototype.getItems=function(){return this._items},Qf.prototype.interfaces_=function(){return[Oc]},Qf.prototype.getClass=function(){return Qf};var tp=function(){this._index=null;var t=arguments[0];if(!cu(t,Pl))throw new Ja("Argument must be Polygonal");this._index=new rp(t)},ep={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};tp.prototype.locate=function(t){var e=new zu(t),n=new np(e);return this._index.query(t.y,t.y,n),e.getLocation()},tp.prototype.interfaces_=function(){return[bh]},tp.prototype.getClass=function(){return tp},ep.SegmentVisitor.get=function(){return np},ep.IntervalIndexedGeometry.get=function(){return rp},Object.defineProperties(tp,ep);var np=function(){this._counter=null,this._counter=arguments[0]};np.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},np.prototype.interfaces_=function(){return[Oc]},np.prototype.getClass=function(){return np};var rp=function(){this._index=new Jf,this.init(arguments[0])};rp.prototype.init=function(t){for(var e=of.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},rp.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new $c(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},rp.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Qf;return this._index.query(t,e,n),n.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp};var ip=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Zl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new sf,2===arguments.length){var e=arguments[1],n=Wu.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=e,this._boundaryNodeRule=n,null!==e&&this.add(e)}else if(3===arguments.length){var r=arguments[1],i=arguments[2];this._argIndex=arguments[0],this._parentGeom=r,this._boundaryNodeRule=i,null!==r&&this.add(r)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,sc.ON)===uu.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var t=arguments[1],e=arguments[2],n=new Hf(arguments[0],!0,!1);return n.setIsDoneIfProperInt(e),this.createEdgeSetIntersector().computeIntersections(this._edges,n,t||!(this._parentGeom instanceof Ml||this._parentGeom instanceof Ll||this._parentGeom instanceof Fl)),this.addSelfIntersectionNodes(this._argIndex),n}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new Hf(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Rl){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,uu.INTERIOR)}else arguments[0]instanceof iu&&this.insertPoint(this._argIndex,arguments[0],uu.INTERIOR)},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),uu.EXTERIOR,uu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,uu.INTERIOR,uu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],uu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],uu.BOUNDARY)},e.prototype.addLineString=function(t){var e=al.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Mh(e,new pc(this._argIndex,uu.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Nu.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===uu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=al.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;Vu.isCCW(r)&&(i=n,o=e);var s=new Mh(r,new pc(this._argIndex,uu.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],uu.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new pc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Yf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Fl&&(this._useBoundaryDeterminationRule=!1),e instanceof Ll)this.addPolygon(e);else if(e instanceof Ol)this.addLineString(e);else if(e instanceof Rl)this.addPoint(e);else if(e instanceof Nl)this.addCollection(e);else if(e instanceof Cl)this.addCollection(e);else if(e instanceof Fl)this.addCollection(e);else{if(!(e instanceof El))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return cu(this._parentGeom,Pl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new tp(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?uu.BOUNDARY:uu.INTERIOR},e}(Sc),op=function(){if(this._li=new Bu,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ip(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=Wu.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ip(0,e,r),this._arg[1]=new ip(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ip(0,i,s),this._arg[1]=new ip(1,o,s)}};op.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},op.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op};var sp=function(){};sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp},sp.map=function(){if(arguments[0]instanceof Gu&&cu(arguments[1],sp.MapOp)){for(var t=arguments[0],e=arguments[1],n=new il,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(cu(arguments[0],tl)&&cu(arguments[1],sp.MapOp)){for(var o=arguments[0],s=arguments[1],a=new il,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},sp.MapOp=function(){};var ap=function(t){function e(){var e=arguments[0];t.call(this,e,arguments[1]),this._ptLocator=new sf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ih,this._resultPolyList=new il,this._resultLineList=new il,this._resultPointList=new il,this._graph=new Sc(new Sh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new pc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new il;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==uu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new il,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new il;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Sf.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Dc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new If(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Af(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,sc.RIGHT),i.getLocation(1,sc.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Nu.isTrue(!r.isNull(i,sc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,sc.LEFT,r.getLocation(i,sc.LEFT)),Nu.isTrue(!r.isNull(i,sc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,sc.RIGHT,r.getLocation(i,sc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(op);ap.overlayOp=function(t,e,n){return new ap(t,e).getResultGeometry(n)},ap.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ap.createEmptyResult(ap.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Df.map(t,{interfaces_:function(){return[sp.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zf.overlayOp(t,e,ap.INTERSECTION)},ap.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ap.createEmptyResult(ap.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zf.overlayOp(t,e,ap.SYMDIFFERENCE)},ap.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case ap.INTERSECTION:o=Math.min(r,i);break;case ap.UNION:o=Math.max(r,i);break;case ap.DIFFERENCE:o=r;break;case ap.SYMDIFFERENCE:o=Math.max(r,i)}return o},ap.createEmptyResult=function(t,e,n,r){var i=null;switch(ap.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},ap.difference=function(t,e){return t.isEmpty()?ap.createEmptyResult(ap.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zf.overlayOp(t,e,ap.DIFFERENCE))},ap.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return ap.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1];switch(i===uu.BOUNDARY&&(i=uu.INTERIOR),o===uu.BOUNDARY&&(o=uu.INTERIOR),arguments[2]){case ap.INTERSECTION:return i===uu.INTERIOR&&o===uu.INTERIOR;case ap.UNION:return i===uu.INTERIOR||o===uu.INTERIOR;case ap.DIFFERENCE:return i===uu.INTERIOR&&o!==uu.INTERIOR;case ap.SYMDIFFERENCE:return i===uu.INTERIOR&&o!==uu.INTERIOR||i!==uu.INTERIOR&&o===uu.INTERIOR}return!1}},ap.INTERSECTION=1,ap.UNION=2,ap.DIFFERENCE=3,ap.SYMDIFFERENCE=4;var up=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new sf,this._seg=new $c;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};up.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},up.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?uu.BOUNDARY:this._ptLocator.locate(t,this._g)},up.prototype.extractLinework=function(t){var e=new lp;t.apply(e);var n=e.getLinework(),r=Jl.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var lp=function(){this._linework=null,this._linework=new il};lp.prototype.getLinework=function(){return this._linework},lp.prototype.filter=function(t){if(t instanceof Ll){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},lp.prototype.interfaces_=function(){return[wl]},lp.prototype.getClass=function(){return lp};var cp=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};cp.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},cp.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},cp.prototype.getPoints=function(t){for(var e=new il,n=of.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},cp.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new iu(l-u,c+a);r.add(h)}if(this._doRight){var f=new iu(l+u,c-a);r.add(f)}},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp};var hp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new il;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new up(this._geom[0],this._boundaryDistanceTolerance),new up(this._geom[1],this._boundaryDistanceTolerance),new up(this._geom[2],this._boundaryDistanceTolerance)]},fp={TOLERANCE:{configurable:!0}};hp.prototype.reportResult=function(t,e,n){Cu.out.println("Overlay result invalid - A:"+uu.toLocationSymbol(e[0])+" B:"+uu.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+uu.toLocationSymbol(e[2]))},hp.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},hp.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!hp.hasLocation(this._location,uu.BOUNDARY)||this.isValidResult(r,this._location)}},hp.prototype.addTestPts=function(t){var e=new cp(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},hp.prototype.isValidResult=function(t,e){var n=ap.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===uu.INTERIOR);return r||this.reportResult(t,e,n),r},hp.prototype.getInvalidLocation=function(){return this._invalidLocation},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},hp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Tf.computeSizeBasedSnapTolerance(t),Tf.computeSizeBasedSnapTolerance(e))},hp.isValid=function(t,e,n,r){return new hp(t,e,r).isValid(n)},fp.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(hp,fp);var pp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};pp.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},pp.prototype.combine=function(){for(var t=new il,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp},pp.combine=function(){return 1===arguments.length?new pp(arguments[0]).combine():2===arguments.length?new pp(pp.createList(arguments[0],arguments[1])).combine():3===arguments.length?new pp(pp.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},pp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},pp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new il;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new il;return s.add(r),s.add(i),s.add(o),s}};var dp=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new il)},mp={STRTREE_NODE_CAPACITY:{configurable:!0}};dp.prototype.reduceToGeometries=function(t){for(var e=new il,n=t.iterator();n.hasNext();){var r=n.next(),i=null;cu(r,rl)?i=this.unionTree(r):r instanceof Gu&&(i=r),e.add(i)}return e},dp.prototype.extractByEnvelope=function(t,e,n){for(var r=new il,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},dp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return pp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},dp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new zc(dp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},dp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=dp.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(dp.getGeometry(e,n),dp.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},dp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},dp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},dp.prototype.unionActual=function(t,e){return dp.restrictToPolygons(t.union(e))},dp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},dp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new il,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),pp.combine(r)},dp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp},dp.restrictToPolygons=function(t){if(cu(t,Pl))return t;var e=rf.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Jl.toPolygonArray(e))},dp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},dp.union=function(t){return new dp(t).union()},mp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(dp,mp);var gp=function(){};gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp},gp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ap.createEmptyResult(ap.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),zf.overlayOp(t,e,ap.UNION)};var yp=function(){return new Bi};Bi.prototype={constructor:Bi,reset:function(){this.s=this.t=0},add:function(t){ji(_p,t,this.t),ji(this,_p.s,this.s),this.s?this.t+=_p.t:this.s=_p.t},valueOf:function(){return this.s}};var _p=new Bi,vp=1e-6,bp=Math.PI,wp=bp/2,xp=bp/4,Ep=2*bp,Cp=180/bp,Sp=bp/180,Dp=Math.abs,Ip=Math.atan,Ap=Math.atan2,kp=Math.cos,Op=Math.exp,Tp=Math.log,Rp=Math.sin,Pp=Math.sqrt,Lp=Math.tan,Np={Feature:function(t,e){Ui(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ui(n[r].geometry,e)}},Mp={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){qi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)qi(n[r],e,0)},Polygon:function(t,e){Gi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Gi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ui(n[r],e)}},Fp=function(t,e){t&&Np.hasOwnProperty(t.type)?Np[t.type](t,e):Ui(t,e)},Bp=(yp(),yp(),yp(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});Ji.invert=Ji;var jp=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Vi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},zp=function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}},Vp=function(t,e){return Dp(t[0]-e[0])<vp&&Dp(t[1]-e[1])<vp},Up=function(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(Vp(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new io(r,t,null,!0)),u.push(n.o=new io(r,null,n,!1)),a.push(n=new io(s,t,null,!1)),u.push(n.o=new io(s,null,n,!0))}}),a.length){for(u.sort(e),oo(a),oo(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;o<s;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(o=(l=f.p.z).length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}},qp=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Gp=(function(t){1===t.length&&(t=function(t){return function(e,n){return qp(t(e),n)}}(t))}(qp),function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}),Hp=1e9,Yp=-Hp,Zp=yp(),Wp=(yp(),function(t){return t}),$p=(yp(),yp(),1/0),Xp=$p,Kp=-$p,Jp=Kp,Qp={point:function(t,e){t<$p&&($p=t),t>Kp&&(Kp=t),e<Xp&&(Xp=e),e>Jp&&(Jp=e)},lineStart:Vi,lineEnd:Vi,polygonStart:Vi,polygonEnd:Vi,result:function(){var t=[[$p,Xp],[Kp,Jp]];return Kp=Jp=-(Xp=$p=1/0),t}},td=(yp(),function(t,e,n,r){return function(i,o){function s(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function a(t,e){var n=i(t,e);g.point(n[0],n[1])}function u(){w.point=a,g.lineStart()}function l(){w.point=s,g.lineEnd()}function c(t,e){m.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function h(){v.lineStart(),m=[]}function f(){c(m[0][0],m[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),s=_.result(),a=s.length;if(m.pop(),p.push(m),m=null,a)if(1&i){if((e=(n=s[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&s.push(s.pop().concat(s.shift())),d.push(s.filter(ao))}var p,d,m,g=e(o),y=i.invert(r[0],r[1]),_=jp(),v=e(_),b=!1,w={point:s,lineStart:u,lineEnd:l,polygonStart:function(){w.point=c,w.lineStart=h,w.lineEnd=f,d=[],p=[]},polygonEnd:function(){w.point=s,w.lineStart=u,w.lineEnd=l,d=Gp(d);var t=function(t,e){var n=e[0],r=e[1],i=[Rp(n),-kp(n),0],o=0,s=0;Zp.reset();for(var a=0,u=t.length;a<u;++a)if(c=(l=t[a]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+xp,d=Rp(p),m=kp(p),g=0;g<c;++g,f=_,d=b,m=w,h=y){var y=l[g],_=y[0],v=y[1]/2+xp,b=Rp(v),w=kp(v),x=_-f,E=x>=0?1:-1,C=E*x,S=C>bp,D=d*b;if(Zp.add(Ap(D*E*Rp(C),m*w+D*kp(C))),o+=S?x+E*Ep:x,S^f>=n^_>=n){var I=Wi(Yi(h),Yi(y));Ki(I);var A=Wi(i,I);Ki(A);var k=(S^x>=0?-1:1)*zi(A[2]);(r>k||r===k&&(I[0]||I[1]))&&(s+=S^x>=0?1:-1)}}return(o<-vp||o<vp&&Zp<-vp)^1&s}(p,y);d.length?(b||(o.polygonStart(),b=!0),Up(d,uo,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}}),ed=td(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?bp:-bp,u=Dp(o-n);Dp(u-bp)<vp?(t.point(n,r=(r+s)/2>0?wp:-wp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=bp&&(Dp(n-i)<vp&&(n-=i*vp),Dp(o-a)<vp&&(o-=a*vp),r=function(t,e,n,r){var i,o,s=Rp(t-n);return Dp(s)>vp?Ip((Rp(e)*(o=kp(r))*Rp(n)-Rp(r)*(i=kp(e))*Rp(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-bp,i=n*wp),r.point(0,i),r.point(bp,i),r.point(bp,0),r.point(bp,-i),r.point(0,-i),r.point(-bp,-i),r.point(-bp,0),r.point(-bp,i);else if(Dp(t[0]-e[0])>vp){var o=t[0]<e[0]?bp:-bp;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-bp,-wp]),nd=function(t,e){function n(t,e){return kp(t)*kp(e)>o}function r(t,e,n){var r=[1,0,0],i=Wi(Yi(t),Yi(e)),s=Zi(i,i),a=i[0],u=s-a*a;if(!u)return!n&&t;var l=o*s/u,c=-o*a/u,h=Wi(r,i),f=Xi(r,l);$i(f,Xi(i,c));var p=h,d=Zi(f,p),m=Zi(p,p),g=d*d-m*(Zi(f,f)-1);if(!(g<0)){var y=Pp(g),_=Xi(p,(-d-y)/m);if($i(_,f),_=Hi(_),!n)return _;var v,b=t[0],w=e[0],x=t[1],E=e[1];w<b&&(v=b,b=w,w=v);var C=w-b,S=Dp(C-bp)<vp;if(!S&&E<x&&(v=x,x=E,E=v),S||C<vp?S?x+E>0^_[1]<(Dp(_[0]-b)<vp?x:E):x<=_[1]&&_[1]<=E:C>bp^(b<=_[0]&&_[0]<=w)){var D=Xi(p,(-d+y)/m);return $i(D,f),[_,Hi(D)]}}}function i(e,n){var r=s?t:bp-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=kp(t),s=o>0,a=Dp(o)>vp;return td(n,function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],m=n(h,f),g=s?m?0:i(h,f):m?i(h+(h<0?bp:-bp),f):0;if(!e&&(l=u=m)&&t.lineStart(),m!==u&&(!(p=r(e,d))||Vp(e,p)||Vp(d,p))&&(d[0]+=vp,d[1]+=vp,m=n(d[0],d[1])),m!==u)c=0,m?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&s^m){var y;g&o||!(y=r(d,e,!0))||(c=0,s?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&Vp(e,d)||t.point(d[0],d[1]),e=d,u=m,o=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=kp(e),a=Rp(e),u=r*n;null==i?(i=e+r*Ep,o=e-u/2):(i=ro(s,i),o=ro(s,o),(r>0?i<o:i>o)&&(i+=r*Ep));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Hi([s,-a*kp(c),-a*Rp(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)},s?[0,-t]:[-bp,t-bp])};co.prototype={constructor:co,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rd=kp(30*Sp),id=function(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,l,c,h,f,p,d,m,g){var y=l-r,_=c-i,v=y*y+_*_;if(v>4*e&&m--){var b=s+f,w=a+p,x=u+d,E=Pp(b*b+w*w+x*x),C=zi(x/=E),S=Dp(Dp(x)-1)<vp||Dp(o-h)<vp?(o+h)/2:Ap(w,b),D=t(S,C),I=D[0],A=D[1],k=I-r,O=A-i,T=_*k-y*O;(T*T/v>e||Dp((y*k+_*O)/v-.5)>.3||s*f+a*p+u*d<rd)&&(n(r,i,o,s,a,u,I,A,S,b/=E,w/=E,x,m,g),g.point(I,A),n(I,A,S,b,w,x,l,c,h,f,p,d,m,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){y=NaN,x.point=o,e.lineStart()}function o(r,i){var o=Yi([r,i]),s=t(r,i);n(y,_,g,v,b,w,y=s[0],_=s[1],g=r,v=o[0],b=o[1],w=o[2],16,e),e.point(y,_)}function s(){x.point=r,e.lineEnd()}function a(){i(),x.point=u,x.lineEnd=l}function u(t,e){o(c=t,e),h=y,f=_,p=v,d=b,m=w,x.point=o}function l(){n(y,_,g,v,b,w,h,f,c,p,d,m,16,e),x.lineEnd=s,s()}var c,h,f,p,d,m,g,y,_,v,b,w,x={point:r,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),x.lineStart=a},polygonEnd:function(){e.polygonEnd(),x.lineStart=i}};return x}}(t,e):function(t){return lo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},od=lo({point:function(t,e){this.stream.point(t*Sp,e*Sp)}});fo.invert=function(t,e){return[t,2*Ip(Op(e))-wp]},po.invert=function(t,e){return[-e,2*Ip(Op(t))-wp]};var sd=function(){var t=function(t){function e(){var e=bp*a(),s=o(function(t){function e(e){return(e=t(e[0]*Sp,e[1]*Sp))[0]*=Cp,e[1]*=Cp,e}return t=Qi(t[0]*Sp,t[1]*Sp,t.length>2?t[2]*Sp:0),e.invert=function(e){return(e=t.invert(e[0]*Sp,e[1]*Sp))[0]*=Cp,e[1]*=Cp,e},e}(o.rotate()).invert([0,0]));return l(null==c?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===fo?[[Math.max(s[0]-e,c),n],[Math.min(s[0]+e,r),i]]:[[c,Math.max(s[1]-e,n)],[r,Math.min(s[1]+e,i)]])}var n,r,i,o=function(t){return function(t){function e(t){return[(t=l(t[0]*Sp,t[1]*Sp))[0]*m+s,a-t[1]*m]}function n(t,e){return[(t=o(t,e))[0]*m+s,a-t[1]*m]}function r(){l=Bp(u=Qi(b,w,x),o);var t=o(_,v);return s=g-t[0]*m,a=y+t[1]*m,i()}function i(){return p=d=null,e}var o,s,a,u,l,c,h,f,p,d,m=150,g=480,y=250,_=0,v=0,b=0,w=0,x=0,E=null,C=ed,S=null,D=Wp,I=.5,A=id(n,I);return e.stream=function(t){return p&&d===t?p:p=od(C(u,A(D(d=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?nd(E=t*Sp,6*Sp):(E=null,ed),i()):E*Cp},e.clipExtent=function(t){return arguments.length?(D=null==t?(S=c=h=f=null,Wp):so(S=+t[0][0],c=+t[0][1],h=+t[1][0],f=+t[1][1]),i()):null==S?null:[[S,c],[h,f]]},e.scale=function(t){return arguments.length?(m=+t,r()):m},e.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],r()):[g,y]},e.center=function(t){return arguments.length?(_=t[0]%360*Sp,v=t[1]%360*Sp,r()):[_*Cp,v*Cp]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Sp,w=t[1]%360*Sp,x=t.length>2?t[2]%360*Sp:0,r()):[b*Cp,w*Cp,x*Cp]},e.precision=function(t){return arguments.length?(A=id(n,I=t*t),i()):Pp(I)},e.fitExtent=function(t,n){return ho(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return ho(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-s)/m,(a-t[1])/m))&&[t[0]*Cp,t[1]*Cp]},r()}}(function(){return t})()}(t),s=o.center,a=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(po),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=ds,t.random=$a,t.clusters=Xa,t.helpers=Ro,t.invariant=Lo,t.meta=Po,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(W(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;W(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return T(t,function(t){var e=G(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return G(t)[0]-G(e)[0]})}).sort(function(t,n){return e?G(t[0])[1]-G(n[0])[1]:G(n[0])[1]-G(t[0])[1]})}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:r,flip:!0});return l(function(t,e,n){var r=U(n),i=r[0],o=r[1],s=(r[2]-r[0])/(e[0].length-1),a=(r[3]-r[1])/(e.length-1),u=function(t){t[0]=t[0]*s+i,t[1]=t[1]*a+o};return t.forEach(function(t){I(t,u)}),t}(function(t,e,n,r,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=Object.assign({},r,i[s]);u[n]=a;var l=c(J(t,a),u);o.push(l)}return o}(s,e,r,i,o),s,t))},t.convex=It,t.pointsWithinPolygon=Ot,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!E(r))throw new Error("maxEdge is invalid");var i=Tt(function(t){var e=[],n={};return T(t,function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}}),l(e)}(t));if(i.features=i.features.filter(function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=Nt(e,i,n),a=Nt(i,o,n),u=Nt(e,o,n);return s<=r&&a<=r&&u<=r}),i.features.length<1)return null;var o=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Mt(t));var r=function(t){var e={};M(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Mt(t));var r=[],i=V(t,function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=$t(r[0]),s=$t(r[r.length-1]),u=$t(i[0]),l=$t(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(u===s)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(s!==l)return null;n=r.concat(i.reverse().slice(1))}return a(n)}(t,e)||(r.push(t),e)});return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map(function(t){return t.coordinates})):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==K(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Mt(t));var r=[];M(t,function(t){r.push(t.geometry)});var i=cs({geoms:p(r).geometry});return rs(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Bo(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return i.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=U(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){At([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[r]=n}),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Mt(t)),I(t,function(t){var e=t[0];t[0]=t[1],t[1]=e}),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Mt(t)),L(t,function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;Xt(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=ne(i,e,n);break;case"MultiLineString":t.coordinates=i.map(function(t){return ne(t,e,n)});break;case"Polygon":t.coordinates=re(i,e,n);break;case"MultiPolygon":t.coordinates=i.map(function(t){return re(t,e,n)})}}(t,n,r)}),t},t.bezierSpline=ie,t.tag=function(t,e,n,r){return t=Mt(t),e=Mt(e),T(t,function(t){t.properties||(t.properties={}),T(e,function(e){void 0===t.properties[r]&&At(t,e)&&(t.properties[r]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,r,i=t.slice(0),o=t.length,s=o-e;o-- >s;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))},t.envelope=se,t.square=ae,t.circle=le,t.midpoint=function(t,e){return ue(t,Nt(t,e)/2,ce(t,e))},t.center=he,t.centerOfMass=function t(e,n){switch(K(e)){case"Point":return e;case"Polygon":var i=[];I(e,function(t){i.push(t)});var o,s,a,u,l,c,h,f,p=fe(e,n),d=p.geometry.coordinates,m=0,g=0,y=0,_=i.map(function(t){return[t[0]-d[0],t[1]-d[1]]});for(o=0;o<i.length-1;o++)u=(s=_[o])[0],l=(a=_[o+1])[0],y+=f=u*(h=a[1])-l*(c=s[1]),m+=(u+l)*f,g+=(c+h)*f;if(0===y)return p;var v=1/(.5*y*6);return r([d[0]+v*m,d[1]+v*g],n);default:var b=It(e);return b?t(b,n):fe(e,n)}},t.centroid=fe,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return T(t,function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))}),l(Object.keys(r).filter(function(t){return r[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})}))},t.distance=Nt,t.explode=pe,t.bbox=U,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Oe(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Oe(t))}),e},t.bboxPolygon=oe,t.booleanPointInPolygon=At,t.nearestPoint=Te,t.nearestPointOnLine=Qe,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return L(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==K(e))throw new Error("line must be a LineString");var o=1/0,s=null;return T(t,function(t){var n=ln(t,e,{units:r});n<o&&(o=n,s=t)}),s&&(s.properties=Object.assign({dist:o},s.properties,i)),s},t.planepoint=function(t,e){var n=q(t),r=$(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],l=n[1],c=r[0][0],h=r[0][1],f=void 0!==o?o:r[0][2],p=r[1][0],d=r[1][1],m=void 0!==s?s:r[1][2],g=r[2][0],y=r[2][1],_=void 0!==a?a:r[2][2];return(_*(u-c)*(l-d)+f*(u-p)*(l-y)+m*(u-g)*(l-h)-m*(u-c)*(l-y)-_*(u-p)*(l-h)-f*(u-g)*(l-d))/((u-c)*(l-d)+(u-p)*(l-y)+(u-g)*(l-h)-(u-c)*(l-y)-(u-p)*(l-h)-(u-g)*(l-d))},t.tin=Tt,t.bearing=ce,t.destination=ue,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,r,i,o,s,a){var u,l,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(h=(s-i)*(l=e-o)-(a-o)*(c=t-i),c=((n-t)*l-(r-e)*c)/u,f.x=t+(l=h/u)*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&i.features.push(r([s[0],s[1]]))}})}),i},t.pointOnFeature=hn,t.area=pn,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!E(e))throw new Error("distance must be a number");for(var o=0,s=0;s<i.length&&!(e>=o&&s===i.length-1);s++){if(o>=e){var a=e-o;if(a){var u=ce(i[s],i[s-1])-180;return ue(i[s],a,u,n)}return r(i[s])}o+=Nt(i[s],i[s+1],n)}return r(i[i.length-1])},t.length=_n,t.lineSlice=function(t,e,n){var r=G(n);if("LineString"!==K(n))throw new Error("line must be a LineString");for(var i,o=Qe(n,t),s=Qe(n,e),u=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)u.push(r[l]);return u.push(i[1].geometry.coordinates),a(u,n.properties)},t.lineSliceAlong=vn,t.pointGrid=Cn,t.truncate=Sn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return M(t,function(t){e.push(t)}),l(e)},t.lineIntersect=Ke,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return M(t,function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=_n(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)r(vn(t,e*s,e*(s+1),{units:n}))}(t,e,r,function(t){o.push(t)})}),l(o)},t.unkinkPolygon=function(t){var e=[];return M(t,function(t){"Polygon"===t.geometry.type&&T(function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&At(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&pn(d.features[r])<1/0&&(n=r);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var i=e+d.features[n].properties.winding;d.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,s=[],a=0;a<i;a++){var u=t.geometry.coordinates[a];An(u[0],u[u.length-1])||u.push(u[0]),s.push.apply(s,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=s.length,h=function(t,e,n){function r(t,n,r,i){var u,l,c=o[t][n],h=o[t][n+1],f=o[r][i],p=o[r][i+1],d=function(t,e,n,r){if(Dn(t,n)||Dn(t,r)||Dn(e,n)||Dn(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],c=r[0],h=r[1],f=(i-s)*(l-h)-(o-a)*(u-c);return 0===f?null:[((i*a-o*s)*(u-c)-(i-s)*(u*h-l*c))/f,((i*a-o*s)*(l-h)-(o-a)*(u*h-l*c))/f]}(c,h,f,p);if(null!==d&&(l=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!((u=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]))>=1||u<=0||l>=1||l<=0))){var m=!a[d];m&&(a[d]=!0),s.push(e?e(d,t,n,c,h,u,r,i,f,p,l,m):d)}}function i(t,e){var n,r,i,s,a=o[t][e],u=o[t][e+1];return a[0]<u[0]?(n=a[0],r=u[0]):(n=u[0],r=a[0]),a[1]<u[1]?(i=a[1],s=u[1]):(i=u[1],s=a[1]),{minX:n,minY:i,maxX:r,maxY:s,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length-1;c++)u.push(i(l,c));var h=Bo();h.load(u)}for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length-1;p++)if(n)h.search(i(f,p)).forEach(function(t){r(f,p,t.ring,t.edge)});else for(var d=0;d<o.length;d++)for(var m=0;m<o[d].length-1;m++)r(f,p,d,m);return e||(s={type:"Feature",geometry:{type:"MultiPoint",coordinates:s}}),s}(t,function(t,e,n,r,i,o,s,a,u,l,c,h){return[t,e,n,r,i,o,s,a,u,l,c,h]}),f=h.length;if(0==f){var p=[];for(a=0;a<i;a++)p.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(In([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[a])}));var d=l(p);return e(),n(),d}var m=[],g=[];for(a=0;a<i;a++){m.push([]);for(var y=0;y<t.geometry.coordinates[a].length-1;y++)m[a].push([new gs(t.geometry.coordinates[a][(y+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,y],[a,(y+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),g.push(new ys(t.geometry.coordinates[a][y],[a,(y-1).modulo(t.geometry.coordinates[a].length-1)],[a,y],void 0,void 0,!1,!0))}for(a=0;a<f;a++)m[h[a][1]][h[a][2]].push(new gs(h[a][0],h[a][5],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0)),h[a][11]&&g.push(new ys(h[a][0],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0,void 0,!0,!0));var _=g.length;for(a=0;a<m.length;a++)for(y=0;y<m[a].length;y++)m[a][y].sort(function(t,e){return t.param<e.param?-1:1});var v=[];for(a=0;a<_;a++)v.push({minX:g[a].coord[0],minY:g[a].coord[1],maxX:g[a].coord[0],maxY:g[a].coord[1],index:a});var b=Bo();for(b.load(v),a=0;a<m.length;a++)for(y=0;y<m[a].length;y++)for(var w=0;w<m[a][y].length;w++){E=w==m[a][y].length-1?m[a][(y+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:m[a][y][w+1].coord;var x=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0];m[a][y][w].nxtIsectAlongEdgeIn=x.index}for(a=0;a<m.length;a++)for(y=0;y<m[a].length;y++)for(w=0;w<m[a][y].length;w++){var E=m[a][y][w].coord,C=(x=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0]).index;C<c?g[C].nxtIsectAlongRingAndEdge2=m[a][y][w].nxtIsectAlongEdgeIn:An(g[C].ringAndEdge1,m[a][y][w].ringAndEdgeIn)?g[C].nxtIsectAlongRingAndEdge1=m[a][y][w].nxtIsectAlongEdgeIn:g[C].nxtIsectAlongRingAndEdge2=m[a][y][w].nxtIsectAlongEdgeIn}var S=[];for(a=0,y=0;y<i;y++){var D=a;for(w=0;w<t.geometry.coordinates[y].length-1;w++)g[a].coord[0]<g[D].coord[0]&&(D=a),a++;var I=g[D].nxtIsectAlongRingAndEdge2;for(w=0;w<g.length;w++)if(g[w].nxtIsectAlongRingAndEdge1==D||g[w].nxtIsectAlongRingAndEdge2==D){var A=w;break}var k=In([g[A].coord,g[D].coord,g[I].coord],!0)?1:-1;S.push({isect:D,parent:-1,winding:k})}for(S.sort(function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1}),p=[];S.length>0;){var O=S.pop(),T=O.isect,R=O.parent,P=O.winding,L=p.length,N=[g[T].coord],M=T;if(g[T].ringAndEdge1Walkable)var F=g[T].ringAndEdge1,B=g[T].nxtIsectAlongRingAndEdge1;else F=g[T].ringAndEdge2,B=g[T].nxtIsectAlongRingAndEdge2;for(;!An(g[T].coord,g[B].coord);){N.push(g[B].coord);var j=void 0;for(a=0;a<S.length;a++)if(S[a].isect==B){j=a;break}if(null!=j&&S.splice(j,1),An(F,g[B].ringAndEdge1)){if(F=g[B].ringAndEdge2,g[B].ringAndEdge2Walkable=!1,g[B].ringAndEdge1Walkable){var z={isect:B};In([g[M].coord,g[B].coord,g[g[B].nxtIsectAlongRingAndEdge2].coord],1==P)?(z.parent=R,z.winding=-P):(z.parent=L,z.winding=P),S.push(z)}M=B,B=g[B].nxtIsectAlongRingAndEdge2}else F=g[B].ringAndEdge1,g[B].ringAndEdge1Walkable=!1,g[B].ringAndEdge2Walkable&&(z={isect:B},In([g[M].coord,g[B].coord,g[g[B].nxtIsectAlongRingAndEdge1].coord],1==P)?(z.parent=R,z.winding=-P):(z.parent=L,z.winding=P),S.push(z)),M=B,B=g[B].nxtIsectAlongRingAndEdge1}N.push(g[B].coord),p.push(o([N],{index:L,parent:R,winding:P,netWinding:void 0}))}return d=l(p),e(),n(),d}(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=q(t),e=q(e),i=i||100,o=o||10,new Es({x:t[0],y:t[1]},{x:e[0],y:e[1]},r=r||{}).Arc(i,{offset:o}).json()},t.lineSegment=Xe,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=K(t),r=K(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Sn(e,{precision:7});switch(r){case"Point":return On(t,i);case"MultiPoint":return kn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return kn(t,Ke(t,i))}},t.lineArc=Pn,t.polygonToLine=Nn,t.lineToPolygon=Fn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=G(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(r=[r]),r.forEach(function(t){Cs(t,e,s)}),1===s.length?a(s[0],i):c(s,i);case"Polygon":return o(qn(r,e),i);case"MultiPolygon":return f(r.map(function(t){return qn(t,e)}),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Wn,t.sector=function(t,e,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(Xn(n)===Xn(r))return le(t,e,i);var s=G(t),a=[[s]];return I(Pn(t,e,n,r,i),function(t){a[0].push(t)}),a[0].push(s),o(a)},t.rhumbBearing=tn,t.rhumbDistance=nn,t.rhumbDestination=Kn,t.polygonTangents=function(t,e){var n,i,o,s=G(t),a=G(e);switch(K(e)){case"Polygon":n=a[0][0],i=a[0][0],o=Qn(a[0][0],a[0][a[0].length-1],s);var u=Jn(a[0],s,o,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=a[0][0][0],i=a[0][0][0],o=Qn(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach(function(t){var e=Jn(t[0],s,o,void 0,n,i);n=e[0],i=e[1]})}return l([r(n),r(i)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Mt(t));var i=[];switch(t.type){case"GeometryCollection":return L(t,function(t){er(t,n)}),t;case"FeatureCollection":return T(t,function(t){T(er(t,n),function(t){i.push(t)})}),l(i)}return er(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},s=n.breaksProperties||[];if(W(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(s))throw new Error("breaksProperties is not an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;W(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return T(t,function(t){var e=G(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return G(t)[0]-G(e)[0]})}).sort(function(t,n){return e?G(t[0])[1]-G(n[0])[1]:G(n[0])[1]-G(t[0])[1]})}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var s=+e[i-1],a=+e[i],u=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var s=o([e[r].lrCoordinates]),a=r+1;a<e.length;a++)e[a].grouped||function(t,e){for(var n=pe(t),r=0;r<n.features.length;r++)if(!At(n.features[r],e))return!1;return!0}(o([e[a].lrCoordinates]),s)&&(i.push(e[a].lrCoordinates),e[a].grouped=!0);n.push(i)}return n}(function(t){var e=[],n=[];t.forEach(function(t){var r=pn(o([t]));n.push(r),e.push({ring:t,area:r})}),n.sort(function(t,e){return e-t});var r=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}}),r}(ir(t,s,a-s))),l={};l.groupedRings=u,l[n]=s+"-"+a,r.push(l)}return r}(a,e,r);return l((u=function(t,e,n){var r=U(n),i=r[0],o=r[1],s=(r[2]-r[0])/(e[0].length-1),a=(r[3]-r[1])/(e.length-1),u=function(t){t[0]=t[0]*s+i,t[1]=t[1]*a+o};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(u)})})}),t}(u,a,t)).map(function(t,e){if(s[e]&&!C(s[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,s[e]);return n[r]=t[r],f(t.groupedRings,n)}))},t.transformRotate=ar,t.transformScale=ur,t.transformTranslate=function(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Mt(t)),I(t,function(t){var r=G(Kn(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=K(t),o=t.properties;switch(i){case"LineString":return fr(t,e,r);case"MultiLineString":var s=[];return M(t,function(t){s.push(fr(t,e,r).geometry.coordinates)}),c(s,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=Ea.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):r.push(t)}),n.forEach(function(t){wa.findEdgeRingContaining(t,r)&&r.push(t)}),l(r.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return M(t,function(t){M(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!mr(e,t);case"Polygon":return!At(t,e)}break;case"LineString":switch(e.type){case"Point":return!mr(t,e);case"LineString":return!function(t,e){return Ke(t,e).features.length>0}(t,e);case"Polygon":return!gr(e,t)}break;case"Polygon":switch(e.type){case"Point":return!At(e,t);case"LineString":return!gr(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(At(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(At(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=K(t),r=K(e),i=$(t),o=$(e),s=G(t),a=G(e);switch(n){case"Point":switch(r){case"Point":return _r(s,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(_r(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(_r(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return bn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(bn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!bn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(bn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!bn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return At(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!yr(U(t),U(e)))return!1;for(;r<e.coordinates.length-1;r++)if(At({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!yr(U(t),U(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!At(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!At(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=K(t),r=K(e),i=$(t),o=$(e);switch(n){case"MultiPoint":switch(r){case"LineString":return vr(i,o);case"Polygon":return wr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return vr(o,i);case"LineString":return function(t,e){if(Ke(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),xr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return br(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return wr(o,i);case"LineString":return br(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=tr,t.booleanOverlap=Dr,t.booleanPointOnLine=bn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return K(t)===K(e)&&new Aa({precision:6}).compare(Xt(t),Xt(e))},t.booleanWithin=wn,t.clone=Mt,t.cleanCoords=Xt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(W(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Mt(t),r=r||3;var o=new Pa.DBSCAN,s=-1;return o.run(P(t),w(e,i),r,Nt).forEach(function(e){s++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;W(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Mt(t));var o=P(t),s=o.slice(0,n),a=function(t,e,n,r){var i=[],o=[],s=[],a=[],u=!1,l=r||1e4,c=t.length,h=t[0].length,f=h>0,p=[];if(n)i="kmrand"==n?function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Na:Ma,r=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];for(o&&s.join("_"),r.push(s);r.length<e;){for(var a=[],u=r.length,l=0,c=[],h=0;h<i;h++){for(var f=1/0,p=0;p<u;p++){var d=n(t[h],r[p]);d<=f&&(f=d)}a[h]=f}for(var m=0;m<i;m++)l+=a[m];for(var g=0;g<i;g++)c[g]={i:g,v:t[g],pr:a[g]/l,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var y=1;y<i;y++)c[y].cs=c[y-1].cs+c[y].pr;for(var _=Math.random(),v=0;v<i-1&&c[v++].cs<_;);r.push(c[v-1].v)}return r}(t,e):n;else for(var d={};i.length<e;){var m=Math.floor(Math.random()*c);d[m]||(d[m]=!0,i.push(t[m]))}do{Ir(e,0,p);for(var g=0;g<c;g++){for(var y=1/0,_=0,v=0;v<e;v++)(a=f?Fa(t[g],i[v]):Math.abs(t[g]-i[v]))<=y&&(y=a,_=v);s[g]=_,p[_]++}for(var b=[],w=(o=[],0);w<e;w++)b[w]=f?Ir(h,0,b[w]):0,o[w]=i[w];if(f){for(var x=0;x<e;x++)i[x]=[];for(var E=0;E<c;E++)for(var C=b[s[E]],S=t[E],D=0;D<h;D++)C[D]+=S[D];u=!0;for(var I=0;I<e;I++){for(var A=i[I],k=b[I],O=o[I],T=p[I],R=0;R<h;R++)A[R]=k[R]/T||0;if(u)for(var P=0;P<h;P++)if(O[P]!=A[P]){u=!1;break}}}else{for(var L=0;L<c;L++)b[s[L]]+=t[L];for(var N=0;N<e;N++)i[N]=b[N]/p[N]||0;u=!0;for(var M=0;M<e;M++)if(o[M]!=i[M]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:s,centroids:i}}(o,n,s),u={};return a.centroids.forEach(function(t,e){u[e]=t}),T(t,function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]}),t},t.pointToLineDistance=ln,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Ar(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Ar(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Xe(Xt(t)).features,r=Xe(Xt(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return _(tn(t[0],t[1]))===_(tn(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var o=i.resolution,s=i.minDistance,u=i.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!E(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(s)throw new Error("options.minDistance is not yet implemented");var c=q(t),h=q(n);switch(t=r(c),n=r(h),K(u)){case"FeatureCollection":if(0===u.features.length)return a([c,h]);break;case"Polygon":u=l([e($(u))]);break;default:throw new Error("invalid obstacles")}var f=u;f.features.push(t),f.features.push(n);var p=U(ur(oe(U(f)),1.15));o||(o=Nt([p[0],p[1]],[p[2],p[1]],i)/100),f.features.pop(),f.features.pop();for(var d=p[0],m=p[1],g=p[2],y=p[3],_=o/Nt([d,m],[g,m],i)*(g-d),v=o/Nt([d,m],[d,y],i)*(y-m),b=g-d,w=y-m,x=(b-Math.floor(b/_)*_)/2,S=[],D=[],I=[],A=[],k=1/0,O=1/0,T=y-(w-Math.floor(w/v)*v)/2,R=0;T>=m;){for(var P=[],L=[],N=d+x,M=0;N<=g;){var F=r([N,T]),B=function(t,e){for(var n=0;n<e.features.length;n++)if(At(t,e.features[n]))return!0;return!1}(F,u);P.push(B?0:1),L.push(N+"|"+T);var j=Nt(F,t);!B&&j<k&&(k=j,I={x:M,y:R});var z=Nt(F,n);!B&&z<O&&(O=z,A={x:M,y:R}),N+=_,M++}D.push(P),S.push(L),T-=v,R++}var V=new Or(D,{diagonal:!0}),G=[c];return Ba.search(V,V.grid[I.y][I.x],V.grid[A.y][A.x]).forEach(function(t){var e=S[t.x][t.y].split("|");G.push([+e[0],+e[1]])}),G.push(h),Xt(a(G))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return W(t,"Point","points"),l(function(){function t(t){return new ri(t.map(function(r,i){var o=[Math.round(e(r,i,t)/Za)*Za,Math.round(n(r,i,t)/Za)*Za];return o.index=i,o.data=r,o}),r)}var e=Pr,n=Lr,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ja(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ja(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(ii))},t.ellipse=oi,t.centerMean=ai,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!E(n))throw new Error("counter must be a number");var r=e.weight,i=ai(t,{weight:e.weight}),o=l([]);return T(t,function(t){o.features.push(fe(t,{weight:t.properties[r]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},ui(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!E(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var o=P(t).length,s=ai(t,{weight:r}),a=0,u=0,c=0;T(t,function(t){var e=t.properties[r]||1,n=li(G(t),G(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,c+=n.x*n.y*e});var h=a-u,f=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),p=Math.atan((h+f)/(2*c)),d=180*p/Math.PI,m=0,g=0,y=0;T(t,function(t){var e=t.properties[r]||1,n=li(G(t),G(s));m+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*e,g+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*e,y+=e});var _=Math.sqrt(2*m/y),v=Math.sqrt(2*g/y),b=oi(s,_,v,{units:"degrees",angle:d,steps:n,properties:i}),w=Ot(t,l([b])),x={meanCenterCoordinates:G(s),semiMajorAxis:_,semiMinorAxis:v,numberOfFeatures:o,angle:d,percentageWithinEllipse:100*P(w).length/o};return b.properties.standardDeviationalEllipse=x,b},t.difference=function(t,n){var r=$(t),i=$(n),o=t.properties||{};if(r=Fi(r),i=Fi(i),!r)return null;if(!i)return e(r,o);var s=new ic,a=s.read(r),u=s.read(i),l=ap.difference(a,u);return l.isEmpty()?null:e((new oc).write(l),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return L(t,function(t){var n=mo(t,e,r,i);n&&o.push(n)}),l(o);case"FeatureCollection":return T(t,function(t){var n=mo(t,e,r,i);n&&T(n,function(t){t&&o.push(t)})}),l(o)}return mo(t,e,r,i)},t.union=bo,t.intersect=wo,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;W(t,"Polygon","dissolve");var r=Mt(t),i=r.features,o=[];i.forEach(function(t,e){t.properties.origIndexPosition=e});var s=Ze();for(var u in s.load(r),i){var l=i[u],c=!1;if(s.search(l).features.forEach(function(t){l=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=xo(e,o);0!==r&&(e-=r)}if(e!==+u){var h=i[e];h&&l&&(void 0!==n&&h.properties[n]!==l.properties[n]||Dr(l,h)&&function(t,e){return Ke(a(P(t)),a(P(e))).features.length>0}(l,h)&&(i[u]=bo(l,h),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),s.remove(t),i.splice(e,1),l.properties.origIndexPosition=u,s.remove(l,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),c=!0))}}),c){if(!l)continue;l.properties.origIndexPosition=u,s.insert(l),u--}}return i.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),r},t.hexGrid=Eo,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return M(t,function(t){var r=t.geometry.coordinates,i=r[0],s=r.slice(1);e.push(o([i])),s.forEach(function(t){n.push(o([t]))})}),[l(e),l(n)]}(t),i=r[0],s=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),M(e,function(t){r.push(t.geometry.coordinates[0])}),M(n,function(t){r.push(t.geometry.coordinates[0])}),o(r)}(n,i=Co(i),s=Co(s))},t.squareGrid=Do,t.triangleGrid=Io,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(W(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var s,a=U(t);switch(r){case"point":case"points":s=Cn(a,e,n);break;case"square":case"squares":s=Do(a,e,n);break;case"hex":case"hexes":s=Eo(a,e,n);break;case"triangle":case"triangles":s=Io(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return T(s,function(e){var s=0,a=0;T(t,function(t){var u,l=Nt("point"===r?e:fe(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(s=u);var c=1/Math.pow(l,o);a+=c,s+=c*u});var l=Mt(e);l.properties[i]=s/a,u.push(l)}),l(u)},t.pointOnSurface=hn,t.polygonToLineString=Nn,t.lineStringToPolygon=Fn,t.inside=At,t.within=Ot,t.bezier=ie,t.nearest=Te,t.pointOnLine=Qe,t.lineDistance=_n,t.radians2degrees=v,t.degrees2radians=b,t.distanceToDegrees=y,t.distanceToRadians=g,t.radiansToDistance=m,t.bearingToAngle=_,t.convertDistance=w,t.toMercator=rn,t.toWgs84=on,t.randomPosition=ci,t.randomPoint=hi,t.randomPolygon=fi,t.randomLineString=pi,t.getCluster=mi,t.clusterEach=gi,t.clusterReduce=yi,t.createBins=_i,t.applyFilter=vi,t.propertiesContainsFilter=bi,t.filterProperties=wi,t.earthRadius=Ao,t.factors=ko,t.unitsFactors=Oo,t.areaFactors=To,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=u,t.featureCollection=l,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=f,t.geometryCollection=p,t.round=d,t.radiansToLength=m,t.lengthToRadians=g,t.lengthToDegrees=y,t.bearingToAzimuth=_,t.radiansToDegrees=v,t.degreesToRadians=b,t.convertLength=w,t.convertArea=x,t.isNumber=E,t.isObject=C,t.validateBBox=S,t.validateId=D,t.getCoord=q,t.getCoords=G,t.containsNumber=H,t.geojsonType=Y,t.featureOf=Z,t.collectionOf=W,t.getGeom=$,t.getGeomType=X,t.getType=K,t.coordEach=I,t.coordReduce=A,t.propEach=k,t.propReduce=O,t.featureEach=T,t.featureReduce=R,t.coordAll=P,t.geomEach=L,t.geomReduce=N,t.flattenEach=M,t.flattenReduce=F,t.segmentEach=B,t.segmentReduce=j,t.lineEach=z,t.lineReduce=V,Object.defineProperty(t,"__esModule",{value:!0})}(e)},559:t=>{var e=function(){"use strict";function t(e,r,i,o){"object"==typeof r&&(i=r.depth,o=r.prototype,r=r.circular);var s=[],a=[],u="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===i&&(i=1/0),function e(i,l){if(null===i)return null;if(0==l)return i;var c,h;if("object"!=typeof i)return i;if(t.__isArray(i))c=[];else if(t.__isRegExp(i))c=new RegExp(i.source,n(i)),i.lastIndex&&(c.lastIndex=i.lastIndex);else if(t.__isDate(i))c=new Date(i.getTime());else{if(u&&Buffer.isBuffer(i))return c=Buffer.allocUnsafe?Buffer.allocUnsafe(i.length):new Buffer(i.length),i.copy(c),c;void 0===o?(h=Object.getPrototypeOf(i),c=Object.create(h)):(c=Object.create(o),h=o)}if(r){var f=s.indexOf(i);if(-1!=f)return a[f];s.push(i),a.push(c)}for(var p in i){var d;h&&(d=Object.getOwnPropertyDescriptor(h,p)),d&&null==d.set||(c[p]=e(i[p],l-1))}return c}(e,i)}function e(t){return Object.prototype.toString.call(t)}function n(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=n,t}();t.exports&&(t.exports=e)},183:function(t,e){var n;!function(r){"use strict";var i={},o={},s={},a="en",u={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"]},l={YYYY:function(t){return("000"+t.getFullYear()).slice(-4)},YY:function(t){return("0"+t.getFullYear()).slice(-2)},Y:function(t){return""+t.getFullYear()},MMMM:function(t){return this.res.MMMM[t.getMonth()]},MMM:function(t){return this.res.MMM[t.getMonth()]},MM:function(t){return("0"+(t.getMonth()+1)).slice(-2)},M:function(t){return""+(t.getMonth()+1)},DD:function(t){return("0"+t.getDate()).slice(-2)},D:function(t){return""+t.getDate()},HH:function(t){return("0"+t.getHours()).slice(-2)},H:function(t){return""+t.getHours()},A:function(t){return this.res.A[t.getHours()>11|0]},hh:function(t){return("0"+(t.getHours()%12||12)).slice(-2)},h:function(t){return""+(t.getHours()%12||12)},mm:function(t){return("0"+t.getMinutes()).slice(-2)},m:function(t){return""+t.getMinutes()},ss:function(t){return("0"+t.getSeconds()).slice(-2)},s:function(t){return""+t.getSeconds()},SSS:function(t){return("00"+t.getMilliseconds()).slice(-3)},SS:function(t){return("0"+(t.getMilliseconds()/10|0)).slice(-2)},S:function(t){return""+(t.getMilliseconds()/100|0)},dddd:function(t){return this.res.dddd[t.getDay()]},ddd:function(t){return this.res.ddd[t.getDay()]},dd:function(t){return this.res.dd[t.getDay()]},Z:function(t){return t.utc?"+0000":/[\+-]\d{4}/.exec(t.toTimeString())[0]},post:function(t){return t}},c={YYYY:function(t){return this.exec(/^\d{4}/,t)},Y:function(t){return this.exec(/^\d{1,4}/,t)},MMMM:function(t){var e=this.find(this.res.MMMM,t);return e.value++,e},MMM:function(t){var e=this.find(this.res.MMM,t);return e.value++,e},MM:function(t){return this.exec(/^\d\d/,t)},M:function(t){return this.exec(/^\d\d?/,t)},DD:function(t){return this.exec(/^\d\d/,t)},D:function(t){return this.exec(/^\d\d?/,t)},HH:function(t){return this.exec(/^\d\d/,t)},H:function(t){return this.exec(/^\d\d?/,t)},A:function(t){return this.find(this.res.A,t)},hh:function(t){return this.exec(/^\d\d/,t)},h:function(t){return this.exec(/^\d\d?/,t)},mm:function(t){return this.exec(/^\d\d/,t)},m:function(t){return this.exec(/^\d\d?/,t)},ss:function(t){return this.exec(/^\d\d/,t)},s:function(t){return this.exec(/^\d\d?/,t)},SSS:function(t){return this.exec(/^\d{1,3}/,t)},SS:function(t){var e=this.exec(/^\d\d?/,t);return e.value*=10,e},S:function(t){var e=this.exec(/^\d/,t);return e.value*=100,e},Z:function(t){var e=this.exec(/^[\+-]\d{2}[0-5]\d/,t);return e.value=-60*(e.value/100|0)-e.value%100,e},h12:function(t,e){return(12===t?0:t)+12*e},exec:function(t,e){var n=(t.exec(e)||[""])[0];return{value:0|n,length:n.length}},find:function(t,e){for(var n,r=-1,i=0,o=0,s=t.length;o<s;o++)!e.indexOf(n=t[o])&&n.length>i&&(r=o,i=n.length);return{value:r,length:i}},pre:function(t){return t}},h=function(t,e,n){var r=function(t,e,n){var r=function(t){t&&(this.res=t)};(r.prototype=t).constructor=r;var i,o=new r(n);for(var s in e||{})o[s]=(i=e[s]).slice?i.slice():i;return o},i={res:r(e.res,n.res)};i.formatter=r(e.formatter,n.formatter,i.res),i.parser=r(e.parser,n.parser,i.res),o[t]=i};i.compile=function(t){for(var e,n=/\[([^\[\]]|\[[^\[\]]*])*]|([A-Za-z])\2+|\.{3}|./g,r=[t];e=n.exec(t);)r[r.length]=e[0];return r},i.format=function(t,e,n){var r="string"==typeof e?i.compile(e):e,s=i.addMinutes(t,n?t.getTimezoneOffset():0),u=o[a].formatter,l="";s.utc=n||!1;for(var c,h=1,f=r.length;h<f;h++)l+=u[c=r[h]]?u.post(u[c](s,r[0])):c.replace(/\[(.*)]/,"$1");return l},i.preparse=function(t,e){var n="string"==typeof e?i.compile(e):e,r={Y:1970,M:1,D:1,H:0,A:0,h:0,m:0,s:0,S:0,Z:0,_index:0,_length:0,_match:0},s=/\[(.*)]/,u=o[a].parser,l=0;t=u.pre(t);for(var c,h,f=1,p=n.length;f<p;f++)if(u[c=n[f]]){if(!(h=u[c](t.slice(l),n[0])).length)break;l+=h.length,r[c.charAt(0)]=h.value,r._match++}else if(c===t.charAt(l)||" "===c)l++;else{if(!s.test(c)||t.slice(l).indexOf(s.exec(c)[1])){if("..."===c){l=t.length;break}break}l+=c.length-2}return r.H=r.H||u.h12(r.h,r.A),r._index=l,r._length=t.length,r},i.isValid=function(t,e){var n="string"==typeof t?i.preparse(t,e):t,r=[31,28+i.isLeapYear(n.Y)|0,31,30,31,30,31,31,30,31,30,31][n.M-1];return!(n._index<1||n._length<1||n._index-n._length||n._match<1||n.Y<1||n.Y>9999||n.M<1||n.M>12||n.D<1||n.D>r||n.H<0||n.H>23||n.m<0||n.m>59||n.s<0||n.s>59||n.S<0||n.S>999||n.Z<-720||n.Z>840)},i.parse=function(t,e,n){var r=i.preparse(t,e);return i.isValid(r)?(r.M-=r.Y<100?22801:1,n||r.Z?new Date(Date.UTC(r.Y,r.M,r.D,r.H,r.m+r.Z,r.s,r.S)):new Date(r.Y,r.M,r.D,r.H,r.m,r.s,r.S)):new Date(NaN)},i.transform=function(t,e,n,r){return i.format(i.parse(t,e),n,r)},i.addYears=function(t,e){return i.addMonths(t,12*e)},i.addMonths=function(t,e){var n=new Date(t.getTime());return n.setMonth(n.getMonth()+e),n},i.addDays=function(t,e){var n=new Date(t.getTime());return n.setDate(n.getDate()+e),n},i.addHours=function(t,e){return i.addMinutes(t,60*e)},i.addMinutes=function(t,e){return i.addSeconds(t,60*e)},i.addSeconds=function(t,e){return i.addMilliseconds(t,1e3*e)},i.addMilliseconds=function(t,e){return new Date(t.getTime()+e)},i.subtract=function(t,e){var n=t.getTime()-e.getTime();return{toMilliseconds:function(){return n},toSeconds:function(){return n/1e3},toMinutes:function(){return n/6e4},toHours:function(){return n/36e5},toDays:function(){return n/864e5}}},i.isLeapYear=function(t){return!((t%4||!(t%100))&&t%400)},i.isSameDay=function(t,e){return t.toDateString()===e.toDateString()},i.locale=function(t,e){return e?h(t,{res:u,formatter:l,parser:c},e):"function"==typeof t?a=t(i):t&&(r&&!r.date&&console.warn("This method of changing the locale is deprecated. See documentation for details."),a=t),a},i.extend=function(t){var e=t.extender||{};for(var n in e)i[n]||(i[n]=e[n]);(t.formatter||t.parser||t.res)&&h(a,o[a],t)},i.plugin=function(t,e){"function"==typeof t?i.extend(s[t(i)]):(s[t]=s[t]||e,!e&&s[t]&&(i.extend(s[t]),r&&!r.date&&console.warn("This method of applying plugins is deprecated. See documentation for details.")))},i.locale(a,{}),"object"==typeof t.exports?t.exports=i:void 0===(n=(function(){return i}).apply(e,[]))||(t.exports=n)}(this)},163:(t,e,n)=>{var r=n(559);t.exports=function(t,e){return t=t||{},Object.keys(e).forEach(function(n){void 0===t[n]&&(t[n]=r(e[n]))}),t}},577:(t,e,n)=>{var r;try{r=n(819)}catch(p){}function i(){this.rows=[],this.row={__printers:{}}}function o(t){return void 0===t?"":""+t}function s(t){var e=t.replace(/\u001b\[\d+m/g,"");return null==r?e.length:r(e)}function a(t){return function(e,n){var r=o(e),i=s(r);return(n>i?Array(n-i+1).join(t):"")+r}}t.exports=i,i.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},i.prototype.cell=function(t,e,n){return this.row[t]=e,this.row.__printers[t]=n||o,this},i.prototype.separator="  ",i.string=o,i.leftPadder=a;var u=i.padLeft=a(" ");function l(t){return function(e,n){var r=o(e),i=s(r);return r+(n>i?Array(n-i+1).join(t):"")}}i.rightPadder=l;var c=l(" ");function h(t,e){for(var n in t)"__printers"!=n&&e(n,t[n])}function f(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:f(String(t),String(e))}i.number=function(t){return function(e,n){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var r=null==t?e+"":e.toFixed(t);return u(r,n)}},i.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach(function(e){var n=0;h(e,function(e){n=Math.max(n,t[e]||0),t[e]=n,n++})});return Object.keys(t).sort(function(e,n){return t[e]-t[n]})},i.prototype.print=function(){var t=this.columns(),e=this.separator,n={},r="";return this.rows.forEach(function(t){h(t,function(e,r){var i=t.__printers[e].call(t,r);n[e]=Math.max(s(i),n[e]||0)})}),this.rows.forEach(function(i){var o="";t.forEach(function(t){var r=n[t],s=i.hasOwnProperty(t)?""+i.__printers[t].call(i,i[t],r):"";o+=c(s,r)+e}),o=o.slice(0,-e.length),r+=o+"\n"}),r},i.prototype.toString=function(){var t=this.columns(),e=new i;return e.separator=this.separator,t.forEach(function(t){e.cell(t,t)}),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},i.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach(function(t){this.cell(t,void 0,a("-"))},this),this.newRow()},i.prototype.forEachTotal=function(t){for(var e in this.totals){var n=this.totals[e],r=n.init,i=this.rows.length;this.rows.forEach(function(t,o){r=n.reduce.call(t,r,t[e],o,i)}),t(e,r,n.printer)}},i.prototype.printTransposed=function(t){t=t||{};var e=new i;return e.separator=t.separator||this.separator,this.columns().forEach(function(n){e.cell(0,n,t.namePrinter),this.rows.forEach(function(t,r){e.cell(r+1,t[n],t.__printers[n])}),e.newRow()},this),e.print()},i.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map(function(t){var e="asc",n=/(.*)\|\s*(asc|des)\s*$/.exec(t);return n&&(t=n[1],e=n[2]),function(n,r){return"asc"==e?f(n[t],r[t]):f(r[t],n[t])}});return this.sort(function(t,n){for(var r=0;r<e.length;r++){var i=e[r](t,n);if(0!=i)return i}return 0})},i.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||i.aggr.sum,printer:e.printer||u,init:null==e.init?0:e.init},this},(i.aggr={}).printer=function(t,e){return e=e||o,function(n,r){return u(t+e(n),r)}},i.aggr.sum=function(t,e){return t+e},i.aggr.avg=function(t,e,n,r){return t+=e,n+1==r?t/r:t},i.print=function(t,e,n){var r=e||{};e="function"==typeof e?e:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=r[n]||{};e(i.name||n,t[n],i.printer)}};var o=new i,s=o.cell.bind(o);return Array.isArray(t)?(n=n||function(t){return t.toString()},t.forEach(function(t){e(t,s),o.newRow()})):(n=n||function(t){return t.printTransposed({separator:" : "})},e(t,s),o.newRow()),n(o)},i.log=function(t,e,n){console.log(i.print(t,e,n))},i.prototype.log=function(){console.log(this.toString())}},457:function(t,e){var n,r;void 0===(r="function"==typeof(n=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){s(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,s){var a=i.URL||i.webkitURL,u=document.createElement("a");u.download=o=o||t.name||"download",u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):n(u.href)?e(t,o,s):r(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){r(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){r(s)})}}:function(t,n,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var a="application/octet-stream"===t.type,u=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&u||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},c.readAsDataURL(t)}else{var h=i.URL||i.webkitURL,f=h.createObjectURL(t);s?s.location=f:location.href=f,s=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});i.saveAs=s.saveAs=s,t.exports=s})?n.apply(e,[]):n)||(t.exports=r)},701:function(t){t.exports=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=t(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),r=function(t){return"object"==typeof t?null!==t:"function"==typeof t},i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(e){return!0}},s=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),a=e.document,u=r(a)&&r(a.createElement),l=!s&&!o(function(){return 7!=Object.defineProperty(("div",u?a.createElement("div"):{}),"a",{get:function(){return 7}}).a}),c=Object.defineProperty,h={f:s?Object.defineProperty:function(t,e,n){if(i(t),e=function(t,e){if(!r(t))return t;var n,i;if("function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e),i(n),l)try{return c(t,e,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},f=s?function(t,e,n){return h.f(t,e,function(t,e){return{enumerable:!1,configurable:!0,writable:!0,value:e}}(0,n))}:function(t,e,n){return t[e]=n,t},p={}.hasOwnProperty,d=function(t,e){return p.call(t,e)},m=0,g=Math.random(),y=t(function(t){var r="__core-js_shared__",i=e[r]||(e[r]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})("native-function-to-string",Function.toString),_=t(function(t){var r="Symbol(".concat("src",")_",(++m+g).toString(36)),i="toString",o=(""+y).split(i);n.inspectSource=function(t){return y.call(t)},(t.exports=function(t,n,i,s){var a="function"==typeof i;a&&(d(i,"name")||f(i,"name",n)),t[n]!==i&&(a&&(d(i,r)||f(i,r,t[n]?""+t[n]:o.join(String(n)))),t===e?t[n]=i:s?t[n]?t[n]=i:f(t,n,i):(delete t[n],f(t,n,i)))})(Function.prototype,i,function(){return"function"==typeof this&&this[r]||y.call(this)})}),v=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},b=function(t,r,i){var o,s,a,u,l=t&b.F,c=t&b.G,h=t&b.P,p=t&b.B,d=c?e:t&b.S?e[r]||(e[r]={}):(e[r]||{}).prototype,m=c?n:n[r]||(n[r]={}),g=m.prototype||(m.prototype={});for(o in c&&(i=r),i)a=((s=!l&&d&&void 0!==d[o])?d:i)[o],u=p&&s?v(a,e):h&&"function"==typeof a?v(Function.call,a):a,d&&_(d,o,a,t&b.U),m[o]!=a&&f(m,o,u),h&&g[o]!=a&&(g[o]=a)};e.core=n,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var w=b,x=Math.ceil,E=Math.floor,C=function(t){return isNaN(t=+t)?0:(t>0?E:x)(t)},S=function(t,e){var n,r,i=String(function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}(t)),o=C(e),s=i.length;return o<0||o>=s?void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?n:r-56320+(n-55296<<10)+65536};w(w.P,"String",{codePointAt:function(t){return S(this,t)}});var D=Math.max,I=Math.min,A=function(t,e){return(t=C(t))<0?D(t+e,0):I(t,e)},k=String.fromCharCode,O=String.fromCodePoint;w(w.S+w.F*(!!O&&1!=O.length),"String",{fromCodePoint:function(t){for(var e,n=arguments,r=[],i=arguments.length,o=0;i>o;){if(e=+n[o++],A(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?k(e):k(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}});var T,R,P,L,N,M,F,B,j,z,V,U,q,G,H={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Y=function(t){return"string"==typeof t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||"$"===t||"_"===t||H.ID_Start.test(t))},Z=function(t){return"string"==typeof t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"$"===t||"_"===t||"\u200c"===t||"\u200d"===t||H.ID_Continue.test(t))},W=function(t){return"string"==typeof t&&/[0-9]/.test(t)},$=function(t){return"string"==typeof t&&/[0-9A-Fa-f]/.test(t)};function X(t,e,n){var r=t[e];if(null!=r&&"object"==typeof r)for(var i in r){var o=X(r,i,n);void 0===o?delete r[i]:r[i]=o}return n.call(t,e,r)}function K(){for(z="default",V="",U=!1,q=1;;){G=J();var t=tt[z]();if(t)return t}}function J(){if(T[L])return String.fromCodePoint(T.codePointAt(L))}function Q(){var t=J();return"\n"===t?(N++,M=0):t?M+=t.length:M++,t&&(L+=t.length),t}var tt={default:function(){switch(G){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void Q();case"/":return Q(),void(z="comment");case void 0:return Q(),et("eof")}if(!function(t){return"string"==typeof t&&H.Space_Separator.test(t)}(G))return tt[R]();Q()},comment:function(){switch(G){case"*":return Q(),void(z="multiLineComment");case"/":return Q(),void(z="singleLineComment")}throw at(Q())},multiLineComment:function(){switch(G){case"*":return Q(),void(z="multiLineCommentAsterisk");case void 0:throw at(Q())}Q()},multiLineCommentAsterisk:function(){switch(G){case"*":return void Q();case"/":return Q(),void(z="default");case void 0:throw at(Q())}Q(),z="multiLineComment"},singleLineComment:function(){switch(G){case"\n":case"\r":case"\u2028":case"\u2029":return Q(),void(z="default");case void 0:return Q(),et("eof")}Q()},value:function(){switch(G){case"{":case"[":return et("punctuator",Q());case"n":return Q(),nt("ull"),et("null",null);case"t":return Q(),nt("rue"),et("boolean",!0);case"f":return Q(),nt("alse"),et("boolean",!1);case"-":case"+":return"-"===Q()&&(q=-1),void(z="sign");case".":return V=Q(),void(z="decimalPointLeading");case"0":return V=Q(),void(z="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return V=Q(),void(z="decimalInteger");case"I":return Q(),nt("nfinity"),et("numeric",1/0);case"N":return Q(),nt("aN"),et("numeric",NaN);case'"':case"'":return U='"'===Q(),V="",void(z="string")}throw at(Q())},identifierNameStartEscape:function(){if("u"!==G)throw at(Q());Q();var t=rt();switch(t){case"$":case"_":break;default:if(!Y(t))throw lt()}V+=t,z="identifierName"},identifierName:function(){switch(G){case"$":case"_":case"\u200c":case"\u200d":return void(V+=Q());case"\\":return Q(),void(z="identifierNameEscape")}if(!Z(G))return et("identifier",V);V+=Q()},identifierNameEscape:function(){if("u"!==G)throw at(Q());Q();var t=rt();switch(t){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!Z(t))throw lt()}V+=t,z="identifierName"},sign:function(){switch(G){case".":return V=Q(),void(z="decimalPointLeading");case"0":return V=Q(),void(z="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return V=Q(),void(z="decimalInteger");case"I":return Q(),nt("nfinity"),et("numeric",q*(1/0));case"N":return Q(),nt("aN"),et("numeric",NaN)}throw at(Q())},zero:function(){switch(G){case".":return V+=Q(),void(z="decimalPoint");case"e":case"E":return V+=Q(),void(z="decimalExponent");case"x":case"X":return V+=Q(),void(z="hexadecimal")}return et("numeric",0*q)},decimalInteger:function(){switch(G){case".":return V+=Q(),void(z="decimalPoint");case"e":case"E":return V+=Q(),void(z="decimalExponent")}if(!W(G))return et("numeric",q*Number(V));V+=Q()},decimalPointLeading:function(){if(W(G))return V+=Q(),void(z="decimalFraction");throw at(Q())},decimalPoint:function(){switch(G){case"e":case"E":return V+=Q(),void(z="decimalExponent")}return W(G)?(V+=Q(),void(z="decimalFraction")):et("numeric",q*Number(V))},decimalFraction:function(){switch(G){case"e":case"E":return V+=Q(),void(z="decimalExponent")}if(!W(G))return et("numeric",q*Number(V));V+=Q()},decimalExponent:function(){switch(G){case"+":case"-":return V+=Q(),void(z="decimalExponentSign")}if(W(G))return V+=Q(),void(z="decimalExponentInteger");throw at(Q())},decimalExponentSign:function(){if(W(G))return V+=Q(),void(z="decimalExponentInteger");throw at(Q())},decimalExponentInteger:function(){if(!W(G))return et("numeric",q*Number(V));V+=Q()},hexadecimal:function(){if($(G))return V+=Q(),void(z="hexadecimalInteger");throw at(Q())},hexadecimalInteger:function(){if(!$(G))return et("numeric",q*Number(V));V+=Q()},string:function(){switch(G){case"\\":return Q(),void(V+=function(){switch(J()){case"b":return Q(),"\b";case"f":return Q(),"\f";case"n":return Q(),"\n";case"r":return Q(),"\r";case"t":return Q(),"\t";case"v":return Q(),"\v";case"0":if(Q(),W(J()))throw at(Q());return"\0";case"x":return Q(),function(){var t="",e=J();if(!$(e))throw at(Q());if(t+=Q(),e=J(),!$(e))throw at(Q());return t+=Q(),String.fromCodePoint(parseInt(t,16))}();case"u":return Q(),rt();case"\n":case"\u2028":case"\u2029":return Q(),"";case"\r":return Q(),"\n"===J()&&Q(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw at(Q())}return Q()}());case'"':return U?(Q(),et("string",V)):void(V+=Q());case"'":return U?void(V+=Q()):(Q(),et("string",V));case"\n":case"\r":throw at(Q());case"\u2028":case"\u2029":!function(t){console.warn("JSON5: '"+ct(t)+"' in strings is not valid ECMAScript; consider escaping")}(G);break;case void 0:throw at(Q())}V+=Q()},start:function(){switch(G){case"{":case"[":return et("punctuator",Q())}z="value"},beforePropertyName:function(){switch(G){case"$":case"_":return V=Q(),void(z="identifierName");case"\\":return Q(),void(z="identifierNameStartEscape");case"}":return et("punctuator",Q());case'"':case"'":return U='"'===Q(),void(z="string")}if(Y(G))return V+=Q(),void(z="identifierName");throw at(Q())},afterPropertyName:function(){if(":"===G)return et("punctuator",Q());throw at(Q())},beforePropertyValue:function(){z="value"},afterPropertyValue:function(){switch(G){case",":case"}":return et("punctuator",Q())}throw at(Q())},beforeArrayValue:function(){if("]"===G)return et("punctuator",Q());z="value"},afterArrayValue:function(){switch(G){case",":case"]":return et("punctuator",Q())}throw at(Q())},end:function(){throw at(Q())}};function et(t,e){return{type:t,value:e,line:N,column:M}}function nt(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(J()!==r)throw at(Q());Q()}}function rt(){for(var t="",e=4;e-- >0;){var n=J();if(!$(n))throw at(Q());t+=Q()}return String.fromCodePoint(parseInt(t,16))}var it={start:function(){if("eof"===F.type)throw ut();ot()},beforePropertyName:function(){switch(F.type){case"identifier":case"string":return B=F.value,void(R="afterPropertyName");case"punctuator":return void st();case"eof":throw ut()}},afterPropertyName:function(){if("eof"===F.type)throw ut();R="beforePropertyValue"},beforePropertyValue:function(){if("eof"===F.type)throw ut();ot()},beforeArrayValue:function(){if("eof"===F.type)throw ut();"punctuator"!==F.type||"]"!==F.value?ot():st()},afterPropertyValue:function(){if("eof"===F.type)throw ut();switch(F.value){case",":return void(R="beforePropertyName");case"}":st()}},afterArrayValue:function(){if("eof"===F.type)throw ut();switch(F.value){case",":return void(R="beforeArrayValue");case"]":st()}},end:function(){}};function ot(){var t;switch(F.type){case"punctuator":switch(F.value){case"{":t={};break;case"[":t=[]}break;case"null":case"boolean":case"numeric":case"string":t=F.value}if(void 0===j)j=t;else{var e=P[P.length-1];Array.isArray(e)?e.push(t):e[B]=t}if(null!==t&&"object"==typeof t)P.push(t),R=Array.isArray(t)?"beforeArrayValue":"beforePropertyName";else{var n=P[P.length-1];R=null==n?"end":Array.isArray(n)?"afterArrayValue":"afterPropertyValue"}}function st(){P.pop();var t=P[P.length-1];R=null==t?"end":Array.isArray(t)?"afterArrayValue":"afterPropertyValue"}function at(t){return ht(void 0===t?"JSON5: invalid end of input at "+N+":"+M:"JSON5: invalid character '"+ct(t)+"' at "+N+":"+M)}function ut(){return ht("JSON5: invalid end of input at "+N+":"+M)}function lt(){return ht("JSON5: invalid identifier character at "+N+":"+(M-=5))}function ct(t){var e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){var n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function ht(t){var e=new SyntaxError(t);return e.lineNumber=N,e.columnNumber=M,e}return{parse:function(t,e){T=String(t),R="start",P=[],L=0,N=1,M=0,F=void 0,B=void 0,j=void 0;do{F=K(),it[R]()}while("eof"!==F.type);return"function"==typeof e?X({"":j},"",e):j},stringify:function(t,e,n){var r,i,o,s=[],a="",u="";if(null==e||"object"!=typeof e||Array.isArray(e)||(n=e.space,o=e.quote,e=e.replacer),"function"==typeof e)i=e;else if(Array.isArray(e)){r=[];for(var l=0,c=e;l<c.length;l+=1){var h=c[l],f=void 0;"string"==typeof h?f=h:("number"==typeof h||h instanceof String||h instanceof Number)&&(f=String(h)),void 0!==f&&r.indexOf(f)<0&&r.push(f)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),u="          ".substr(0,n)):"string"==typeof n&&(u=n.substr(0,10)),function t(e,n){var o=n[e];switch(null!=o&&("function"==typeof o.toJSON5?o=o.toJSON5(e):"function"==typeof o.toJSON&&(o=o.toJSON(e))),i&&(o=i.call(n,e,o)),o instanceof Number?o=Number(o):o instanceof String?o=String(o):o instanceof Boolean&&(o=o.valueOf()),o){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof o?p(o):"number"==typeof o?String(o):"object"==typeof o?Array.isArray(o)?function(e){if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);var n=a;a+=u;for(var r,i=[],o=0;o<e.length;o++){var l=t(String(o),e);i.push(void 0!==l?l:"null")}if(0===i.length)r="[]";else if(""===u)r="["+i.join(",")+"]";else{var c=i.join(",\n"+a);r="[\n"+a+c+",\n"+n+"]"}return s.pop(),a=n,r}(o):function(e){if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);var n=a;a+=u;for(var i,o,l=[],c=0,h=r||Object.keys(e);c<h.length;c+=1){var f=h[c],p=t(f,e);if(void 0!==p){var m=d(f)+":";""!==u&&(m+=" "),l.push(m+=p)}}return 0===l.length?i="{}":""===u?i="{"+(o=l.join(","))+"}":(o=l.join(",\n"+a),i="{\n"+a+o+",\n"+n+"}"),s.pop(),a=n,i}(o):void 0}("",{"":t});function p(t){for(var e={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},r="",i=0;i<t.length;i++){var s=t[i];switch(s){case"'":case'"':e[s]++,r+=s;continue;case"\0":if(W(t[i+1])){r+="\\x00";continue}}if(n[s])r+=n[s];else if(s<" "){var a=s.charCodeAt(0).toString(16);r+="\\x"+("00"+a).substring(a.length)}else r+=s}var u=o||Object.keys(e).reduce(function(t,n){return e[t]<e[n]?t:n});return u+(r=r.replace(new RegExp(u,"g"),n[u]))+u}function d(t){if(0===t.length)return p(t);var e=String.fromCodePoint(t.codePointAt(0));if(!Y(e))return p(t);for(var n=e.length;n<t.length;n++)if(!Z(String.fromCodePoint(t.codePointAt(n))))return p(t);return t}}}}()},286:function(t,e,n){var r,i,o;i=[n(216)],void 0===(o="function"==typeof(r=function(t){"use strict";return t.TileLayer.Provider=t.TileLayer.extend({initialize:function(e,n){var r=t.TileLayer.Provider.providers,i=e.split("."),o=i[0],s=i[1];if(!r[o])throw"No such provider ("+o+")";var a={url:r[o].url,options:r[o].options};if(s&&"variants"in r[o]){if(!(s in r[o].variants))throw"No such variant of "+o+" ("+s+")";var u=r[o].variants[s];a={url:u.url||a.url,options:t.Util.extend({},a.options,"string"==typeof u?{variant:u}:u.options)}}var l=function(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/g,function(t,e){return l(r[e].options.attribution)})};a.options.attribution=l(a.options.attribution);var c=t.Util.extend({},a.options,n);t.TileLayer.prototype.initialize.call(this,a.url,c)}}),t.TileLayer.Provider.providers={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},variants:{Mapnik:{},DE:{url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18}},CH:{url:"https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",options:{maxZoom:18,bounds:[[45,5],[48,11]]}},France:{url:"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:"&copy; OpenStreetMap France | {attribution.OpenStreetMap}"}},HOT:{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'}},BZH:{url:"https://tile.openstreetmap.bzh/br/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://www.openstreetmap.bzh/" target="_blank">Breton OpenStreetMap Team</a>',bounds:[[46.2,-5.5],[50,.7]]}}}},OpenSeaMap:{url:"https://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},Stadia:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",options:{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'},variants:{AlidadeSmooth:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png"},AlidadeSmoothDark:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png"},OSMBright:{url:"https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png"},Outdoors:{url:"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png"}}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png?apikey={apikey}",options:{attribution:'&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',variant:"cycle",apikey:"<insert your api key here>",maxZoom:22},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport"}},TransportDark:{options:{variant:"transport-dark"}},SpinalMap:{options:{variant:"spinal-map"}},Landscape:"landscape",Outdoors:"outdoors",Pioneer:"pioneer",MobileAtlas:"mobile-atlas",Neighbourhood:"neighbourhood"}},CyclOSM:{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:20,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Jawg:{url:"https://{s}.tile.jawg.io/{variant}/{z}/{x}/{y}{r}.png?access-token={accessToken}",options:{attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> {attribution.OpenStreetMap}',minZoom:0,maxZoom:22,subdomains:"abcd",variant:"jawg-terrain",accessToken:"<insert your access token here>"},variants:{Streets:"jawg-streets",Terrain:"jawg-terrain",Sunny:"jawg-sunny",Dark:"jawg-dark",Light:"jawg-light",Matrix:"jawg-matrix"}},MapBox:{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",options:{attribution:'&copy; <a href="https://www.mapbox.com/about/maps/" target="_blank">Mapbox</a> {attribution.OpenStreetMap} <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:"<insert your access token here>"}},MapTiler:{url:"https://api.maptiler.com/maps/{variant}/{z}/{x}/{y}{r}.{ext}?key={key}",options:{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>',variant:"streets",ext:"png",key:"<insert your MapTiler Cloud API key here>",tileSize:512,zoomOffset:-1,minZoom:0,maxZoom:21},variants:{Streets:"streets",Basic:"basic",Bright:"bright",Pastel:"pastel",Positron:"positron",Hybrid:{options:{variant:"hybrid",ext:"jpg"}},Toner:"toner",Topo:"topo",Voyager:"voyager"}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}{r}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}},TopOSMRelief:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"toposm-color-relief",ext:"jpg",bounds:[[22,-132],[51,-56]]}},TopOSMFeatures:{options:{variant:"toposm-features",bounds:[[22,-132],[51,-56]],opacity:.9}}}},TomTom:{url:"https://{s}.api.tomtom.com/map/1/tile/{variant}/{style}/{z}/{x}/{y}.{ext}?key={apikey}",options:{variant:"basic",maxZoom:22,attribution:'<a href="https://tomtom.com" target="_blank">&copy;  1992 - '+(new Date).getFullYear()+" TomTom.</a> ",subdomains:"abcd",style:"main",ext:"png",apikey:"<insert your API key here>"},variants:{Basic:"basic",Hybrid:"hybrid",Labels:"labels"}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png?appid={apiKey}",options:{maxZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',apiKey:"<insert your api key here>",opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.api.here.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?app_id={app_id}&app_code={app_code}&lg={language}",options:{attribution:"Map &copy; 1987-"+(new Date).getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalDayTraffic:{options:{variant:"normal.traffic.day",base:"traffic",type:"traffictile"}},normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",normalNightTransit:"normal.night.transit",normalNightTransitMobile:"normal.night.transit.mobile",reducedDay:"reduced.day",reducedNight:"reduced.night",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},hybridDayTransit:{options:{base:"aerial",variant:"hybrid.day.transit"}},hybridDayGrey:{options:{base:"aerial",variant:"hybrid.grey.day"}},hybridDayTraffic:{options:{variant:"hybrid.traffic.day",base:"traffic",type:"traffictile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},HEREv3:{url:"https://{s}.{base}.maps.ls.hereapi.com/maptile/2.1/{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?apiKey={apiKey}&lg={language}",options:{attribution:"Map &copy; 1987-"+(new Date).getFullYear()+' <a href="http://developer.here.com">HERE</a>',subdomains:"1234",mapID:"newest",apiKey:"<insert your apiKey here>",base:"base",variant:"normal.day",maxZoom:20,type:"maptile",language:"eng",format:"png8",size:"256"},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",normalNightTransit:"normal.night.transit",normalNightTransitMobile:"normal.night.transit.mobile",reducedDay:"reduced.day",reducedNight:"reduced.night",basicMap:{options:{type:"basetile"}},mapLabels:{options:{type:"labeltile",format:"png"}},trafficFlow:{options:{base:"traffic",type:"flowtile"}},carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},hybridDayTransit:{options:{base:"aerial",variant:"hybrid.day.transit"}},hybridDayGrey:{options:{base:"aerial",variant:"hybrid.grey.day"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},FreeMapSK:{url:"https://{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,subdomains:"abcd",bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}{r}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels",Voyager:"rastertiles/voyager",VoyagerNoLabels:"rastertiles/voyager_nolabels",VoyagerOnlyLabels:"rastertiles/voyager_only_labels",VoyagerLabelsUnder:"rastertiles/voyager_labels_under"}},HikeBike:{url:"https://tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/{type}/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],type:"normal",format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:{options:{maxZoom:20,variant:"geolandbasemap"}},grau:"bmapgrau",overlay:"bmapoverlay",terrain:{options:{variant:"bmapgelaende",type:"grau",format:"jpeg"}},surface:{options:{variant:"bmapoberflaeche",type:"grau",format:"jpeg"}},highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{maxZoom:20,variant:"bmaporthofoto30cm",format:"jpeg"}}}},nlmaps:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts/{variant}/EPSG:3857/{z}/{x}/{y}.png",options:{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="kadaster.nl">Kadaster</a>'},variants:{standaard:"brtachtergrondkaart",pastel:"brtachtergrondkaartpastel",grijs:"brtachtergrondkaartgrijs",luchtfoto:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts/2018_ortho25/EPSG:3857/{z}/{x}/{y}.png"}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}",options:{attribution:'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{options:{variant:"VIIRS_CityLights_2012",maxZoom:8}},ModisTerraLSTDay:{options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,opacity:.75}},ModisTerraSnowCover:{options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,opacity:.75}},ModisTerraAOD:{options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,opacity:.75}},ModisTerraChlorophyll:{options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,subdomains:"0123"}},JusticeMap:{url:"http://www.justicemap.org/tile/{size}/{variant}/{z}/{x}/{y}.png",options:{attribution:'<a href="http://www.justicemap.org/terms.php">Justice Map</a>',size:"county",bounds:[[14,-180],[72,-56]]},variants:{income:"income",americanIndian:"indian",asian:"asian",black:"black",hispanic:"hispanic",multi:"multi",nonWhite:"nonwhite",white:"white",plurality:"plural"}},GeoportailFrance:{url:"https://wxs.ign.fr/{apikey}/geoportail/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&STYLE={style}&TILEMATRIXSET=PM&FORMAT={format}&LAYER={variant}&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}",options:{attribution:'<a target="_blank" href="https://www.geoportail.gouv.fr/">Geoportail France</a>',bounds:[[-75,-180],[81,180]],minZoom:2,maxZoom:18,apikey:"choisirgeoportail",format:"image/png",style:"normal",variant:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"},variants:{plan:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",parcels:{options:{variant:"CADASTRALPARCELS.PARCELLAIRE_EXPRESS",style:"PCI vecteur",maxZoom:20}},orthos:{options:{maxZoom:19,format:"image/jpeg",variant:"ORTHOIMAGERY.ORTHOPHOTOS"}}}},OneMapSG:{url:"https://maps-{s}.onemap.sg/v3/{variant}/{z}/{x}/{y}.png",options:{variant:"Default",minZoom:11,maxZoom:18,bounds:[[1.56073,104.11475],[1.16,103.502]],attribution:'<img src="https://docs.onemap.sg/maps/images/oneMap64-01.png" style="height:20px;width:20px;"/> New OneMap | Map data &copy; contributors, <a href="http://SLA.gov.sg">Singapore Land Authority</a>'},variants:{Default:"Default",Night:"Night",Original:"Original",Grey:"Grey",LandLot:"LandLot"}},USGS:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'},variants:{USTopo:{},USImagery:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}"},USImageryTopo:{url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}"}}},WaymarkedTrails:{url:"https://tile.waymarkedtrails.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://waymarkedtrails.org">waymarkedtrails.org</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},variants:{hiking:"hiking",cycling:"cycling",mtb:"mtb",slopes:"slopes",riding:"riding",skating:"skating"}},OpenAIP:{url:"http://{s}.tile.maps.openaip.net/geowebcache/service/tms/1.0.0/openaip_basemap@EPSG%3A900913@png/{z}/{x}/{y}.{ext}",options:{attribution:'<a href="https://www.openaip.net/">openAIP Data</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-NC-SA</a>)',ext:"png",minZoom:4,maxZoom:14,tms:!0,detectRetina:!0,subdomains:"12"}},OpenSnowMap:{url:"https://tiles.opensnowmap.org/{variant}/{z}/{x}/{y}.png",options:{minZoom:9,maxZoom:18,attribution:'Map data: {attribution.OpenStreetMap} & ODbL, &copy; <a href="https://www.opensnowmap.org/iframes/data.html">www.opensnowmap.org</a> <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'},variants:{pistes:"pistes"}}},t.tileLayer.provider=function(e,n){return new t.TileLayer.Provider(e,n)},t})?r.apply(e,i):r)||(t.exports=o)},216:function(t,e){!function(t){"use strict";function e(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function o(t){return t._leaflet_id=t._leaflet_id||++i,t._leaflet_id}function s(t,e,n){var r,i,o,s;return s=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(s,e),r=!0)}}function a(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function u(){return!1}function l(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return c(t).split(/\s+/)}function f(t,e){for(var r in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[r]=e[r];return t.options}function p(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var d=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(d,function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var x=window.requestAnimationFrame||v("RequestAnimationFrame")||w,E=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function C(t,e,n){if(!n||x!==w)return x.call(window,r(t,e));t.call(e)}function S(t){t&&E.call(window,t)}var D={extend:e,create:n,bind:r,lastId:i,stamp:o,throttle:s,wrapNum:a,falseFn:u,formatNum:l,trim:c,splitWords:h,setOptions:f,getParamString:p,template:m,isArray:g,indexOf:y,emptyImageUrl:_,requestFn:x,cancelFn:E,requestAnimFrame:C,cancelAnimFrame:S};function I(){}I.extend=function(t){var r=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=r.__super__=this.prototype,o=n(i);for(var s in o.constructor=r,r.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(r[s]=this[s]);return t.statics&&(e(r,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=e(n(o.options),t.options)),e(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},r},I.include=function(t){return e(this.prototype,t),this},I.mergeOptions=function(t){return e(this.prototype.options,t),this},I.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=h(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=h(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(this._events[t]=r=[]),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var s=r[i];if(s.ctx===n&&s.fn===e)return s.fn=u,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=u;delete this._events[t]}},fire:function(t,n,r){if(!this.listens(t,r))return this;var i=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var k=I.extend(A);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var T=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function R(t,e,n){return t instanceof O?t:g(t)?new O(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function P(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function N(t,e){return!t||t instanceof P?t:new P(t,e)}function M(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(t,e){return t instanceof M?t:new M(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof B?t:g(t)&&"object"!=typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=T(this.x),this.y=T(this.y),this},distanceTo:function(t){var e=(t=R(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=R(t)).x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},P.prototype={extend:function(t){return t=R(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new O(this.min.x,this.max.y)},getTopRight:function(){return new O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof O?R(t):N(t))instanceof P?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=N(t);var e=this.min,n=this.max,r=t.min,i=t.max;return i.x>=e.x&&r.x<=n.x&&i.y>=e.y&&r.y<=n.y},overlaps:function(t){t=N(t);var e=this.min,n=this.max,r=t.min,i=t.max;return i.x>e.x&&r.x<n.x&&i.y>e.y&&r.y<n.y},isValid:function(){return!(!this.min||!this.max)}},M.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof B)e=t,n=t;else{if(!(t instanceof M))return t?this.extend(j(t)||F(t)):this;if(n=t._northEast,!(e=t._southWest)||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new M(new B(e.lat-r,e.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof B||"lat"in t?j(t):F(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof M?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast();return i.lat>=e.lat&&r.lat<=n.lat&&i.lng>=e.lng&&r.lng<=n.lng},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast();return i.lat>e.lat&&r.lat<n.lat&&i.lng>e.lng&&r.lng<n.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return U.distance(this,j(t))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var z,V={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new P(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?a(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?a(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new M(new B(o.lat-r,o.lng-i),new B(s.lat-r,s.lng-i))}},U=e({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(r)*Math.cos(i)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),q=6378137,G={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new O(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(z=q*Math.PI,new P([-z,-z],[z,z]))};function H(t,e,n,r){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function Y(t,e,n,r){return new H(t,e,n,r)}H.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new O((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Z,W=e({},U,{code:"EPSG:3857",projection:G,transformation:(Z=.5/(Math.PI*G.R),Y(Z,.5,-Z,.5))}),$=e({},W,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){var n,r,i,o,s,a,u="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(s=t[n]).length;r<o;r++)u+=(r?"L":"M")+(a=s[r]).x+" "+a.y;u+=e?kt?"z":"x":""}return u||"M0 0"}var J=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Tt("webkit"),rt=Tt("android"),it=Tt("android 2")||Tt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=rt&&Tt("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,ut=!et&&Tt("chrome"),lt=Tt("gecko")&&!nt&&!at&&!Q,ct=!ut&&Tt("safari"),ht=Tt("phantom"),ft="OTransition"in J,pt=0===navigator.platform.indexOf("Win"),dt=Q&&"transition"in J,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,gt="MozPerspective"in J,yt=!window.L_DISABLE_3D&&(dt||mt||gt)&&!ft&&!ht,_t="undefined"!=typeof orientation||Tt("mobile"),vt=_t&&nt,bt=_t&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!wt),Et=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ct=_t&&at,St=_t&&lt,Dt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,It=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(n){}return t}(),At=!!document.createElement("canvas").getContext,kt=!(!document.createElementNS||!X("svg").createSVGRect),Ot=!kt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}();function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Rt={ie:Q,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:st,opera:at,chrome:ut,gecko:lt,safari:ct,phantom:ht,opera12:ft,win:pt,ie3d:dt,webkit3d:mt,gecko3d:gt,any3d:yt,mobile:_t,mobileWebkit:vt,mobileWebkit3d:bt,msPointer:wt,pointer:xt,touch:Et,mobileOpera:Ct,mobileGecko:St,retina:Dt,passiveEvents:It,canvas:At,svg:kt,vml:Ot},Pt=wt?"MSPointerDown":"pointerdown",Lt=wt?"MSPointerMove":"pointermove",Nt=wt?"MSPointerUp":"pointerup",Mt=wt?"MSPointerCancel":"pointercancel",Ft={},Bt=!1;function jt(t){Ft[t.pointerId]=t}function zt(t){Ft[t.pointerId]&&(Ft[t.pointerId]=t)}function Vt(t){delete Ft[t.pointerId]}function Ut(t,e){for(var n in t.touches=[],Ft)t.touches.push(Ft[n]);t.changedTouches=[t],e(t)}var qt,Gt,Ht,Yt,Zt,Wt=wt?"MSPointerDown":xt?"pointerdown":"touchstart",$t=wt?"MSPointerUp":xt?"pointerup":"touchend",Xt="_leaflet_",Kt=pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jt=pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qt="webkitTransition"===Jt||"OTransition"===Jt?Jt+"End":"transitionend";function te(t){return"string"==typeof t?document.getElementById(t):t}function ee(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function ne(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function re(t){var e=t.parentNode;e&&e.removeChild(t)}function ie(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function oe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function se(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ae(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=he(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ue(t,e){if(void 0!==t.classList)for(var n=h(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ae(t,e)){var o=he(t);ce(t,(o?o+" ":"")+e)}}function le(t,e){void 0!==t.classList?t.classList.remove(e):ce(t,c((" "+he(t)+" ").replace(" "+e+" "," ")))}function ce(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function he(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function fe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function pe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function de(t,e,n){var r=e||new O(0,0);t.style[Kt]=(dt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function me(t,e){t._leaflet_pos=e,yt?de(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ge(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)qt=function(){Se(window,"selectstart",Ne)},Gt=function(){Ie(window,"selectstart",Ne)};else{var ye=pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qt=function(){if(ye){var t=document.documentElement.style;Ht=t[ye],t[ye]="none"}},Gt=function(){ye&&(document.documentElement.style[ye]=Ht,Ht=void 0)}}function _e(){Se(window,"dragstart",Ne)}function ve(){Ie(window,"dragstart",Ne)}function be(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(we(),Yt=t,Zt=t.style.outline,t.style.outline="none",Se(window,"keydown",we))}function we(){Yt&&(Yt.style.outline=Zt,Yt=void 0,Zt=void 0,Ie(window,"keydown",we))}function xe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ee(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ce={TRANSFORM:Kt,TRANSITION:Jt,TRANSITION_END:Qt,get:te,getStyle:ee,create:ne,remove:re,empty:ie,toFront:oe,toBack:se,hasClass:ae,addClass:ue,removeClass:le,setClass:ce,getClass:he,setOpacity:fe,testProp:pe,setTransform:de,setPosition:me,getPosition:ge,disableTextSelection:qt,enableTextSelection:Gt,disableImageDrag:_e,enableImageDrag:ve,preventOutline:be,restoreOutline:we,getSizedParentNode:xe,getScale:Ee};function Se(t,e,n,r){if("object"==typeof e)for(var i in e)Oe(t,i,e[i],n);else for(var o=0,s=(e=h(e)).length;o<s;o++)Oe(t,e[o],n,r);return this}var De="_leaflet_events";function Ie(t,e,n,r){if("object"==typeof e)for(var i in e)Te(t,i,e[i],n);else if(e)for(var o=0,s=(e=h(e)).length;o<s;o++)Te(t,e[o],n,r);else{for(var a in t[De])Te(t,a,t[De][a]);delete t[De]}return this}function Ae(){if(xt)return!(et||ct)}var ke={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Oe(t,e,n,i){var s=e+o(n)+(i?"_"+o(i):"");if(t[De]&&t[De][s])return this;var a=function(e){return n.call(i||t,e||window.event)},u=a;xt&&0===e.indexOf("touch")?function(t,e,n,i){"touchstart"===e?function(t,e,n){var i=r(function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ne(t),Ut(t,e)});t["_leaflet_touchstart"+n]=i,t.addEventListener(Pt,i,!1),Bt||(document.addEventListener(Pt,jt,!0),document.addEventListener(Lt,zt,!0),document.addEventListener(Nt,Vt,!0),document.addEventListener(Mt,Vt,!0),Bt=!0)}(t,n,i):"touchmove"===e?function(t,e,n){var r=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ut(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(Lt,r,!1)}(t,n,i):"touchend"===e&&function(t,e,n){var r=function(t){Ut(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(Nt,r,!1),t.addEventListener(Mt,r,!1)}(t,n,i)}(t,e,a,s):Et&&"dblclick"===e&&!Ae()?function(t,e,n){var r,i,o=!1;function s(t){if(xt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(r||e);i=t.touches?t.touches[0]:t,o=n>0&&n<=250,r=e}function a(t){if(o&&!i.cancelBubble){if(xt){if("mouse"===t.pointerType)return;var n,s,a={};for(s in i)a[s]=(n=i[s])&&n.bind?n.bind(i):n;i=a}i.type="dblclick",i.button=0,e(i),r=null}}t[Xt+Wt+n]=s,t[Xt+$t+n]=a,t[Xt+"dblclick"+n]=e,t.addEventListener(Wt,s,!!It&&{passive:!1}),t.addEventListener($t,a,!!It&&{passive:!1}),t.addEventListener("dblclick",e,!1)}(t,a,s):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(ke[e]||e,a,!!It&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?t.addEventListener(ke[e],a=function(e){e=e||window.event,qe(t,e)&&u(e)},!1):t.addEventListener(e,u,!1):"attachEvent"in t&&t.attachEvent("on"+e,a),t[De]=t[De]||{},t[De][s]=a}function Te(t,e,n,r){var i=e+o(n)+(r?"_"+o(r):""),s=t[De]&&t[De][i];if(!s)return this;xt&&0===e.indexOf("touch")?function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Pt,r,!1):"touchmove"===e?t.removeEventListener(Lt,r,!1):"touchend"===e&&(t.removeEventListener(Nt,r,!1),t.removeEventListener(Mt,r,!1))}(t,e,i):Et&&"dblclick"===e&&!Ae()?function(t,e){var n=t[Xt+$t+e],r=t[Xt+"dblclick"+e];t.removeEventListener(Wt,t[Xt+Wt+e],!!It&&{passive:!1}),t.removeEventListener($t,n,!!It&&{passive:!1}),t.removeEventListener("dblclick",r,!1)}(t,i):"removeEventListener"in t?t.removeEventListener(ke[e]||e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[De][i]=null}function Re(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ue(t),this}function Pe(t){return Oe(t,"wheel",Re),this}function Le(t){return Se(t,"mousedown touchstart dblclick",Re),Oe(t,"click",Ve),this}function Ne(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Me(t){return Ne(t),Re(t),this}function Fe(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Ee(e),r=n.boundingClientRect;return new O((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Be=pt&&ut?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function je(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Be:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var ze={};function Ve(t){ze[t.type]=!0}function Ue(t){var e=ze[t.type];return ze[t.type]=!1,e}function qe(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var Ge={on:Se,off:Ie,stopPropagation:Re,disableScrollPropagation:Pe,disableClickPropagation:Le,preventDefault:Ne,stop:Me,getMousePosition:Fe,getWheelDelta:je,fakeStop:Ve,skipped:Ue,isExternalTarget:qe,addListener:Se,removeListener:Ie},He=k.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=ge(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),me(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=k.extend({options:{crs:W,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jt&&yt&&!Ct&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,Qt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(j(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=e({animate:r.animate},r.zoom),r.pan=e({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(yt?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(yt?this.options.zoomDelta:1)),e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof O?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(o));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var n=R(e.paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),i),a=this.project(t.getNorthEast(),i);return{center:this.unproject(s.add(a).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=R(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new He,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ue(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!yt)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),s=this._zoom;t=j(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),u=a*this.getZoomScale(s,e),l=i.distanceTo(r)||1,c=1.42,h=2.0164;function f(t){var e=(u*u-a*a+(t?-1:1)*h*h*l*l)/(2*(t?u:a)*h*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}var m=f(0);var g=Date.now(),y=(f(1)-m)/c,_=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),(function n(){var o=(Date.now()-g)/_,u=function(t){return 1-Math.pow(1-t,1.5)}(o)*y;o<=1?(this._flyToFrame=C(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(function(t){return a*(d(m)*(p(e=m+c*t)/d(e))-p(m))/h;var e}(u)/l)),s),this.getScaleZoom(a/function(t){return a*(d(m)/d(m+c*t))}(u),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}).call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=F(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=R((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.getCenter(),o=this.project(i),s=this.project(t),a=this.getPixelBounds(),u=a.getSize().divideBy(2),l=N([a.min.add(n),a.max.subtract(r)]);if(!l.contains(s)){this._enforcingBounds=!0;var c=o.subtract(s),h=R(s.x+c.x,s.y+c.y);(s.x<l.min.x||s.x>l.max.x)&&(h.x=o.x-c.x,c.x>0?h.x+=u.x-n.x:h.x-=u.x-r.x),(s.y<l.min.y||s.y>l.max.y)&&(h.y=o.y-c.y,c.y>0?h.y+=u.y-n.y:h.y-=u.y-r.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=n.divideBy(2).round(),s=i.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,i,t):navigator.geolocation.getCurrentPosition(n,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new B(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)re(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ne("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new M(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=N(this.project(a,r),this.project(s,r)).getSize(),c=yt?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,p=e?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(p,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new P(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs,r=n.zoom(t*n.scale(e=void 0===e?this._zoom:e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Fe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=te(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Se(e,"scroll",this._onScroll,this),this._containerId=o(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt,ue(t,"leaflet-container"+(Et?" leaflet-touch":"")+(Dt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ee(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ue(t.markerPane,"leaflet-zoom-hide"),ue(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){me(this._mapPane,new O(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[o(this._container)]=this;var e=t?Ie:Se;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),yt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[o(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(i&&!qe(s,t))break;if(r.push(n),i)break}if(s===this._container)break;s=s.parentNode}return r.length||a||i||!qe(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!Ue(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||be(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if("click"===t.type){var i=e({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,n))).length){var o=r[0];"contextmenu"===n&&o.listens(n,!0)&&Ne(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(n,s,!0),s.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ge(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return N([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new P(r.subtract(i),r.add(i)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(r.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new P(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=N(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new O(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=yt?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Kt,n=this._proxy.style[e];de(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();de(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(C(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),C(function(){this._moveEnd(!0)},this))}}),Ze=I.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ue(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),We=function(t){return new Ze(t)};Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ne("div",e+"control-container",this._container);function r(r,i){t[r+i]=ne("div",e+r+" "+e+i,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)re(this._controlCorners[t]);re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $e=Ze.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ze.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(o(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ne("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Le(e),Pe(e);var r=this._section=ne("section",t+"-list");n&&(this._map.on("click",this.collapse,this),rt||Se(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=ne("a",t+"-toggle",e);i.href="#",i.title="Layers",Et?(Se(i,"click",Me),Se(i,"click",this.expand,this)):Se(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ne("div",t+"-base",r),this._separator=ne("div",t+"-separator",r),this._overlaysList=ne("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&o(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ie(this._baseLayersList),ie(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)this._addItem(r=this._layers[n]),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&i>1)?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(o(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(e),e.layerId=o(t.layer),Se(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=this._getLayer((t=n[o]).layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=this._getLayer((t=n[i]).layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Xe=Ze.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ne("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=ne("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Le(o),Se(o,"click",Me),Se(o,"click",i,this),Se(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";le(this._zoomInButton,e),le(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ue(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ue(this._zoomInButton,e)}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xe,this.addControl(this.zoomControl))});var Ke=Ze.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ne("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ne("div",e,n)),t.imperial&&(this._iScale=ne("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(n=this._getRoundNum(e=i/5280),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Je=Ze.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ne("div","leaflet-control-attribution"),Le(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&(new Je).addTo(this)}),Ze.Layers=$e,Ze.Zoom=Xe,Ze.Scale=Ke,Ze.Attribution=Je,We.layers=function(t,e,n){return new $e(t,e,n)},We.zoom=function(t){return new Xe(t)},We.scale=function(t){return new Ke(t)},We.attribution=function(t){return new Je(t)};var Qe=I.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var tn,en={Events:A},nn=Et?"touchstart mousedown":"mousedown",rn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},on={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},sn=k.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){f(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Se(this._dragStartTarget,nn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sn._dragging===this&&this.finishDrag(),Ie(this._dragStartTarget,nn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ae(this._element,"leaflet-zoom-anim")&&!(sn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(sn._dragging=this,this._preventOutline&&be(this._element),_e(),qt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=xe(this._element);this._startPoint=new O(e.clientX,e.clientY),this._parentScale=Ee(n),Se(document,on[t.type],this._onMove,this),Se(document,rn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ne(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ge(this._element).subtract(n),ue(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,S(this._animRequest),this._lastEvent=t,this._animRequest=C(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in le(document.body,"leaflet-dragging"),this._lastTarget&&(le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),on)Ie(document,on[t],this._onMove,this),Ie(document,rn[t],this._onUp,this);ve(),Gt(),this._moved&&this._moving&&(S(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,sn._dragging=!1}});function an(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,ln(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)u=void 0,l=void 0,(u=(a=t[i]).x-(s=t[r]).x)*u+(l=a.y-s.y)*l>e&&(n.push(t[r]),i=r);var s,a,u,l;return i<o-1&&n.push(t[o-1]),n}(t,n),n)}function un(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function ln(t,e,n,r,i){var o,s,a,u=0;for(s=r+1;s<=i-1;s++)(a=pn(t[s],t[r],t[i],!0))>u&&(o=s,u=a);u>n&&(e[o]=1,ln(t,e,n,r,o),ln(t,e,n,o,i))}function cn(t,e,n,r,i){var o,s,a,u=r?tn:fn(t,n),l=fn(e,n);for(tn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=fn(s=hn(t,e,o=u||l,n,i),n),o===u?(t=s,u=a):(e=s,l=a)}}function hn(t,e,n,r,i){var o,s,a=e.x-t.x,u=e.y-t.y,l=r.min,c=r.max;return 8&n?(o=t.x+a*(c.y-t.y)/u,s=c.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=c.x,s=t.y+u*(c.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new O(o,s,i)}function fn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,r){var i,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&((i=((t.x-o)*a+(t.y-s)*u)/l)>1?(o=n.x,s=n.y):i>0&&(o+=a*i,s+=u*i)),a=t.x-o,u=t.y-s,r?a*a+u*u:new O(o,s)}function dn(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dn(t)}var gn={simplify:an,pointToSegmentDistance:un,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:cn,_getEdgeIntersection:hn,_getBitCode:fn,_sqClosestPointOnSegment:pn,isFlat:dn,_flat:mn};function yn(t,e,n){var r,i,o,s,a,u,l,c,h,f=[1,4,2,8];for(i=0,l=t.length;i<l;i++)t[i]._code=fn(t[i],e);for(s=0;s<4;s++){for(c=f[s],r=[],i=0,o=(l=t.length)-1;i<l;o=i++)u=t[o],(a=t[i])._code&c?u._code&c||((h=hn(u,a,c,e,n))._code=fn(h,e),r.push(h)):(u._code&c&&((h=hn(u,a,c,e,n))._code=fn(h,e),r.push(h)),r.push(a));t=r}return t}var _n={clipPolygon:yn},vn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new P([-180,-90],[180,90])},bn={R:6378137,R_MINOR:6356752.314245179,bounds:new P([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),s=o*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-s)/(1+s),o/2);return r=-n*Math.log(Math.max(a,1e-10)),new O(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),s=Math.exp(-t.y/r),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new B(a*n,t.x*n/r)}},wn={LonLat:vn,Mercator:bn,SphericalMercator:G},xn=e({},U,{code:"EPSG:3395",projection:bn,transformation:function(){var t=.5/(Math.PI*bn.R);return Y(t,.5,-t,.5)}()}),En=e({},U,{code:"EPSG:4326",projection:vn,transformation:Y(1/180,1,-1/180,.5)}),Cn=e({},V,{projection:vn,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=U,V.EPSG3395=xn,V.EPSG3857=W,V.EPSG900913=$,V.EPSG4326=En,V.Simple=Cn;var Sn=k.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[o(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[o(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=o(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=o(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&o(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[o(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=o(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Dn=Sn.extend({initialize:function(t,e){var n,r;if(f(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o(t)}}),In=Dn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Dn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Dn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new M;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),An=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Dt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),kn=An.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return kn.imagePath||(kn.imagePath=this._detectIconPath()),(this.options.imagePath||kn.imagePath)+An.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ne("div","leaflet-default-icon-path",document.body),e=ee(t,"background-image")||ee(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),On=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new sn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ue(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=ge(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=N(s.min._subtract(a).add(i),s.max._subtract(a).subtract(i));if(!u.contains(o)){var l=R((Math.max(u.max.x,o.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),me(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=C(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=ge(e._icon),i=e._map.layerPointToLatLng(r);n&&me(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Tn=Sn.extend({options:{icon:new kn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ue(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(ue(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&re(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),On)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new On(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&fe(this._icon,t),this._shadow&&fe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Rn=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Pn=Rn.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Rn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new P(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Ln=Pn.extend({initialize:function(t,n,r){if("number"==typeof n&&(n=e({},r,{radius:n})),f(this,n),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new M(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Rn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var i=Math.PI/180,o=this._mRadius/U.R/i,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(l*i))/(Math.cos(e*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-s.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Nn=Rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=pn,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){var h=o(t,e=u[l-1],n=u[l],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,r=0;t<u-1;t++)if((r+=n=(i=a[t]).distanceTo(o=a[t+1]))>e)return this._map.layerPointToLatLng([o.x-(s=(r-e)/n)*(o.x-i.x),o.y-s*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new M,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=dn(t),r=0,i=t.length;r<i;r++)n?(e[r]=j(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new O(t,t);this._pxBounds=new P([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var r,i,o=t.length;if(t[0]instanceof B){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,s,a,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(a=this._rings[e]).length;n<o-1;n++)(s=cn(a[n],a[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[r].push(s[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=an(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(s=(a=this._parts[n]).length)-1;r<s;i=r++)if((e||0!==r)&&un(t,a[i],a[r])<=u)return!0;return!1}});Nn._flat=mn;var Mn=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,s,a,u=this._rings[0],l=u.length;if(!l)return null;for(o=s=a=0,t=0,e=l-1;t<l;e=t++)s+=((n=u[t]).x+(r=u[e]).x)*(i=n.y*r.x-r.y*n.x),a+=(n.y+r.y)*i,o+=3*i;return this._map.layerPointToLatLng(0===o?u[0]:[s/o,a/o])},_convertLatLngs:function(t){var e=Nn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Nn.prototype._setLatLngs.call(this,t),dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new P(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=yn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,s=(u=(e=this._parts[i]).length)-1;o<u;s=o++)(n=e[o]).y>t.y!=(r=e[s]).y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||Nn.prototype._containsPoint.call(this,t,!0)}}),Fn=In.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=g(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Bn(t,o);return s?(s.feature=Hn(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Bn(t,e){var n,r,i,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||zn;if(!a&&!s)return null;switch(s.type){case"Point":return jn(l,t,n=c(a),e);case"MultiPoint":for(i=0,o=a.length;i<o;i++)n=c(a[i]),u.push(jn(l,t,n,e));return new In(u);case"LineString":case"MultiLineString":return r=Vn(a,"LineString"===s.type?0:1,c),new Nn(r,e);case"Polygon":case"MultiPolygon":return r=Vn(a,"Polygon"===s.type?1:2,c),new Mn(r,e);case"GeometryCollection":for(i=0,o=s.geometries.length;i<o;i++){var h=Bn({geometry:s.geometries[i],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new In(u);default:throw new Error("Invalid GeoJSON object.")}}function jn(t,e,n,r){return t?t(e,n):new Tn(n,r&&r.markersInheritOptions&&r)}function zn(t){return new B(t[1],t[0],t[2])}function Vn(t,e,n){for(var r,i=[],o=0,s=t.length;o<s;o++)r=e?Vn(t[o],e-1,n):(n||zn)(t[o]),i.push(r);return i}function Un(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function qn(t,e,n,r){for(var i=[],o=0,s=t.length;o<s;o++)i.push(e?qn(t[o],e-1,n,r):Un(t[o],r));return!e&&n&&i.push(i[0]),i}function Gn(t,n){return t.feature?e({},t.feature,{geometry:n}):Hn(n)}function Hn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Yn={toGeoJSON:function(t){return Gn(this,{type:"Point",coordinates:Un(this.getLatLng(),t)})}};function Zn(t,e){return new Fn(t,e)}Tn.include(Yn),Ln.include(Yn),Pn.include(Yn),Nn.include({toGeoJSON:function(t){var e=!dn(this._latlngs);return Gn(this,{type:(e?"Multi":"")+"LineString",coordinates:qn(this._latlngs,e?1:0,!1,t)})}}),Mn.include({toGeoJSON:function(t){var e=!dn(this._latlngs),n=e&&!dn(this._latlngs[0]),r=qn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Gn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Dn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Gn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer(function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=Hn(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?Gn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Wn=Zn,$n=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=F(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&oe(this._image),this},bringToBack:function(){return this._map&&se(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ne("img");ue(e,"leaflet-image-layer"),this._zoomAnimated&&ue(e,"leaflet-zoom-animated"),this.options.className&&ue(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;de(this._image,n,e)},_reset:function(){var t=this._image,e=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();me(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){fe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Xn=$n.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ne("video");if(ue(e,"leaflet-image-layer"),this._zoomAnimated&&ue(e,"leaflet-zoom-animated"),this.options.className&&ue(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var s=0;s<this._url.length;s++){var a=ne("source");a.src=this._url[s],e.appendChild(a)}}}}),Kn=$n.extend({_initImage:function(){var t=this._image=this._url;ue(t,"leaflet-image-layer"),this._zoomAnimated&&ue(t,"leaflet-zoom-animated"),this.options.className&&ue(t,this.options.className),t.onselectstart=u,t.onmousemove=u}}),Jn=Sn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&fe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&fe(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(fe(this._container,0),this._removeTimeout=setTimeout(r(re,void 0,this._container),200)):re(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oe(this._container),this},bringToBack:function(){return this._map&&se(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Sn||(n=e,e=t),e instanceof In)for(var r in t._layers){e=t._layers[r];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?me(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Qn=Jn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Jn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rn||this._source.on("preclick",Re))},onRemove:function(t){Jn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rn||this._source.off("preclick",Re))},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ne("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ne("div",t+"-content-wrapper",e);if(this._contentNode=ne("div",t+"-content",n),Le(e),Pe(this._contentNode),Se(e,"contextmenu",Re),this._tipContainer=ne("div",t+"-tip-container",e),this._tip=ne("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ne("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",Se(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=this.options.maxHeight,i="leaflet-popup-scrolled";r&&t.offsetHeight>r?(e.height=r+"px",ue(t,i)):le(t,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();me(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ee(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new O(this._containerLeft,-n-this._containerBottom);i._add(ge(this._container));var o=t.layerPointToContainerPoint(i),s=R(this.options.autoPanPadding),a=R(this.options.autoPanPaddingTopLeft||s),u=R(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;o.x+r+u.x>l.x&&(c=o.x+r-l.x+u.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Me(t)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,e,n){return t instanceof Qn||(t=new Qn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Sn.include({bindPopup:function(t,e){return t instanceof Qn?(f(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Qn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Me(t),e instanceof Rn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var tr=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Jn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Jn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return Et&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=ne("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),s=r.layerPointToContainerPoint(t),a=this.options.direction,u=i.offsetWidth,l=i.offsetHeight,c=R(this.options.offset),h=this._getAnchor();"top"===a?(e=u/2,n=l):"bottom"===a?(e=u/2,n=0):"center"===a?(e=u/2,n=l/2):"right"===a?(e=0,n=l/2):"left"===a?(e=u,n=l/2):s.x<o.x?(a="right",e=0,n=l/2):(a="left",e=u+2*(c.x+h.x),n=l/2),t=t.subtract(R(e,n,!0)).add(c).add(h),le(i,"leaflet-tooltip-right"),le(i,"leaflet-tooltip-left"),le(i,"leaflet-tooltip-top"),le(i,"leaflet-tooltip-bottom"),ue(i,"leaflet-tooltip-"+a),me(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&fe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ye.include({openTooltip:function(t,e,n){return t instanceof tr||(t=new tr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Sn.include({bindTooltip:function(t,e){return t instanceof tr?(f(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new tr(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Et&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ue(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(le(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){this._tooltip&&this._map&&this.openTooltip(t.layer||t.target,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var er=An.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ie(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});An.Default=kn;var nr=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_t,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),re(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){fe(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);fe(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(S(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(re(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)re(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new O(+i,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>r&&this._retainParent(i,o,s,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var s=new O(i,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i),r&&!(this.options.updateWhenZooming&&i!==this._tileZoom)||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();yt?de(t.el,i,r):me(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new P(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),s=[],a=this.options.keepBuffer,u=new P(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new O(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var p=new O(f,h);if(p.z=this._tileZoom,this._isValidTile(p)){var d=this._tiles[this._tileCoordsToKey(p)];d?d.current=!0:s.push(p)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new M(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(re(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ue(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,tt&&this.options.opacity<1&&fe(t,this.options.opacity),rt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&C(r(this._tileReady,this,t,null,o)),me(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(fe(n.el,0),S(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ue(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?a(t.x,this._wrapX):t.x,this._wrapY?a(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new P(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),rr=nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Dt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),rt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Se(n,"load",r(this._tileOnLoad,this,e,n)),Se(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var n={r:Dt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return m(this._url,e(n,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return this.options.zoomReverse&&(t=this.options.maxZoom-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=_,re(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",_),nr.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_))return nr.prototype._tileReady.call(this,t,e,n)}});function ir(t,e){return new rr(t,e)}var or=rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=e({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var o=(n=f(this,n)).detectRetina&&Dt?2:1,s=this.getTileSize();r.width=s.x*o,r.height=s.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,rr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=N(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,s=(this._wmsVersion>=1.3&&this._crs===En?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),a=rr.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});rr.WMS=or,ir.wms=function(t,e){return new or(t,e)};var sr=Sn.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=ge(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),a=i.multiplyBy(-n).add(r).add(i).subtract(s);yt?de(this._container,a,n):me(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new P(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ar=sr.extend({getEvents:function(){var t=sr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Se(t,"mousemove",this._onMouseMove,this),Se(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,re(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){sr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=Dt?2:1;me(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Dt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){sr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[o(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[o(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(r=0,i=s[n].length;r<i;r++)u[r?"lineTo":"moveTo"]((o=s[n][r]).x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(Ve(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(le(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ue(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ur(t){return At?new ar(t):null}var lr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),cr={_initContainer:function(){this._container=ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=lr("shape");ue(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=lr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;re(e),t.removeInteractiveTarget(e),delete this._layers[o(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=lr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,e.dashStyle=r.dashArray?g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):"",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=lr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){oe(t._container)},_bringToBack:function(t){se(t._container)}},hr=Ot?lr:X,fr=sr.extend({getEvents:function(){var t=sr.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=hr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){re(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){sr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),me(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=hr("path");t.options.className&&ue(e,t.options.className),t.options.interactive&&ue(e,"leaflet-interactive"),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){re(t._path),t.removeInteractiveTarget(t._path),delete this._layers[o(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){oe(t._path)},_bringToBack:function(t){se(t._path)}});function pr(t){return kt||Ot?new fr(t):null}Ot&&fr.include(cr),Ye.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ur(t)||pr(t)}});var dr=Mn.extend({initialize:function(t,e){Mn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});fr.create=hr,fr.pointsToPath=K,Fn.geometryToLayer=Bn,Fn.coordsToLatLng=zn,Fn.coordsToLatLngs=Vn,Fn.latLngToCoords=Un,Fn.latLngsToCoords=qn,Fn.getFeature=Gn,Fn.asFeature=Hn,Ye.mergeOptions({boxZoom:!0});var mr=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),qt(),_e(),this._startPoint=this._map.mouseEventToContainerPoint(t),Se(document,{contextmenu:Me,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ne("div","leaflet-zoom-box",this._container),ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new P(this._point,this._startPoint),n=e.getSize();me(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(re(this._box),le(this._container,"leaflet-crosshair")),Gt(),ve(),Ie(document,{contextmenu:Me,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new M(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ye.addInitHook("addHandler","boxZoom",mr),Ye.mergeOptions({doubleClickZoom:!0});var gr=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});Ye.addInitHook("addHandler","doubleClickZoom",gr),Ye.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yr=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new sn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){le(this._map._container,"leaflet-grab"),le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=N(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,s=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=n.easeLinearity,s=i.multiplyBy(o/((this._lastTime-this._times[0])/1e3)),a=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,a),l=s.multiplyBy(u/a),c=u/(n.inertiaDeceleration*o),h=l.multiplyBy(-c/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),C(function(){e.panBy(h,{duration:c,easeLinearity:o,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Ye.addInitHook("addHandler","dragging",yr),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _r=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Se(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=R(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Me(t)}}});Ye.addInitHook("addHandler","keyboard",_r),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vr=Qe.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=je(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Me(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,i=n?Math.ceil(r/n)*n:r,o=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});Ye.addInitHook("addHandler","scrollWheelZoom",vr),Ye.mergeOptions({tap:!0,tapTolerance:15});var br=Qe.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ne(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new O(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ue(n,"leaflet-active"),this._holdTimeout=setTimeout(r(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Se(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Ie(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&le(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!Et||xt&&!ct||Ye.addInitHook("addHandler","tap",br),Ye.mergeOptions({touchZoom:Et&&!it,bounceAtZoomLimits:!0});var wr=Qe.extend({addHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend",this._onTouchEnd,this),Ne(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(a,this,!0),Ne(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ye.addInitHook("addHandler","touchZoom",wr),Ye.BoxZoom=mr,Ye.DoubleClickZoom=gr,Ye.Drag=yr,Ye.Keyboard=_r,Ye.ScrollWheelZoom=vr,Ye.Tap=br,Ye.TouchZoom=wr,t.version="1.7.1",t.Control=Ze,t.control=We,t.Browser=Rt,t.Evented=k,t.Mixin=en,t.Util=D,t.Class=I,t.Handler=Qe,t.extend=e,t.bind=r,t.stamp=o,t.setOptions=f,t.DomEvent=Ge,t.DomUtil=Ce,t.PosAnimation=He,t.Draggable=sn,t.LineUtil=gn,t.PolyUtil=_n,t.Point=O,t.point=R,t.Bounds=P,t.bounds=N,t.Transformation=H,t.transformation=Y,t.Projection=wn,t.LatLng=B,t.latLng=j,t.LatLngBounds=M,t.latLngBounds=F,t.CRS=V,t.GeoJSON=Fn,t.geoJSON=Zn,t.geoJson=Wn,t.Layer=Sn,t.LayerGroup=Dn,t.layerGroup=function(t,e){return new Dn(t,e)},t.FeatureGroup=In,t.featureGroup=function(t,e){return new In(t,e)},t.ImageOverlay=$n,t.imageOverlay=function(t,e,n){return new $n(t,e,n)},t.VideoOverlay=Xn,t.videoOverlay=function(t,e,n){return new Xn(t,e,n)},t.SVGOverlay=Kn,t.svgOverlay=function(t,e,n){return new Kn(t,e,n)},t.DivOverlay=Jn,t.Popup=Qn,t.popup=function(t,e){return new Qn(t,e)},t.Tooltip=tr,t.tooltip=function(t,e){return new tr(t,e)},t.Icon=An,t.icon=function(t){return new An(t)},t.DivIcon=er,t.divIcon=function(t){return new er(t)},t.Marker=Tn,t.marker=function(t,e){return new Tn(t,e)},t.TileLayer=rr,t.tileLayer=ir,t.GridLayer=nr,t.gridLayer=function(t){return new nr(t)},t.SVG=fr,t.svg=pr,t.Renderer=sr,t.Canvas=ar,t.canvas=ur,t.Path=Rn,t.CircleMarker=Pn,t.circleMarker=function(t,e){return new Pn(t,e)},t.Circle=Ln,t.circle=function(t,e,n){return new Ln(t,e,n)},t.Polyline=Nn,t.polyline=function(t,e){return new Nn(t,e)},t.Polygon=Mn,t.polygon=function(t,e){return new Mn(t,e)},t.Rectangle=dr,t.rectangle=function(t,e){return new dr(t,e)},t.Map=Ye,t.map=function(t,e){return new Ye(t,e)};var xr=window.L;t.noConflict=function(){return window.L=xr,this},window.L=t}(e)},522:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){var t,e,n,r,i,o={},s={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function l(t,e){this._input=t,this._value=e}return(t=function(n){var r,i,s,a;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(u.zeroFormat&&n===u.zeroFormat)r=0;else if(u.nullFormat&&n===u.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((a="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&n.match(a)){s=o[i].unformat;break}r=(s=s||t._.stringToNumber)(n)}else r=Number(n)||null;return new l(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof l},t._=e={numberToFormat:function(e,n,r){var i,o,a,u,l,c,h,f,p=s[t.options.currentLocale],d=!1,m=!1,g="",y=1e12,_=1e9,v=1e6,b="",w=!1;if(e=e||0,o=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(l=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),o>=y&&!i||"t"===i?(g+=p.abbreviations.trillion,e/=y):o<y&&o>=_&&!i||"b"===i?(g+=p.abbreviations.billion,e/=_):o<_&&o>=v&&!i||"m"===i?(g+=p.abbreviations.million,e/=v):(o<v&&o>=1e3&&!i||"k"===i)&&(g+=p.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),a=e.toString().split(".")[0],u=n.split(".")[1],c=n.indexOf(","),f=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),b=t._.toFixed(e,u[0].length+u[1].length,r,u[1].length)):b=t._.toFixed(e,u.length,r),a=b.split(".")[0],b=t._.includes(b,".")?p.delimiters.decimal+b.split(".")[1]:"",m&&0===Number(b.slice(1))&&(b="")):a=t._.toFixed(e,0,r),g&&!i&&Number(a)>=1e3&&g!==p.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case p.abbreviations.thousand:g=p.abbreviations.million;break;case p.abbreviations.million:g=p.abbreviations.billion;break;case p.abbreviations.billion:g=p.abbreviations.trillion}if(t._.includes(a,"-")&&(a=a.slice(1),w=!0),a.length<f)for(var x=f-a.length;x>0;x--)a="0"+a;return c>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===n.indexOf(".")&&(a=""),h=a+b+(g||""),d?h=(d&&w?"(":"")+h+(d&&w?")":""):l>=0?h=0===l?(w?"-":"+")+h:h+(w?"-":"+"):w&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,i=s[u.currentLocale],o=t,a={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&t===u.zeroFormat)n=0;else if(u.nullFormat&&t===u.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,a[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,n){var r=e.multiplier(n);return t>r?t:r},1)},toFixed:function(t,e,n,r){var i,o,s,a,u=t.toString().split("."),l=e-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,l),e):l,s=Math.pow(10,i),a=(n(t+"e+"+i)/s).toFixed(i),r>e-i&&(o=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),a=a.replace(o,"")),a}},t.options=u,t.formats=o,t.locales=s,t.locale=function(t){return t&&(u.currentLocale=t.toLowerCase()),u.currentLocale},t.localeData=function(t){if(!t)return s[u.currentLocale];if(t=t.toLowerCase(),!s[t])throw new Error("Unknown locale : "+t);return s[t]},t.reset=function(){for(var t in a)u[t]=a[t]},t.zeroFormat=function(t){u.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){u.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){u.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,i,o,s,a,u,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=t.localeData(n)}catch(h){l=t.localeData(t.locale())}return o=l.currency.symbol,a=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,!(null!==(c=e.match(/^[^\d]+/))&&(e=e.substr(1),c[0]!==o)||null!==(c=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),c[0]!==a.thousand&&c[0]!==a.million&&c[0]!==a.billion&&c[0]!==a.trillion)||(u=new RegExp(i+"{2}"),e.match(/[^\d.,]/g)||(s=e.split(r)).length>2||(s.length<2?!s[0].match(/^\d+.*\d$/)||s[0].match(u):1===s[0].length?!s[0].match(/^\d+$/)||s[0].match(u)||!s[1].match(/^\d+$/):!s[0].match(/^\d+.*\d$/)||s[0].match(u)||!s[1].match(/^\d+$/))))},t.fn=l.prototype={clone:function(){return t(this)},format:function(e,n){var r,i,s,a=this._value,l=e||u.defaultFormat;if(n=n||Math.round,0===a&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===a&&null!==u.nullFormat)i=u.nullFormat;else{for(r in o)if(l.match(o[r].regexps.format)){s=o[r].format;break}i=(s=s||t._.numberToFormat)(a,l,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],function(t,e,r,i){return t+Math.round(n*e)},0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],function(t,e,r,i){return t-Math.round(n*e)},Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)*Math.round(n*o)/Math.round(o*o)},1),this},divide:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)/Math.round(n*o)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var i,o=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat((r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]}).suffixes.filter(function(t){return n.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(e,i,o){var s,a,u,l=t._.includes(i,"ib")?r:n,c=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=l.suffixes.length;s++)if(a=Math.pow(l.base,s),u=Math.pow(l.base,s+1),null===e||0===e||e>=a&&e<u){c+=l.suffixes[s],a>0&&(e/=a);break}return t._.numberToFormat(e,i,o)+c},unformat:function(e){var i,o,s=t._.stringToNumber(e);if(s){for(i=n.suffixes.length-1;i>=0;i--){if(t._.includes(e,n.suffixes[i])){o=Math.pow(n.base,i);break}if(t._.includes(e,r.suffixes[i])){o=Math.pow(r.base,i);break}}s*=o||1}return s}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var i,o,s=t.locales[t.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,r),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(a.before,"-")&&!t._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=t._.insert(i,s.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:t._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":t._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],function(e,n,r,i){var o=t._.correctionFactor(e,n);return e*o*(n*o)/(o*o)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var i=t.locales[t.options.currentLocale],o=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(e),t._.numberToFormat(e,n,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var i,o=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})?r.call(e,n,e,t):r)||(t.exports=i)},593:function(t,e){var n,r;void 0===(r="function"==typeof(n=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},o=0,s={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,r.worker&&s.WORKERS_SUPPORTED){var u=function(){if(!s.WORKERS_SUPPORTED)return!1;var n,r,a=(n=e.URL||e.webkitURL||null,r=t.toString(),s.BLOB_URL||(s.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(a);return u.onmessage=g,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var p=null;return"string"==typeof n?p=r.download?new l(r):new h(r):!0===n.readable&&w(n.read)&&w(n.on)?p=new f(r):(e.File&&n instanceof File||n instanceof Object)&&(p=new c(r)),p.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",a='"',u=a+a,l=!1,c=null;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||s.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+a)}}();var h=new RegExp(d(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return p(null,t,l);if("object"==typeof t[0])return p(c||f(t[0]),t,l)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:f(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),p(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function f(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function p(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&r){for(var l=0;l<t.length;l++)0<l&&(s+=i),s+=m(t[l],l);0<e.length&&(s+=o)}for(var c=0;c<e.length;c++){var h=a?t.length:e[c].length,f=!1,p=a?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!a&&(f="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&a){for(var d=[],g=0;g<h;g++)d.push(e[c][u?t[g]:g]);f=""===d.join("").trim()}if(!f){for(var y=0;y<h;y++)0<y&&!p&&(s+=i),s+=m(e[c][a&&u?t[y]:y],y);c<e.length-1&&(!n||0<h&&!p)&&(s+=o)}}return s}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var r=t.toString().replace(h,u);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,s.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?a+r+a:r}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=p,s.NetworkStreamer=l,s.FileStreamer=c,s.StringStreamer=h,s.ReadableStreamStreamer=f,e.jQuery){var a=e.jQuery;a.fn.parse=function(t){var n=t.config||{},r=[];return this.each(function(t){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:a.extend({},n)})}),i(),this;function i(){if(0!==r.length){var e,n,i,u=r[0];if(w(t.before)){var l=t.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return e=u.file,n=u.inputElem,i=l.reason,void(w(t.error)&&t.error({name:"AbortError"},e,n,i));if("skip"===l.action)return void o();"object"==typeof l.config&&(u.instanceConfig=a.extend(u.instanceConfig,l.config))}else if("skip"===l)return void o()}var c=u.instanceConfig.complete;u.instanceConfig.complete=function(t){w(c)&&c(t,u.file,u.inputElem),o()},s.parse(u.file,u.instanceConfig)}else w(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}).call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=a.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),a&&a.data&&(this._rowCount+=a.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:a,workerId:s.WORKER_ID,finished:l});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!l||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=b(this._chunkLoaded,this),e.onerror=b(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}this._config.chunkSize&&e.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){this._sendError(new Error(e.statusText||t))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),u.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=b(this._chunkLoaded,this),e.onerror=b(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){u.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=b(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=b(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=b(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=b(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(t){var e,n,r,i=Math.pow(2,53),o=-i,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,l=this,c=0,h=0,f=!1,p=!1,g=[],y={data:[],errors:[],meta:{}};if(w(t.step)){var _=t.step;t.step=function(e){if(y=e,E())x();else{if(x(),0===y.data.length)return;c+=e.data.length,t.preview&&c>t.preview?n.abort():(y.data=y.data[0],_(y,l))}}}function b(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function x(){if(y&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<y.data.length;e++)b(y.data[e])&&y.data.splice(e--,1);return E()&&function(){if(y)if(Array.isArray(y.data[0])){for(var e=0;E()&&e<y.data.length;e++)y.data[e].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(e){w(t.transformHeader)&&(e=t.transformHeader(e)),g.push(e)}}(),function(){if(!y||!t.header&&!t.dynamicTyping&&!t.transform)return y;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,s=e[r];t.header&&(o=r>=g.length?"__parsed_extra":g[r]),t.transform&&(s=t.transform(s,o)),s=C(o,s),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(s)):i[o]=s}return t.header&&(r>g.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,h+n):r<g.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,h+n)),i}var n=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(e),n=y.data.length):y.data=e(y.data,0),t.header&&y.meta&&(y.meta.fields=g),h+=n,y}()}function E(){return t.header&&0===g.length}function C(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(a.test(t)){var e=parseFloat(t);if(o<e&&e<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function S(t,e,n,r){var i={type:t,code:e,message:n};void 0!==r&&(i.row=r),y.errors.push(i)}this.parse=function(i,o,a){if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n");if(1===r.length||1<i.length&&i[0].length<r[0].length)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,t.quoteChar||'"')),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(i),y.meta.delimiter=t.delimiter);else{var u=function(e,n,r,i,o){var a,u,l,c;o=o||[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var h=0;h<o.length;h++){var f=o[h],p=0,d=0,g=0;l=void 0;for(var y=new m({comments:i,delimiter:f,newline:n,preview:10}).parse(e),_=0;_<y.data.length;_++)if(r&&b(y.data[_]))g++;else{var v=y.data[_].length;d+=v,void 0!==l?0<v&&(p+=Math.abs(v-l),l=v):l=v}0<y.data.length&&(d/=y.data.length-g),(void 0===u||p<=u)&&(void 0===c||c<d)&&1.99<d&&(u=p,a=f,c=d)}return{successful:!!(t.delimiter=a),bestDelimiter:a}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);u.successful?t.delimiter=u.bestDelimiter:(r=!0,t.delimiter=s.DefaultDelimiter),y.meta.delimiter=t.delimiter}var l=v(t);return t.preview&&t.header&&l.preview++,e=i,n=new m(l),y=n.parse(e,o,a),x(),f?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),e=w(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(f=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),y.meta.aborted=!0,w(t.complete)&&t.complete(y),e=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,a=t.preview,u=t.fastMode,l=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof n||-1<s.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<s.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,h=!1;this.parse=function(t,s,f){if("string"!=typeof t)throw new Error("Input must be a string");var p=t.length,m=n.length,g=r.length,y=i.length,_=w(o),v=[],b=[],x=[],E=c=0;if(!t)return F();if(u||!1!==u&&-1===t.indexOf(e)){for(var C=t.split(r),S=0;S<C.length;S++){if(c+=(x=C[S]).length,S!==C.length-1)c+=r.length;else if(f)return F();if(!i||x.substring(0,y)!==i){if(_){if(v=[],P(x.split(n)),B(),h)return F()}else P(x.split(n));if(a&&a<=S)return v=v.slice(0,a),F(!0)}}return F()}for(var D=t.indexOf(n,c),I=t.indexOf(r,c),A=new RegExp(d(l)+d(e),"g"),k=t.indexOf(e,c);;)if(t[c]!==e)if(i&&0===x.length&&t.substring(c,c+y)===i){if(-1===I)return F();I=t.indexOf(r,c=I+g),D=t.indexOf(n,c)}else{if(-1!==D&&(D<I||-1===I)){if(!(D<k)){x.push(t.substring(c,D)),D=t.indexOf(n,c=D+m);continue}var O=j(D,k,I);if(O&&void 0!==O.nextDelim){k=O.quoteSearch,x.push(t.substring(c,D=O.nextDelim)),D=t.indexOf(n,c=D+m);continue}}if(-1===I)break;if(x.push(t.substring(c,I)),M(I+g),_&&(B(),h))return F();if(a&&v.length>=a)return F(!0)}else for(k=c,c++;;){if(-1===(k=t.indexOf(e,k+1)))return f||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:c}),N();if(k===p-1)return N(t.substring(c,k).replace(A,e));if(e!==l||t[k+1]!==l){if(e===l||0===k||t[k-1]!==l){-1!==D&&D<k+1&&(D=t.indexOf(n,k+1)),-1!==I&&I<k+1&&(I=t.indexOf(r,k+1));var T=L(-1===I?D:Math.min(D,I));if(t[k+1+T]===n){x.push(t.substring(c,k).replace(A,e)),t[c=k+1+T+m]!==e&&(k=t.indexOf(e,c)),D=t.indexOf(n,c),I=t.indexOf(r,c);break}var R=L(I);if(t.substring(k+1+R,k+1+R+g)===r){if(x.push(t.substring(c,k).replace(A,e)),M(k+1+R+g),D=t.indexOf(n,c),k=t.indexOf(e,c),_&&(B(),h))return F();if(a&&v.length>=a)return F(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:c}),k++}}else k++}return N();function P(t){v.push(t),E=c}function L(e){var n=0;if(-1!==e){var r=t.substring(k+1,e);r&&""===r.trim()&&(n=r.length)}return n}function N(e){return f||(void 0===e&&(e=t.substring(c)),x.push(e),c=p,P(x),_&&B()),F()}function M(e){c=e,P(x),x=[],I=t.indexOf(r,c)}function F(t){return{data:v,errors:b,meta:{delimiter:n,linebreak:r,aborted:h,truncated:!!t,cursor:E+(s||0)}}}function B(){o(F()),v=[],b=[]}function j(r,i,o){var s={nextDelim:void 0,quoteSearch:void 0},a=t.indexOf(e,i+1);if(i<r&&r<a&&(a<o||-1===o)){var u=t.indexOf(n,a);if(-1===u)return s;a<u&&(a=t.indexOf(e,a+1)),s=j(u,a,o)}else s={nextDelim:r,quoteSearch:i};return s}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function g(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(w(n.userStep)){for(var s=0;s<e.results.data.length&&(n.userStep({data:e.results.data[s],errors:e.results.errors,meta:e.results.meta},o),!r);s++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&y(e.workerId,e.results)}function y(t,e){var n=i[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function _(){throw new Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=v(t[n]);return e}function b(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&e.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(h.prototype=Object.create(h.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,s})?n.apply(e,[]):n)||(t.exports=r)},71:(t,e,n)=>{"use strict";var r,i=(r=n(36))&&r.__esModule?r:{default:r};e.ZP=function(t,e){return(new i.default).t(t,e)}},36:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(132),s=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.t=function(t,n){if(e.input=t,e.schemaCheck=null,n)if("string"==typeof n)e.input=(0,o.getNestedObject)(e.input,n);else{var r=(0,o.convertSchemaAndGetMatch)(e.input,n);-1===r?(e.schemaCheck=!1,e.input=t):(e.schemaCheck=!0,e.input=r)}return e}}return i(t,[{key:"isValid",get:function(){return null!==this.schemaCheck&&!0===this.schemaCheck&&null!=this.input}},{key:"isDefined",get:function(){return void 0!==this.input}},{key:"isUndefined",get:function(){return void 0===this.input}},{key:"isNull",get:function(){return null===this.input&&"object"===r(this.input)}},{key:"isNullOrUndefined",get:function(){return!(!this.isNull&&!this.isUndefined)}},{key:"isBoolean",get:function(){return r(this.input)===r(!0)}},{key:"isTrue",get:function(){return!0===this.input}},{key:"isFalse",get:function(){return!1===this.input}},{key:"isTruthy",get:function(){return!!this.input}},{key:"isFalsy",get:function(){return!this.input}},{key:"isObject",get:function(){return"object"===r(this.input)&&this.input===Object(this.input)&&"[object Array]"!==Object.prototype.toString.call(this.input)&&"[object Date]"!==Object.prototype.toString.call(this.input)}},{key:"isEmptyObject",get:function(){return!(!this.isObject||0!==Object.keys(this.input).length)}},{key:"isString",get:function(){return"string"==typeof this.input}},{key:"isEmptyString",get:function(){return!(!this.isString||0!==this.input.length)}},{key:"isNumber",get:function(){return!!Number.isFinite(this.input)}},{key:"isArray",get:function(){return!!Array.isArray(this.input)}},{key:"isEmptyArray",get:function(){return!(!this.isArray||0!==this.input.length)}},{key:"isFunction",get:function(){return"function"==typeof this.input}},{key:"isDate",get:function(){return this.input instanceof Date||"[object Date]"===Object.prototype.toString.call(this.input)}},{key:"isSymbol",get:function(){return"symbol"===r(this.input)||"object"===r(this.input)&&"[object Symbol]"===Object.prototype.toString.call(this.input)}},{key:"safeObject",get:function(){return this.input}},{key:"safeObjectOrEmpty",get:function(){return this.input?this.input:{}}},{key:"safeString",get:function(){return this.isString?this.input:""}},{key:"safeNumber",get:function(){return this.isNumber?this.input:0}},{key:"safeBoolean",get:function(){return!!this.isBoolean&&this.input}},{key:"safeFunction",get:function(){return this.isFunction?this.input:function(){}}},{key:"safeArray",get:function(){return this.isArray?this.input:this.isNullOrUndefined?[]:[this.input]}}]),t}();s.Schema={Number:1,String:"typy",Boolean:!0,Null:null,Undefined:void 0,Array:[],Function:function(){},Date:new Date,Symbol:Symbol("")},e.default=s,t.exports=e.default},132:t=>{"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){if("[object Array]"===Object.prototype.toString.call(t))t.forEach(function(t){return n(t)});else{if("[object Object]"!==Object.prototype.toString.call(t))return void 0===t?"undefined":e(t);Object.keys(t).forEach(function(e){return n(t[e])})}return t},r=function(t,n){var i=!1;if("[object Array]"===Object.prototype.toString.call(t)){if(!n.length)return!0;for(var o=0;o<t.length;o+=1){if(!r(t[o],n[o])){i=!1;break}i=!0}}else{if("[object Object]"!==Object.prototype.toString.call(t))return(void 0===n?"undefined":e(n))===(void 0===t?"undefined":e(t));for(var s in t){if(!r(t[s],n[s])){i=!1;break}i=!0}}return i};t.exports={getNestedObject:function(t,e){if(void 0===e||"string"==typeof e)return void 0!==t&&"string"==typeof e&&(t=e.split(/[.\[\]'"]/g).filter(function(t){return""!==t}).reduce(function(t,e){return t&&"undefined"!==t[e]?t[e]:void 0},t)),t},buildSchema:n,getSchemaMatch:r,convertSchemaAndGetMatch:function(t,e){var i=n(e);return r(t,i)?t:-1}}},807:t=>{t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},819:(t,e,n)=>{"use strict";var r=n(163),i=n(807),o={nul:0,control:0};function s(t,e){if("string"!=typeof t)return a(t,e);for(var n=0,r=0;r<t.length;r++){var i=a(t.charCodeAt(r),e);if(i<0)return-1;n+=i}return n}function a(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,n=0,r=i.length-1;if(t<i[0][0]||t>i[r][1])return!1;for(;r>=n;)if(e=Math.floor((n+r)/2),t>i[e][1])n=e+1;else{if(!(t<i[e][0]))return!0;r=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}t.exports=function(t){return s(t,o)},t.exports.config=function(t){return t=r(t||{},o),function(e){return s(e,t)}}},211:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function l(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(r(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof c?f(s.errors):[s]}}if(u(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(l(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof c?t=t.concat(f(s.errors)):t.push(s)}}}if(t)throw new c(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const t=e;e=new h,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof h){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function f(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}h.EMPTY=function(t){return t.closed=!0,t}(new h);const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class d extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof d?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new d(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends d{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof d)return t;if(t[p])return t[p]()}return t||e||n?new d(t,e,n):new d(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof d?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends d{constructor(t){super(t),this.destination=t}}let E=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends E{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}function D(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new I(t,e))}}class I{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new A(t,this.project,this.thisArg))}}class A extends d{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const k=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},O="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",T=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[g])return n=t,t=>{const e=n[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(T(t))return k(t);if(R(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function L(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function N(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(T(t))return L(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(P(t))}class M extends d{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class F extends d{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function B(t,e){if(e.closed)return;if(t instanceof _)return t.subscribe(e);let n;try{n=P(t)(e)}catch(r){e.error(r)}return n}function j(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(j((n,r)=>N(t(n,r)).pipe(D((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new M(this),n=this.destination;n.add(e);const r=B(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function U(t=Number.POSITIVE_INFINITY){return j(y,t)}function q(t,e){return e?L(t,e):new _(k(t))}function G(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:U(e)(q(t,n))}function H(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends d{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class W extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new X(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return H()(this)}}const $=(()=>{const t=W.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class X extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function K(){return new E}function J(){return t=>{return H()((e=K,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,$);return r.source=t,r.subjectFactory=n,r})(t));var e}}function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("Could not find renamed property on target object.")}function tt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rt=Q({__forward_ref__:Q});function it(t){return t.__forward_ref__=it,t.toString=function(){return et(this())},t}function ot(t){return st(t)?t():t}function st(t){return"function"==typeof t&&t.hasOwnProperty(rt)&&t.__forward_ref__===it}class at extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ut(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ut(t)}function ct(t,e){const n=e?` in ${e}`:"";throw new at("201",`No provider for ${lt(t)} found${n}`)}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function pt(t){return dt(t,gt)||dt(t,_t)}function dt(t,e){return t.hasOwnProperty(e)?t[e]:null}function mt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(vt))?t[yt]:null}const gt=Q({"\u0275prov":Q}),yt=Q({"\u0275inj":Q}),_t=Q({ngInjectableDef:Q}),vt=Q({ngInjectorDef:Q});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let wt;function xt(t){const e=wt;return wt=t,e}function Et(t,e,n){const r=pt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&bt.Optional?null:void 0!==e?e:void ct(et(t),"Injector")}function Ct(t){return{toString:t}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),Dt=(()=>((Dt=Dt||{})[Dt.Emulated=0]="Emulated",Dt[Dt.None=2]="None",Dt[Dt.ShadowDom=3]="ShadowDom",Dt))();const It="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,Tt=It||Ot||At||kt,Rt={},Pt=[],Lt=Q({"\u0275cmp":Q}),Nt=Q({"\u0275dir":Q}),Mt=Q({"\u0275pipe":Q}),Ft=Q({"\u0275mod":Q}),Bt=Q({"\u0275loc":Q}),jt=Q({"\u0275fac":Q}),zt=Q({__NG_ELEMENT_ID__:Q});let Vt=0;function Ut(t){return Ct(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Dt.Emulated,id:"c",styles:t.styles||Pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Vt++,n.inputs=Zt(t.inputs,e),n.outputs=Zt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(qt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Gt):null,n})}function qt(t){return $t(t)||function(t){return t[Nt]||null}(t)}function Gt(t){return function(t){return t[Mt]||null}(t)}const Ht={};function Yt(t){return Ct(()=>{const e={type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ht[t.id]=t.type),e})}function Zt(t,e){if(null==t)return Rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Wt=Ut;function $t(t){return t[Lt]||null}function Xt(t,e){const n=t[Ft]||null;if(!n&&!0===e)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}const Kt=20,Jt=10;function Qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function te(t){return Array.isArray(t)&&!0===t[1]}function ee(t){return 0!=(8&t.flags)}function ne(t){return 2==(2&t.flags)}function re(t){return 1==(1&t.flags)}function ie(t){return null!==t.template}function oe(t,e){return t.hasOwnProperty(jt)?t[jt]:null}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return ue}function ue(t){return t.type.prototype.ngOnChanges&&(t.setInput=ce),le}function le(){const t=he(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,r){const i=he(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Rt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new se(u&&u.currentValue,e,s===Rt),t[r]=e}function he(t){return t.__ngSimpleChanges__||null}ae.ngInherit=!0;const fe="http://www.w3.org/2000/svg";let pe;function de(t){return!!t.listen}const me={createRenderer:(t,e)=>void 0!==pe?pe:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function ye(t,e){return ge(e[t])}function _e(t,e){return ge(e[t.index])}function ve(t,e){return t.data[e]}function be(t,e){const n=e[t];return Qt(n)?n:n[0]}function we(t){return 4==(4&t[2])}function xe(t){return 128==(128&t[2])}function Ee(t,e){return null==e?null:t[e]}function Ce(t){t[18]=0}function Se(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const De={lFrame:We(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ie(){return De.bindingsEnabled}function Ae(){return De.lFrame.lView}function ke(){return De.lFrame.tView}function Oe(t){return De.lFrame.contextLView=t,t[8]}function Te(){let t=Re();for(;null!==t&&64===t.type;)t=t.parent;return t}function Re(){return De.lFrame.currentTNode}function Pe(t,e){const n=De.lFrame;n.currentTNode=t,n.isParent=e}function Le(){return De.lFrame.isParent}function Ne(){De.lFrame.isParent=!1}function Me(){return De.isInCheckNoChangesMode}function Fe(t){De.isInCheckNoChangesMode=t}function Be(){return De.lFrame.bindingIndex++}function je(t){const e=De.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ze(t,e){const n=De.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ve(e)}function Ve(t){De.lFrame.currentDirectiveIndex=t}function Ue(){return De.lFrame.currentQueryIndex}function qe(t){De.lFrame.currentQueryIndex=t}function Ge(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function He(t,e,n){if(n&bt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&bt.Host||(r=Ge(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=De.lFrame=Ze();return r.currentTNode=e,r.lView=t,!0}function Ye(t){const e=Ze(),n=t[1];De.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ze(){const t=De.lFrame,e=null===t?null:t.child;return null===e?We(t):e}function We(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $e(){const t=De.lFrame;return De.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=$e;function Ke(){const t=$e();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Je(){return De.lFrame.selectedIndex}function Qe(t){De.lFrame.selectedIndex=t}function tn(){const t=De.lFrame;return ve(t.tView,t.selectedIndex)}function en(){De.lFrame.currentNamespace=fe}function nn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function rn(t,e,n){an(t,e,3,n)}function on(t,e,n,r){(3&t[2])===n&&an(t,e,n,r)}function sn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function an(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(un(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function un(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ln=-1;class cn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function hn(t,e,n){const r=de(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];pn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function fn(t){return 3===t||4===t||6===t}function pn(t){return 64===t.charCodeAt(0)}function dn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||mn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function mn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function gn(t){return t!==ln}function yn(t){return 32767&t}function _n(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let vn=!0;function bn(t){const e=vn;return vn=t,e}let wn=0;function xn(t,e){const n=Cn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,En(r.data,t),En(e,null),En(r.blueprint,null));const i=Sn(t,e),o=t.injectorIndex;if(gn(i)){const t=yn(i),n=_n(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function En(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Sn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ln;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ln}function Dn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(zt)&&(r=n[zt]),null==r&&(r=n[zt]=wn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function In(t,e,n){if(n&bt.Optional)return t;ct(e,"NodeInjector")}function An(t,e,n,r){if(n&bt.Optional&&void 0===r&&(r=null),0==(n&(bt.Self|bt.Host))){const i=t[9],o=xt(void 0);try{return i?i.get(e,r,n&bt.Optional):Et(e,r,n&bt.Optional)}finally{xt(o)}}return In(r,e,n)}function kn(t,e,n,r=bt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(zt)?t[zt]:void 0;return"number"==typeof e?e>=0?255&e:Tn:e}(n);if("function"==typeof o){if(!He(e,t,r))return r&bt.Host?In(i,n,r):An(e,n,r,i);try{const t=o(r);if(null!=t||r&bt.Optional)return t;ct(n)}finally{Xe()}}else if("number"==typeof o){let i=null,s=Cn(t,e),a=ln,u=r&bt.Host?e[16][6]:null;for((-1===s||r&bt.SkipSelf)&&(a=-1===s?Sn(t,e):e[s+8],a!==ln&&Mn(r,!1)?(i=e[1],s=yn(a),e=_n(a,e)):s=-1);-1!==s;){const t=e[1];if(Nn(o,s,t.data)){const t=Rn(s,e,n,i,r,u);if(t!==On)return t}a=e[s+8],a!==ln&&Mn(r,e[1].data[s+8]===u)&&Nn(o,s,e)?(i=t,s=yn(a),e=_n(a,e)):s=-1}}}return An(e,n,r,i)}const On={};function Tn(){return new Fn(Te(),Ae())}function Rn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Pn(a,s,n,null==r?ne(a)&&vn:r!=s&&0!=(3&a.type),i&bt.Host&&o===a);return null!==u?Ln(e,s,u,a):On}function Pn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,c=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<c;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ie(t)&&t.type===n)return u}return null}function Ln(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof cn){const s=i;s.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(lt(o[n]));const a=bn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?xt(s.injectImpl):null;He(t,r,bt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ue(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&xt(u),bn(a),s.resolving=!1,Xe()}}return i}function Nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Mn(t,e){return!(t&bt.Self||t&bt.Host&&e)}class Fn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return kn(this._tNode,this._lView,t,void 0,e)}}function Bn(t){return Ct(()=>{const e=t.prototype.constructor,n=e[jt]||jn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[jt]||jn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function jn(t){return st(t)?()=>{const e=jn(ot(t));return e&&e()}:oe(t)}function zn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(fn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Te(),t)}const Vn="__parameters__",Un="__prop__metadata__";function qn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function Gn(t,e,n){return Ct(()=>{const r=qn(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Vn)?t[Vn]:Object.defineProperty(t,Vn,{value:[]})[Vn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Hn(t,e,n,r){return Ct(()=>{const i=qn(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(Un)?o[Un]:Object.defineProperty(o,Un,{value:{}})[Un];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class Yn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zn=new Yn("AnalyzeForEntryComponents"),Wn=Function;function $n(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),$n(r,e)):e!==t&&e.push(r)}return e}function Xn(t,e){t.forEach(t=>Array.isArray(t)?Xn(t,e):e(t))}function Kn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function tr(t,e,n){let r=nr(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function er(t,e){const n=nr(t,e);if(n>=0)return t[1|n]}function nr(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const rr={},ir=/\n/gm,or="__source",sr=Q({provide:String,useValue:Q});let ar;function ur(t){const e=ar;return ar=t,e}function lr(t,e=bt.Default){if(void 0===ar)throw new Error("inject() must be called from an injection context");return null===ar?Et(t,void 0,e):ar.get(t,e&bt.Optional?null:void 0,e)}function cr(t,e=bt.Default){return(wt||lr)(ot(t),e)}const hr=cr;function fr(t){const e=[];for(let n=0;n<t.length;n++){const r=ot(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=bt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(cr(t,n))}else e.push(cr(r))}return e}function pr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const dr=pr(Gn("Inject",t=>({token:t})),-1),mr=pr(Gn("Optional"),8),gr=pr(Gn("SkipSelf"),4);let yr;function _r(t){var e;return(null===(e=function(){if(void 0===yr&&(yr=null,Tt.trustedTypes))try{yr=Tt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yr}())||void 0===e?void 0:e.createHTML(t))||t}class vr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class br extends vr{getTypeName(){return"HTML"}}class wr extends vr{getTypeName(){return"Style"}}class xr extends vr{getTypeName(){return"Script"}}class Er extends vr{getTypeName(){return"URL"}}class Cr extends vr{getTypeName(){return"ResourceURL"}}function Sr(t){return t instanceof vr?t.changingThisBreaksApplicationSecurity:t}function Dr(t,e){const n=Ir(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ir(t){return t instanceof vr&&t.getTypeName()||null}class Ar{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_r(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class kr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_r(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=_r(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rr(t){return(t=String(t)).match(Or)||t.match(Tr)?t:"unsafe:"+t}function Pr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Lr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Nr=Pr("area,br,col,hr,img,wbr"),Mr=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fr=Pr("rp,rt"),Br=Lr(Fr,Mr),jr=Lr(Nr,Lr(Mr,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lr(Fr,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Br),zr=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vr=Pr("srcset"),Ur=Lr(zr,Vr,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qr=Pr("script,style,template");class Gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!jr.hasOwnProperty(e))return this.sanitizedSomething=!0,!qr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Ur.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;zr[o]&&(s=Rr(s)),Vr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Rr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Zr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();jr.hasOwnProperty(e)&&!Nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Zr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yr=/([^\#-~ |!])/g;function Zr(t){return t.replace(/&/g,"&amp;").replace(Hr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Yr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wr;function $r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Xr=(()=>((Xr=Xr||{})[Xr.NONE=0]="NONE",Xr[Xr.HTML=1]="HTML",Xr[Xr.STYLE=2]="STYLE",Xr[Xr.SCRIPT=3]="SCRIPT",Xr[Xr.URL=4]="URL",Xr[Xr.RESOURCE_URL=5]="RESOURCE_URL",Xr))();function Kr(t,e){t.__ngContext__=e}function Jr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Qr(t){return t.ngOriginalError}function ti(t,...e){t.error(...e)}class ei{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ti}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(Qr(t)):null}_findOriginalError(t){let e=Qr(t);for(;e&&Qr(e);)e=Qr(e);return e}}const ni=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function ri(t){return t.ownerDocument.defaultView}function ii(t){return t instanceof Function?t():t}var oi=(()=>((oi=oi||{})[oi.Important=1]="Important",oi[oi.DashCase=2]="DashCase",oi))();function si(t,e){return(void 0)(t,e)}function ai(t){const e=t[3];return te(e)?e[3]:e}function ui(t){return ci(t[13])}function li(t){return ci(t[4])}function ci(t){for(;null!==t&&!te(t);)t=t[4];return t}function hi(t,e,n,r,i){if(null!=r){let o,s=!1;te(r)?o=r:Qt(r)&&(s=!0,r=r[0]);const a=ge(r);0===t&&null!==n?null==i?vi(e,n,a):_i(e,n,a,i||null,!0):1===t&&null!==n?_i(e,n,a,i||null,!0):2===t?function(t,e,n){const r=wi(t,e);r&&function(t,e,n,r){de(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ge(n)&&hi(e,t,r,o,i);for(let s=Jt;s<n.length;s++){const i=n[s];ki(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function fi(t,e,n){return de(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function pi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Se(i,-1)),n.splice(r,1)}function di(t,e){if(t.length<=Jt)return;const n=Jt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&pi(o,r),e>0&&(t[n-1][4]=r[4]);const s=Jn(t,Jt+e);ki(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function mi(t,e){if(!(256&e[2])){const n=e[11];de(n)&&n.destroyNode&&ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return gi(t[1],t);for(;e;){let n=null;if(Qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Qt(e)&&gi(e[1],e),e=e[3];null===e&&(e=t),Qt(e)&&gi(e[1],e),n=e&&e[4]}e=n}}(e)}}function gi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof cn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ge(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&de(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&te(e[3])){n!==e[3]&&pi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function yi(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Dt.None||e===Dt.Emulated)return null}return _e(r,n)}(t,e.parent,n)}function _i(t,e,n,r,i){de(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function vi(t,e,n){de(t)?t.appendChild(e,n):e.appendChild(n)}function bi(t,e,n,r,i){null!==r?_i(t,e,n,r,i):vi(t,e,n)}function wi(t,e){return de(t)?t.parentNode(e):e.parentNode}function xi(t,e,n){return Ei(t,e,n)}let Ei=function(t,e,n){return 40&t.type?_e(t,n):null};function Ci(t,e,n,r){const i=yi(t,r,e),o=e[11],s=xi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)bi(o,i,n[a],s,!1);else bi(o,i,n,s,!1)}function Si(t,e){if(null!==e){const n=e.type;if(3&n)return _e(e,t);if(4&n)return Ii(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Si(t,n);{const n=t[e.index];return te(n)?Ii(-1,n):ge(n)}}if(32&n)return si(e,t)()||ge(t[e.index]);{const n=Di(t,e);return null!==n?Array.isArray(n)?n[0]:Si(ai(t[16]),n):Si(t,e.next)}}return null}function Di(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ii(t,e){const n=Jt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Si(t,r)}return e[7]}function Ai(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Kr(ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ai(t,e,n.child,r,i,o,!1),hi(e,t,i,a,o);else if(32&u){const s=si(n,r);let u;for(;u=s();)hi(e,t,i,u,o);hi(e,t,i,a,o)}else 16&u?Oi(t,e,r,n,i,o):hi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ki(t,e,n,r,i,o){Ai(n,r,t.firstChild,e,i,o,!1)}function Oi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)hi(e,t,i,a[u],o);else Ai(t,e,a,s[3],i,o,!0)}function Ti(t,e,n){de(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ri(t,e,n){de(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Pi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Li="ng-template";function Ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Pi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Mi(t){return 4===t.type&&t.value!==Li}function Fi(t,e,n){return e===(4!==t.type||n?t.value:Li)}function Bi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(fn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Fi(t,u,n)||""===u&&1===e.length){if(ji(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ni(t.attrs,l,n)){if(ji(r))return!1;s=!0}continue}const c=zi(8&r?"class":u,i,Mi(t),n);if(-1===c){if(ji(r))return!1;s=!0;continue}if(""!==l){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Pi(e,l,0)||2&r&&l!==t){if(ji(r))return!1;s=!0}}}}else{if(!s&&!ji(r)&&!ji(u))return!1;if(s&&ji(u))continue;s=!1,r=u|1&r}}return ji(r)||s}function ji(t){return 0==(1&t)}function zi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Bi(t,e[r],n))return!0;return!1}function Ui(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function qi(t,e){return t?":not("+e.trim()+")":e}function Gi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ji(s)||(e+=qi(o,i),i=""),r=s,o=o||!ji(r);n++}return""!==i&&(e+=qi(o,i)),e}const Hi={};function Yi(t){Zi(ke(),Ae(),Je()+t,Me())}function Zi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&rn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&on(e,r,0,n)}Qe(n)}function Wi(t,e){return t<<17|e<<2}function $i(t){return t>>17&32767}function Xi(t){return 2|t}function Ki(t){return(131068&t)>>2}function Ji(t,e){return-131069&t|e<<2}function Qi(t){return 1|t}function to(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];qe(i),n.contentQueries(2,e[o],o)}}}function eo(t,e,n,r,i,o,s,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Ce(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function no(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Re(),s=Le(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),De.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=De.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Pe(o,!0),o}function ro(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function io(t,e,n){Ye(e);try{const r=t.viewQuery;null!==r&&No(1,r,n);const i=t.template;null!==i&&ao(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&to(t,e),t.staticViewQueries&&No(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Oo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ke()}}function oo(t,e,n,r){const i=e[2];if(256==(256&i))return;Ye(e);const o=Me();try{Ce(e),De.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ao(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&rn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&on(e,n,0,null),sn(e,0)}if(function(t){for(let e=ui(t);null!==e;e=li(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Se(r,1),n[2]|=1024}}}(e),function(t){for(let e=ui(t);null!==e;e=li(e))for(let t=Jt;t<e.length;t++){const n=e[t],r=n[1];xe(n)&&oo(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&to(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&rn(e,n)}else{const n=t.contentHooks;null!==n&&on(e,n,1),sn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Qe(~r);else{const i=r,o=n[++t],s=n[++t];ze(o,i),s(2,e[i])}}}finally{Qe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ao(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&No(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&rn(e,n)}else{const n=t.viewHooks;null!==n&&on(e,n,2),sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Se(e[3],-1))}finally{Ke()}}function so(t,e,n,r){const i=e[10],o=!Me(),s=we(e);try{o&&!s&&i.begin&&i.begin(),s&&io(t,e,r),oo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ao(t,e,n,r,i){const o=Je(),s=2&r;try{Qe(-1),s&&e.length>Kt&&Zi(t,e,Kt,Me()),n(r,i)}finally{Qe(o)}}function uo(t,e,n){if(ee(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function lo(t,e,n){Ie()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||xn(n,e),Kr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ie(r);o&&Co(e,n,r);const u=Ln(e,t,a,n);Kr(u,e),null!==s&&So(0,a-i,u,r,0,s),o&&(be(n.index,e)[8]=u)}}(t,e,n,_e(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=De.lFrame.currentDirectiveIndex;try{Qe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ve(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||vo(r,i)}}finally{Qe(-1),Ve(s)}}(t,e,n))}function co(t,e,n=_e){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ho(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function fo(t,e,n,r,i,o,s,a,u,l){const c=Kt+r,h=c+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Hi);return n}(c,h),p="function"==typeof l?l():l;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1}}function po(t,e,n,r){const i=Fo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Bo(t).push(r,i.length-1))}function mo(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function go(t,e,n,r,i,o,s,a){const u=_e(e,n);let l,c=e.inputs;var h;!a&&null!=c&&(l=c[r])?(zo(t,n,l,r,i),ne(e)&&function(t,e){const n=be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,de(o)?o.setProperty(u,r,i):pn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function yo(t,e,n,r){let i=!1;if(Ie()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Vi(n,s.selectors,!1)&&(i||(i=[]),Dn(xn(n,e),t,s.type),ie(s)?(bo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,xo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ro(t,e,o.length,null);for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=dn(n.mergedAttrs,l.hostAttrs),Eo(t,n,e,u,l),wo(u,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const c=l.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||Mi(e)?null:Do(n,i);o.push(l),s=mo(n,u,s),a=mo(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new at("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=dn(n.mergedAttrs,n.attrs),i}function _o(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function vo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function wo(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ie(e)&&(n[""]=t)}}function xo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Eo(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=oe(i.type)),s=new cn(o,ie(i),null);t.blueprint[r]=s,n[r]=s,_o(t,e,0,r,ro(t,n,i.hostVars,Hi),i)}function Co(t,e,n){const r=_e(e,t),i=ho(n),o=t[10],s=To(t,eo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function So(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Do(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Io(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ao(t,e){const n=be(e,t);if(xe(n)){const t=n[1];80&n[2]?oo(t,n,t.template,n[8]):n[5]>0&&ko(n)}}function ko(t){for(let n=ui(t);null!==n;n=li(n))for(let t=Jt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];oo(t,e,t.template,e[8])}else e[5]>0&&ko(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=be(e[n],t);xe(r)&&r[5]>0&&ko(r)}}function Oo(t,e){const n=be(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),io(r,n,n[8])}function To(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ro(t){for(;t;){t[2]|=64;const e=ai(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Po(t,e,n){const r=e[10];r.begin&&r.begin();try{oo(t,e,t.template,n)}catch(i){throw jo(e,i),i}finally{r.end&&r.end()}}function Lo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Jr(n),i=r[1];so(i,r,i.template,n)}}(t[8])}function No(t,e,n){qe(0),e(t,n)}const Mo=(()=>Promise.resolve(null))();function Fo(t){return t[7]||(t[7]=[])}function Bo(t){return t.cleanup||(t.cleanup=[])}function jo(t,e){const n=t[9],r=n?n.get(ei,null):null;r&&r.handleError(e)}function zo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],l=t.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Vo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=nt(i,t):2==o&&(r=nt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Uo=new Yn("INJECTOR",-1);class qo{get(t,e=rr){if(e===rr){const e=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw e.name="NullInjectorError",e}return e}}const Go=new Yn("Set Injector scope."),Ho={},Yo={};let Zo;function Wo(){return void 0===Zo&&(Zo=new qo),Zo}function $o(t,e=null,n=null,r){return new Xo(t,n,e||Wo(),r)}class Xo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Xn(e,n=>this.processProvider(n,t,e)),Xn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Uo,Qo(void 0,this));const o=this.records.get(Go);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:et(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=rr,n=bt.Default){this.assertNotDestroyed();const r=ur(this);try{if(!(n&bt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Yn)&&pt(t);e=n&&this.injectableDefInScope(n)?Qo(Ko(t),Ho):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&bt.Self?Wo():this.parent).get(t,e=n&bt.Optional&&e===rr?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(et(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[or]&&i.unshift(e[or]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):et(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ir,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ur(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(et(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=ot(t)))return!1;let r=mt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=mt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Xn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Xn(r,t=>this.processProvider(t,n,r||Pt))}}this.injectorDefTypes.add(o);const a=oe(o)||(()=>new o);this.records.set(o,Qo(a,Ho));const u=r.providers;if(null!=u&&!s){const e=t;Xn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=es(t=ot(t))?t:ot(t&&t.provide);const i=function(t,e,n){return ts(t)?Qo(void 0,t.useValue):Qo(Jo(t),Ho)}(t);if(es(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Qo(void 0,Ho,!0),e.factory=()=>fr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ho&&(e.value=Yo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ot(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ko(t){const e=pt(t),n=null!==e?e.factory:oe(t);if(null!==n)return n;if(t instanceof Yn)throw new Error(`Token ${et(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Qn(e,"?");throw new Error(`Can't resolve all parameters for ${et(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[_t]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Jo(t,e,n){let r;if(es(t)){const e=ot(t);return oe(e)||Ko(e)}if(ts(t))r=()=>ot(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...fr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>cr(ot(t.useExisting));else{const e=ot(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return oe(e)||Ko(e);r=()=>new e(...fr(t.deps))}var i;return r}function Qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ts(t){return null!==t&&"object"==typeof t&&sr in t}function es(t){return"function"==typeof t}const ns=function(t,e,n){return function(t,e=null,n=null,r){const i=$o(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class rs{static create(t,e){return Array.isArray(t)?ns(t,e,""):ns(t.providers,t.parent,t.name||"")}}function is(t,e){nn(Jr(t)[1],Te())}function os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ie(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ss(t.inputs),e.declaredInputs=ss(t.declaredInputs),e.outputs=ss(t.outputs);const n=i.hostBindings;n&&ls(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&as(t,o),s&&us(t,s),tt(t.inputs,i.inputs),tt(t.declaredInputs,i.declaredInputs),tt(t.outputs,i.outputs),ie(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dn(i.hostAttrs,n=dn(n,i.hostAttrs))}}(r)}function ss(t){return t===Rt?{}:t===Pt?[]:t}function as(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function us(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ls(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}rs.THROW_IF_NOT_FOUND=rr,rs.NULL=new qo,rs.\u0275prov=ht({token:rs,providedIn:"any",factory:()=>cr(Uo)}),rs.__NG_ELEMENT_ID__=-1;let cs=null;function hs(){if(!cs){const t=Tt.Symbol;if(t&&t.iterator)cs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(cs=n)}}}return cs}function fs(t){return!!ps(t)&&(Array.isArray(t)||!(t instanceof Map)&&hs()in t)}function ps(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ms(t,e,n,r){const i=Ae();return ds(i,Be(),e)&&(ke(),function(t,e,n,r,i,o){const s=_e(t,e);!function(t,e,n,r,i,o,s){if(null==o)de(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?ut(o):s(o,r||"",i);de(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(tn(),i,t,e,n,r)),ms}function gs(t,e,n,r){return ds(t,Be(),n)?e+ut(n)+r:Hi}function ys(t,e,n,r,i,o,s,a){const u=Ae(),l=ke(),c=t+Kt,h=l.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const l=e.consts,c=no(e,t,4,s||null,Ee(l,a));yo(e,n,c,Ee(l,u)),nn(e,c);const h=c.tViews=fo(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,o,s):l.data[c];Pe(h,!1);const f=u[11].createComment("");Ci(l,u,f,h),Kr(f,u),To(u,u[c]=Io(f,u,f,h)),re(h)&&lo(l,u,h),null!=s&&co(u,h,a)}function _s(t){return function(t,e){return t[e]}(De.lFrame.contextLView,Kt+t)}function vs(t,e=bt.Default){const n=Ae();return null===n?cr(t,e):kn(Te(),n,ot(t),e)}function bs(t,e,n){const r=Ae();return ds(r,Be(),e)&&go(ke(),tn(),r,t,e,r[11],n,!1),bs}function ws(t,e,n,r,i){const o=i?"class":"style";zo(t,n,e.inputs[o],o,r)}function xs(t,e,n,r){const i=Ae(),o=ke(),s=Kt+t,a=i[11],u=i[s]=fi(a,e,De.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=no(e,t,2,i,Ee(a,o));return yo(e,n,u,Ee(a,s)),null!==u.attrs&&Vo(u,u.attrs,!1),null!==u.mergedAttrs&&Vo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Pe(l,!0);const c=l.mergedAttrs;null!==c&&hn(a,u,c);const h=l.classes;null!==h&&Ri(a,u,h);const f=l.styles;null!==f&&Ti(a,u,f),64!=(64&l.flags)&&Ci(o,i,u,l),0===De.lFrame.elementDepthCount&&Kr(u,i),De.lFrame.elementDepthCount++,re(l)&&(lo(o,i,l),uo(o,l,i)),null!==r&&co(i,l)}function Es(){let t=Te();Le()?Ne():(t=t.parent,Pe(t,!1));const e=t;De.lFrame.elementDepthCount--;const n=ke();n.firstCreatePass&&(nn(n,t),ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ws(n,e,Ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ws(n,e,Ae(),e.stylesWithoutHost,!1)}function Cs(t,e,n,r){xs(t,e,n,r),Es()}function Ss(t,e,n){const r=Ae(),i=ke(),o=t+Kt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ee(o,r),a=no(e,t,8,"ng-container",s);return null!==s&&Vo(a,s,!0),yo(e,n,a,Ee(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Pe(s,!0);const a=r[o]=r[11].createComment("");Ci(i,r,a,s),Kr(a,r),re(s)&&(lo(i,r,s),uo(i,s,r)),null!=n&&co(r,s)}function Ds(){let t=Te();const e=ke();Le()?Ne():(t=t.parent,Pe(t,!1)),e.firstCreatePass&&(nn(e,t),ee(t)&&e.queries.elementEnd(t))}function Is(t,e,n){Ss(t,e,n),Ds()}function As(){return Ae()}function ks(t){return!!t&&"function"==typeof t.then}const Os=function(t){return!!t&&"function"==typeof t.subscribe};function Ts(t,e,n,r){const i=Ae(),o=ke(),s=Te();return function(t,e,n,r,i,o,s,a){const u=re(r),l=t.firstCreatePass&&Bo(t),c=Fo(e);let h=!0;if(3&r.type||a){const f=_e(r,e),p=a?a(f):f,d=c.length,m=a?t=>a(ge(t[r.index])):r.index;if(de(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ps(r,e,0,o,!1);const t=n.listen(p,i,o);c.push(o,t),l&&l.push(i,m,d,d+1)}}else o=Ps(r,e,0,o,!0),p.addEventListener(i,o,s),c.push(o),l&&l.push(i,m,d,s)}else o=Ps(r,e,0,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=c.length;c.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Ts}function Rs(t,e,n,r){try{return!1!==n(r)}catch(i){return jo(t,i),!1}}function Ps(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Ro(s);let a=Rs(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Rs(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ls(t=1){return function(t){return(De.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,De.lFrame.contextLView))[8]}(t)}function Ns(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Vi(t,o,!0):Ui(r,o))return i}else n=i}return n}function Ms(t){const e=Ae()[16][6];if(!e.projection){const n=e.projection=Qn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ns(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Fs(t,e=0,n){const r=Ae(),i=ke(),o=no(i,Kt+t,16,null,n||null);null===o.projection&&(o.projection=e),Ne(),64!=(64&o.flags)&&function(t,e,n){Oi(e[11],0,e,n,yi(t,n,e),xi(n.parent||e[6],n,e))}(i,r,o)}function Bs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?$i(o):Ki(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];js(t[a],e)&&(u=!0,t[a+1]=r?Qi(n):Xi(n)),a=r?$i(n):Ki(n)}u&&(t[n+1]=r?Xi(o):Qi(o))}function js(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&nr(t,e)>=0}const zs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vs(t){return t.substring(zs.key,zs.keyEnd)}function Us(t,e){const n=zs.textEnd;return n===e?-1:(e=zs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,zs.key=e,n),qs(t,e,n))}function qs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Gs(t,e,n){return Zs(t,e,n,!1),Gs}function Hs(t,e){return Zs(t,e,null,!0),Hs}function Ys(t,e){for(let n=function(t){return function(t){zs.key=0,zs.keyEnd=0,zs.value=0,zs.valueEnd=0,zs.textEnd=t.length}(t),Us(t,qs(t,0,zs.textEnd))}(e);n>=0;n=Us(e,n))tr(t,Vs(e),!0)}function Zs(t,e,n,r){const i=Ae(),o=ke(),s=je(2);o.firstUpdatePass&&$s(o,t,s,r),e!==Hi&&ds(i,s,e)&&Js(o,o.data[Je()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=et(Sr(t)))),t}(e,n),r,s)}function Ws(t,e){return e>=t.expandoStartIndex}function $s(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Je()],s=Ws(t,n);ea(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=De.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ks(n=Xs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Xs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ki(r))return t[$i(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Xs(null,t,e,n[1],r),n=Ks(n,e.attrs,r),function(t,e,n,r){t[$i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ks(r,t[o].hostAttrs,n);return Ks(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$i(s),u=Ki(s);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||nr(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=$i(t[a+1]);t[r+1]=Wi(e,a),0!==e&&(t[e+1]=Ji(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Wi(a,0),0!==a&&(t[a+1]=Ji(t[a+1],r)),a=r;else t[r+1]=Wi(u,0),0===a?a=r:t[u+1]=Ji(t[u+1],r),u=r;c&&(t[r+1]=Xi(t[r+1])),Bs(t,l,r,!0),Bs(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&nr(o,e)>=0&&(n[r+1]=Qi(n[r+1]))}(e,l,t,r,o),s=Wi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Xs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ks(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ks(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),tr(t,s,!!n||e[++o]))}return void 0===t?null:t}function Js(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];ta(1==(1&l)?Qs(u,e,n,i,Ki(l),s):void 0)||(ta(o)||2==(2&l)&&(o=Qs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=de(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:oi.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=oi.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,ye(Je(),n),i,o))}function Qs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,l=null===u;let c=n[i+1];c===Hi&&(c=l?Pt:void 0);let h=l?er(c,r):u===r?c:void 0;if(o&&!ta(h)&&(h=er(e,r)),ta(h)&&(a=h,s))return a;const f=t[i+1];i=s?$i(f):Ki(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=er(t,r))}return a}function ta(t){return void 0!==t}function ea(t,e){return 0!=(t.flags&(e?16:32))}function na(t,e=""){const n=Ae(),r=ke(),i=t+Kt,o=r.firstCreatePass?no(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return de(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ci(r,n,s,o),Pe(o,!1)}function ra(t){return ia("",t,""),ra}function ia(t,e,n){const r=Ae(),i=gs(r,t,e,n);return i!==Hi&&function(t,e,n){const r=ye(e,t);!function(t,e,n){de(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Je(),i),ia}function oa(t,e,n){!function(t,e,n,r){const i=ke(),o=je(2);i.firstUpdatePass&&$s(i,null,o,r);const s=Ae();if(n!==Hi&&ds(s,o,n)){const a=i.data[Je()];if(ea(a,r)&&!Ws(i,o)){let t=a.classesWithoutHost;null!==t&&(n=nt(t,n||"")),ws(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Hi&&(i=Pt);let u=0,l=0,c=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==c||null!==h;){const s=u<i.length?i[u+1]:void 0,f=l<o.length?o[l+1]:void 0;let p,d=null;c===h?(u+=2,l+=2,s!==f&&(d=h,p=f)):null===h||null!==c&&c<h?(u+=2,d=c):(l+=2,d=h,p=f),null!==d&&Js(t,e,n,r,d,p,true,a),c=u<i.length?i[u]:null,h=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Pt;const r=[],i=Sr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(tr,Ys,gs(Ae(),t,e,n),!0)}function sa(t,e,n){const r=Ae();return ds(r,Be(),e)&&go(ke(),tn(),r,t,e,r[11],n,!0),sa}const aa=void 0;var ua=["en",[["a","p"],["AM","PM"],aa],[["AM","PM"],aa,aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",aa,"{1} 'at' {0}",aa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let la={};function ca(t){return t in la||(la[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),la[t]}var ha=(()=>((ha=ha||{})[ha.LocaleId=0]="LocaleId",ha[ha.DayPeriodsFormat=1]="DayPeriodsFormat",ha[ha.DayPeriodsStandalone=2]="DayPeriodsStandalone",ha[ha.DaysFormat=3]="DaysFormat",ha[ha.DaysStandalone=4]="DaysStandalone",ha[ha.MonthsFormat=5]="MonthsFormat",ha[ha.MonthsStandalone=6]="MonthsStandalone",ha[ha.Eras=7]="Eras",ha[ha.FirstDayOfWeek=8]="FirstDayOfWeek",ha[ha.WeekendRange=9]="WeekendRange",ha[ha.DateFormat=10]="DateFormat",ha[ha.TimeFormat=11]="TimeFormat",ha[ha.DateTimeFormat=12]="DateTimeFormat",ha[ha.NumberSymbols=13]="NumberSymbols",ha[ha.NumberFormats=14]="NumberFormats",ha[ha.CurrencyCode=15]="CurrencyCode",ha[ha.CurrencySymbol=16]="CurrencySymbol",ha[ha.CurrencyName=17]="CurrencyName",ha[ha.Currencies=18]="Currencies",ha[ha.Directionality=19]="Directionality",ha[ha.PluralCase=20]="PluralCase",ha[ha.ExtraData=21]="ExtraData",ha))();const fa="en-US";let pa=fa;function da(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(pa=t.toLowerCase().replace(/_/g,"-"))}function ma(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)ma(t[o],e,n,r,i);else{const o=ke(),s=Ae();let a=es(t)?t:ot(t.provide),u=Jo(t);const l=Te(),c=1048575&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>20;if(es(t)||!t.multi){const r=new cn(u,i,vs),p=_a(a,e,i?c:c+f,h);-1===p?(Dn(xn(l,s),o,a),ga(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=_a(a,e,c+f,h),d=_a(a,e,c,c+f),m=p>=0&&n[p],g=d>=0&&n[d];if(i&&!g||!i&&!m){Dn(xn(l,s),o,a);const c=function(t,e,n,r,i){const o=new cn(t,n,vs);return o.multi=[],o.index=e,o.componentProviders=0,ya(o,i,r&&!n),o}(i?ba:va,n.length,i,r,u);!i&&g&&(n[d].providerFactory=c),ga(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(c),s.push(c)}else ga(o,t,p>-1?p:d,ya(n[i?d:p],u,!i&&r));!i&&r&&g&&n[d].componentProviders++}}}function ga(t,e,n,r){const i=es(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ya(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _a(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function va(t,e,n,r){return wa(this.multi,[])}function ba(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ln(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),wa(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],wa(i,o);return o}function wa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ke();if(r.firstCreatePass){const i=ie(t);ma(n,r.data,r.blueprint,i,!0),ma(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ea{}class Ca{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${et(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Sa{}function Da(...t){}function Ia(t,e){return new ka(_e(t,e))}Sa.NULL=new Ca;const Aa=function(){return Ia(Te(),Ae())};let ka=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Aa,t})();function Oa(t){return t instanceof ka?t.nativeElement:t}class Ta{}let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pa(),t})();const Pa=function(){const t=Ae(),e=be(Te().index,t);return function(t){return t[11]}(Qt(e)?e:t)};let La=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class Na{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ma=new Na("12.1.2");class Fa{constructor(){}supports(t){return fs(t)}create(t){return new ja(t)}}const Ba=(t,e)=>e;class ja{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ba}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qa(n,r,i)?e:n,s=qa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!fs(t))throw new Error(`Error trying to diff '${et(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[hs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new za(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class za{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Va{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Va,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ga{constructor(){}supports(t){return t instanceof Map||ps(t)}create(){return new Ha}}class Ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ps(t)))throw new Error(`Error trying to diff '${et(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ya(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ya{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Za(){return new Wa([new Fa])}let Wa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Za()),deps:[[t,new gr,new mr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:Za}),t})();function $a(){return new Xa([new Ga])}let Xa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||$a()),deps:[[t,new gr,new mr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:$a}),t})();function Ka(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ge(o)),te(o))for(let t=Jt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ka(e[1],e,n,r)}const s=n.type;if(8&s)Ka(t,e,n.child,r);else if(32&s){const t=si(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Di(e,n);if(Array.isArray(t))r.push(...t);else{const n=ai(e[16]);Ka(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ja{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ka(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(te(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(di(t,n),Jn(e,n))}this._attachedToViewContainer=!1}mi(this._lView[1],this._lView)}onDestroy(t){po(this._lView[1],this._lView,null,t)}markForCheck(){Ro(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Po(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Fe(!0);try{Po(t,e,n)}finally{Fe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qa extends Ja{constructor(t){super(t),this._view=t}detectChanges(){Lo(this._view)}checkNoChanges(){!function(t){Fe(!0);try{Lo(t)}finally{Fe(!1)}}(this._view)}get context(){return null}}const tu=function(t){return function(t,e,n){if(ne(t)&&!n){const n=be(t.index,e);return new Ja(n,n)}return 47&t.type?new Ja(e[16],e):null}(Te(),Ae(),16==(16&t))};let eu=(()=>{class t{}return t.__NG_ELEMENT_ID__=tu,t})();const nu=[new Ga],ru=new Wa([new Fa]),iu=new Xa(nu),ou=function(){return lu(Te(),Ae())};let su=(()=>{class t{}return t.__NG_ELEMENT_ID__=ou,t})();const au=su,uu=class extends au{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=eo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),io(e,n,t),new Ja(n)}};function lu(t,e){return 4&t.type?new uu(e,t,Ia(t,e)):null}class cu{}class hu{}const fu=function(){return _u(Te(),Ae())};let pu=(()=>{class t{}return t.__NG_ELEMENT_ID__=fu,t})();const du=pu,mu=class extends du{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new Fn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Sn(this._hostTNode,this._hostLView);if(gn(t)){const e=_n(t,this._hostLView),n=yn(t);return new Fn(e[1].data[n+8],e)}return new Fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=gu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(cu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new mu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Jt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Jt?(e[4]=n[i],Kn(n,Jt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Ii(i,o),a=n[11],u=wi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ki(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Kn(yu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=gu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=di(this._lContainer,e);n&&(Jn(yu(this._lContainer),e),mi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=di(this._lContainer,e);return n&&null!=Jn(yu(this._lContainer),e)?new Ja(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function gu(t){return t[8]}function yu(t){return t[8]||(t[8]=[])}function _u(t,e){let n;const r=e[t.index];if(te(r))n=r;else{let i;if(8&t.type)i=ge(r);else{const n=e[11];i=n.createComment("");const r=_e(t,e);_i(n,wi(n,r),i,function(t,e){return de(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Io(r,e,i,t),To(e,n)}return new mu(n,t,e)}const vu={};class bu extends Sa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=$t(t);return new Eu(e,this.ngModule)}}function wu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const xu=new Yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ni});class Eu extends Ea{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Gi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return wu(this.componentDef.inputs)}get outputs(){return wu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,vu,i);return o!==vu||r===vu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ta,me),s=i.get(La,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(de(t))return t.selectRootElement(e,n===Dt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):fi(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?fe:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:ni,clean:Mo,playerHandler:null,flags:0},f=fo(0,null,null,1,0,null,null,null,null,null),p=eo(null,f,h,c,null,null,o,a,s,i);let d,m;Ye(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=no(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Vo(a,u,!0),null!==t&&(hn(i,t,u),null!==a.classes&&Ri(i,t,a.classes),null!==a.styles&&Ti(i,t,a.styles)));const l=r.createRenderer(t,e),c=eo(n,ho(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(Dn(xn(a,n),s,e.type),bo(s,a),xo(a,n.length,1)),To(n,c),n[20]=c}(l,this.componentDef,p,o,a);if(l)if(n)hn(a,l,["ng-version",Ma.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ji(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&hn(a,l,t),e&&e.length>0&&Ri(a,l,e.join(" "))}if(m=ve(f,Kt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}d=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Te();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Eo(t,r,e,ro(t,e,1,null),n));const i=Ln(e,t,r.directiveStart,r);Kr(i,e);const o=_e(r,e);return o&&Kr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Te();e.contentQueries(1,s,t.directiveStart)}const a=Te();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qe(a.index),_o(n[1],a,0,a.directiveStart,a.directiveEnd,e),vo(e,s)),s}(t,this.componentDef,p,h,[is]),io(f,p,null)}finally{Ke()}return new Cu(this.componentType,d,Ia(m,p),p,m)}}class Cu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Qa(r),this.componentType=t}get injector(){return new Fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Su=new Map;class Du extends cu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bu(this);const n=Xt(t),r=t[Bt]||null;r&&da(r),this._bootstrapComponents=ii(n.bootstrap),this._r3Injector=$o(t,e,[{provide:cu,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],et(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=rs.THROW_IF_NOT_FOUND,n=bt.Default){return t===rs||t===cu||t===Uo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Iu extends hu{constructor(t){super(),this.moduleType=t,null!==Xt(t)&&function(t){const e=new Set;!function t(n){const r=Xt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${et(e)} vs ${et(e.name)}`)}(i,Su.get(i),n),Su.set(i,n));const o=ii(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Du(this.moduleType,t)}}function Au(t){return e=>{setTimeout(t,void 0,e)}}const ku=class extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Au(a),s&&(s=Au(s)),u&&(u=Au(u)));const l=super.subscribe({next:s,error:a,complete:u});return t instanceof h&&t.add(l),l}};function Ou(){return this._results[hs()]()}class Tu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hs(),n=Tu.prototype;n[e]||(n[e]=Ou)}get changes(){return this._changes||(this._changes=new ku)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=$n(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ru{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Pu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Zu(t,e).matches&&this.queries[e].setDirty()}}class Lu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Mu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Mu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Fu(e,i)),this.matchTNodeWithReadOption(t,e,Pn(e,t,i,!1,!1))}else n===su?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ka||r===pu||r===su&&4&e.type)this.addMatch(e.index,-2);else{const n=Pn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Bu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ia(t,e):4&t.type?lu(t,e):null}(e,t):-2===n?function(t,e,n){return n===ka?Ia(e,t):n===su?lu(e,t):n===pu?_u(e,t):void 0}(t,e,r):Ln(t,t[1],n,e)}function ju(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Bu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function zu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=ju(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Jt;t<s.length;t++){const e=s[t];e[17]===e[3]&&zu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];zu(n[1],n,i,r)}}}}}return r}function Vu(t){const e=Ae(),n=ke(),r=Ue();qe(r+1);const i=Zu(n,r);if(t.dirty&&we(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?zu(n,e,r,[]):ju(n,e,i,r);t.reset(o,Oa),t.notifyOnChanges()}return!0}return!1}function Uu(t,e,n){const r=ke();r.firstCreatePass&&(Yu(r,new Lu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Hu(r,Ae(),e)}function qu(t,e,n,r){const i=ke();if(i.firstCreatePass){const o=Te();Yu(i,new Lu(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Hu(i,Ae(),n)}function Gu(){return t=Ae(),e=Ue(),t[19].queries[e].queryList;var t,e}function Hu(t,e,n){const r=new Tu(4==(4&n));po(t,e,r,r.destroy),null===e[19]&&(e[19]=new Pu),e[19].queries.push(new Ru(r))}function Yu(t,e,n){null===t.queries&&(t.queries=new Nu),t.queries.track(new Mu(e,n))}function Zu(t,e){return t.queries.getByIndex(e)}const Wu=Hn("Input",t=>({bindingPropertyName:t})),$u=Hn("Output",t=>({bindingPropertyName:t})),Xu=Hn("HostListener",(t,e)=>({eventName:t,args:e})),Ku=new Yn("Application Initializer");let Ju=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Da,this.reject=Da,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(ks(e))t.push(e);else if(Os(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(cr(Ku,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Qu=new Yn("AppId"),tl={provide:Qu,useFactory:function(){return`${el()}${el()}${el()}`},deps:[]};function el(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nl=new Yn("Platform Initializer"),rl=new Yn("Platform ID"),il=new Yn("appBootstrapListener");let ol=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const sl=new Yn("LocaleId"),al=new Yn("DefaultCurrencyCode");class ul{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ll=function(t){return new Iu(t)},cl=ll,hl=function(t){return Promise.resolve(ll(t))},fl=function(t){const e=ll(t),n=ii(Xt(t).declarations).reduce((t,e)=>{const n=$t(e);return n&&t.push(new Eu(n)),t},[]);return new ul(e,n)},pl=fl,dl=function(t){return Promise.resolve(fl(t))};let ml=(()=>{class t{constructor(){this.compileModuleSync=cl,this.compileModuleAsync=hl,this.compileModuleAndAllComponentsSync=pl,this.compileModuleAndAllComponentsAsync=dl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const gl=(()=>Promise.resolve(0))();function yl(t){"undefined"==typeof Zone?gl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _l{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ku(!1),this.onMicrotaskEmpty=new ku(!1),this.onStable=new ku(!1),this.onError=new ku(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Tt.requestAnimationFrame,e=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wl(t),t.isCheckStableRunning=!0,bl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return xl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),El(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return xl(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),El(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,wl(t),bl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_l.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_l.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,vl,Da,Da);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const vl={};function bl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function El(t){t._nesting--,bl(t)}class Cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ku,this.onMicrotaskEmpty=new ku,this.onStable=new ku,this.onError=new ku}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Sl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_l.assertNotInAngularZone(),yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(cr(_l))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Dl=(()=>{class t{constructor(){this._applications=new Map,kl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return kl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Il{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Al,kl=new Il,Ol=!0,Tl=!1;function Rl(){return Tl=!0,Ol}const Pl=new Yn("AllowMultipleToken");class Ll{constructor(t,e){this.name=t,this.token=e}}function Nl(t,e,n=[]){const r=`Platform: ${e}`,i=new Yn(r);return(e=[])=>{let o=Ml();if(!o||o.injector.get(Pl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Go,useValue:"platform"});!function(t){if(Al&&!Al.destroyed&&!Al.injector.get(Pl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Al=t.get(Fl);const e=t.get(nl,null);e&&e.forEach(t=>t())}(rs.create({providers:t,name:r}))}return function(t){const e=Ml();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ml(){return Al&&!Al.destroyed?Al:null}let Fl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cl:("zone.js"===t?void 0:t)||new _l({enableLongStackTrace:Rl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:_l,useValue:n}];return n.run(()=>{const e=rs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ei,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{zl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ks(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ju);return t.runInitializers(),t.donePromise.then(()=>(da(i.injector.get(sl,fa)||fa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Bl({},e);return function(t,e,n){const r=new Iu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(jl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${et(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(cr(rs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Bl(t,e){return Array.isArray(e)?e.reduce(Bl,t):Object.assign(Object.assign({},t),e)}let jl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{_l.assertNotInAngularZone(),yl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_l.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=G(o,s.pipe(J()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ea?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(cu),i=n.create(rs.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Sl,null),a=s&&i.injector.get(Dl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),zl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;zl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(il,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(cr(_l),cr(rs),cr(ei),cr(Sa),cr(Ju))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function zl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vl{}class Ul{}const ql={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Gl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ql}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(255)(e).then(t=>t[r]).then(t=>Hl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(cr(ml),cr(Ul,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Hl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Yl=Nl(null,"core",[{provide:rl,useValue:"unknown"},{provide:Fl,deps:[rs]},{provide:Dl,deps:[]},{provide:ol,deps:[]}]),Zl=[{provide:jl,useClass:jl,deps:[_l,rs,ei,Sa,Ju]},{provide:xu,deps:[_l],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ju,useClass:Ju,deps:[[new mr,Ku]]},{provide:ml,useClass:ml,deps:[]},tl,{provide:Wa,useFactory:function(){return ru},deps:[]},{provide:Xa,useFactory:function(){return iu},deps:[]},{provide:sl,useFactory:function(t){return da(t=t||"undefined"!=typeof $localize&&$localize.locale||fa),t},deps:[[new dr(sl),new mr,new gr]]},{provide:al,useValue:"USD"}];let Wl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(cr(jl))},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:Zl}),t})(),$l=null;function Xl(){return $l}const Kl=new Yn("DocumentToken");let Jl=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Ql,token:t,providedIn:"platform"}),t})();function Ql(){return cr(ec)}const tc=new Yn("Location Initialized");let ec=(()=>{class t extends Jl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xl().getBaseHref(this._doc)}onPopState(t){const e=Xl().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Xl().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){nc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){nc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({factory:rc,token:t,providedIn:"platform"}),t})();function nc(){return!!window.history.pushState}function rc(){return new ec(cr(Kl))}function ic(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function oc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function sc(t){return t&&"?"!==t[0]?"?"+t:t}let ac=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:uc,token:t,providedIn:"root"}),t})();function uc(t){const e=cr(Kl).location;return new cc(cr(Jl),e&&e.origin||"")}const lc=new Yn("appBaseHref");let cc=(()=>{class t extends ac{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ic(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+sc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+sc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+sc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(cr(Jl),cr(lc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),hc=(()=>{class t extends ac{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ic(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+sc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+sc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(cr(Jl),cr(lc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),fc=(()=>{class t{constructor(t,e){this._subject=new ku,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=oc(dc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+sc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,dc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(cr(ac),cr(Jl))},t.normalizeQueryParams=sc,t.joinWithSlash=ic,t.stripTrailingSlash=oc,t.\u0275prov=ht({factory:pc,token:t,providedIn:"root"}),t})();function pc(){return new fc(cr(ac),cr(Jl))}function dc(t){return t.replace(/\/index.html$/,"")}var mc=(()=>((mc=mc||{})[mc.Zero=0]="Zero",mc[mc.One=1]="One",mc[mc.Two=2]="Two",mc[mc.Few=3]="Few",mc[mc.Many=4]="Many",mc[mc.Other=5]="Other",mc))();class gc{}let yc=(()=>{class t extends gc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ca(e);if(n)return n;const r=e.split("-")[0];if(n=ca(r),n)return n;if("en"===r)return ua;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ha.PluralCase]}(e||this.locale)(t)){case mc.Zero:return"zero";case mc.One:return"one";case mc.Two:return"two";case mc.Few:return"few";case mc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(cr(sl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function _c(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let vc=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(fs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${et(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(vs(Wa),vs(Xa),vs(ka),vs(Ra))},t.\u0275dir=Wt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class bc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new bc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new xc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new xc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(su),vs(Wa))},t.\u0275dir=Wt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class xc{constructor(t,e){this.record=t,this.view=e}}let Ec=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Cc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(su))},t.\u0275dir=Wt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Cc{constructor(){this.$implicit=null,this.ngIf=null}}function Sc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${et(e)}'.`)}class Dc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ic=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Ac=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Dc(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(su),vs(Ic,9))},t.\u0275dir=Wt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),kc=(()=>{class t{constructor(t,e,n){n._addDefault(new Dc(t,e))}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(su),vs(Ic,9))},t.\u0275dir=Wt({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Oc=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(vs(pu))},t.\u0275dir=Wt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ae]}),t})(),Tc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[{provide:gc,useClass:yc}]}),t})();function Rc(t){return"browser"===t}let Pc=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new Lc(cr(Kl),window)}),t})();class Lc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Nc(this.window.history)||Nc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Nc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Mc{}class Fc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Fc,$l||($l=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(jc=jc||document.querySelector("base"),jc?jc.getAttribute("href"):null);return null==e?null:function(t){Bc=Bc||document.createElement("a"),Bc.setAttribute("href",t);const e=Bc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _c(document.cookie,t)}}let Bc,jc=null;const zc=new Yn("TRANSITION_ID"),Vc=[{provide:Ku,useFactory:function(t,e,n){return()=>{n.get(Ju).donePromise.then(()=>{const n=Xl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[zc,Kl,rs],multi:!0}];class Uc{static init(){var t;t=new Uc,kl=t}addToWindow(t){Tt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Xl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let qc=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Gc=new Yn("EventManagerPlugins");let Hc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(cr(Gc),cr(_l))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Yc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Xl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Zc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Wc=(()=>{class t extends Zc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach($c),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($c))}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function $c(t){Xl().remove(t)}const Xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Kc=/%COMP%/g;function Jc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Jc(t,i,n):(i=i.replace(Kc,t),n.push(i))}return n}function Qc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let th=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new eh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Dt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new nh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Dt.ShadowDom:return new rh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Jc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(cr(Hc),cr(Wc),cr(Qu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class eh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Xc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Xc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Xc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(oi.DashCase|oi.Important)?t.style.setProperty(e,n,r&oi.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&oi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Qc(n)):this.eventManager.addEventListener(t,e,Qc(n))}}class nh extends eh{constructor(t,e,n,r){super(t),this.component=n;const i=Jc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Kc,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Kc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class rh extends eh{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Jc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ih=(()=>{class t extends Yc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const oh=["alt","control","meta","shift"],sh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ah={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lh=(()=>{class t extends Yc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xl().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(oh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ah.hasOwnProperty(e)&&(e=ah[e]))}return sh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),oh.forEach(r=>{r!=n&&(0,uh[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),ch=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return cr(fh)},token:t,providedIn:"root"}),t})();function hh(t){return new fh(t.get(Kl))}let fh=(()=>{class t extends ch{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Xr.NONE:return e;case Xr.HTML:return Dr(e,"HTML")?Sr(e):function(t,e){let n=null;try{Wr=Wr||function(t){const e=new kr(t);return function(){try{return!!(new window.DOMParser).parseFromString(_r(""),"text/html")}catch(t){return!1}}()?new Ar(e):e}(t);let r=e?String(e):"";n=Wr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Wr.getInertBodyElement(r)}while(r!==o);return _r((new Gr).sanitizeChildren($r(n)||n))}finally{if(n){const t=$r(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)).toString();case Xr.STYLE:return Dr(e,"Style")?Sr(e):e;case Xr.SCRIPT:if(Dr(e,"Script"))return Sr(e);throw new Error("unsafe value used in a script context");case Xr.URL:return Ir(e),Dr(e,"URL")?Sr(e):Rr(String(e));case Xr.RESOURCE_URL:if(Dr(e,"ResourceURL"))return Sr(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new br(t)}bypassSecurityTrustStyle(t){return new wr(t)}bypassSecurityTrustScript(t){return new xr(t)}bypassSecurityTrustUrl(t){return new Er(t)}bypassSecurityTrustResourceUrl(t){return new Cr(t)}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({factory:function(){return hh(cr(Uo))},token:t,providedIn:"root"}),t})();const ph=Nl(Yl,"browser",[{provide:rl,useValue:"browser"},{provide:nl,useValue:function(){Fc.makeCurrent(),Uc.init()},multi:!0},{provide:Kl,useFactory:function(){return function(t){pe=t}(document),document},deps:[]}]),dh=[[],{provide:Go,useValue:"root"},{provide:ei,useFactory:function(){return new ei},deps:[]},{provide:Gc,useClass:ih,multi:!0,deps:[Kl,_l,rl]},{provide:Gc,useClass:lh,multi:!0,deps:[Kl]},[],{provide:th,useClass:th,deps:[Hc,Wc,Qu]},{provide:Ta,useExisting:th},{provide:Zc,useExisting:Wc},{provide:Wc,useClass:Wc,deps:[Kl]},{provide:Sl,useClass:Sl,deps:[_l]},{provide:Hc,useClass:Hc,deps:[Gc,_l]},{provide:Mc,useClass:qc,deps:[]},[]];let mh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Qu,useValue:e.appId},{provide:zc,useExisting:Qu},Vc]}}}return t.\u0275fac=function(e){return new(e||t)(cr(t,12))},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:dh,imports:[Tc,Wl]}),t})();function gh(...t){let e=t[t.length-1];return S(e)?(t.pop(),L(t,e)):q(t)}function yh(t,e){return j(t,e,1)}function _h(t,e){return function(n){return n.lift(new vh(t,e))}}"undefined"!=typeof window&&window;class vh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bh(t,this.predicate,this.thisArg))}}class bh extends d{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class wh{}class xh{}class Eh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Eh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Eh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Eh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ch{encodeKey(t){return Sh(t)}encodeValue(t){return Sh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Sh(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Dh(t){return`${t}`}class Ih{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ch,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ih({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Dh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Dh(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ah{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function kh(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Oh(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Th(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Rh{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Eh),this.context||(this.context=new Ah),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ih,this.urlWithParams=e}serializeBody(){return null===this.body?null:kh(this.body)||Oh(this.body)||Th(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Th(this.body)?null:Oh(this.body)?this.body.type||null:kh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,l=t.params||this.params;const c=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Rh(n,r,o,{params:l,headers:u,context:c,reportProgress:a,responseType:i,withCredentials:s})}}var Ph=(()=>((Ph=Ph||{})[Ph.Sent=0]="Sent",Ph[Ph.UploadProgress=1]="UploadProgress",Ph[Ph.ResponseHeader=2]="ResponseHeader",Ph[Ph.DownloadProgress=3]="DownloadProgress",Ph[Ph.Response=4]="Response",Ph[Ph.User=5]="User",Ph))();class Lh{constructor(t,e=200,n="OK"){this.headers=t.headers||new Eh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Nh extends Lh{constructor(t={}){super(t),this.type=Ph.ResponseHeader}clone(t={}){return new Nh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mh extends Lh{constructor(t={}){super(t),this.type=Ph.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Mh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fh extends Lh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Bh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let jh=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Rh)r=t;else{let i,o;i=n.headers instanceof Eh?n.headers:new Eh(n.headers),n.params&&(o=n.params instanceof Ih?n.params:new Ih({fromObject:n.params})),r=new Rh(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=gh(r).pipe(yh(t=>this.handler.handle(t)));if(t instanceof Rh||"events"===n.observe)return i;const o=i.pipe(_h(t=>t instanceof Mh));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(D(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(D(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(D(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(D(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ih).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Bh(n,e))}post(t,e,n={}){return this.request("POST",t,Bh(n,e))}put(t,e,n={}){return this.request("PUT",t,Bh(n,e))}}return t.\u0275fac=function(e){return new(e||t)(cr(wh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class zh{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Vh=new Yn("HTTP_INTERCEPTORS");let Uh=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const qh=/^\)\]\}',?\n/;let Gh=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Eh(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Nh({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(qh,"");try{u=""!==u?JSON.parse(u):null}catch(c){u=t,l&&(l=!1,u={error:c,text:u})}}l?(e.next(new Mh({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Fh({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Fh({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const l=r=>{u||(e.next(o()),u=!0);let i={type:Ph.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Ph.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Ph.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(cr(Mc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Hh=new Yn("XSRF_COOKIE_NAME"),Yh=new Yn("XSRF_HEADER_NAME");class Zh{}let Wh=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_c(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl),cr(rl),cr(Hh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),$h=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(cr(Zh),cr(Yh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Xh=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Vh,[]);this.chain=t.reduceRight((t,e)=>new zh(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(cr(xh),cr(rs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Kh=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:$h,useClass:Uh}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Hh,useValue:e.cookieName}:[],e.headerName?{provide:Yh,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[$h,{provide:Vh,useExisting:$h,multi:!0},{provide:Zh,useClass:Wh},{provide:Hh,useValue:"XSRF-TOKEN"},{provide:Yh,useValue:"X-XSRF-TOKEN"}]}),t})(),Jh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[jh,{provide:wh,useClass:Xh},Gh,{provide:xh,useExisting:Gh}],imports:[[Kh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class Qh extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}class tf extends d{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ef extends d{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function nf(t,e,n,r,i=new ef(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):P(e)(i)}const rf={};function of(...t){let e,n;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),q(t,n).lift(new sf(e))}class sf{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new af(t,this.resultSelector))}}class af extends tf{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(rf),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(nf(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===rf?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const uf=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function lf(...t){return U(1)(gh(...t))}const cf=new _(t=>t.complete());function hf(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):cf}function ff(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?N(n):hf()).subscribe(e)})}function pf(t,e){return"function"==typeof e?n=>n.pipe(pf((n,r)=>N(t(n,r)).pipe(D((t,i)=>e(n,t,r,i))))):e=>e.lift(new df(t))}class df{constructor(t){this.project=t}call(t,e){return e.subscribe(new mf(t,this.project))}}class mf extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new M(this),r=this.destination;r.add(n),this.innerSubscription=B(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const gf=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function yf(t){return e=>0===t?hf():e.lift(new _f(t))}class _f{constructor(t){if(this.total=t,this.total<0)throw new gf}call(t,e){return e.subscribe(new vf(t,this.total))}}class vf extends d{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function bf(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>lf(t,n,e)):e=>lf(t,e)}function wf(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new xf(t,e,n))}}class xf{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ef(t,this.accumulator,this.seed,this.hasSeed))}}class Ef extends d{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Cf(t){return function(e){const n=new Sf(t),r=e.lift(n);return n.caught=r}}class Sf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Df(t,this.selector,this.caught))}}class Df extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new M(this);this.add(r);const i=B(n,r);i!==r&&this.add(i)}}}function If(t){return function(e){return 0===t?hf():e.lift(new Af(t))}}class Af{constructor(t){if(this.total=t,this.total<0)throw new gf}call(t,e){return e.subscribe(new kf(t,this.total))}}class kf extends d{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Of(t=Pf){return e=>e.lift(new Tf(t))}class Tf{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Rf(t,this.errorFactory))}}class Rf extends d{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Pf(){return new uf}function Lf(t=null){return e=>e.lift(new Nf(t))}class Nf{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Mf(t,this.defaultValue))}}class Mf extends d{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ff(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_h((e,n)=>t(e,n,r)):y,yf(1),n?Lf(e):Of(()=>new uf))}function Bf(){}function jf(t,e,n){return function(r){return r.lift(new zf(t,e,n))}}class zf{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Vf(t,this.nextOrObserver,this.error,this.complete))}}class Vf extends d{constructor(t,e,n,i){super(t),this._tapNext=Bf,this._tapError=Bf,this._tapComplete=Bf,this._tapError=n||Bf,this._tapComplete=i||Bf,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Bf,this._tapError=e.error||Bf,this._tapComplete=e.complete||Bf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Uf(t){return e=>e.lift(new qf(t))}class qf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Gf(t,this.callback))}}class Gf extends d{constructor(t,e){super(t),this.add(new h(e))}}class Hf{constructor(t,e){this.id=t,this.url=e}}class Yf extends Hf{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zf extends Hf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wf extends Hf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $f extends Hf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xf extends Hf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kf extends Hf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jf extends Hf{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qf extends Hf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tp extends Hf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ep{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class np{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rp{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ip{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class op{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sp{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ap{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const up="primary";class lp{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function cp(t){return new lp(t)}function hp(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function fp(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pp(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dp(t[i],e[i]))return!1;return!0}function dp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function mp(t){return Array.prototype.concat.apply([],t)}function gp(t){return t.length>0?t[t.length-1]:null}function yp(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _p(t){return Os(t)?t:ks(t)?N(Promise.resolve(t)):gh(t)}const vp={exact:function t(e,n,r){if(!Ap(e.segments,n.segments))return!1;if(!Cp(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:xp},bp={exact:function(t,e){return pp(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dp(t[n],e[n]))},ignored:()=>!0};function wp(t,e,n){return vp[n.paths](t.root,e.root,n.matrixParams)&&bp[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xp(t,e,n){return Ep(t,e,e.segments,n)}function Ep(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Ap(i,n)&&!e.hasChildren()&&!!Cp(i,n,r)}if(t.segments.length===n.length){if(!Ap(t.segments,n))return!1;if(!Cp(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xp(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Ap(t.segments,i)&&!!Cp(t.segments,i,r)&&!!t.children.primary&&Ep(t.children.primary,e,o,r)}}function Cp(t,e,n){return e.every((e,r)=>bp[n](t[r].parameters,e.parameters))}class Sp{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cp(this.queryParams)),this._queryParamMap}toString(){return Tp.serialize(this)}}class Dp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,yp(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rp(this)}}class Ip{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=cp(this.parameters)),this._parameterMap}toString(){return jp(this)}}function Ap(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class kp{}class Op{parse(t){const e=new Gp(t);return new Sp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Pp(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Np(e)}=${Np(t)}`).join("&"):`${Np(e)}=${Np(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Tp=new Op;function Rp(t){return t.segments.map(t=>jp(t)).join("/")}function Pp(t,e){if(!t.hasChildren())return Rp(t);if(e){const e=t.children.primary?Pp(t.children.primary,!1):"",n=[];return yp(t.children,(t,e)=>{e!==up&&n.push(`${e}:${Pp(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return yp(t.children,(t,r)=>{r===up&&(n=n.concat(e(t,r)))}),yp(t.children,(t,r)=>{r!==up&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===up?[Pp(t.children.primary,!1)]:[`${n}:${Pp(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Rp(t)}/${e[0]}`:`${Rp(t)}/(${e.join("//")})`}}function Lp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(t){return Lp(t).replace(/%3B/gi,";")}function Mp(t){return Lp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fp(t){return decodeURIComponent(t)}function Bp(t){return Fp(t.replace(/\+/g,"%20"))}function jp(t){return`${Mp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Mp(t)}=${Mp(e[t])}`).join("")}`;var e}const zp=/^[^\/()?;=#]+/;function Vp(t){const e=t.match(zp);return e?e[0]:""}const Up=/^[^=?&#]+/,qp=/^[^?&#]+/;class Gp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dp([],{}):new Dp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dp(t,e)),n}parseSegment(){const t=Vp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ip(Fp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Vp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Vp(this.remaining);t&&(n=t,this.capture(n))}t[Fp(e)]=Fp(n)}parseQueryParam(t){const e=function(t){const e=t.match(Up);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qp);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Bp(e),i=Bp(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Vp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=up);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Dp([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Hp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zp(t,this._root).map(t=>t.value)}}function Yp(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yp(t,n);if(e)return e}return null}function Zp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zp(t,n);if(r.length)return r.unshift(e),r}return[]}class Wp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $p(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Xp extends Hp{constructor(t,e){super(t),this.snapshot=e,nd(this,t)}toString(){return this.snapshot.toString()}}function Kp(t,e){const n=function(t,e){const n=new td([],{},{},"",{},up,e,null,t.root,-1,{});return new ed("",new Wp(n,[]))}(t,e),r=new Qh([new Ip("",{})]),i=new Qh({}),o=new Qh({}),s=new Qh({}),a=new Qh(""),u=new Jp(r,i,s,a,o,up,e,n.root);return u.snapshot=n.root,new Xp(new Wp(u,[]),n)}class Jp{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(D(t=>cp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(D(t=>cp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qp(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class td{constructor(t,e,n,r,i,o,s,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ed extends Hp{constructor(t,e){super(e),this.url=t,nd(this,e)}toString(){return rd(this._root)}}function nd(t,e){e.value._routerState=t,e.children.forEach(e=>nd(t,e))}function rd(t){const e=t.children.length>0?` { ${t.children.map(rd).join(", ")} } `:"";return`${t.value}${e}`}function id(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pp(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pp(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pp(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pp(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function od(t,e){var n,r;return pp(t.params,e.params)&&Ap(n=t.url,r=e.url)&&n.every((t,e)=>pp(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||od(t.parent,e.parent))}function sd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return sd(t,e,r);return sd(t,e)})}(t,e,n);return new Wp(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ad(e,t),t}}const n=new Jp(new Qh((r=e.value).url),new Qh(r.params),new Qh(r.queryParams),new Qh(r.fragment),new Qh(r.data),r.outlet,r.component,r),i=e.children.map(e=>sd(t,e));return new Wp(n,i)}var r}function ad(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ad(t.children[n],e.children[n])}function ud(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ld(t){return"object"==typeof t&&null!=t&&t.outlets}function cd(t,e,n,r,i){let o={};return r&&yp(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Sp(n.root===t?e:hd(n.root,t,e),o,i)}function hd(t,e,n){const r={};return yp(t.children,(t,i)=>{r[i]=t===e?n:hd(t,e,n)}),new Dp(t.segments,r)}class fd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ud(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ld);if(r&&r!==gp(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function dd(t,e,n){if(t||(t=new Dp([],{})),0===t.segments.length&&t.hasChildren())return md(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ld(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!vd(a,u,e))return o;r+=2}else{if(!vd(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Dp(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Dp(t.segments.slice(r.pathIndex),t.children),md(e,0,i)}return r.match&&0===i.length?new Dp(t.segments,{}):r.match&&!t.hasChildren()?gd(t,e,n):r.match?md(t,0,i):gd(t,e,n)}function md(t,e,n){if(0===n.length)return new Dp(t.segments,{});{const r=function(t){return ld(t[0])?t[0].outlets:{[up]:t}}(n),i={};return yp(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=dd(t.children[r],e,n))}),yp(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Dp(t.segments,i)}}function gd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ld(o)){const t=yd(o.outlets);return new Dp(r,t)}if(0===i&&ud(n[0])){r.push(new Ip(t.segments[e].path,_d(n[0]))),i++;continue}const s=ld(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ud(a)?(r.push(new Ip(s,_d(a))),i+=2):(r.push(new Ip(s,{})),i++)}return new Dp(r,{})}function yd(t){const e={};return yp(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=gd(new Dp([],{}),0,t))}),e}function _d(t){const e={};return yp(t,(t,n)=>e[n]=`${t}`),e}function vd(t,e,n){return t==n.path&&pp(e,n.parameters)}class bd{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),id(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=$p(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),yp(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=$p(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=$p(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new sp(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ip(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(id(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),wd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function wd(t){id(t.value),t.children.forEach(wd)}class xd{constructor(t,e){this.routes=t,this.module=e}}function Ed(t){return"function"==typeof t}function Cd(t){return t instanceof Sp}const Sd=Symbol("INITIAL_VALUE");function Dd(){return pf(t=>of(t.map(t=>t.pipe(yf(1),bf(Sd)))).pipe(wf((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Sd)return t;if(r===Sd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Cd(r))return r}return t},t)},Sd),_h(t=>t!==Sd),D(t=>Cd(t)?t:!0===t),yf(1)))}let Id=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Cs(0,"router-outlet")},directives:function(){return[wm]},encapsulation:2}),t})();function Ad(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];kd(r,Od(e,r))}}function kd(t,e){t.children&&Ad(t.children,e)}function Od(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Td(t){const e=t.children&&t.children.map(Td),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==up&&(n.component=Id),n}function Rd(t){return t.outlet||up}function Pd(t,e){const n=t.filter(t=>Rd(t)===e);return n.push(...t.filter(t=>Rd(t)!==e)),n}const Ld={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Nd(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ld):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fp)(n,t,e);if(!i)return Object.assign({},Ld);const o={};yp(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Md(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Fd(t,e,n)&&Rd(n)!==up)}(t,n,r)){const i=new Dp(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Rd(o)!==up){const n=new Dp([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Rd(o)]=n}return i}(t,e,r,new Dp(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Fd(t,e,n))}(t,n,r)){const o=new Dp(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Fd(t,n,a)&&!i[Rd(a)]){const n=new Dp([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Rd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Dp(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Fd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Bd(t,e,n,r){return!!(Rd(t)===r||r!==up&&Fd(e,n,t))&&("**"===t.path||Nd(e,t,n).matched)}function jd(t,e,n){return 0===e.length&&!t.children[n]}class zd{constructor(t){this.segmentGroup=t||null}}class Vd{constructor(t){this.urlTree=t}}function Ud(t){return new _(e=>e.error(new zd(t)))}function qd(t){return new _(e=>e.error(new Vd(t)))}function Gd(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Hd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(cu)}apply(){const t=Md(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dp(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,up).pipe(D(t=>this.createUrlTree(Yd(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cf(t=>{if(t instanceof Vd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof zd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,up).pipe(D(e=>this.createUrlTree(Yd(e),t.queryParams,t.fragment))).pipe(Cf(t=>{if(t instanceof zd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Dp([],{[up]:t}):t;return new Sp(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(D(t=>new Dp([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return N(r).pipe(yh(r=>{const i=n.children[r],o=Pd(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(D(t=>({segment:t,outlet:r})))}),wf((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_h((e,n)=>t(e,n,r)):y,If(1),n?Lf(e):Of(()=>new uf))}())}expandSegment(t,e,n,r,i,o){return N(n).pipe(yh(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Cf(t=>{if(t instanceof zd)return gh(null);throw t}))),Ff(t=>!!t),Cf((t,n)=>{if(t instanceof uf||"EmptyError"===t.name){if(jd(e,r,i))return gh(new Dp([],{}));throw new zd(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Bd(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ud(e):Ud(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qd(i):this.lineralizeSegments(n,i).pipe(j(n=>{const i=new Dp(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:l}=Nd(e,r,i);if(!s)return Ud(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?qd(c):this.lineralizeSegments(r,c).pipe(j(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?gh(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(D(t=>(n._loadedConfig=t,new Dp(r,{})))):gh(new Dp(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Nd(e,n,r);if(!o)return Ud(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(j(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=Md(e,s,u,o),c=new Dp(a.segments,a.children);if(0===l.length&&c.hasChildren())return this.expandChildren(r,o,c).pipe(D(t=>new Dp(s,t)));if(0===o.length&&0===l.length)return gh(new Dp(s,{}));const h=Rd(n)===i;return this.expandSegment(r,c,o,l,h?up:i,!0).pipe(D(t=>new Dp(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?gh(new xd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?gh(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(j(n=>n?this.configLoader.load(t.injector,e).pipe(D(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(hp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):gh(new xd([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?gh(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ed(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ed(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return _p(o)})).pipe(Dd(),jf(t=>{if(!Cd(t))return;const e=hp(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),D(t=>!0===t)):gh(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return gh(n);if(r.numberOfChildren>1||!r.children.primary)return Gd(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Sp(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return yp(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return yp(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Dp(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Yd(t){const e={};for(const n of Object.keys(t.children)){const r=Yd(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Dp(t.segments.concat(e.segments),e.children)}return t}(new Dp(t.segments,e))}class Zd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wd{constructor(t,e){this.component=t,this.route=e}}function $d(t,e,n){const r=t._root;return Kd(r,e?e._root:null,n,[r.value])}function Xd(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Kd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=$p(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ap(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ap(t.url,e.url)||!pp(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!od(t,e)||!pp(t.queryParams,e.queryParams);case"paramsChange":default:return!od(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Zd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Kd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wd(a.outlet.component,s))}else s&&Jd(e,a,i),i.canActivateChecks.push(new Zd(r)),Kd(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),yp(o,(t,e)=>Jd(t,n.getContext(e),i)),i}function Jd(t,e,n){const r=$p(t),i=t.value;yp(r,(t,r)=>{Jd(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Wd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Qd{}function tm(t){return new _(e=>e.error(t))}class em{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Md(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,up);if(null===e)return null;const n=new td([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},up,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wp(n,e),i=new ed(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Qp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Pd(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=rm(n);return r.sort((t,e)=>t.value.outlet===up?-1:e.value.outlet===up?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return jd(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Bd(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?gp(n).parameters:{};i=new td(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sm(t),Rd(t),t.component,t,im(e),om(e)+n.length,am(t))}else{const r=Nd(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new td(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sm(t),Rd(t),t.component,t,im(e),om(e)+o.length,am(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=Md(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Wp(i,t)]}if(0===a.length&&0===l.length)return[new Wp(i,[])];const c=Rd(t)===r,h=this.processSegment(a,u,l,c?up:r);return null===h?null:[new Wp(i,h)]}}function nm(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rm(t){const e=[],n=new Set;for(const r of t){if(!nm(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=rm(r.children);e.push(new Wp(r.value,t))}return e.filter(t=>!n.has(t))}function im(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function om(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function sm(t){return t.data||{}}function am(t){return t.resolve||{}}function um(t){return pf(e=>{const n=t(e);return n?N(n).pipe(D(()=>e)):gh(e)})}class lm extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const cm=new Yn("ROUTES");class hm{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(D(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new xd(mp(r.injector.get(cm,void 0,bt.Self|bt.Optional)).map(Td),r)}),Cf(t=>{throw e._loader$=void 0,t}));return e._loader$=new W(n,()=>new E).pipe(H()),e._loader$}loadModuleFactory(t){return"string"==typeof t?N(this.loader.load(t)):_p(t()).pipe(j(t=>t instanceof hu?gh(t):N(this.compiler.compileModuleAsync(t))))}}class fm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pm,this.attachRef=null}}class pm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mm(t){throw t}function gm(t,e,n){return e.parse("/")}function ym(t,e){return gh(null)}const _m={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bm=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=mm,this.malformedUriErrorHandler=gm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ym,afterPreactivation:ym},this.urlHandlingStrategy=new dm,this.routeReuseStrategy=new lm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(cu),this.console=i.get(ol);const u=i.get(_l);this.isNgZoneEnabled=u instanceof _l&&_l.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Sp(new Dp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hm(o,s,t=>this.triggerEvent(new ep(t)),t=>this.triggerEvent(new np(t))),this.routerState=Kp(this.currentUrlTree,this.rootComponentType),this.transitions=new Qh({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(_h(t=>0!==t.id),D(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),pf(t=>{let n=!1,r=!1;return gh(t).pipe(jf(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pf(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return gh(t).pipe(pf(t=>{const n=this.transitions.getValue();return e.next(new Yf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?cf:Promise.resolve(t)}),function(t,e,n,r){return pf(i=>function(t,e,n,r,i){return new Hd(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(D(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jf(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return j(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new em(t,e,n,r,i,o).recognize();return null===s?tm(new Qd):gh(s)}catch(s){return tm(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(D(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),jf(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Xf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Yf(n,this.serializeUrl(r),i,o);e.next(a);const u=Kp(r,this.rootComponentType).snapshot;return gh(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),cf}),um(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),jf(t=>{const e=new Kf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),D(t=>Object.assign(Object.assign({},t),{guards:$d(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return j(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?gh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return N(t).pipe(j(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?gh(o.map(o=>{const s=Xd(o,e,i);let a;if(function(t){return t&&Ed(t.canDeactivate)}(s))a=_p(s.canDeactivate(t,e,n,r));else{if(!Ed(s))throw new Error("Invalid CanDeactivate guard");a=_p(s(t,e,n,r))}return a.pipe(Ff())})).pipe(Dd()):gh(!0)}(t.component,t.route,n,e,r)),Ff(t=>!0!==t,!0))}(s,r,i,t).pipe(j(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return N(e).pipe(yh(e=>lf(function(t,e){return null!==t&&e&&e(new rp(t)),gh(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new op(t)),gh(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ff(()=>gh(e.guards.map(i=>{const o=Xd(i,e.node,n);let s;if(function(t){return t&&Ed(t.canActivateChild)}(o))s=_p(o.canActivateChild(r,t));else{if(!Ed(o))throw new Error("Invalid CanActivateChild guard");s=_p(o(r,t))}return s.pipe(Ff())})).pipe(Dd())));return gh(i).pipe(Dd())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?gh(r.map(r=>ff(()=>{const i=Xd(r,e,n);let o;if(function(t){return t&&Ed(t.canActivate)}(i))o=_p(i.canActivate(e,t));else{if(!Ed(i))throw new Error("Invalid CanActivate guard");o=_p(i(e,t))}return o.pipe(Ff())}))).pipe(Dd()):gh(!0)}(t,e.route,n))),Ff(t=>!0!==t,!0))}(r,o,t,e):gh(n)),D(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),jf(t=>{if(Cd(t.guardsResult)){const e=hp(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Jf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),_h(t=>!!t.guardsResult||(this.cancelNavigationTransitionRestoreHistory(t,""),!1)),um(t=>{if(t.guards.canActivateChecks.length)return gh(t).pipe(jf(t=>{const e=new Qf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),pf(t=>{let e=!1;return gh(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,j(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return gh(t);let o=0;return N(i).pipe(yh(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return gh({});const o={};return N(i).pipe(j(i=>function(t,e,n,r){const i=Xd(t,e,r);return _p(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(jf(t=>{o[i]=t}))),If(1),j(()=>Object.keys(o).length===i.length?gh(o):cf))}(t._resolve,t,e,r).pipe(D(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Qp(t,n).resolve),null)))}(t.route,e,n,r)),jf(()=>o++),If(1),j(e=>o===i.length?gh(t):cf))})),jf({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransitionRestoreHistory(t,"At least one route resolver didn't emit any value.")}}));var n,r}),jf(t=>{const e=new tp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),um(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),D(t=>{const e=function(t,e,n){const r=sd(t,e._root,n?n._root:void 0);return new Xp(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),jf(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),D(t=>(new bd(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),jf({next(){n=!0},complete(){n=!0}}),Uf(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?this.cancelNavigationTransitionRestoreHistory(t,e):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),Cf(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Cd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Wf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new $f(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(jE){t.reject(jE)}}var i;return cf}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ad(t),this.config=t.map(Td),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return cd(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return yp(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new fd(n,e,r)}(n);if(o.toRoot())return cd(e.root,new Dp([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new pd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pd(t,t===e.root,0)}const r=ud(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pd(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?md(s.segmentGroup,s.index,o.commands):dd(s.segmentGroup,s.index,o.commands);return cd(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Cd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},_m):!1===e?Object.assign({},vm):e,Cd(t))return wp(this.currentUrlTree,t,n);const r=this.parseUrl(t);return wp(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==e&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&l)return Promise.resolve(!0);let c,h,f;i?(c=i.resolve,h=i.reject,f=i.promise):f=new Promise((t,e)=>{c=t,h=e});const p=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransitionRestoreHistory(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree(),this.cancelNavigationTransition(t,e)}cancelNavigationTransition(t,e){const n=new Wf(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(cr(Wn),cr(kp),cr(pm),cr(fc),cr(rs),cr(Vl),cr(ml),cr(void 0))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),wm=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ku,this.deactivateEvents=new ku,this.name=r||up,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xm(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(vs(pm),vs(pu),vs(Sa),zn("name"),vs(eu))},t.\u0275dir=Wt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class xm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Jp?this.route:t===pm?this.childContexts:this.parent.get(t,e)}}class Em{}class Cm{preload(t,e){return gh(null)}}let Sm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new hm(e,n,e=>t.triggerEvent(new ep(e)),e=>t.triggerEvent(new np(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(_h(t=>t instanceof Zf),yh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(cu);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return N(n).pipe(U(),D(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?gh(e._loadedConfig):this.loader.load(t.injector,e)).pipe(j(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(cr(bm),cr(Vl),cr(ml),cr(rs),cr(Em))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Dm=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ap&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ap(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(cr(bm),cr(Pc),cr(void 0))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Im=new Yn("ROUTER_CONFIGURATION"),Am=new Yn("ROUTER_FORROOT_GUARD"),km=[fc,{provide:kp,useClass:Op},{provide:bm,useFactory:function(t,e,n,r,i,o,s,a={},u,l){const c=new bm(null,t,e,n,r,i,o,mp(s));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[kp,pm,fc,rs,Vl,ml,cm,Im,[class{},new mr],[class{},new mr]]},pm,{provide:Jp,useFactory:function(t){return t.routerState.root},deps:[bm]},{provide:Vl,useClass:Gl},Sm,Cm,class{preload(t,e){return e().pipe(Cf(()=>gh(null)))}},{provide:Im,useValue:{enableTracing:!1}}];function Om(){return new Ll("Router",bm)}let Tm=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[km,Nm(e),{provide:Am,useFactory:Lm,deps:[[bm,new mr,new gr]]},{provide:Im,useValue:n||{}},{provide:ac,useFactory:Pm,deps:[Jl,[new dr(lc),new mr],Im]},{provide:Dm,useFactory:Rm,deps:[bm,Pc,Im]},{provide:Em,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Cm},{provide:Ll,multi:!0,useFactory:Om},[Mm,{provide:Ku,multi:!0,useFactory:Fm,deps:[Mm]},{provide:jm,useFactory:Bm,deps:[Mm]},{provide:il,multi:!0,useExisting:jm}]]}}static forChild(e){return{ngModule:t,providers:[Nm(e)]}}}return t.\u0275fac=function(e){return new(e||t)(cr(Am,8),cr(bm,8))},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})();function Rm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Dm(t,e,n)}function Pm(t,e,n={}){return n.useHash?new hc(t,e):new cc(t,e)}function Lm(t){return"guarded"}function Nm(t){return[{provide:Zn,multi:!0,useValue:t},{provide:cm,multi:!0,useValue:t}]}let Mm=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(tc,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(bm),r=this.injector.get(Im);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?gh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Im),n=this.injector.get(Sm),r=this.injector.get(Dm),i=this.injector.get(bm),o=this.injector.get(jl);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(cr(rs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Fm(t){return t.appInitializer.bind(t)}function Bm(t){return t.bootstrapListener.bind(t)}const jm=new Yn("Router Initializer"),zm=[];let Vm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[Tm.forRoot(zm)],Tm]}),t})();var Um=n(577),qm=n.n(Um),Gm=6e4,Hm=36e5,Ym="millisecond",Zm="second",Wm="minute",$m="hour",Xm="day",Km="week",Jm="month",Qm="quarter",tg="year",eg="date",ng="Invalid Date",rg=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ig=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const og={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")};var sg=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t};const ag={s:sg,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+sg(r,2,"0")+":"+sg(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,Jm),o=n-i<0,s=e.clone().add(r+(o?-1:1),Jm);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:Jm,y:tg,w:Km,d:Xm,D:eg,h:$m,m:Wm,s:Zm,ms:Ym,Q:Qm}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}};var ug="en",lg={};lg[ug]=og;var cg=function(t){return t instanceof dg},hg=function(t,e,n){var r;if(!t)return ug;if("string"==typeof t)lg[t]&&(r=t),e&&(lg[t]=e,r=t);else{var i=t.name;lg[i]=t,r=i}return!n&&r&&(ug=r),r||!n&&ug},fg=function(t,e){if(cg(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new dg(n)},pg=ag;pg.l=hg,pg.i=cg,pg.w=function(t,e){return fg(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var dg=function(){function t(t){this.$L=hg(t.locale,null,!0),this.parse(t)}var e=t.prototype;return e.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(pg.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(rg);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return pg},e.isValid=function(){return!(this.$d.toString()===ng)},e.isSame=function(t,e){var n=fg(t);return this.startOf(e)<=n&&n<=this.endOf(e)},e.isAfter=function(t,e){return fg(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<fg(t)},e.$g=function(t,e,n){return pg.u(t)?this[e]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var n=this,r=!!pg.u(e)||e,i=pg.p(t),o=function(t,e){var i=pg.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(Xm)},s=function(t,e){return pg.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},a=this.$W,u=this.$M,l=this.$D,c="set"+(this.$u?"UTC":"");switch(i){case tg:return r?o(1,0):o(31,11);case Jm:return r?o(1,u):o(0,u+1);case Km:var h=this.$locale().weekStart||0,f=(a<h?a+7:a)-h;return o(r?l-f:l+(6-f),u);case Xm:case eg:return s(c+"Hours",0);case $m:return s(c+"Minutes",1);case Wm:return s(c+"Seconds",2);case Zm:return s(c+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n,r=pg.p(t),i="set"+(this.$u?"UTC":""),o=(n={},n[Xm]=i+"Date",n[eg]=i+"Date",n[Jm]=i+"Month",n[tg]=i+"FullYear",n[$m]=i+"Hours",n[Wm]=i+"Minutes",n[Zm]=i+"Seconds",n[Ym]=i+"Milliseconds",n)[r],s=r===Xm?this.$D+(e-this.$W):e;if(r===Jm||r===tg){var a=this.clone().set(eg,1);a.$d[o](s),a.init(),this.$d=a.set(eg,Math.min(this.$D,a.daysInMonth())).$d}else o&&this.$d[o](s);return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[pg.p(t)]()},e.add=function(t,e){var n,r=this;t=Number(t);var i=pg.p(e),o=function(e){var n=fg(r);return pg.w(n.date(n.date()+Math.round(e*t)),r)};if(i===Jm)return this.set(Jm,this.$M+t);if(i===tg)return this.set(tg,this.$y+t);if(i===Xm)return o(1);if(i===Km)return o(7);var s=(n={},n[Wm]=Gm,n[$m]=Hm,n[Zm]=1e3,n)[i]||1,a=this.$d.getTime()+t*s;return pg.w(a,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var e=this;if(!this.isValid())return ng;var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=pg.z(this),i=this.$locale(),o=this.$H,s=this.$m,a=this.$M,u=i.weekdays,l=i.months,c=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},h=function(t){return pg.s(o%12||12,t,"0")},f=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:pg.s(a+1,2,"0"),MMM:c(i.monthsShort,a,l,3),MMMM:c(l,a),D:this.$D,DD:pg.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,u,2),ddd:c(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:pg.s(o,2,"0"),h:h(1),hh:h(2),a:f(o,s,!0),A:f(o,s,!1),m:String(s),mm:pg.s(s,2,"0"),s:String(this.$s),ss:pg.s(this.$s,2,"0"),SSS:pg.s(this.$ms,3,"0"),Z:r};return n.replace(ig,function(t,e){return e||p[t]||r.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,n){var r,i=pg.p(e),o=fg(t),s=(o.utcOffset()-this.utcOffset())*Gm,a=this-o,u=pg.m(this,o);return u=(r={},r[tg]=u/12,r[Jm]=u,r[Qm]=u/3,r[Km]=(a-s)/6048e5,r[Xm]=(a-s)/864e5,r[$m]=a/Hm,r[Wm]=a/Gm,r[Zm]=a/1e3,r)[i]||a,n?u:pg.a(u)},e.daysInMonth=function(){return this.endOf(Jm).$D},e.$locale=function(){return lg[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=hg(t,e,!0);return r&&(n.$L=r),n},e.clone=function(){return pg.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}(),mg=dg.prototype;fg.prototype=mg,[["$ms",Ym],["$s",Zm],["$m",Wm],["$H",$m],["$W",Xm],["$M",Jm],["$y",tg],["$D",eg]].forEach(function(t){mg[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),fg.extend=function(t,e){return t.$i||(t(e,dg,fg),t.$i=!0),fg},fg.locale=hg,fg.isDayjs=cg,fg.unix=function(t){return fg(1e3*t)},fg.en=lg[ug],fg.Ls=lg,fg.p={};const gg=fg;var yg=n(71),_g=n(701),vg=n.n(_g),bg=n(593),wg=n.n(bg),xg={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Eg=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Cg=/\d\d/,Sg=/\d\d?/,Dg=/\d*[^\s\d-_:/()]+/,Ig={},Ag=function(t){return function(e){this[t]=+e}},kg=[/[+-]\d\d:?(\d\d)?/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],Og=function(t){var e=Ig[t];return e&&(e.indexOf?e:e.s.concat(e.f))},Tg=function(t,e){var n,r=Ig.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},Rg={A:[Dg,function(t){this.afternoon=Tg(t,!1)}],a:[Dg,function(t){this.afternoon=Tg(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[Cg,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[Sg,Ag("seconds")],ss:[Sg,Ag("seconds")],m:[Sg,Ag("minutes")],mm:[Sg,Ag("minutes")],H:[Sg,Ag("hours")],h:[Sg,Ag("hours")],HH:[Sg,Ag("hours")],hh:[Sg,Ag("hours")],D:[Sg,Ag("day")],DD:[Cg,Ag("day")],Do:[Dg,function(t){var e=Ig.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],M:[Sg,Ag("month")],MM:[Cg,Ag("month")],MMM:[Dg,function(t){var e=Og("months"),n=(Og("monthsShort")||e.map(function(t){return t.substr(0,3)})).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[Dg,function(t){var e=Og("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,Ag("year")],YY:[Cg,function(t){this.year=(t=+t)+(t>68?1900:2e3)}],YYYY:[/\d{4}/,Ag("year")],Z:kg,ZZ:kg};const Pg=function(t,e,n){n.p.customParseFormat=!0;var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,o=t.args;this.$u=r;var s=o[1];if("string"==typeof s){var a=!0===o[2],u=!0===o[3],l=a||u,c=o[2];u&&(c=o[2]),Ig=this.$locale(),!a&&c&&(Ig=n.Ls[c]),this.$d=function(t,e,n){try{var r=function(t){var e;e=Ig&&Ig.formats;for(var n=(t=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,n,r){var i=r&&r.toUpperCase();return n||e[r]||xg[r]||e[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})})).match(Eg),r=n.length,i=0;i<r;i+=1){var o=n[i],s=Rg[o],a=s&&s[1];n[i]=a?{regex:s&&s[0],parser:a}:o.replace(/^\[|\]$/g,"")}return function(t){for(var e={},i=0,o=0;i<r;i+=1){var s=n[i];if("string"==typeof s)o+=s.length;else{var a=s.regex,u=s.parser,l=t.substr(o),c=a.exec(l)[0];u.call(e,c),t=t.replace(c,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}(e)(t),i=r.year,o=r.month,s=r.day,a=r.hours,u=r.minutes,l=r.seconds,c=r.milliseconds,h=r.zone,f=new Date,p=s||(i||o?1:f.getDate()),d=i||f.getFullYear(),m=0;i&&!o||(m=o>0?o-1:f.getMonth());var g=a||0,y=u||0,_=l||0,v=c||0;return h?new Date(Date.UTC(d,m,p,g,y,_,v+60*h.offset*1e3)):n?new Date(Date.UTC(d,m,p,g,y,_,v)):new Date(d,m,p,g,y,_,v)}catch(b){return new Date("")}}(e,s,r),this.init(),c&&!0!==c&&(this.$L=this.locale(c).$L),l&&e!==this.format(s)&&(this.$d=new Date("")),Ig={}}else if(s instanceof Array)for(var h=s.length,f=1;f<=h;f+=1){o[1]=s[f-1];var p=n.apply(this,o);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}f===h&&(this.$d=new Date(""))}else i.call(this,t)}};var Lg=n(522),Ng=n.n(Lg),Mg=function(t,e){return(Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Fg(t,e){function n(){this.constructor=t}Mg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Bg(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function jg(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function zg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jg(arguments[e]));return t}var Vg=function(){function t(){}return t.prototype.next=function(){return{done:!0,value:null}},t}(),Ug=function(){function t(){}return t.prototype[Symbol.iterator]=function(){return new Vg},t}(),qg=function(){function t(){this.index=0}return t.prototype.next=function(){return{done:!1,value:this.index++}},t}(),Gg=function(){function t(){}return t.prototype[Symbol.iterator]=function(){return new qg},t}(),Hg=function(){function t(t){this.iterators=t}return t.prototype.next=function(){if(0===this.iterators.length)return{done:!0,value:[]};var t,e,n=[];try{for(var r=Bg(this.iterators),i=r.next();!i.done;i=r.next()){var o=i.value.next();if(o.done)return{done:!0,value:[]};n.push(o.value)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return{done:!1,value:n}},t}(),Yg=function(){function t(t){this.iterables=t}return t.prototype[Symbol.iterator]=function(){var t,e,n=[];try{for(var r=Bg(this.iterables),i=r.next();!i.done;i=r.next())n.push(i.value[Symbol.iterator]())}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Hg(n)},t}(),Zg=function(){function t(t,e){this.index=0,this.iterator=t,this.selector=e}return t.prototype.next=function(){var t=this.iterator.next();return t.done?{done:!0}:{done:!1,value:this.selector(t.value,this.index++)}},t}(),Wg=function(){function t(t,e){this.iterable=t,this.selector=e}return t.prototype[Symbol.iterator]=function(){var t=this.iterable[Symbol.iterator]();return new Zg(t,this.selector)},t}(),$g=function(){function t(t,e){this.index=0,this.iterator=t,this.selector=e,this.outputIterator=null}return t.prototype.next=function(){for(;;){if(null===this.outputIterator){var t=this.iterator.next();if(t.done)return{done:!0};var e=this.selector(t.value,this.index++);this.outputIterator=e[Symbol.iterator]()}var n=this.outputIterator.next();if(!n.done)return n;this.outputIterator=null}},t}(),Xg=function(){function t(t,e){this.iterable=t,this.selector=e}return t.prototype[Symbol.iterator]=function(){var t=this.iterable[Symbol.iterator]();return new $g(t,this.selector)},t}(),Kg=function(){function t(t,e){this.childIterator=t,this.numElements=e}return t.prototype.next=function(){return this.numElements<=0?{done:!0}:(--this.numElements,this.childIterator.next())},t}(),Jg=function(){function t(t,e){this.childIterable=t,this.numElements=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new Kg(t,this.numElements)},t}(),Qg=function(){function t(t,e){this.done=!1,this.childIterator=t,this.predicate=e}return t.prototype.next=function(){if(!this.done){var t=this.childIterator.next();if(t.done)this.done=!0;else{if(this.predicate(t.value))return t;this.done=!0}}return{done:!0}},t}(),ty=function(){function t(t,e){this.childIterable=t,this.predicate=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new Qg(t,this.predicate)},t}(),ey=function(){function t(t,e){this.childIterator=t,this.predicate=e}return t.prototype.next=function(){for(;;){var t=this.childIterator.next();if(t.done)return t;if(this.predicate(t.value))return t}},t}(),ny=function(){function t(t,e){this.childIterable=t,this.predicate=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new ey(t,this.predicate)},t}(),ry=function(){function t(t){this.curIterator=null,this.iterables=t,this.iterator=t[Symbol.iterator](),this.moveToNextIterable()}return t.prototype.moveToNextIterable=function(){var t=this.iterator.next();this.curIterator=t.done?null:t.value[Symbol.iterator]()},t.prototype.next=function(){for(;;){if(null==this.curIterator)return{done:!0};var t=this.curIterator.next();if(!t.done)return t;this.moveToNextIterable()}},t}(),iy=function(){function t(t){this.iterables=t}return t.prototype[Symbol.iterator]=function(){return new ry(this.iterables)},t}(),oy=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype.next=function(){this.iterator||(this.iterator=this.iterable[Symbol.iterator]());for(var t=[],e=0;e<this.period;++e){var n=this.iterator.next();if(n.done)break;t.push(n.value)}if(0===t.length)return{done:!0};var r=new e_({pairs:t});return{value:[this.whichIndex===t_.Start?r.getIndex().first():r.getIndex().last(),r],done:!1}},t}(),sy=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype[Symbol.iterator]=function(){return new oy(this.iterable,this.period,this.whichIndex)},t}(),ay=function(){function t(t){this.index=0,this.arr=t}return t.prototype.next=function(){return this.index<this.arr.length?{done:!1,value:this.arr[this.index++]}:{done:!0}},t}(),uy=function(){function t(t){this.iterable=t}return t.prototype[Symbol.iterator]=function(){var t,e,n=[];try{for(var r=Bg(this.iterable),i=r.next();!i.done;i=r.next())n.push(i.value)}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n.reverse(),new ay(n)},t}(),ly=function(){function t(t,e){this.iterators=t.map(function(t){return t[Symbol.iterator]()}),this.zipper=e}return t.prototype.next=function(){var t=this.iterators.map(function(t){return t.next()});try{for(var e=Bg(t),n=e.next();!n.done;n=e.next())if(n.value.done)return{done:!0}}catch(a){r={error:a}}finally{try{n&&!n.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}var r,i,o=t.map(function(t){return t.value}),s=new e_(o);return{done:!1,value:this.zipper(s)}},t}(),cy=function(){function t(t,e){this.iterables=t,this.zipper=e}return t.prototype[Symbol.iterator]=function(){return new ly(this.iterables,this.zipper)},t}(),hy=function(){function t(t,e){this.valuesAlreadySeen=new Set,this.iterator=t[Symbol.iterator](),this.selector=e}return t.prototype.next=function(){for(;;){var t,e=this.iterator.next();if(e.done)return{done:!0};if(t=this.selector?this.selector(e.value):e.value,!this.valuesAlreadySeen.has(t))return this.valuesAlreadySeen.add(t),{done:!1,value:e.value}}},t}(),fy=function(){function t(t,e){this.iterable=t,this.selector=e}return t.prototype[Symbol.iterator]=function(){return new hy(this.iterable,this.selector)},t}(),py=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype.next=function(){if(this.curWindow){if(this.curWindow.shift(),(e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}else{this.curWindow=[],this.iterator=this.iterable[Symbol.iterator]();for(var t=0;t<this.period;++t){var e;if((e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}}var n=new e_({pairs:this.curWindow});return{value:[this.whichIndex===t_.Start?n.getIndex().first():n.getIndex().last(),n],done:!1}},t}(),dy=function(){function t(t,e,n){this.iterable=t,this.period=e,this.whichIndex=n}return t.prototype[Symbol.iterator]=function(){return new py(this.iterable,this.period,this.whichIndex)},t}(),my=function(){function t(t,e){this.iterator=t[Symbol.iterator](),this.nextValue=this.iterator.next(),this.comparer=e}return t.prototype.next=function(){if(this.nextValue.done)return{done:!0};for(var t=[this.nextValue.value],e=this.nextValue.value;this.nextValue=this.iterator.next(),!this.nextValue.done;){if(!this.comparer(e[1],this.nextValue.value[1])){e=this.nextValue.value;break}t.push(this.nextValue.value),e=this.nextValue.value}return{value:new e_({pairs:t}),done:!1}},t}(),gy=function(){function t(t,e){this.iterable=t,this.comparer=e}return t.prototype[Symbol.iterator]=function(){return new my(this.iterable,this.comparer)},t}(),yy=(()=>(function(t){t[t.Ascending=0]="Ascending",t[t.Descending=1]="Descending"}(yy||(yy={})),yy))(),_y=function(){function t(t,e){this.values=t,this.sortSpec=e,this.keys=[]}return t.prototype.genKeys=function(){var t,e;if(!(this.keys.length>0))try{for(var n=Bg(this.values),r=n.next();!r.done;r=n.next())this.keys.push(this.sortSpec.selector(r.value,0))}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.compare=function(t,e){this.genKeys();var n=this.keys[t],r=this.keys[e],i=-1;return n===r?i=0:n>r&&(i=1),this.sortSpec.direction===yy.Descending?-i:i},t}(),vy=function(){function t(t,e){this.iterable=t,this.sortSpec=e}return t.prototype[Symbol.iterator]=function(){var t=[],e=[],n=0;try{for(var r=Bg(this.iterable),i=r.next();!i.done;i=r.next()){var o=i.value;t.push(n),e.push(o),++n}}catch(_){l={error:_}}finally{try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}var s=[];try{for(var a=Bg(this.sortSpec),u=a.next();!u.done;u=a.next())s.push(new _y(e,u.value))}catch(v){h={error:v}}finally{try{u&&!u.done&&(f=a.return)&&f.call(a)}finally{if(h)throw h.error}}s[0].genKeys(),t.sort(function(t,e){try{for(var n=Bg(s),r=n.next();!r.done;r=n.next()){var i=r.value.compare(t,e);if(0!==i)return i}}catch(u){o={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(o)throw o.error}}return 0;var o,a});var l,c,h,f,p,d,m=[];try{for(var g=Bg(t),y=g.next();!y.done;y=g.next())m.push(e[y.value])}catch(b){p={error:b}}finally{try{y&&!y.done&&(d=g.return)&&d.call(g)}finally{if(p)throw p.error}}return new ay(m)},t}(),by=function(){function t(t,e){this.iterator=t,this.extractIndex=e}return t.prototype.next=function(){var t=this.iterator.next();return t.done?t:{done:!1,value:t.value[this.extractIndex]}},t}(),wy=function(){function t(t,e){this.arrayIterable=t,this.extractIndex=e}return t.prototype[Symbol.iterator]=function(){var t=this.arrayIterable[Symbol.iterator]();return new by(t,this.extractIndex)},t}(),xy=function(){function t(t,e){this.iterator=t,this.numValues=e}return t.prototype.next=function(){for(;--this.numValues>=0;){var t=this.iterator.next();if(t.done)return t}return this.iterator.next()},t}(),Ey=function(){function t(t,e){this.iterable=t,this.numValues=e}return t.prototype[Symbol.iterator]=function(){var t=this.iterable[Symbol.iterator]();return new xy(t,this.numValues)},t}(),Cy=function(){function t(t,e){this.doneSkipping=!1,this.childIterator=t,this.predicate=e}return t.prototype.next=function(){for(;;){var t=this.childIterator.next();if(t.done)return t;if(this.doneSkipping||!this.predicate(t.value))return this.doneSkipping=!0,t}},t}(),Sy=function(){function t(t,e){this.childIterable=t,this.predicate=e}return t.prototype[Symbol.iterator]=function(){var t=this.childIterable[Symbol.iterator]();return new Cy(t,this.predicate)},t}(),Dy=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype.next=function(){this.iterator||(this.iterator=this.iterable[Symbol.iterator]());for(var t=[],e=0;e<this.period;++e){var n=this.iterator.next();if(n.done)break;t.push(n.value)}return 0===t.length?{done:!0}:{value:new Jy({columnNames:this.columnNames,pairs:t}),done:!1}},t}(),Iy=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype[Symbol.iterator]=function(){return new Dy(this.columnNames,this.iterable,this.period)},t}(),Ay=function(){function t(t,e){this.index=0,this.columnNames=Array.from(t),this.rowsIterator=e[Symbol.iterator]()}return t.prototype.next=function(){var t=this.rowsIterator.next();if(t.done)return{done:!0};for(var e=t.value,n={},r=0;r<this.columnNames.length;++r)n[this.columnNames[r]]=e[r];return{done:!1,value:n}},t}(),ky=function(){function t(t,e){this.columnNames=t,this.rows=e}return t.prototype[Symbol.iterator]=function(){return new Ay(this.columnNames,this.rows)},t}(),Oy=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype.next=function(){if(this.curWindow){if(this.curWindow.shift(),(e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}else{this.curWindow=[],this.iterator=this.iterable[Symbol.iterator]();for(var t=0;t<this.period;++t){var e;if((e=this.iterator.next()).done)return{done:!0};this.curWindow.push(e.value)}}return{value:new Jy({columnNames:this.columnNames,pairs:this.curWindow}),done:!1}},t}(),Ty=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.period=n}return t.prototype[Symbol.iterator]=function(){return new Oy(this.columnNames,this.iterable,this.period)},t}(),Ry=function(){function t(t,e,n){this.columnNames=t,this.iterator=e[Symbol.iterator](),this.nextValue=this.iterator.next(),this.comparer=n}return t.prototype.next=function(){if(this.nextValue.done)return{done:!0};for(var t=[this.nextValue.value],e=this.nextValue.value;this.nextValue=this.iterator.next(),!this.nextValue.done;){if(!this.comparer(e[1],this.nextValue.value[1])){e=this.nextValue.value;break}t.push(this.nextValue.value),e=this.nextValue.value}return{value:new Jy({columnNames:this.columnNames,pairs:t}),done:!1}},t}(),Py=function(){function t(t,e,n){this.columnNames=t,this.iterable=e,this.comparer=n}return t.prototype[Symbol.iterator]=function(){return new Ry(this.columnNames,this.iterable,this.comparer)},t}(),Ly=function(){function t(t,e){this.repetition=0,this.iterator=t[Symbol.iterator](),this.count=e,this.result=this.iterator.next()}return t.prototype.next=function(){return 0==this.count?{done:!0}:(this.repetition==this.count&&(this.result=this.iterator.next(),this.repetition=0),this.repetition+=1,this.result.done?{done:!0}:{done:!1,value:this.result.value})},t}(),Ny=function(){function t(t,e){this.iterable=t,this.count=e}return t.prototype[Symbol.iterator]=function(){return new Ly(this.iterable,this.count)},t}(),My=function(){function t(t,e){this.count=0,this.repetition=0,this.firstIteration=!0,this.iterable=t,this.iterator=t[Symbol.iterator](),this.count=e}return t.prototype.next=function(){var t=this.iterator.next();return this.firstIteration&&t.done?{done:!0}:(this.firstIteration=!1,t.done&&(this.repetition+=1,this.iterator=this.iterable[Symbol.iterator](),t=this.iterator.next()),this.repetition<this.count?{done:!1,value:t.value}:{done:!0})},t}(),Fy=function(){function t(t,e){this.iterable=t,this.count=e}return t.prototype[Symbol.iterator]=function(){return new My(this.iterable,this.count)},t}(),By=function(){function t(t){this.iteratorIndex=0,this.iterators=t.map(function(t){return t[Symbol.iterator]()})}return t.prototype.next=function(){if(this.iterators.length>0){for(var t=this.iterators[this.iteratorIndex].next();t.done;){if(this.iteratorIndex+=1,!(this.iteratorIndex<this.iterators.length))return{done:!0};t=this.iterators[this.iteratorIndex].next()}return{done:!1,value:t.value}}return{done:!0}},t}(),jy=function(){function t(t){this.iterables=t}return t.prototype[Symbol.iterator]=function(){return new By(this.iterables)},t}(),zy=function(){function t(t,e){this.columnNamesIterator=null,this.values=t,this.considerAllRows=e}return t.prototype.next=function(){if(null===this.columnNamesIterator)if(this.considerAllRows){var t={};try{for(var e=Bg(this.values),n=e.next();!n.done;n=e.next()){var r=n.value;try{for(var i=Bg(Object.keys(r)),o=i.next();!o.done;o=i.next())t[o.value]=!0}catch(h){l={error:h}}finally{try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}}}}catch(f){a={error:f}}finally{try{n&&!n.done&&(u=e.return)&&u.call(e)}finally{if(a)throw a.error}}this.columnNamesIterator=new ay(Object.keys(t))}else{var s=this.values[Symbol.iterator]().next();if(s.done)return{done:!0,value:""};this.columnNamesIterator=new ay(Object.keys(s.value))}return this.columnNamesIterator.next();var a,u,l,c},t}(),Vy=function(){function t(t,e){this.values=t,this.considerAllRows=e}return t.prototype[Symbol.iterator]=function(){return new zy(this.values,this.considerAllRows)},t}();function Uy(t,e){var n,r,i={},o=[];try{for(var s=Bg(t),a=s.next();!a.done;a=s.next()){var u=a.value,l=e&&e(u)||u;i[l]||(i[l]=!0,o.push(u))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function qy(t,e,n){var r,i,o={};try{for(var s=Bg(t),a=s.next();!a.done;a=s.next()){var u=a.value;o[e(u)]=n(u)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function Gy(t){return void 0===t?"undefined":$y(t)?"number":Zy(t)?"string":t instanceof Date?"date":function(t){return(0,yg.ZP)(t).isBoolean}(t)?"boolean":"unsupported"}function Hy(t){return(0,yg.ZP)(t).isObject&&!Wy(t)}function Yy(t){return(0,yg.ZP)(t).isFunction}function Zy(t){return(0,yg.ZP)(t).isString}function Wy(t){return"[object Date]"===Object.prototype.toString.call(t)}function $y(t){return(0,yg.ZP)(t).isNumber}function Xy(t){return(0,yg.ZP)(t).isArray}function Ky(t){return void 0===t}var Jy=function(){function t(e){this.configFn=null,this.content=null,this.indexedContent=null,e?Yy(e)?this.configFn=e:this.content=Xy(e)||Yy(e[Symbol.iterator])?t.initFromArray(e):t.initFromConfig(e):this.content=t.initEmpty()}return t.initFromArray=function(e){var n=e[Symbol.iterator]().next(),r=n.done?[]:Object.keys(n.value);return{index:t.defaultCountIterable,values:e,pairs:new Yg([t.defaultCountIterable,e]),isBaked:!0,columnNames:r}},t.initEmpty=function(){return{index:t.defaultEmptyIterable,values:t.defaultEmptyIterable,pairs:t.defaultEmptyIterable,isBaked:!0,columnNames:[]}},t.initColumnNames=function(t,e){var n=[],r={},i=Array.from(t).map(function(t){return t.toString()});try{for(var o=Bg(i),s=o.next();!s.done;s=o.next()){var a=s.value;void 0===r[m=void 0!==e&&e?a:a.toLowerCase()]?r[m]=1:r[m]+=1}}catch(y){u={error:y}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l,c,h,f={};try{for(var p=Bg(i),d=p.next();!d.done;d=p.next()){var m;if(a=d.value,r[m=void 0!==e&&e?a:a.toLowerCase()]>1){var g=1;void 0!==f[m]&&(g=f[m]),n.push(a+"."+g),f[m]=g+1}else n.push(a)}}catch(_){c={error:_}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}return n},t.checkIterable=function(t,e){if(Xy(t));else if(!Yy(t[Symbol.iterator]))throw new Error("Expected '"+e+"' field of DataFrame config object to be an array of values or an iterable of values.")},t.initFromConfig=function(e){var n,r,i,o,s,a,u=!1;if(e.pairs&&(t.checkIterable(e.pairs,"pairs"),i=e.pairs),e.columns){var l=e.columns;if(Xy(l)||Yy(l[Symbol.iterator])){var c=l;o=Array.from(c).map(function(t){return t.name}),l=qy(c,function(t){return t.name},function(t){return t.series})}else{if(!Hy(l))throw new Error("Expected 'columns' member of 'config' parameter to DataFrame constructor to be an object with fields that define columns.");o=Object.keys(l)}var h=[];try{for(var f=Bg(o),p=f.next();!p.done;p=f.next()){var d=p.value;t.checkIterable(l[d],d),h.push(l[d])}}catch(m){s={error:m}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}r=new ky(o,new Yg(h))}else e.columnNames&&(o=this.initColumnNames(e.columnNames,e.caseSensitive)),e.rows?(e.columnNames||(o=new Wg(new Gg,function(t){return"Column."+t.toString()})),t.checkIterable(e.rows,"rows"),r=new ky(o,e.rows)):e.values?(t.checkIterable(e.values,"values"),r=e.values,e.columnNames||(o=new Vy(r,e.considerAllRows||!1))):i?(r=new wy(i,1),e.columnNames||(o=new Vy(r,e.considerAllRows||!1))):(r=t.defaultEmptyIterable,e.columnNames||(o=t.defaultEmptyIterable));return e.index?(t.checkIterable(e.index,"index"),n=e.index):n=i?new wy(i,0):t.defaultCountIterable,i||(i=new Yg([n,r])),void 0!==e.baked&&(u=e.baked),{index:n,values:r,pairs:i,isBaked:u,columnNames:o}},t.prototype.lazyInit=function(){null===this.content&&null!==this.configFn&&(this.content=t.initFromConfig(this.configFn()))},t.prototype.getContent=function(){return this.lazyInit(),this.content},t.prototype.getRowByIndex=function(t){if(!this.indexedContent){this.indexedContent=new Map;try{for(var e=Bg(this.getContent().pairs),n=e.next();!n.done;n=e.next()){var r=n.value;this.indexedContent.set(r[0],r[1])}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}}return this.indexedContent.get(t);var i,o},t.prototype[Symbol.iterator]=function(){return this.getContent().values[Symbol.iterator]()},t.prototype.getColumnNames=function(){return Array.from(this.getContent().columnNames)},t.prototype.getColumns=function(){var t=this;return new e_(function(){return{values:t.getColumnNames().map(function(e){var n=t.getSeries(e).skipWhile(function(t){return null==t});return{name:e,type:Gy(n.any()?n.first():void 0),series:n}})}})},t.prototype.cast=function(){return this},t.prototype.getIndex=function(){var t=this;return new r_(function(){return{values:t.getContent().index}})},t.prototype.setIndex=function(t){if(!Zy(t))throw new Error("Expected 'columnName' parameter to 'DataFrame.setIndex' to be a string that specifies the name of the column to set as the index for the dataframe.");return this.withIndex(this.getSeries(t))},t.prototype.withIndex=function(e){var n=this;return Yy(e)?new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:t.values,index:n.deflate(e)}}):(t.checkIterable(e,"newIndex"),new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:t.values,index:e}}))},t.prototype.resetIndex=function(){var e=this;return new t(function(){var t=e.getContent();return{columnNames:t.columnNames,values:t.values}})},t.prototype.getSeries=function(t){var e=this;if(!Zy(t))throw new Error("Expected 'columnName' parameter to 'DataFrame.getSeries' function to be a string that specifies the name of the column to retreive.");return new e_(function(){return{values:new Wg(e.getContent().values,function(e){return e[t]}),index:e.getContent().index}})},t.prototype.hasSeries=function(t){var e,n,r=t.toLowerCase();try{for(var i=Bg(this.getColumnNames()),o=i.next();!o.done;o=i.next())if(o.value.toLowerCase()===r)return!0}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1},t.prototype.expectSeries=function(t){if(!this.hasSeries(t))throw new Error("Expected dataframe to contain series with column name: '"+t+"'.");return this.getSeries(t)},t.prototype.withSeries=function(e,n){var r=this;if(Hy(e)){if(!Ky(n))throw new Error("Expected 'series' parameter to 'DataFrame.withSeries' to not be set when 'columnNameOrSpec is an object.")}else{if(!Zy(e))throw new Error("Expected 'columnNameOrSpec' parameter to 'DataFrame.withSeries' function to be a string that specifies the column to set or replace.");if(!Yy(n)&&!Hy(n))throw new Error("Expected 'series' parameter to 'DataFrame.withSeries' to be a Series object or a function that takes a dataframe and produces a Series.")}if(Hy(e)){var i=e,o=Object.keys(i),s=this;try{for(var a=Bg(o),u=a.next();!u.done;u=a.next()){var l=u.value;s=s.withSeries(l,i[l])}}catch(p){c={error:p}}finally{try{u&&!u.done&&(h=a.return)&&h.call(a)}finally{if(c)throw c.error}}return s.cast()}var c,h,f=e;return this.none()?(Yy(n)?n(this):n).inflate(function(t){var e={};return e[f]=t,e}).cast():new t(function(){var t=function(t,e,n){var r,i,o=new Map;try{for(var s=Bg(t),a=s.next();!a.done;a=s.next()){var u=a.value;o.set(u[0],u[1])}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}((Yy(n)?n(r):n).toPairs());return{columnNames:Uy(r.getColumnNames().concat([f])),index:r.getContent().index,pairs:new Wg(r.getContent().pairs,function(e){var n=e[0],r=Object.assign({},e[1]);return r[f]=t.get(n),[n,r]})}})},t.merge=function(e){var n=new Map;try{for(var r=Bg(e),i=r.next();!i.done;i=r.next()){var o=i.value;try{for(var s=Bg(o.toPairs()),a=s.next();!a.done;a=s.next()){var u=a.value,l=u[0];if(n.has(l))n.set(l,Object.assign(n.get(l),u[1]));else{var c=Object.assign({},u[1]);n.set(l,c)}}}catch(y){p={error:y}}finally{try{a&&!a.done&&(d=s.return)&&d.call(s)}finally{if(p)throw p.error}}}}catch(_){h={error:_}}finally{try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(h)throw h.error}}var h,f,p,d,m=Uy(Array.from(e).map(function(t){return t.getColumnNames()}).reduce(function(t,e){return t.concat(e)},[])),g=Array.from(n.keys()).map(function(t){return[t,n.get(t)]});return g.sort(function(t,e){return t[0]===e[0]?0:t[0]>e[0]?1:-1}),new t({columnNames:m,pairs:g})},t.prototype.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.merge([this].concat(e))},t.prototype.ensureSeries=function(t,e){if(Hy(t)){if(!Ky(e))throw new Error("Expected 'series' parameter to 'DataFrame.ensureSeries' to not be set when 'columnNameOrSpec is an object.")}else{if(!Zy(t))throw new Error("Expected 'columnNameOrSpec' parameter to 'DataFrame.ensureSeries' function to be a string that specifies the column to set or replace.");if(!Yy(e)&&!Hy(e))throw new Error("Expected 'series' parameter to 'DataFrame.ensureSeries' to be a Series object or a function that takes a dataframe and produces a Series.")}if(Hy(t)){var n=t,r=Object.keys(t),i=this;try{for(var o=Bg(r),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.ensureSeries(a,n[a])}}catch(h){u={error:h}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}return i}var u,l,c=t;return this.hasSeries(c)?this:this.withSeries(c,e)},t.prototype.subset=function(e){var n=this;if(!Xy(e))throw new Error("Expected 'columnNames' parameter to 'DataFrame.subset' to be an array of column names to keep.");return new t(function(){var t=n.getContent();return{columnNames:e,index:t.index,values:new Wg(t.values,function(t){var n,r,i={};try{for(var o=Bg(e),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=t[a]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}),pairs:new Wg(t.pairs,function(t){var n,r,i={},o=t[1];try{for(var s=Bg(e),a=s.next();!a.done;a=s.next()){var u=a.value;i[u]=o[u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[t[0],i]})}})},t.prototype.dropSeries=function(e){var n=this;if(!Xy(e)){if(!Zy(e))throw new Error("'DataFrame.dropSeries' expected either a string or an array or strings.");e=[e]}return new t(function(){var t,r,i=n.getContent(),o=[];try{for(var s=Bg(i.columnNames),a=s.next();!a.done;a=s.next()){var u=a.value;-1===e.indexOf(u)&&o.push(u)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return{columnNames:o,index:i.index,values:new Wg(i.values,function(t){var n,r,i=Object.assign({},t);try{for(var o=Bg(e),s=o.next();!s.done;s=o.next())delete i[s.value]}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}),pairs:new Wg(i.pairs,function(t){var n,r,i=Object.assign({},t[1]);try{for(var o=Bg(e),s=o.next();!s.done;s=o.next())delete i[s.value]}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[t[0],i]})}})},t.prototype.reorderSeries=function(e){var n,r,i=this;if(!Xy(e))throw new Error("Expected parameter 'columnNames' to 'DataFrame.reorderSeries' to be an array with column names.");try{for(var o=Bg(e),s=o.next();!s.done;s=o.next())if(!Zy(s.value))throw new Error("Expected parameter 'columnNames' to 'DataFrame.reorderSeries' to be an array with column names.")}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return new t(function(){var t=i.getContent();return{columnNames:e,index:t.index,values:new Wg(t.values,function(t){var n,r,i={};try{for(var o=Bg(e),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=t[a]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}),pairs:new Wg(t.pairs,function(t){var n,r,i=t[1],o={};try{for(var s=Bg(e),a=s.next();!a.done;a=s.next()){var u=a.value;o[u]=i[u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[t[0],o]})}})},t.prototype.bringToFront=function(e){var n,r,i=this;if(Xy(e))try{for(var o=Bg(e),s=o.next();!s.done;s=o.next())if(!Zy(s.value))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToFront' function to specify a column or columns via a string or an array of strings.")}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}else{if(!Zy(e))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToFront' function to specify a column or columns via a string or an array of strings.");e=[e]}return new t(function(){var t=i.getContent(),n=Array.from(t.columnNames),r=[];try{for(var o=Bg(e),s=o.next();!s.done;s=o.next()){var a=s.value;-1!==n.indexOf(a)&&r.push(a)}}catch(g){u={error:g}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l,c,h,f=[];try{for(var p=Bg(n),d=p.next();!d.done;d=p.next()){var m=d.value;-1===e.indexOf(m)&&f.push(m)}}catch(y){c={error:y}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}return{columnNames:r.concat(f),index:t.index,values:t.values,pairs:t.pairs}})},t.prototype.bringToBack=function(e){var n,r,i=this;if(Xy(e))try{for(var o=Bg(e),s=o.next();!s.done;s=o.next())if(!Zy(s.value))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToBack' function to specify a column or columns via a string or an array of strings.")}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}else{if(!Zy(e))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToBack' function to specify a column or columns via a string or an array of strings.");e=[e]}return new t(function(){var t=i.getContent(),n=Array.from(t.columnNames),r=[];try{for(var o=Bg(e),s=o.next();!s.done;s=o.next()){var a=s.value;-1!==n.indexOf(a)&&r.push(a)}}catch(g){u={error:g}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l,c,h,f=[];try{for(var p=Bg(n),d=p.next();!d.done;d=p.next()){var m=d.value;-1===e.indexOf(m)&&f.push(m)}}catch(y){c={error:y}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}return{columnNames:f.concat(r),index:t.index,values:t.values,pairs:t.pairs}})},t.prototype.renameSeries=function(e){var n=this;if(!Hy(e))throw new Error("Expected parameter 'newColumnNames' to 'DataFrame.renameSeries' to be an array with column names.");var r,i,o=Object.keys(e);try{for(var s=Bg(o),a=s.next();!a.done;a=s.next()){var u=a.value;if(!Zy(u))throw new Error("Expected existing column name '"+u+"' of 'newColumnNames' parameter to 'DataFrame.renameSeries' to be a string.");if(!Zy(e[u]))throw new Error("Expected new column name '"+e[u]+"' for existing column '"+u+"' of 'newColumnNames' parameter to 'DataFrame.renameSeries' to be a string.")}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return new t(function(){var t,r,i=n.getContent(),s=[];try{for(var a=Bg(i.columnNames),u=a.next();!u.done;u=a.next()){var l=u.value,c=o.indexOf(l);s.push(-1===c?l:e[l])}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}function h(t){var n,r,i=Object.assign({},t);try{for(var s=Bg(o),a=s.next();!a.done;a=s.next()){var u=a.value;i[e[u]]=i[u],delete i[u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}return{columnNames:s,index:i.index,values:new Wg(i.values,h),pairs:new Wg(i.pairs,function(t){return[t[0],h(t[1])]})}})},t.prototype.toArray=function(){var t,e,n=[];try{for(var r=Bg(this.getContent().values),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toPairs=function(){var t,e,n=[];try{for(var r=Bg(this.getContent().pairs),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o[1]&&null!==o[1]&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toObject=function(t,e){if(!Yy(t))throw new Error("Expected 'keySelector' parameter to DataFrame.toObject to be a function.");if(!Yy(e))throw new Error("Expected 'valueSelector' parameter to DataFrame.toObject to be a function.");return qy(this,t,e)},t.prototype.toRows=function(){var t,e,n=this.getColumnNames(),r=[];try{for(var i=Bg(this.getContent().values),o=i.next();!o.done;o=i.next()){for(var s=o.value,a=[],u=0;u<n.length;++u)a.push(s[n[u]]);r.push(a)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},t.prototype.select=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'selector' parameter to 'DataFrame.select' function to be a function.");return new t(function(){var t=n.getContent();return{values:new Wg(t.values,e),index:t.index}})},t.prototype.selectMany=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'selector' parameter to 'DataFrame.selectMany' to be a function.");return new t(function(){return{pairs:new Xg(n.getContent().pairs,function(t,n){var r,i,o=[];try{for(var s=Bg(e(t[1],n)),a=s.next();!a.done;a=s.next())o.push([t[0],a.value])}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o})}})},t.prototype.transformSeries=function(t){if(!Hy(t))throw new Error("Expected 'columnSelectors' parameter of 'DataFrame.transformSeries' function to be an object. Field names should specify columns to transform. Field values should be selector functions that specify the transformation for each column.");var e,n,r=this;try{for(var i=Bg(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;r.hasSeries(s)&&(r=r.withSeries(s,r.getSeries(s).select(t[s])))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.generateSeries=function(t){if(Hy(t)){var e=t;l=Object.keys(e),c=this;try{for(var n=Bg(l),r=n.next();!r.done;r=n.next())c=c.withSeries(p=r.value,c.select(e[p]).deflate())}catch(d){s={error:d}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return c}if(!Yy(t))throw new Error("Expected 'generator' parameter to 'DataFrame.generateSeries' function to be a function or an object.");var i,o,s,a,u=this.select(t).bake(),l=u.getColumnNames(),c=this;try{for(var h=Bg(l),f=h.next();!f.done;f=h.next()){var p;c=c.withSeries(p=f.value,u.getSeries(p))}}catch(m){i={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return c},t.prototype.deflate=function(t){var e=this;if(t&&!Yy(t))throw new Error("Expected 'selector' parameter to 'DataFrame.deflate' function to be a selector function.");return new e_(function(){var n=e.getContent();return t?{index:n.index,values:new Wg(n.values,t),pairs:new Wg(n.pairs,function(e,n){return[e[0],t(e[1],n)]})}:{index:n.index,values:n.values,pairs:n.pairs}})},t.prototype.inflateSeries=function(t,e){if(!Zy(t))throw new Error("Expected 'columnName' parameter to 'DataFrame.inflateSeries' to be a string that is the name of the column to inflate.");if(e&&!Yy(e))throw new Error("Expected optional 'selector' parameter to 'DataFrame.inflateSeries' to be a selector function, if it is specified.");return this.zip(this.getSeries(t).inflate(e),function(t,e){return Object.assign({},t,e)})},t.prototype.window=function(t){var e=this;if(!$y(t))throw new Error("Expected 'period' parameter to 'DataFrame.window' to be a number.");return new e_(function(){var n=e.getContent();return{values:new Iy(n.columnNames,n.pairs,t)}})},t.prototype.rollingWindow=function(t){var e=this;if(!$y(t))throw new Error("Expected 'period' parameter to 'DataFrame.rollingWindow' to be a number.");return new e_(function(){var n=e.getContent();return{values:new Ty(n.columnNames,n.pairs,t)}})},t.prototype.variableWindow=function(t){var e=this;if(!Yy(t))throw new Error("Expected 'comparer' parameter to 'DataFrame.variableWindow' to be a function.");return new e_(function(){var n=e.getContent();return{values:new Py(n.columnNames,n.pairs,t)}})},t.prototype.sequentialDistinct=function(t){if(t){if(!Yy(t))throw new Error("Expected 'selector' parameter to 'DataFrame.sequentialDistinct' to be a selector function that determines the value to compare for duplicates.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)}).select(function(t){return[t.getIndex().first(),t.first()]}).withIndex(function(t){return t[0]}).inflate(function(t){return t[1]})},t.prototype.aggregate=function(t,e){var n=this;if(Yy(t)&&!e)return this.skip(1).aggregate(this.first(),t);if(e){if(!Yy(e))throw new Error("Expected 'selector' parameter to aggregate to be a function.");var r=t;try{for(var i=Bg(this),o=i.next();!o.done;o=i.next())r=e(r,o.value)}catch(l){s={error:l}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}return r}if(!Hy(t))throw new Error("Expected 'seed' parameter to aggregate to be an object.");var s,a,u=t;return qy(Object.keys(u).map(function(t){var e=u[t];if(!Yy(e))throw new Error("Expected column/selector pairs in 'seed' parameter to aggregate.");return[t,n.getSeries(t).aggregate(e)]}),function(t){return t[0]},function(t){return t[1]})},t.prototype.skip=function(e){var n=this;if(!$y(e))throw new Error("Expected 'numValues' parameter to 'DataFrame.skip' to be a number.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new Ey(t.values,e),index:new Ey(t.index,e),pairs:new Ey(t.pairs,e)}})},t.prototype.skipWhile=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'predicate' parameter to 'DataFrame.skipWhile' function to be a predicate function that returns true/false.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new Sy(t.values,e),pairs:new Sy(t.pairs,function(t){return e(t[1])})}})},t.prototype.skipUntil=function(t){if(!Yy(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.skipUntil' function to be a predicate function that returns true/false.");return this.skipWhile(function(e){return!t(e)})},t.prototype.take=function(e){var n=this;if(!$y(e))throw new Error("Expected 'numRows' parameter to 'DataFrame.take' function to be a number.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,index:new Jg(t.index,e),values:new Jg(t.values,e),pairs:new Jg(t.pairs,e)}})},t.prototype.takeWhile=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'predicate' parameter to 'DataFrame.takeWhile' function to be a predicate function that returns true/false.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new ty(t.values,e),pairs:new ty(t.pairs,function(t){return e(t[1])})}})},t.prototype.takeUntil=function(t){if(!Yy(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.takeUntil' function to be a predicate function that returns true/false.");return this.takeWhile(function(e){return!t(e)})},t.prototype.count=function(){var t,e,n=0;try{for(var r=Bg(this.getContent().values),i=r.next();!i.done;i=r.next())++n}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.first=function(){try{for(var t=Bg(this),e=t.next();!e.done;e=t.next())return e.value}catch(i){n={error:i}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}throw new Error("DataFrame.first: No values in DataFrame.");var n,r},t.prototype.last=function(){var t,e,n=null;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next())n=i.value}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}if(null===n)throw new Error("DataFrame.last: No values in DataFrame.");return n},t.prototype.at=function(t){if(!this.none())return this.getRowByIndex(t)},t.prototype.head=function(e){if(!$y(e))throw new Error("Expected 'numValues' parameter to 'DataFrame.head' function to be a number.");if(0===e)return new t;var n=e<0?this.count()-Math.abs(e):e;return this.take(n)},t.prototype.tail=function(e){if(!$y(e))throw new Error("Expected 'numValues' parameter to 'DataFrame.tail' function to be a number.");if(0===e)return new t;var n=e>0?this.count()-e:Math.abs(e);return this.skip(n)},t.prototype.where=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'predicate' parameter to 'DataFrame.where' function to be a function.");return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new ny(t.values,e),pairs:new ny(t.pairs,function(t){return e(t[1])})}})},t.prototype.forEach=function(t){if(!Yy(t))throw new Error("Expected 'callback' parameter to 'DataFrame.forEach' to be a function.");var e,n,r=0;try{for(var i=Bg(this),o=i.next();!o.done;o=i.next())t(o.value,r++)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t.prototype.all=function(t){if(!Yy(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.all' to be a function.");var e,n,r=0;try{for(var i=Bg(this),o=i.next();!o.done;o=i.next()){if(!t(o.value))return!1;++r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r>0},t.prototype.any=function(t){if(t&&!Yy(t))throw new Error("Expected optional 'predicate' parameter to 'DataFrame.any' to be a function.");var e,n;if(!t)return!this[Symbol.iterator]().next().done;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!0}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},t.prototype.none=function(t){if(t&&!Yy(t))throw new Error("Expected 'predicate' parameter to 'DataFrame.none' to be a function.");var e,n;if(!t)return this[Symbol.iterator]().next().done||!1;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.startAt=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThan();return{columnNames:t.columnNames,index:new Sy(t.index,function(t){return r(t,e)}),pairs:new Sy(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.endAt=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThanOrEqualTo();return{columnNames:t.columnNames,index:new ty(t.index,function(t){return r(t,e)}),pairs:new ty(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.before=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThan();return{columnNames:t.columnNames,index:new ty(t.index,function(t){return r(t,e)}),pairs:new ty(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.after=function(e){var n=this;return new t(function(){var t=n.getContent(),r=n.getIndex().getLessThanOrEqualTo();return{columnNames:t.columnNames,index:new Sy(t.index,function(t){return r(t,e)}),pairs:new Sy(t.pairs,function(t){return r(t[0],e)})}})},t.prototype.between=function(t,e){return this.startAt(t).endAt(e)},t.prototype.toString=function(){var t,e,n=this.getColumnNames(),r=["__index__"].concat(n),i=new(qm());try{for(var o=Bg(this.toPairs()),s=o.next();!s.done;s=o.next()){var a=s.value,u=a[1];i.cell(r[0],a[0]);for(var l=0;l<n.length;++l)i.cell(r[l+1],u[n[l]]);i.newRow()}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i.toString()},t.prototype.parseInts=function(t){if(Xy(t)){var e=this;try{for(var n=Bg(t),r=n.next();!r.done;r=n.next())e=e.parseInts(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return e}return this.withSeries(t,this.getSeries(t).parseInts());var i,o},t.prototype.parseFloats=function(t){if(Xy(t)){var e=this;try{for(var n=Bg(t),r=n.next();!r.done;r=n.next())e=e.parseFloats(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return e}return this.withSeries(t,this.getSeries(t).parseFloats());var i,o},t.prototype.parseDates=function(t,e){if(e&&!Zy(e))throw new Error("Expected optional 'formatString' parameter to 'DataFrame.parseDates' to be a string (if specified).");if(Xy(t)){var n=this;try{for(var r=Bg(t),i=r.next();!i.done;i=r.next())n=n.parseDates(i.value,e)}catch(a){o={error:a}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return n}return this.withSeries(t,this.getSeries(t).parseDates(e));var o,s},t.prototype.toStrings=function(t,e){if(Hy(t)){try{for(var n=Bg(Object.keys(t)),r=n.next();!r.done;r=n.next())if(!Zy(t[l=r.value]))throw new Error("Expected values of 'columnNames' parameter to be strings when a format spec is passed in.")}catch(g){c={error:g}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}if(!Ky(e))throw new Error("Optional 'formatString' parameter to 'DataFrame.toStrings' should not be set when passing in a format spec.")}else{if(!Xy(t)&&!Zy(t))throw new Error("Expected 'columnNames' parameter to 'DataFrame.toStrings' to be a string, array of strings or format spec that specifes which columns should be converted to strings.");if(e&&!Zy(e))throw new Error("Expected optional 'formatString' parameter to 'DataFrame.toStrings' to be a string (if specified).")}if(Hy(t)){var i=this;try{for(var o=Bg(Object.keys(t)),s=o.next();!s.done;s=o.next())i=i.toStrings(l=s.value,e)}catch(y){f={error:y}}finally{try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(f)throw f.error}}return i}if(Xy(t)){i=this;try{for(var a=Bg(t),u=a.next();!u.done;u=a.next()){var l;i=i.toStrings(l=u.value,t[l])}}catch(_){d={error:_}}finally{try{u&&!u.done&&(m=a.return)&&m.call(a)}finally{if(d)throw d.error}}return i}var c,h,f,p,d,m;return this.withSeries(t,this.getSeries(t).toStrings(e))},t.prototype.truncateStrings=function(t){if(!$y(t))throw new Error("Expected 'maxLength' parameter to 'truncateStrings' to be an integer.");return this.select(function(e){var n,r,i={};try{for(var o=Bg(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,u=e[a];i[a]=Zy(u)?u.substring(0,t):u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})},t.prototype.round=function(t){if(void 0!==t){if(!$y(t))throw new Error("Expected 'numDecimalPlaces' parameter to 'DataFrame.round' to be a number.")}else t=2;return this.select(function(e){var n,r,i={};try{for(var o=Bg(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,u=e[a];i[a]=$y(u)?parseFloat(u.toFixed(t)):u}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})},t.prototype.bake=function(){return this.getContent().isBaked?this:new t({columnNames:this.getColumnNames(),values:this.toArray(),pairs:this.toPairs(),baked:!0})},t.prototype.reverse=function(){var e=this;return new t(function(){var t=e.getContent();return{columnNames:t.columnNames,values:new uy(t.values),index:new uy(t.index),pairs:new uy(t.pairs)}})},t.prototype.distinct=function(e){var n=this;return new t(function(){var t=n.getContent();return{columnNames:t.columnNames,values:new fy(t.values,e),pairs:new fy(t.pairs,function(t){return e&&e(t[1])||t[1]})}})},t.prototype.groupBy=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'selector' parameter to 'DataFrame.groupBy' to be a selector function that determines the value to group the series by.");return new e_(function(){var r,i,o=[],s={},a=0;try{for(var u=Bg(n.getContent().pairs),l=u.next();!l.done;l=u.next()){var c=l.value,h=e(c[1],a);++a;var f=s[h];if(f)f.push(c);else{var p=[];p.push(c),o.push(p),s[h]=p}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{values:o.map(function(e){return new t({pairs:e})})}})},t.prototype.groupSequentialBy=function(t){if(t){if(!Yy(t))throw new Error("Expected 'selector' parameter to 'DataFrame.groupSequentialBy' to be a selector function that determines the value to group the series by.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)})},t.concat=function(e){if(!Xy(e))throw new Error("Expected 'dataframes' parameter to 'DataFrame.concat' to be an array of dataframes.");return new t(function(){var t,n,r,i,o=e.map(function(t){return t.getContent()}),s=[];try{for(var a=Bg(o),u=a.next();!u.done;u=a.next()){var l=u.value;try{for(var c=Bg(l.columnNames),h=c.next();!h.done;h=c.next())s.push(h.value)}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{columnNames:s=Uy(s),values:new iy(o.map(function(t){return t.values})),pairs:new iy(o.map(function(t){return t.pairs}))}})},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,i,o,s,a=[this];try{for(var u=Bg(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(Xy(c))try{for(var h=Bg(c),f=h.next();!f.done;f=h.next()){var p=f.value;a.push(p)}}catch(d){o={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else a.push(c)}}catch(m){r={error:m}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return t.concat(a)},t.zip=function(e,n){var r=Array.from(e);if(0===r.length)return new t;var i=r[0];return i.none()?new t:new t(function(){var t=r;return{index:i.getContent().index,values:new cy(t.map(function(t){return t.getContent().values}),n)}})},t.prototype.zip=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[e.length-1],i=[this].concat(e.slice(0,e.length-1));return t.zip(i,function(t){return r.apply(void 0,zg(t))})},t.prototype.orderBy=function(t){var e=this.getContent();return new Qy({columnNames:e.columnNames,values:e.values,pairs:e.pairs,selector:t,direction:yy.Ascending,parent:null})},t.prototype.orderByDescending=function(t){var e=this.getContent();return new Qy({columnNames:e.columnNames,values:e.values,pairs:e.pairs,selector:t,direction:yy.Descending,parent:null})},t.prototype.union=function(t,e){if(e&&!Yy(e))throw new Error("Expected optional 'selector' parameter to 'DataFrame.union' to be a selector function.");return this.concat(t).distinct(e)},t.prototype.intersection=function(t,e,n){if(e){if(!Yy(e))throw new Error("Expected optional 'outerSelector' parameter to 'DataFrame.intersection' to be a function.")}else e=function(t){return t};if(n){if(!Yy(n))throw new Error("Expected optional 'innerSelector' parameter to 'DataFrame.intersection' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).any()})},t.prototype.except=function(t,e,n){if(e){if(!Yy(e))throw new Error("Expected optional 'outerSelector' parameter to 'DataFrame.except' to be a function.")}else e=function(t){return t};if(n){if(!Yy(n))throw new Error("Expected optional 'innerSelector' parameter to 'DataFrame.except' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).none()})},t.prototype.join=function(e,n,r,i){if(!Yy(n))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.join' to be a selector function.");if(!Yy(r))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.join' to be a selector function.");if(!Yy(i))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.join' to be a selector function.");var o=this;return new t(function(){var t,s,a,u,l=e.groupBy(r).toObject(function(t){return r(t.first())},function(t){return t}),c=(o.getContent(),[]);try{for(var h=Bg(o),f=h.next();!f.done;f=h.next()){var p=f.value,d=l[n(p)];if(d)try{for(var m=Bg(d),g=m.next();!g.done;g=m.next())c.push(i(p,g.value))}catch(y){a={error:y}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}}}catch(_){t={error:_}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(t)throw t.error}}return{values:c}})},t.prototype.joinOuter=function(t,e,n,r){if(!Yy(e))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuter' to be a selector function.");if(!Yy(n))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuter' to be a selector function.");if(!Yy(r))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuter' to be a selector function.");var i=this,o=i.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),s=t.except(i,n,e).select(function(t){return r(null,t)}).resetIndex(),a=i.join(t,e,n,r);return o.concat(a).concat(s).resetIndex()},t.prototype.joinOuterLeft=function(t,e,n,r){if(!Yy(e))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");if(!Yy(n))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");if(!Yy(r))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");var i=this.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),o=this.join(t,e,n,r);return i.concat(o).resetIndex()},t.prototype.joinOuterRight=function(t,e,n,r){if(!Yy(e))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");if(!Yy(n))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");if(!Yy(r))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");var i=t.except(this,n,e).select(function(t){return r(null,t)}).resetIndex();return this.join(t,e,n,r).concat(i).resetIndex()},t.prototype.summarize=function(t){if(t&&!Hy(t))throw new Error("Expected 'spec' parameter to 'DataFrame.summarize' to be an object that specifies how to summarize the dataframe.");if(!t){t={};try{for(var e=Bg(this.getColumnNames()),n=e.next();!n.done;n=e.next()){var r=n.value,i={};i[r+"_sum"]=e_.sum,i[r+"_average"]=e_.average,i[r+"_count"]=e_.count,t[r]=i}}catch(D){u={error:D}}finally{try{n&&!n.done&&(l=e.return)&&l.call(e)}finally{if(u)throw u.error}}}try{for(var o=Bg(Object.keys(t)),s=o.next();!s.done;s=o.next()){var a=t[w=s.value];Yy(a)&&(t[w]={},t[w][w]=a)}}catch(I){c={error:I}}finally{try{s&&!s.done&&(h=o.return)&&h.call(o)}finally{if(c)throw c.error}}var u,l,c,h,f,p,d,m,g=Object.keys(t),y=qy(g,function(t){return t},function(e){return Object.keys(t[e])}),_={};try{for(var v=Bg(g),b=v.next();!b.done;b=v.next()){var w,x=y[w=b.value];try{for(var E=Bg(x),C=E.next();!C.done;C=E.next()){var S=C.value;_[S]=(0,t[w][S])(this.getSeries(w))}}catch(A){d={error:A}}finally{try{C&&!C.done&&(m=E.return)&&m.call(E)}finally{if(d)throw d.error}}}}catch(k){f={error:k}}finally{try{b&&!b.done&&(p=v.return)&&p.call(v)}finally{if(f)throw f.error}}return _},t.prototype.pivot=function(t,e,n){var r,i;if(Zy(t))r=[t];else{if(!Xy(t))throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's columns.");if(0===(r=Array.from(t)).length)throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to contain at least one string.");try{for(var o=Bg(r),s=o.next();!s.done;s=o.next())if(!Zy(s.value))throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to be an array of strings, each string identifies a column in the DataFrame on which to pivot.")}catch(S){y={error:S}}finally{try{s&&!s.done&&(_=o.return)&&_.call(o)}finally{if(y)throw y.error}}}if(Hy(e)){i=e;try{for(var a=Bg(Object.keys(i)),u=a.next();!u.done;u=a.next()){var l=u.value,c=i[l];Yy(c)&&(i[l]={},i[l][l]=c)}}catch(D){v={error:D}}finally{try{u&&!u.done&&(b=a.return)&&b.call(a)}finally{if(v)throw v.error}}}else{if(!Zy(e))throw new Error("Expected 'value' parameter to 'DataFrame.pivot' to be a string that identifies the column whose values to aggregate or a column spec that defines which column contains the value ot aggregate and the ways to aggregate that value.");if(!Yy(n))throw new Error("Expected 'aggregator' parameter to 'DataFrame.pivot' to be a function to aggregate pivoted values.");var h=e,f={};f[h]=n,(i={})[h]=f}for(var p=r[0],d=this.groupBy(function(t){return t[p]}).select(function(t){var e={};return e[p]=t.first()[p],e.src=t,e}),m=function(t){var e=r[t];d=d.selectMany(function(t){return t.src.groupBy(function(t){return t[e]}).select(function(n){var r=Object.assign({},t);return r[e]=n.first()[e],r.src=n,r})})},g=1;g<r.length;++g)m(g);var y,_,v,b,w=Object.keys(i),x=qy(w,function(t){return t},function(t){return Object.keys(i[t])}),E=d.inflate(function(t){var e,n,r=function(e){var n,r,o=x[e];try{for(var s=Bg(o),a=s.next();!a.done;a=s.next()){var u=a.value;t[u]=(0,i[e][u])(t.src.deflate(function(t){return t[e]}))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}};try{for(var o=Bg(w),s=o.next();!s.done;s=o.next())r(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return delete t.src,t}).orderBy(function(t){return t[p]}),C=function(t){var e=r[t];E=E.thenBy(function(t){return t[e]})};for(g=1;g<r.length;++g)C(g);return E},t.prototype.melt=function(e,n){var r,i;if(Zy(e))r=[e];else{if(!Xy(e))throw new Error("Expected 'idColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's identity columns.");r=Array.from(e);try{for(var o=Bg(r),s=o.next();!s.done;s=o.next())if(!Zy(s.value))throw new Error("Expected 'idColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's identity columns.")}catch(L){C={error:L}}finally{try{s&&!s.done&&(S=o.return)&&S.call(o)}finally{if(C)throw C.error}}}if(Zy(n))i=[n];else{if(!Xy(n))throw new Error("Expected 'valueColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose molten values make the new DataFrame's 'variable' and 'value' columns.");i=Array.from(n);try{for(var a=Bg(i),u=a.next();!u.done;u=a.next())if(!Zy(u.value))throw new Error("Expected 'valueColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose molten values make the new DataFrame's 'variable' and 'value' columns.")}catch(N){D={error:N}}finally{try{u&&!u.done&&(I=a.return)&&I.call(a)}finally{if(D)throw D.error}}}var l=i.length,c=this.count(),h=new t,f=this.subset(r.concat(i));try{for(var p=Bg(r),d=p.next();!d.done;d=p.next()){f=f.dropSeries(w=d.value);var m=this.getSeries(w),g=new Fy(m,l),y=new e_(g);h=h.withSeries(w,y)}}catch(M){A={error:M}}finally{try{d&&!d.done&&(k=p.return)&&k.call(p)}finally{if(A)throw A.error}}var _=[];try{for(var v=Bg(f.getColumns()),b=v.next();!b.done;b=v.next()){var w;_.push(this.getSeries((w=b.value).name))}}catch(F){O={error:F}}finally{try{b&&!b.done&&(T=v.return)&&T.call(v)}finally{if(O)throw O.error}}var x=new jy(_),E=new e_(x);h=h.withSeries("value",E);var C,S,D,I,A,k,O,T,R=new Ny(i,c),P=new e_(R);return h.withSeries("variable",P)},t.prototype.insertPair=function(e){if(!Xy(e))throw new Error("Expected 'pair' parameter to 'DataFrame.insertPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'DataFrame.insertPair' to be an array with two elements. The first element is the index, the second is the value.");return new t({pairs:[e]}).concat(this)},t.prototype.appendPair=function(e){if(!Xy(e))throw new Error("Expected 'pair' parameter to 'DataFrame.appendPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'DataFrame.appendPair' to be an array with two elements. The first element is the index, the second is the value.");return this.concat(new t({pairs:[e]}))},t.prototype.fillGaps=function(t,e){if(!Yy(t))throw new Error("Expected 'comparer' parameter to 'DataFrame.fillGaps' to be a comparer function that compares two values and returns a boolean.");if(!Yy(e))throw new Error("Expected 'generator' parameter to 'DataFrame.fillGaps' to be a generator function that takes two values and returns an array of generated pairs to span the gap.");return this.rollingWindow(2).selectMany(function(n){var r=n.toPairs(),i=r[0],o=r[1];if(!t(i,o))return[i];var s=e(i,o);if(!Xy(s))throw new Error("Expected return from 'generator' parameter to 'DataFrame.fillGaps' to be an array of pairs, instead got a "+typeof s);return[i].concat(s)}).withIndex(function(t){return t[0]}).inflate(function(t){return t[1]}).concat(this.tail(1))},t.prototype.defaultIfEmpty=function(e){if(this.none()){if(e instanceof t)return e;if(Xy(e))return new t(e);throw new Error("Expected 'defaultSequence' parameter to 'DataFrame.defaultIfEmpty' to be an array or a series.")}return this},t.prototype.detectTypes=function(){var e=this;return new t(function(){return{columnNames:["Type","Frequency","Column"],values:e.getColumns().selectMany(function(t){return t.series.detectTypes().select(function(e){var n=Object.assign({},e);return n.Column=t.name,n})})}})},t.prototype.detectValues=function(){var e=this;return new t(function(){return{columnNames:["Value","Frequency","Column"],values:e.getColumns().selectMany(function(t){return t.series.detectValues().select(function(e){var n=Object.assign({},e);return n.Column=t.name,n})})}})},t.prototype.toJSON=function(){return JSON.stringify(this.toArray(),null,4)},t.prototype.toJSON5=function(){return vg().stringify(this.toArray(),null,4)},t.prototype.toCSV=function(t){var e=(void 0===t||void 0===t.header||t.header?[this.getColumnNames()]:[]).concat(this.toRows());return wg().unparse(e,t)},t.prototype.toHTML=function(){var t=this.getColumnNames();return'<table border="1" class="dataframe">\n    <thead>\n        <tr style="text-align: right;">\n            <th></th>\n'+t.map(function(t){return"            <th>"+t+"</th>"}).join("\n")+"\n       </tr>\n    </thead>\n    <tbody>\n"+this.toPairs().map(function(e){var n=e[1];return"        <tr>\n            <th>"+e[0]+"</th>\n"+t.map(function(t){return"            <td>"+n[t]+"</td>"}).join("\n")+"\n        </tr>"}).join("\n")+"\n    </tbody>\n</table>"},t.prototype.serialize=function(){var t=this.toArray(),e=this.getIndex(),n=e.head(t.length).toArray(),r=this.getColumns(),i=qy(r,function(t){return t.name},function(t){return t.type}),o=e.getType();"date"===o&&(n=n.map(function(t){return gg(t).toISOString()}));var s,a,u,l,c=!1;try{for(var h=Bg(r),f=h.next();!f.done;f=h.next()){var p=f.value;if("date"===p.type){c||(t=t.map(function(t){return Object.assign({},t)}),c=!0);try{for(var d=Bg(t),m=d.next();!m.done;m=d.next()){var g=m.value;g[p.name]=gg(g[p.name]).toISOString()}}catch(y){u={error:y}}finally{try{m&&!m.done&&(l=d.return)&&l.call(d)}finally{if(u)throw u.error}}}}}catch(_){s={error:_}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return{columnOrder:this.getColumnNames(),columns:i,index:{type:o,values:n},values:t}},t.deserialize=function(e){var n,r,i,o,s=e.index&&e.index.values||[],a=e.values&&e.values||[],u=!1;if(e.columns)try{for(var l=Bg(Object.keys(e.columns)),c=l.next();!c.done;c=l.next()){var h=c.value;if("date"===e.columns[h]){u||(a=a.map(function(t){return Object.assign({},t)}),u=!0);try{for(var f=Bg(a),p=f.next();!p.done;p=f.next()){var d=p.value;d[h]=gg(d[h]).toDate()}}catch(m){i={error:m}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}}catch(g){n={error:g}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return e.index&&"date"===e.index.type&&(s=s.map(function(t){return gg(t).toDate()})),new t({columnNames:e.columnOrder||[],index:s,values:a})},t.prototype.getTypeCode=function(){return"dataframe"},t.defaultCountIterable=new Gg,t.defaultEmptyIterable=new Ug,t}(),Qy=function(t){function e(n){for(var r,i,o=this,s=[],a=[],u=0,l=n.parent,c=[];null!==l;)c.push(l),l=l.config.parent;c.reverse();try{for(var h=Bg(c),f=h.next();!f.done;f=h.next()){var p=f.value.config;s.push(e.makeSortSpec(u,p.selector,p.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(p.selector),p.direction)),++u}}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return s.push(e.makeSortSpec(u,n.selector,n.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(n.selector),n.direction)),(o=t.call(this,{columnNames:n.columnNames,values:new vy(n.values,s),pairs:new vy(n.pairs,a)})||this).config=n,o}return Fg(e,t),e.makeSortSpec=function(t,e,n){return{sortLevel:t,selector:e,direction:n}},e.makePairsSelector=function(t){return function(e,n){return t(e[1],n)}},e.prototype.thenBy=function(t){return new e({columnNames:this.config.columnNames,values:this.config.values,pairs:this.config.pairs,selector:t,direction:yy.Ascending,parent:this})},e.prototype.thenByDescending=function(t){return new e({columnNames:this.config.columnNames,values:this.config.values,pairs:this.config.pairs,selector:t,direction:yy.Descending,parent:this})},e}(Jy);gg.extend(Pg);var t_=(()=>(function(t){t.Start="start",t.End="end"}(t_||(t_={})),t_))(),e_=function(){function t(e){this.configFn=null,this.content=null,this.indexedContent=null,e?Yy(e)?this.configFn=e:this.content=Xy(e)||Yy(e[Symbol.iterator])?t.initFromArray(e):t.initFromConfig(e):this.content=t.initEmpty()}return t.initFromArray=function(e){return{index:t.defaultCountIterable,values:e,pairs:new Yg([t.defaultCountIterable,e]),isBaked:!0}},t.initEmpty=function(){return{index:t.defaultEmptyIterable,values:t.defaultEmptyIterable,pairs:t.defaultEmptyIterable,isBaked:!0}},t.checkIterable=function(t,e){if(Xy(t));else if(!Yy(t[Symbol.iterator]))throw new Error("Expected '"+e+"' field of Series config object to be an array of values or an iterable of values.")},t.initFromConfig=function(e){var n,r,i,o=!1;return e.pairs&&(t.checkIterable(e.pairs,"pairs"),i=e.pairs),e.index?(t.checkIterable(e.index,"index"),n=e.index):n=i?new wy(i,0):t.defaultCountIterable,e.values?(t.checkIterable(e.values,"values"),r=e.values):r=i?new wy(i,1):t.defaultEmptyIterable,i||(i=new Yg([n,r])),void 0!==e.baked&&(o=e.baked),{index:n,values:r,pairs:i,isBaked:o}},t.prototype.lazyInit=function(){null===this.content&&null!==this.configFn&&(this.content=t.initFromConfig(this.configFn()))},t.prototype.getContent=function(){return this.lazyInit(),this.content},t.prototype.getRowByIndex=function(t){if(!this.indexedContent){this.indexedContent=new Map;try{for(var e=Bg(this.getContent().pairs),n=e.next();!n.done;n=e.next()){var r=n.value;this.indexedContent.set(r[0],r[1])}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}}}return this.indexedContent.get(t);var i,o},t.prototype[Symbol.iterator]=function(){return this.getContent().values[Symbol.iterator]()},t.prototype.cast=function(){return this},t.prototype.getIndex=function(){var t=this;return new r_(function(){return{values:t.getContent().index}})},t.prototype.withIndex=function(e){var n=this;return Yy(e)?new t(function(){return{values:n.getContent().values,index:n.select(e)}}):(t.checkIterable(e,"newIndex"),new t(function(){return{values:n.getContent().values,index:e}}))},t.prototype.resetIndex=function(){var e=this;return new t(function(){return{values:e.getContent().values}})},t.merge=function(e){var n=new Map,r=Array.from(e).length,i=0;try{for(var o=Bg(e),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=Bg(a.toPairs()),l=u.next();!l.done;l=u.next()){var c=l.value,h=c[0];n.has(h)||n.set(h,new Array(r)),n.get(h)[i]=c[1]}}catch(y){d={error:y}}finally{try{l&&!l.done&&(m=u.return)&&m.call(u)}finally{if(d)throw d.error}}++i}}catch(_){f={error:_}}finally{try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(f)throw f.error}}var f,p,d,m,g=Array.from(n.keys()).map(function(t){return[t,n.get(t)]});return g.sort(function(t,e){return t[0]===e[0]?0:t[0]>e[0]?1:-1}),new t({pairs:g})},t.prototype.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.merge([this].concat(e))},t.prototype.toArray=function(){var t,e,n=[];try{for(var r=Bg(this.getContent().values),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toPairs=function(){var t,e,n=[];try{for(var r=Bg(this.getContent().pairs),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o[1]&&n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toObject=function(t,e){if(!Yy(t))throw new Error("Expected 'keySelector' parameter to Series.toObject to be a function.");if(!Yy(e))throw new Error("Expected 'valueSelector' parameter to Series.toObject to be a function.");return qy(this,t,e)},t.prototype.select=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'selector' parameter to 'Series.select' function to be a function.");return new t(function(){return{values:new Wg(n.getContent().values,e),index:n.getContent().index}})},t.prototype.selectMany=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'selector' parameter to 'Series.selectMany' to be a function.");return new t(function(){return{pairs:new Xg(n.getContent().pairs,function(t,n){var r,i,o=[];try{for(var s=Bg(e(t[1],n)),a=s.next();!a.done;a=s.next())o.push([t[0],a.value])}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o})}})},t.prototype.window=function(e,n){var r=this;if(!$y(e))throw new Error("Expected 'period' parameter to 'Series.window' to be a number.");return new t(function(){return{pairs:new sy(r.getContent().pairs,e,n||t_.End)}})},t.prototype.rollingWindow=function(e,n){var r=this;if(!$y(e))throw new Error("Expected 'period' parameter to 'Series.rollingWindow' to be a number.");return new t(function(){return{pairs:new dy(r.getContent().pairs,e,n||t_.End)}})},t.prototype.variableWindow=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'comparer' parameter to 'Series.variableWindow' to be a function.");return new t(function(){return{values:new gy(n.getContent().pairs,e)}})},t.prototype.sequentialDistinct=function(t){if(t){if(!Yy(t))throw new Error("Expected 'selector' parameter to 'Series.sequentialDistinct' to be a selector function that determines the value to compare for duplicates.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)}).select(function(t){return[t.getIndex().first(),t.first()]}).withIndex(function(t){return t[0]}).select(function(t){return t[1]})},t.prototype.aggregate=function(t,e){if(Yy(t)&&!e)return this.skip(1).aggregate(this.first(),t);if(!Yy(e))throw new Error("Expected 'selector' parameter to aggregate to be a function.");var n,r,i=t;try{for(var o=Bg(this),s=o.next();!s.done;s=o.next())i=e(i,s.value)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.amountRange=function(t,e){return this.rollingWindow(t,e).select(function(t){return t.max()-t.min()})},t.prototype.proportionRange=function(t,e){return this.rollingWindow(t,e).select(function(t){return(t.max()-t.min())/t.last()})},t.prototype.percentRange=function(t,e){return this.proportionRange(t,e).select(function(t){return 100*t})},t.prototype.amountChange=function(t,e){return this.rollingWindow(void 0===t?2:t,e).select(function(t){return t.last()-t.first()})},t.prototype.proportionChange=function(t,e){return this.rollingWindow(void 0===t?2:t,e).select(function(t){return(t.last()-t.first())/t.first()})},t.prototype.percentChange=function(t,e){return this.proportionChange(t,e).select(function(t){return 100*t})},t.prototype.proportionRank=function(t){if(void 0===t&&(t=2),!$y(t))throw new Error("Expected 'period' parameter to 'Series.proportionRank' to be a number that specifies the time period for the ranking.");return this.rollingWindow(t+1).select(function(e){var n=e.last();return e.head(-1).where(function(t){return t<n}).count()/t})},t.prototype.percentRank=function(t){if(void 0===t&&(t=2),!$y(t))throw new Error("Expected 'period' parameter to 'Series.percentRank' to be a number that specifies the time period for the ranking.");return this.proportionRank(t).select(function(t){return 100*t})},t.prototype.cumsum=function(){var e=this;return new t(function(){var t=0;return{pairs:e.toPairs().map(function(e){var n=jg(e,2);return[n[0],t+=n[1]]})}})},t.prototype.skip=function(e){var n=this;return new t(function(){return{values:new Ey(n.getContent().values,e),index:new Ey(n.getContent().index,e),pairs:new Ey(n.getContent().pairs,e)}})},t.prototype.skipWhile=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'predicate' parameter to 'Series.skipWhile' function to be a predicate function that returns true/false.");return new t(function(){return{values:new Sy(n.getContent().values,e),pairs:new Sy(n.getContent().pairs,function(t){return e(t[1])})}})},t.prototype.skipUntil=function(t){if(!Yy(t))throw new Error("Expected 'predicate' parameter to 'Series.skipUntil' function to be a predicate function that returns true/false.");return this.skipWhile(function(e){return!t(e)})},t.prototype.take=function(e){var n=this;if(!$y(e))throw new Error("Expected 'numRows' parameter to 'Series.take' function to be a number.");return new t(function(){return{index:new Jg(n.getContent().index,e),values:new Jg(n.getContent().values,e),pairs:new Jg(n.getContent().pairs,e)}})},t.prototype.takeWhile=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'predicate' parameter to 'Series.takeWhile' function to be a predicate function that returns true/false.");return new t(function(){return{values:new ty(n.getContent().values,e),pairs:new ty(n.getContent().pairs,function(t){return e(t[1])})}})},t.prototype.takeUntil=function(t){if(!Yy(t))throw new Error("Expected 'predicate' parameter to 'Series.takeUntil' function to be a predicate function that returns true/false.");return this.takeWhile(function(e){return!t(e)})},t.count=function(t){return t.count()},t.prototype.count=function(){var t,e,n=0;try{for(var r=Bg(this.getContent().values),i=r.next();!i.done;i=r.next())++n}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.first=function(){try{for(var t=Bg(this),e=t.next();!e.done;e=t.next())return e.value}catch(i){n={error:i}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}throw new Error("Series.first: No values in Series.");var n,r},t.prototype.last=function(){var t,e,n=null;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next())n=i.value}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}if(null===n)throw new Error("Series.last: No values in Series.");return n},t.prototype.at=function(t){if(!this.none())return this.getRowByIndex(t)},t.prototype.head=function(e){if(!$y(e))throw new Error("Expected 'numValues' parameter to 'Series.head' function to be a number.");if(0===e)return new t;var n=e<0?this.count()-Math.abs(e):e;return this.take(n)},t.prototype.tail=function(e){if(!$y(e))throw new Error("Expected 'numValues' parameter to 'Series.tail' function to be a number.");if(0===e)return new t;var n=e>0?this.count()-e:Math.abs(e);return this.skip(n)},t.prototype.where=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'predicate' parameter to 'Series.where' function to be a function.");return new t(function(){return{values:new ny(n.getContent().values,e),pairs:new ny(n.getContent().pairs,function(t){return e(t[1])})}})},t.prototype.forEach=function(t){if(!Yy(t))throw new Error("Expected 'callback' parameter to 'Series.forEach' to be a function.");var e,n,r=0;try{for(var i=Bg(this),o=i.next();!o.done;o=i.next())t(o.value,r++)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},t.prototype.all=function(t){if(!Yy(t))throw new Error("Expected 'predicate' parameter to 'Series.all' to be a function.");var e,n,r=0;try{for(var i=Bg(this),o=i.next();!o.done;o=i.next()){if(!t(o.value))return!1;++r}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r>0},t.prototype.any=function(t){if(t&&!Yy(t))throw new Error("Expected 'predicate' parameter to 'Series.any' to be a function.");var e,n;if(!t)return!this[Symbol.iterator]().next().done;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!0}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},t.prototype.none=function(t){if(t&&!Yy(t))throw new Error("Expected 'predicate' parameter to 'Series.none' to be a function.");var e,n;if(!t)return this[Symbol.iterator]().next().done;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next())if(t(i.value))return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.startAt=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThan();return{index:new Sy(n.getContent().index,function(n){return t(n,e)}),pairs:new Sy(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.endAt=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThanOrEqualTo();return{index:new ty(n.getContent().index,function(n){return t(n,e)}),pairs:new ty(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.before=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThan();return{index:new ty(n.getContent().index,function(n){return t(n,e)}),pairs:new ty(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.after=function(e){var n=this;return new t(function(){var t=n.getIndex().getLessThanOrEqualTo();return{index:new Sy(n.getContent().index,function(n){return t(n,e)}),pairs:new Sy(n.getContent().pairs,function(n){return t(n[0],e)})}})},t.prototype.between=function(t,e){return this.startAt(t).endAt(e)},t.prototype.toString=function(){for(var t=["__index__","__value__"],e=this.toPairs(),n=new(qm()),r=0;r<e.length;++r){for(var i=e[r],o=0;o<i.length;++o)n.cell(t[o],i[o]);n.newRow()}return n.toString()},t.parseInt=function(t,e){if(null!=t){if(!Zy(t))throw new Error("Called Series.parseInts, expected all values in the series to be strings, instead found a '"+typeof t+"' at index "+e);if(0!==t.length)return parseInt(t)}},t.prototype.parseInts=function(){return this.select(t.parseInt)},t.parseFloat=function(t,e){if(null!=t){if(!Zy(t))throw new Error("Called Series.parseFloats, expected all values in the series to be strings, instead found a '"+typeof t+"' at index "+e);if(0!==t.length)return parseFloat(t)}},t.prototype.parseFloats=function(){return this.select(t.parseFloat)},t.parseDate=function(t,e,n){if(null!=t){if(!Zy(t))throw new Error("Called Series.parseDates, expected all values in the series to be strings, instead found a '"+typeof t+"' at index "+e);if(0!==t.length)return gg(t,n).toDate()}},t.prototype.parseDates=function(e){if(e&&!Zy(e))throw new Error("Expected optional 'formatString' parameter to Series.parseDates to be a string (if specified).");return this.select(function(n,r){return t.parseDate(n,r,e)})},t.toString=function(t,e){return void 0===t?void 0:null===t?null:e&&Wy(t)?gg(t).format(e):e&&$y(t)?Ng()(t).format(e):t.toString()},t.prototype.toStrings=function(e){if(e&&!Zy(e))throw new Error("Expected optional 'formatString' parameter to Series.toStrings to be a string (if specified).");return this.select(function(n){return t.toString(n,e)})},t.prototype.bake=function(){return this.getContent().isBaked?this:new t({values:this.toArray(),pairs:this.toPairs(),baked:!0})},t.prototype.inflate=function(t){var e=this;if(t){if(!Yy(t))throw new Error("Expected 'selector' parameter to Series.inflate to be a selector function.");return new Jy(function(){var n=e.getContent();return{values:new Wg(n.values,t),index:n.index,pairs:new Wg(n.pairs,function(e,n){return[e[0],t(e[1],n)]})}})}return new Jy(function(){var t=e.getContent();return{values:t.values,index:t.index,pairs:t.pairs}})},t.sum=function(t){return t.sum()},t.prototype.sum=function(){var t,e,n=0;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&(n+=o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.average=function(t){return t.average()},t.prototype.average=function(){var t,e,n=0,r=0;try{for(var i=Bg(this),o=i.next();!o.done;o=i.next()){var s=o.value;null!=s&&(r+=1,n+=s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return 0===r?0:n/r},t.median=function(t){return t.median()},t.prototype.median=function(){var t=this.where(function(t){return null!=t}),e=t.count();if(0===e)return 0;var n=t.orderBy(function(t){return t}).toArray();return e%2==0?(n[e/2-1]+n[e/2])/2:n[Math.floor(e/2)]},t.std=function(t){return t.std()},t.prototype.std=function(){var t,e,n=this.average(),r=0,i=0;try{for(var o=Bg(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a){r+=1;var u=a-n;i+=u*u}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return 0===r?0:Math.sqrt(i/r)},t.min=function(t){return t.min()},t.prototype.min=function(){var t,e,n;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&(t=void 0===t?o:Math.min(t,o))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return void 0===t?0:t},t.max=function(t){return t.max()},t.prototype.max=function(){var t,e,n;try{for(var r=Bg(this),i=r.next();!i.done;i=r.next()){var o=i.value;null!=o&&(t=void 0===t?o:Math.max(t,o))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return void 0===t?0:t},t.prototype.invert=function(){return this.select(function(t){return null==t?t:-t})},t.prototype.counter=function(t){return this.groupSequentialBy(t).selectMany(function(e,n){return t(e.first())?h_(1,e.count()).withIndex(e.getIndex()).toPairs():f_(0,e.count()).withIndex(e.getIndex()).toPairs()}).withIndex(function(t){return t[0]}).select(function(t){return t[1]})},t.prototype.reverse=function(){var e=this;return new t(function(){return{values:new uy(e.getContent().values),index:new uy(e.getContent().index),pairs:new uy(e.getContent().pairs)}})},t.prototype.distinct=function(e){var n=this;return new t(function(){return{values:new fy(n.getContent().values,e),pairs:new fy(n.getContent().pairs,function(t){return e&&e(t[1])||t[1]})}})},t.prototype.groupBy=function(e){var n=this;if(!Yy(e))throw new Error("Expected 'selector' parameter to 'Series.groupBy' to be a selector function that determines the value to group the series by.");return new t(function(){var r,i,o=[],s={},a=0;try{for(var u=Bg(n.getContent().pairs),l=u.next();!l.done;l=u.next()){var c=l.value,h=e(c[1],a);++a;var f=s[h];if(f)f.push(c);else{var p=[];p.push(c),o.push(p),s[h]=p}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{values:o.map(function(e){return new t({pairs:e})})}})},t.prototype.groupSequentialBy=function(t){if(t){if(!Yy(t))throw new Error("Expected 'selector' parameter to 'Series.groupSequentialBy' to be a selector function that determines the value to group the series by.")}else t=function(t){return t};return this.variableWindow(function(e,n){return t(e)===t(n)})},t.concat=function(e){if(!Xy(e))throw new Error("Expected 'series' parameter to 'Series.concat' to be an array of series.");return new t(function(){var t=e.map(function(t){return t.getContent()});return{values:new iy(t.map(function(t){return t.values})),pairs:new iy(t.map(function(t){return t.pairs}))}})},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,i,o,s,a=[this];try{for(var u=Bg(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(Xy(c))try{for(var h=Bg(c),f=h.next();!f.done;f=h.next()){var p=f.value;a.push(p)}}catch(d){o={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else a.push(c)}}catch(m){r={error:m}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return t.concat(a)},t.zip=function(e,n){var r=Array.from(e);if(0===r.length)return new t;var i=r[0];return i.none()?new t:new t(function(){var t=r;return{index:i.getContent().index,values:new cy(t.map(function(t){return t.getContent().values}),n)}})},t.prototype.zip=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[e.length-1],i=[this].concat(e.slice(0,e.length-1));return t.zip(i,function(t){return r.apply(void 0,zg(t))})},t.prototype.orderBy=function(t){var e=this.getContent();return new n_({values:e.values,pairs:e.pairs,selector:t,direction:yy.Ascending,parent:null})},t.prototype.orderByDescending=function(t){var e=this.getContent();return new n_({values:e.values,pairs:e.pairs,selector:t,direction:yy.Descending,parent:null})},t.prototype.union=function(t,e){if(e&&!Yy(e))throw new Error("Expected optional 'selector' parameter to 'Series.union' to be a selector function.");return this.concat(t).distinct(e)},t.prototype.intersection=function(t,e,n){if(e){if(!Yy(e))throw new Error("Expected optional 'outerSelector' parameter to 'Series.intersection' to be a function.")}else e=function(t){return t};if(n){if(!Yy(n))throw new Error("Expected optional 'innerSelector' parameter to 'Series.intersection' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).any()})},t.prototype.except=function(t,e,n){if(e){if(!Yy(e))throw new Error("Expected optional 'outerSelector' parameter to 'Series.except' to be a function.")}else e=function(t){return t};if(n){if(!Yy(n))throw new Error("Expected optional 'innerSelector' parameter to 'Series.except' to be a function.")}else n=function(t){return t};return this.where(function(r){var i=e(r);return t.where(function(t){return i===n(t)}).none()})},t.prototype.join=function(e,n,r,i){if(!Yy(n))throw new Error("Expected 'outerKeySelector' parameter of 'Series.join' to be a selector function.");if(!Yy(r))throw new Error("Expected 'innerKeySelector' parameter of 'Series.join' to be a selector function.");if(!Yy(i))throw new Error("Expected 'resultSelector' parameter of 'Series.join' to be a selector function.");var o=this;return new t(function(){var t,s,a,u,l=e.groupBy(r).toObject(function(t){return r(t.first())},function(t){return t}),c=(o.getContent(),[]);try{for(var h=Bg(o),f=h.next();!f.done;f=h.next()){var p=f.value,d=l[n(p)];if(d)try{for(var m=Bg(d),g=m.next();!g.done;g=m.next())c.push(i(p,g.value))}catch(y){a={error:y}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(a)throw a.error}}}}catch(_){t={error:_}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(t)throw t.error}}return{values:c}})},t.prototype.joinOuter=function(t,e,n,r){if(!Yy(e))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuter' to be a selector function.");if(!Yy(n))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuter' to be a selector function.");if(!Yy(r))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuter' to be a selector function.");var i=this,o=i.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),s=t.except(i,n,e).select(function(t){return r(null,t)}).resetIndex(),a=i.join(t,e,n,r);return o.concat(a).concat(s).resetIndex()},t.prototype.joinOuterLeft=function(t,e,n,r){if(!Yy(e))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuterLeft' to be a selector function.");if(!Yy(n))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuterLeft' to be a selector function.");if(!Yy(r))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuterLeft' to be a selector function.");var i=this.except(t,e,n).select(function(t){return r(t,null)}).resetIndex(),o=this.join(t,e,n,r);return i.concat(o).resetIndex()},t.prototype.joinOuterRight=function(t,e,n,r){if(!Yy(e))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuterRight' to be a selector function.");if(!Yy(n))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuterRight' to be a selector function.");if(!Yy(r))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuterRight' to be a selector function.");var i=t.except(this,n,e).select(function(t){return r(null,t)}).resetIndex();return this.join(t,e,n,r).concat(i).resetIndex()},t.prototype.truncateStrings=function(t){if(!$y(t))throw new Error("Expected 'maxLength' parameter to 'Series.truncateStrings' to be a number.");return this.select(function(e){return Zy(e)&&e.length>t?e.substring(0,t):e})},t.prototype.round=function(t){if(void 0!==t){if(!$y(t))throw new Error("Expected 'numDecimalPlaces' parameter to 'Series.round' to be a number.")}else t=2;return this.select(function(e){return $y(e)?parseFloat(e.toFixed(t)):e})},t.prototype.insertPair=function(e){if(!Xy(e))throw new Error("Expected 'pair' parameter to 'Series.insertPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'Series.insertPair' to be an array with two elements. The first element is the index, the second is the value.");return new t({pairs:[e]}).concat(this)},t.prototype.appendPair=function(e){if(!Xy(e))throw new Error("Expected 'pair' parameter to 'Series.appendPair' to be an array.");if(2!==e.length)throw new Error("Expected 'pair' parameter to 'Series.appendPair' to be an array with two elements. The first element is the index, the second is the value.");return this.concat(new t({pairs:[e]}))},t.prototype.fillGaps=function(t,e){if(!Yy(t))throw new Error("Expected 'comparer' parameter to 'Series.fillGaps' to be a comparer function that compares two values and returns a boolean.");if(!Yy(e))throw new Error("Expected 'generator' parameter to 'Series.fillGaps' to be a generator function that takes two values and returns an array of generated pairs to span the gap.");return this.rollingWindow(2).selectMany(function(n){var r=n.toPairs(),i=r[0],o=r[1];if(!t(i,o))return[i];var s=e(i,o);if(!Xy(s))throw new Error("Expected return from 'generator' parameter to 'Series.fillGaps' to be an array of pairs, instead got a "+typeof s);return[i].concat(s)}).withIndex(function(t){return t[0]}).select(function(t){return t[1]}).concat(this.tail(1))},t.prototype.defaultIfEmpty=function(e){if(this.none()){if(e instanceof t)return e;if(Xy(e))return new t(e);throw new Error("Expected 'defaultSequence' parameter to 'Series.defaultIfEmpty' to be an array or a series.")}return this},t.prototype.detectTypes=function(){var t=this;return new Jy(function(){var e=t.count(),n=t.select(function(t){var e=typeof t;return"object"===e&&Wy(t)&&(e="date"),e}).aggregate({},function(t,e){var n=t[e];return n||(t[e]=n={count:0}),++n.count,t});return{columnNames:["Type","Frequency"],rows:Object.keys(n).map(function(t){return[t,n[t].count/e*100]})}})},t.prototype.detectValues=function(){var t=this;return new Jy(function(){var e=t.count(),n=t.aggregate(new Map,function(t,e){var n=t.get(e);return n||t.set(e,n={count:0,value:e}),++n.count,t});return{columnNames:["Value","Frequency"],rows:Array.from(n.keys()).map(function(t){var r=n.get(t);return[r.value,r.count/e*100]})}})},t.prototype.bucket=function(t){if(!$y(t))throw new Error("Expected 'numBuckets' parameter to 'Series.bucket' to be a number.");if(this.none())return new Jy;var e=this,n=e.min(),r=(e.max()-n)/(t-1);return e.select(function(t){var e=Math.floor((t-n)/r),i=e*r+n;return{Value:t,Bucket:e,Min:i,Mid:i+.5*r,Max:i+r}}).inflate()},t.prototype.getTypeCode=function(){return"series"},t.defaultCountIterable=new Gg,t.defaultEmptyIterable=new Ug,t}(),n_=function(t){function e(n){for(var r,i,o=this,s=[],a=[],u=0,l=n.parent,c=[];null!==l;)c.push(l),l=l.config.parent;c.reverse();try{for(var h=Bg(c),f=h.next();!f.done;f=h.next()){var p=f.value.config;s.push(e.makeSortSpec(u,p.selector,p.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(p.selector),p.direction)),++u}}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return s.push(e.makeSortSpec(u,n.selector,n.direction)),a.push(e.makeSortSpec(u,e.makePairsSelector(n.selector),n.direction)),(o=t.call(this,{values:new vy(n.values,s),pairs:new vy(n.pairs,a)})||this).config=n,o}return Fg(e,t),e.makeSortSpec=function(t,e,n){return{sortLevel:t,selector:e,direction:n}},e.makePairsSelector=function(t){return function(e,n){return t(e[1],n)}},e.prototype.thenBy=function(t){return new e({values:this.config.values,pairs:this.config.pairs,selector:t,direction:yy.Ascending,parent:this})},e.prototype.thenByDescending=function(t){return new e({values:this.config.values,pairs:this.config.pairs,selector:t,direction:yy.Descending,parent:this})},e}(e_),r_=function(t){function e(e){return t.call(this,e)||this}return Fg(e,t),e.prototype.getType=function(){return this._type||(this._type=this.any()?Gy(this.first()):"empty"),this._type},e.prototype.getLessThan=function(){switch(this.getType()){case"date":return function(t,e){return gg(t).isBefore(e)};case"string":case"number":return function(t,e){return t<e};case"empty":return function(){return!0};default:throw new Error("No less than operation available for type: "+this.getType())}},e.prototype.getLessThanOrEqualTo=function(){var t=this;return function(e,n){return!t.getGreaterThan()(e,n)}},e.prototype.getGreaterThan=function(){switch(this.getType()){case"date":return function(t,e){return gg(t).isAfter(e)};case"string":case"number":return function(t,e){return t>e};case"empty":return function(){return!0};default:throw new Error("No greater than operation available for type: "+this.getType())}},e}(e_);function i_(t,e){return t(e={exports:{}},e.exports),e.exports}var o_=function(t){return t instanceof Buffer},s_=i_(function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),a_=i_(function(t){try{if("function"!=typeof u_.inherits)throw"";t.exports=u_.inherits}catch(e){t.exports=s_}}),u_=i_(function(t,e){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},r=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),u=i[n];n<o;u=i[++n])d(u)||!v(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var i,o={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,t,r.depth)}function a(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(x(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return c(n)}var u,v="",E=!1,C=["{","}"];return f(n)&&(E=!0,C=["[","]"]),x(n)&&(v=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(v=" "+RegExp.prototype.toString.call(n)),b(n)&&(v=" "+Date.prototype.toUTCString.call(n)),w(n)&&(v=" "+c(n)),0!==s.length||E&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=E?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)I(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return h(t,n,r,a,e,E)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,v,C)):C[0]+v+C[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),I(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=d(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function d(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function y(t){return void 0===t}function _(t){return v(t)&&"[object RegExp]"===E(t)}function v(t){return"object"==typeof t&&null!==t}function b(t){return v(t)&&"[object Date]"===E(t)}function w(t){return v(t)&&("[object Error]"===E(t)||t instanceof Error)}function x(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(i)&&(i=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=process.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=p,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=_,e.isObject=v,e.isDate=b,e.isError=w,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=o_;var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",D(),e.format.apply(e,arguments))},e.inherits=a_,e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(s){n(s)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=A,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return r.apply(i,arguments)};t.apply(this,e).then(function(t){process.nextTick(o,null,t)},function(t){process.nextTick(k,t,o)})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}}),l_=u_.isFunction;function c_(t,e){if(!Zy(t))throw new Error("Expected 'csvTextString' parameter to 'dataForge.fromCSV' to be a string containing data encoded in the CSV format.");if(e){if(!Hy(e))throw new Error("Expected 'config' parameter to 'dataForge.fromCSV' to be an object with CSV parsing configuration options.");if(e.columnNames){if(!l_(e.columnNames[Symbol.iterator])&&!Xy(e.columnNames))throw new Error("Expect 'columnNames' field of 'config' parameter to DataForge.fromCSV to be an array or iterable of strings that specifies column names.");try{for(var n=Bg(e.columnNames),r=n.next();!r.done;r=n.next())if(!Zy(r.value))throw new Error("Expect 'columnNames' field of 'config' parameter to DataForge.fromCSV to be an array of strings that specify column names.")}catch(u){o={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}}void 0===e.skipEmptyLines&&((e=Object.assign({},e)).skipEmptyLines=!0)}else e={skipEmptyLines:!0};var i,o,s,a=wg().parse(t,e).data;return 0===a.length?new Jy:(a=a.map(function(t){return t.map(function(t){return Zy(t)?t.trim():t})}),i=e&&e.columnNames?e.columnNames:a.shift(),new Jy({rows:a,columnNames:i}))}function h_(t,e){if(!$y(t))throw new Error("Expect 'start' parameter to 'dataForge.range' function to be a number.");if(!$y(e))throw new Error("Expect 'count' parameter to 'dataForge.range' function to be a number.");for(var n=[],r=0;r<e;++r)n.push(t+r);return new e_(n)}function f_(t,e){for(var n=[],r=0;r<e;++r)n.push(t);return new e_(n)}function p_(t,e){return(p_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)}function d_(t,e){function n(){this.constructor=t}p_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function m_(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function g_(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var r,i=[];try{for(;(void 0===e||0<e--)&&!(r=t.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function y_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g_(arguments[e]));return t}gg.extend(Pg);var __="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{},v_="undefined"!=typeof BigInt?BigInt:__.BigInt||Number,b_=DataView;b_.prototype.setBigUint64||(b_.prototype.setBigUint64=function(t,e,n){if(e<Math.pow(2,32)){e=Number(e);var r=0}else{r=e.toString(2),e="";for(var i=0;i<64-r.length;i++)e+="0";e+=r,r=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(n?0:4),e,n),this.setUint32(t+(n?4:0),r,n)},b_.prototype.getBigUint64=function(t,e){var n=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),n=n.toString(2),t=t.toString(2),e="";for(var r=0;r<32-n.length;r++)e+="0";return v_("0b"+t+(e+n))});var w_="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},x_=[],E_=[],C_="undefined"!=typeof Uint8Array?Uint8Array:Array,S_=!1;function D_(){S_=!0;for(var t=0;64>t;++t)x_[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],E_["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;E_[45]=62,E_[95]=63}function I_(t,e,n){for(var r=[],i=e;i<n;i+=3)r.push(x_[(e=(t[i]<<16)+(t[i+1]<<8)+t[i+2])>>18&63]+x_[e>>12&63]+x_[e>>6&63]+x_[63&e]);return r.join("")}function A_(t){S_||D_();for(var e=t.length,n=e%3,r="",i=[],o=0,s=e-n;o<s;o+=16383)i.push(I_(t,o,o+16383>s?s:o+16383));return 1===n?(r+=x_[(t=t[e-1])>>2],r+=x_[t<<4&63],r+="=="):2===n&&(r+=x_[(t=(t[e-2]<<8)+t[e-1])>>10],r+=x_[t>>4&63],r+=x_[t<<2&63],r+="="),i.push(r),i.join("")}function k_(t,e,n,r,i){var o=8*i-r-1,s=(1<<o)-1,a=s>>1,u=-7,l=n?-1:1,c=t[e+(i=n?i-1:0)];for(i+=l,n=c&(1<<-u)-1,c>>=-u,u+=o;0<u;n=256*n+t[e+i],i+=l,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=r;0<u;o=256*o+t[e+i],i+=l,u-=8);if(0===n)n=1-a;else{if(n===s)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,r),n-=a}return(c?-1:1)*o*Math.pow(2,n-r)}function O_(t,e,n,r,i,o){var s,a=8*o-i-1,u=(1<<a)-1,l=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var h=r?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-r))&&(r--,s*=2),2<=(e=1<=r+l?e+c/s:e+c*Math.pow(2,1-l))*s&&(r++,s/=2),r+l>=u?(e=0,r=u):1<=r+l?(e=(e*s-1)*Math.pow(2,i),r+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,i),r=0));8<=i;t[n+o]=255&e,o+=h,e/=256,i-=8);for(r=r<<i|e,a+=i;0<a;t[n+o]=255&r,o+=h,r/=256,a-=8);t[n+o-h]|=128*f}var T_={}.toString,R_=Array.isArray||function(t){return"[object Array]"==T_.call(t)},P_=(N_.TYPED_ARRAY_SUPPORT=void 0===w_.TYPED_ARRAY_SUPPORT||w_.TYPED_ARRAY_SUPPORT)?2147483647:1073741823;function L_(t,e){if((N_.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return N_.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=N_.prototype:(null===t&&(t=new N_(e)),t.length=e),t}function N_(t,e,n){if(!(N_.TYPED_ARRAY_SUPPORT||this instanceof N_))return new N_(t,e,n);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return B_(this,t)}return M_(this,t,e,n)}function M_(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),N_.TYPED_ARRAY_SUPPORT?(t=e).__proto__=N_.prototype:t=j_(t,e),t}if("string"==typeof e){if(r=t,"string"==typeof(t=n)&&""!==t||(t="utf8"),!N_.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(r=L_(r,n=0|U_(e,t))).write(e,t))!==n&&(r=r.slice(0,e)),r}return function(t,e){if(V_(e)){var n=0|z_(e.length);return 0===(t=L_(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(n="number"!=typeof e.length)||(n=(n=e.length)!=n),n?L_(t,0):j_(t,e);if("Buffer"===e.type&&R_(e.data))return j_(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function F_(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function B_(t,e){if(F_(e),t=L_(t,0>e?0:0|z_(e)),!N_.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function j_(t,e){var n=0>e.length?0:0|z_(e.length);t=L_(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function z_(t){if(t>=(N_.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(N_.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function V_(t){return!(null==t||!t._isBuffer)}function U_(t,e){if(V_(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return ev(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return rv(t).length;default:if(r)return ev(t).length;e=(""+e).toLowerCase(),r=!0}}function q_(t,e,n){var r=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=n,n=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n),r="",n=t;n<e;++n)r=(t=r)+(r=16>(r=this[n])?"0"+r.toString(16):r.toString(16));return r;case"utf8":case"utf-8":return Z_(this,e,n);case"ascii":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return A_(0===e&&n===this.length?this:this.slice(e,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,n),n="",t=0;t<e.length;t+=2)n+=String.fromCharCode(e[t]+256*e[t+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function G_(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function H_(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof e&&(e=N_.from(e,r)),V_(e))return 0===e.length?-1:Y_(t,e,n,r,i);if("number"==typeof e)return e&=255,N_.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Y_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Y_(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>t.length||2>e.length)return-1;s=2,a/=2,u/=2,n/=2}if(i)for(r=-1;n<a;n++)if(o(t,n)===o(e,-1===r?0:n-r)){if(-1===r&&(r=n),n-r+1===u)return r*s}else-1!==r&&(n-=n-r),r=-1;else for(n+u>a&&(n=a-u);0<=n;n--){for(a=!0,r=0;r<u;r++)if(o(t,n+r)!==o(e,r)){a=!1;break}if(a)return n}return-1}function Z_(t,e,n){n=Math.min(t.length,n);for(var r=[];e<n;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:var u=t[e+2];128==(192&(a=t[e+1]))&&128==(192&u)&&2047<(i=(15&i)<<12|(63&a)<<6|63&u)&&(55296>i||57343<i)&&(o=i);break;case 4:u=t[e+2];var l=t[e+3];128==(192&(a=t[e+1]))&&128==(192&u)&&128==(192&l)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&l)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(r.push((o-=65536)>>>10&1023|55296),o=56320|1023&o),r.push(o),e+=s}if((t=r.length)<=W_)r=String.fromCharCode.apply(String,r);else{for(n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=W_));r=n}return r}N_.poolSize=8192,N_._augment=function(t){return t.__proto__=N_.prototype,t},N_.from=function(t,e,n){return M_(null,t,e,n)},N_.TYPED_ARRAY_SUPPORT&&(N_.prototype.__proto__=Uint8Array.prototype,N_.__proto__=Uint8Array),N_.alloc=function(t,e,n){return F_(t),0>=t?L_(null,t):void 0!==e?"string"==typeof n?L_(null,t).fill(e,n):L_(null,t).fill(e):L_(null,t)},N_.allocUnsafe=function(t){return B_(null,t)},N_.allocUnsafeSlow=function(t){return B_(null,t)},N_.isBuffer=ov,N_.compare=function(t,e){if(!V_(t)||!V_(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},N_.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N_.concat=function(t,e){if(!R_(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return N_.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;e=N_.allocUnsafe(e);var r=0;for(n=0;n<t.length;++n){var i=t[n];if(!V_(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e},N_.byteLength=U_,N_.prototype._isBuffer=!0,N_.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)G_(this,e,e+1);return this},N_.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)G_(this,e,e+3),G_(this,e+1,e+2);return this},N_.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)G_(this,e,e+7),G_(this,e+1,e+6),G_(this,e+2,e+5),G_(this,e+3,e+4);return this},N_.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Z_(this,0,t):q_.apply(this,arguments)},N_.prototype.equals=function(t){if(!V_(t))throw new TypeError("Argument must be a Buffer");return this===t||0===N_.compare(this,t)},N_.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},N_.prototype.compare=function(t,e,n,r,i){if(!V_(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s);for(r=this.slice(r,i),t=t.slice(e,n),e=0;e<a;++e)if(r[e]!==t[e]){o=r[e],s=t[e];break}return o<s?-1:s<o?1:0},N_.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},N_.prototype.indexOf=function(t,e,n){return H_(this,t,e,n,!0)},N_.prototype.lastIndexOf=function(t,e,n){return H_(this,t,e,n,!1)},N_.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":t:{if(e=Number(e)||0,r=this.length-e,n?(n=Number(n))>r&&(n=r):n=r,0!=(r=t.length)%2)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(t.substr(2*r,2),16),isNaN(i)){t=r;break t}this[e+r]=i}t=r}return t;case"utf8":case"utf-8":return iv(ev(t,this.length-e),this,e,n);case"ascii":return iv(nv(t),this,e,n);case"latin1":case"binary":return iv(nv(t),this,e,n);case"base64":return iv(rv(t),this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=t,i=this.length-e;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var a=r.charCodeAt(s);t=a>>8,o.push(a%=256),o.push(t)}return iv(o,this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},N_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W_=4096;function $_(t,e,n){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function X_(t,e,n,r,i,o){if(!V_(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function K_(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function J_(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function Q_(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}N_.prototype.slice=function(t,e){var n=this.length;if(0>(t=~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),0>(e=void 0===e?n:~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),e<t&&(e=t),N_.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=N_.prototype;else{e=new N_(n=e-t,void 0);for(var r=0;r<n;++r)e[r]=this[r+t]}return e},N_.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||$_(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n},N_.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||$_(t,e,this.length),n=this[t+--e];for(var r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},N_.prototype.readUInt8=function(t,e){return e||$_(t,1,this.length),this[t]},N_.prototype.readUInt16LE=function(t,e){return e||$_(t,2,this.length),this[t]|this[t+1]<<8},N_.prototype.readUInt16BE=function(t,e){return e||$_(t,2,this.length),this[t]<<8|this[t+1]},N_.prototype.readUInt32LE=function(t,e){return e||$_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},N_.prototype.readUInt32BE=function(t,e){return e||$_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},N_.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||$_(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n>=128*r&&(n-=Math.pow(2,8*e)),n},N_.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||$_(t,e,this.length),n=e;for(var r=1,i=this[t+--n];0<n&&(r*=256);)i+=this[t+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*e)),i},N_.prototype.readInt8=function(t,e){return e||$_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},N_.prototype.readInt16LE=function(t,e){return e||$_(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},N_.prototype.readInt16BE=function(t,e){return e||$_(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},N_.prototype.readInt32LE=function(t,e){return e||$_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},N_.prototype.readInt32BE=function(t,e){return e||$_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},N_.prototype.readFloatLE=function(t,e){return e||$_(t,4,this.length),k_(this,t,!0,23,4)},N_.prototype.readFloatBE=function(t,e){return e||$_(t,4,this.length),k_(this,t,!1,23,4)},N_.prototype.readDoubleLE=function(t,e){return e||$_(t,8,this.length),k_(this,t,!0,52,8)},N_.prototype.readDoubleBE=function(t,e){return e||$_(t,8,this.length),k_(this,t,!1,52,8)},N_.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||X_(this,t,e,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},N_.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||X_(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},N_.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,1,255,0),N_.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},N_.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,2,65535,0),N_.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):K_(this,t,e,!0),e+2},N_.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,2,65535,0),N_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):K_(this,t,e,!1),e+2},N_.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,4,4294967295,0),N_.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):J_(this,t,e,!0),e+4},N_.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,4,4294967295,0),N_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):J_(this,t,e,!1),e+4},N_.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||X_(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r),r=0;var i=1,o=0;for(this[e]=255&t;++r<n&&(i*=256);)0>t&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},N_.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||X_(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=1,o=0;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)0>t&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},N_.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,1,127,-128),N_.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},N_.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,2,32767,-32768),N_.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):K_(this,t,e,!0),e+2},N_.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,2,32767,-32768),N_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):K_(this,t,e,!1),e+2},N_.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,4,2147483647,-2147483648),N_.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):J_(this,t,e,!0),e+4},N_.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||X_(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),N_.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):J_(this,t,e,!1),e+4},N_.prototype.writeFloatLE=function(t,e,n){return n||Q_(this,0,e,4),O_(this,t,e,!0,23,4),e+4},N_.prototype.writeFloatBE=function(t,e,n){return n||Q_(this,0,e,4),O_(this,t,e,!1,23,4),e+4},N_.prototype.writeDoubleLE=function(t,e,n){return n||Q_(this,0,e,8),O_(this,t,e,!0,52,8),e+8},N_.prototype.writeDoubleBE=function(t,e,n){return n||Q_(this,0,e,8),O_(this,t,e,!1,52,8),e+8},N_.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&n<e&&e<r)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(1e3>i||!N_.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},N_.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!N_.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else for(i=(t=V_(t)?t:ev(new N_(t,r).toString())).length,r=0;r<n-e;++r)this[r+e]=t[r%i];return this};var tv=/[^+\/0-9A-Za-z-_]/g;function ev(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=t.charCodeAt(s))&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--e)break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(n>>6|192,63&n|128)}else if(65536>n){if(0>(e-=3))break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw Error("Invalid code point");if(0>(e-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function nv(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function rv(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(tv,"")).length)t="";else for(;0!=t.length%4;)t+="=";S_||D_();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var n="="===t[e-2]?2:"="===t[e-1]?1:0,r=new C_(3*e/4-n),i=0<n?e-4:e,o=0;for(e=0;e<i;e+=4){var s=E_[t.charCodeAt(e)]<<18|E_[t.charCodeAt(e+1)]<<12|E_[t.charCodeAt(e+2)]<<6|E_[t.charCodeAt(e+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=255&s}return 2===n?(s=E_[t.charCodeAt(e)]<<2|E_[t.charCodeAt(e+1)]>>4,r[o++]=255&s):1===n&&(s=E_[t.charCodeAt(e)]<<10|E_[t.charCodeAt(e+1)]<<4|E_[t.charCodeAt(e+2)]>>2,r[o++]=s>>8&255,r[o++]=255&s),r}function iv(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function ov(t){return null!=t&&(!!t._isBuffer||sv(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&sv(t.slice(0,0)))}function sv(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var av=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:P_,Buffer:N_,SlowBuffer:function(t){return+t!=t&&(t=0),N_.alloc(+t)},isBuffer:ov}),uv=N_,lv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function cv(t,e){return t(e={exports:{}},e.exports),e.exports}function hv(){throw Error("setTimeout has not been defined")}function fv(){throw Error("clearTimeout has not been defined")}var pv=hv,dv=fv;function mv(t){if(pv===setTimeout)return setTimeout(t,0);if((pv===hv||!pv)&&setTimeout)return pv=setTimeout,setTimeout(t,0);try{return pv(t,0)}catch(e){try{return pv.call(null,t,0)}catch(n){return pv.call(this,t,0)}}}"function"==typeof w_.setTimeout&&(pv=setTimeout),"function"==typeof w_.clearTimeout&&(dv=clearTimeout);var gv,yv=[],_v=!1,vv=-1;function bv(){_v&&gv&&(_v=!1,gv.length?yv=gv.concat(yv):vv=-1,yv.length&&wv())}function wv(){if(!_v){var t=mv(bv);_v=!0;for(var e=yv.length;e;){for(gv=yv,yv=[];++vv<e;)gv&&gv[vv].run();vv=-1,e=yv.length}gv=null,_v=!1,function(t){if(dv===clearTimeout)return clearTimeout(t);if((dv===fv||!dv)&&clearTimeout)return dv=clearTimeout,clearTimeout(t);try{dv(t)}catch(e){try{return dv.call(null,t)}catch(n){return dv.call(this,t)}}}(t)}}function xv(t,e){this.fun=t,this.array=e}xv.prototype.run=function(){this.fun.apply(null,this.array)},new Date;var Ev=cv(function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return i(t,e,n)}var i=av.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=av:(n(av,e),e.Buffer=r),r.prototype=Object.create(i.prototype),n(i,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=i(t),void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return av.SlowBuffer(t)}}),Cv=cv(function(t,e){function n(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function r(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||0>t)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function i(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||0>t)throw new TypeError("size must be a uint32");if(t+e>n||t>a)throw new RangeError("buffer too small")}function o(t,e,n,r){if(e=new Uint8Array(t.buffer,e,n),u.getRandomValues(e),!r)return t;!function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];yv.push(new xv(t,e)),1!==yv.length||_v||mv(wv)}(function(){r(null,t)})}var s=Ev.Buffer,a=Ev.kMaxLength,u=lv.crypto||lv.msCrypto,l=Math.pow(2,32)-1;u&&u.getRandomValues?(e.randomFill=function(t,e,n,a){if(!(s.isBuffer(t)||t instanceof lv.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)a=e,e=0,n=t.length;else if("function"==typeof n)a=n,n=t.length-e;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return r(e,t.length),i(n,e,t.length),o(t,e,n,a)},e.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof lv.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return r(e,t.length),void 0===n&&(n=t.length-e),i(n,e,t.length),o(t,e,n)}):(e.randomFill=n,e.randomFillSync=n)}),Sv=cv(function(t){t.exports=Cv}).randomFillSync,Dv=Math.floor(.001*(Date.now()-performance.now()));function Iv(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Av(t,e){for(var n,r="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(2>r.length||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(2<r.length){if((o=r.lastIndexOf("/"))!==r.length-1){-1===o?(r="",i=0):i=(r=r.slice(0,o)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}e&&(r=0<r.length?r+"/..":"..",i=2)}else r=0<r.length?r+"/"+t.slice(o+1,a):t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var kv,Ov={resolve:function(){for(var t,e="",n=!1,r=arguments.length-1;-1<=r&&!n;r--){if(0<=r)var i=arguments[r];else void 0===t&&(t="/"),i=t;Iv(i),0!==i.length&&(e=i+"/"+e,n=47===i.charCodeAt(0))}return e=Av(e,!n),n?0<e.length?"/"+e:"/":0<e.length?e:"."},normalize:function(t){if(Iv(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=Av(t,!e)).length||e||(t="."),0<t.length&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return Iv(t),0<t.length&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];Iv(n),0<n.length&&(t=void 0===t?n:t+"/"+n)}return void 0===t?".":Ov.normalize(t)},relative:function(t,e){if(Iv(t),Iv(e),t===e)return"";if((t=Ov.resolve(t))===(e=Ov.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var r=t.length,i=r-n,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,u=-1,l=0;l<=a;++l){if(l===a){if(s>a){if(47===e.charCodeAt(o+l))return e.slice(o+l+1);if(0===l)return e.slice(o+l)}else i>a&&(47===t.charCodeAt(n+l)?u=l:0===l&&(u=0));break}var c=t.charCodeAt(n+l);if(c!==e.charCodeAt(o+l))break;47===c&&(u=l)}for(i="",l=n+u+1;l<=r;++l)l!==r&&47!==t.charCodeAt(l)||(i=0===i.length?i+"..":i+"/..");return 0<i.length?i+e.slice(o+u):(47===e.charCodeAt(o+=u)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(Iv(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"//":t.slice(0,r)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');Iv(t);var n,r=0,i=-1,o=!0;if(void 0!==e&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(n=t.length-1;0<=n;--n){var u=t.charCodeAt(n);if(47===u){if(!o){r=n+1;break}}else-1===a&&(o=!1,a=n+1),0<=s&&(u===e.charCodeAt(s)?-1==--s&&(i=n):(s=-1,i=a))}return r===i?i=a:-1===i&&(i=t.length),t.slice(r,i)}for(n=t.length-1;0<=n;--n)if(47===t.charCodeAt(n)){if(!o){r=n+1;break}}else-1===i&&(o=!1,i=n+1);return-1===i?"":t.slice(r,i)},extname:function(t){Iv(t);for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(!i){n=s+1;break}}else-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);var e=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+n:e+"/"+n:n},parse:function(t){Iv(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n=t.charCodeAt(0),r=47===n;if(r){e.root="/";var i=1}else i=0;for(var o=-1,s=0,a=-1,u=!0,l=t.length-1,c=0;l>=i;--l)if(47===(n=t.charCodeAt(l))){if(!u){s=l+1;break}}else-1===a&&(u=!1,a=l+1),46===n?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);return-1===o||-1===a||0===c||1===c&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=t.slice(0===s&&r?1:s,a)):(0===s&&r?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),0<s?e.dir=t.slice(0,s-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},Tv=Ov.posix=Ov,Rv={hrtime:function(t){return 1e9*(t=function(t){var e=.001*performance.now(),n=Math.floor(e)+Dv;return e=Math.floor(e%1*1e9),t&&(n-=t[0],0>(e-=t[1])&&(n--,e+=1e9)),[n,e]}(t))[0]+t[1]},exit:function(t){throw new Db(t)},kill:function(t){throw new Ib(t)},randomFillSync:Sv,isTTY:function(){return!0},path:Object.freeze({__proto__:null,default:Tv,__moduleExports:Tv}),fs:null},Pv=v_(1),Lv=v_(2),Nv=v_(4),Mv=v_(8),Fv=v_(16),Bv=v_(32),jv=v_(64),zv=v_(128),Vv=v_(256),Uv=v_(512),qv=v_(1024),Gv=v_(2048),Hv=v_(4096),Yv=v_(8192),Zv=v_(16384),Wv=v_(32768),$v=v_(65536),Xv=v_(131072),Kv=v_(262144),Jv=v_(524288),Qv=v_(1048576),tb=v_(2097152),eb=v_(4194304),nb=v_(8388608),rb=v_(16777216),ib=v_(33554432),ob=v_(67108864),sb=v_(134217728),ab=v_(268435456),ub=Pv|Lv|Nv|Mv|Fv|Bv|jv|zv|Vv|Uv|qv|Gv|Hv|Yv|Zv|Wv|$v|Xv|Kv|Jv|Qv|tb|nb|eb|rb|ob|ib|sb|ab,lb=Pv|Lv|Nv|Mv|Fv|Bv|jv|zv|Vv|tb|eb|nb|sb,cb=v_(0),hb=Mv|Fv|zv|Uv|qv|Gv|Hv|Yv|Zv|Wv|$v|Xv|Kv|Jv|Qv|tb|nb|rb|ob|ib|sb,fb=hb|lb,pb=Lv|Mv|jv|tb|sb|ab,db=Lv|Mv|jv|tb|sb,mb=v_(0),gb={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},yb=((kv={})[6]="SIGHUP",kv[8]="SIGINT",kv[11]="SIGQUIT",kv[7]="SIGILL",kv[15]="SIGTRAP",kv[0]="SIGABRT",kv[2]="SIGBUS",kv[5]="SIGFPE",kv[9]="SIGKILL",kv[20]="SIGUSR1",kv[12]="SIGSEGV",kv[21]="SIGUSR2",kv[10]="SIGPIPE",kv[1]="SIGALRM",kv[14]="SIGTERM",kv[3]="SIGCHLD",kv[4]="SIGCONT",kv[13]="SIGSTOP",kv[16]="SIGTSTP",kv[17]="SIGTTIN",kv[18]="SIGTTOU",kv[19]="SIGURG",kv[23]="SIGXCPU",kv[24]="SIGXFSZ",kv[22]="SIGVTALRM",kv),_b=Pv|Lv|Fv|zv|tb|sb,vb=Pv|jv|Fv|zv|tb|sb;function bb(t){var e=Math.trunc(t);return t=v_(Math.round(1e6*(t-e))),v_(e)*v_(1e6)+t}function wb(t){return"number"==typeof t&&(t=Math.trunc(t)),t=v_(t),Number(t/v_(1e6))}function xb(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return t.apply(void 0,y_(e))}catch(r){if(r&&r.code&&"string"==typeof r.code)return gb[r.code]||28;if(r instanceof Sb)return r.errno;throw r}}}function Eb(t,e){var n=t.FD_MAP.get(e);if(!n)throw new Sb(8);if(void 0===n.filetype){var r=t.bindings.fs.fstatSync(n.real);e=(t=Cb(t,e,r)).rightsBase,r=t.rightsInheriting,n.filetype=t.filetype,n.rights||(n.rights={base:e,inheriting:r})}return n}function Cb(t,e,n){switch(!0){case n.isBlockDevice():return{filetype:1,rightsBase:ub,rightsInheriting:ub};case n.isCharacterDevice():return void 0!==e&&t.bindings.isTTY(e)?{filetype:2,rightsBase:db,rightsInheriting:mb}:{filetype:2,rightsBase:ub,rightsInheriting:ub};case n.isDirectory():return{filetype:3,rightsBase:hb,rightsInheriting:fb};case n.isFIFO():return{filetype:6,rightsBase:pb,rightsInheriting:ub};case n.isFile():return{filetype:4,rightsBase:lb,rightsInheriting:cb};case n.isSocket():return{filetype:6,rightsBase:pb,rightsInheriting:ub};case n.isSymbolicLink():return{filetype:7,rightsBase:v_(0),rightsInheriting:v_(0)};default:return{filetype:0,rightsBase:v_(0),rightsInheriting:v_(0)}}}var Sb=function(t){function e(n){var r=t.call(this)||this;return r.errno=n,Object.setPrototypeOf(r,e.prototype),r}return d_(e,t),e}(Error),Db=function(t){function e(n){var r=t.call(this,"WASI Exit error: "+n)||this;return r.code=n,Object.setPrototypeOf(r,e.prototype),r}return d_(e,t),e}(Error),Ib=function(t){function e(n){var r=t.call(this,"WASI Kill signal: "+n)||this;return r.signal=n,Object.setPrototypeOf(r,e.prototype),r}return d_(e,t),e}(Error),Ab=function(){function t(t){function e(t){switch(t){case 1:return l.hrtime();case 0:return bb(Date.now());case 2:case 3:return l.hrtime()-b;default:return null}}function n(t,e){if(t=Eb(o,t),e!==v_(0)&&(t.rights.base&e)===v_(0))throw new Sb(63);return t}function r(t,e){return o.refreshMemory(),Array.from({length:e},function(e,n){return e=o.view.getUint32(n=t+8*n,!0),n=o.view.getUint32(n+4,!0),new Uint8Array(o.memory.buffer,e,n)})}var i,o=this,s={};t&&t.preopens?s=t.preopens:t&&t.preopenDirectories&&(s=t.preopenDirectories);var a={};t&&t.env&&(a=t.env);var u=[];t&&t.args&&(u=t.args);var l=Rv;t&&t.bindings&&(l=t.bindings),this.view=this.memory=void 0,this.bindings=l,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:_b,inheriting:v_(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:vb,inheriting:v_(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:vb,inheriting:v_(0)},path:void 0}]]);var c=this.bindings.fs,h=this.bindings.path;try{for(var f=m_(Object.entries(s)),p=f.next();!p.done;p=f.next()){var d=g_(p.value,2),m=d[0],g=d[1],y=c.openSync(g,c.constants.O_RDONLY),_=y_(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(_,{real:y,filetype:3,rights:{base:hb,inheriting:fb},fakePath:m,path:g})}}catch(w){var v={error:w}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(v)throw v.error}}var b=l.hrtime();this.wasiImport={args_get:function(t,e){o.refreshMemory();var n=t,r=e;return u.forEach(function(t){o.view.setUint32(n,r,!0),n+=4,r+=uv.from(o.memory.buffer).write(t+"\0",r)}),0},args_sizes_get:function(t,e){return o.refreshMemory(),o.view.setUint32(t,u.length,!0),t=u.reduce(function(t,e){return t+uv.byteLength(e)+1},0),o.view.setUint32(e,t,!0),0},environ_get:function(t,e){o.refreshMemory();var n=t,r=e;return Object.entries(a).forEach(function(t){var e=g_(t,2);t=e[0],e=e[1],o.view.setUint32(n,r,!0),n+=4,r+=uv.from(o.memory.buffer).write(t+"="+e+"\0",r)}),0},environ_sizes_get:function(t,e){o.refreshMemory();var n=Object.entries(a).map(function(t){return(t=g_(t,2))[0]+"="+t[1]+"\0"}),r=n.reduce(function(t,e){return t+uv.byteLength(e)},0);return o.view.setUint32(t,n.length,!0),o.view.setUint32(e,r,!0),0},clock_res_get:function(t,e){switch(t){case 1:case 2:case 3:var n=v_(1);break;case 0:n=v_(1e3)}return o.view.setBigUint64(e,n),0},clock_time_get:function(t,n,r){return o.refreshMemory(),null===(t=e(t))?28:(o.view.setBigUint64(r,v_(t),!0),0)},fd_advise:xb(function(t){return n(t,zv),52}),fd_allocate:xb(function(t){return n(t,Vv),52}),fd_close:xb(function(t){var e=n(t,v_(0));return c.closeSync(e.real),o.FD_MAP.delete(t),0}),fd_datasync:xb(function(t){return t=n(t,Pv),c.fdatasyncSync(t.real),0}),fd_fdstat_get:xb(function(t,e){return t=n(t,v_(0)),o.refreshMemory(),o.view.setUint8(e,t.filetype),o.view.setUint16(e+2,0,!0),o.view.setUint16(e+4,0,!0),o.view.setBigUint64(e+8,v_(t.rights.base),!0),o.view.setBigUint64(e+8+8,v_(t.rights.inheriting),!0),0}),fd_fdstat_set_flags:xb(function(t){return n(t,Mv),52}),fd_fdstat_set_rights:xb(function(t,e,r){return((t=n(t,v_(0))).rights.base|e)>t.rights.base||(t.rights.inheriting|r)>t.rights.inheriting?63:(t.rights.base=e,t.rights.inheriting=r,0)}),fd_filestat_get:xb(function(t,e){t=n(t,tb);var r=c.fstatSync(t.real);return o.refreshMemory(),o.view.setBigUint64(e,v_(r.dev),!0),o.view.setBigUint64(e+=8,v_(r.ino),!0),o.view.setUint8(e+=8,t.filetype),o.view.setBigUint64(e+=8,v_(r.nlink),!0),o.view.setBigUint64(e+=8,v_(r.size),!0),o.view.setBigUint64(e+=8,bb(r.atimeMs),!0),o.view.setBigUint64(e+=8,bb(r.mtimeMs),!0),o.view.setBigUint64(e+8,bb(r.ctimeMs),!0),0}),fd_filestat_set_size:xb(function(t,e){return t=n(t,eb),c.ftruncateSync(t.real,Number(e)),0}),fd_filestat_set_times:xb(function(t,r,i,o){t=n(t,nb);var s=c.fstatSync(t.real),a=s.atime;s=s.mtime;var u=wb(e(0));return 3==(3&o)||12==(12&o)?28:(1==(1&o)?a=wb(r):2==(2&o)&&(a=u),4==(4&o)?s=wb(i):8==(8&o)&&(s=u),c.futimesSync(t.real,new Date(a),new Date(s)),0)}),fd_prestat_get:xb(function(t,e){return(t=n(t,v_(0))).path?(o.refreshMemory(),o.view.setUint8(e,0),o.view.setUint32(e+4,uv.byteLength(t.fakePath),!0),0):28}),fd_prestat_dir_name:xb(function(t,e,r){return(t=n(t,v_(0))).path?(o.refreshMemory(),uv.from(o.memory.buffer).write(t.fakePath,e,r,"utf8"),0):28}),fd_pwrite:xb(function(t,e,i,s,a){var u=n(t,jv|Nv),l=0;return r(e,i).forEach(function(t){for(var e=0;e<t.byteLength;)e+=c.writeSync(u.real,t,e,t.byteLength-e,Number(s)+l+e);l+=e}),o.view.setUint32(a,l,!0),0}),fd_write:xb(function(t,e,i,s){var a=n(t,jv),u=0;return r(e,i).forEach(function(t){for(var e=0;e<t.byteLength;){var n=c.writeSync(a.real,t,e,t.byteLength-e,a.offset?Number(a.offset):null);a.offset&&(a.offset+=v_(n)),e+=n}u+=e}),o.view.setUint32(s,u,!0),0}),fd_pread:xb(function(t,e,i,s,a){var u;t=n(t,Lv|Nv);var l=0;try{var h=m_(r(e,i)),f=h.next();t:for(;!f.done;f=h.next()){var p=f.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,m=c.readSync(t.real,p,e,p.byteLength-e,Number(s)+l+e);if(e+=m,l+=m,0===m||m<d)break t}l+=e}}catch(y){var g={error:y}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(g)throw g.error}}return o.view.setUint32(a,l,!0),0}),fd_read:xb(function(t,e,i,s){var a,u=0===(t=n(t,Lv)).real,l=0;try{var h=m_(r(e,i)),f=h.next();t:for(;!f.done;f=h.next()){var p=f.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,m=c.readSync(t.real,p,e,d,u||void 0===t.offset?null:Number(t.offset));if(u||(t.offset=(t.offset?t.offset:v_(0))+v_(m)),e+=m,l+=m,0===m||m<d)break t}}}catch(y){var g={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(g)throw g.error}}return o.view.setUint32(s,l,!0),0}),fd_readdir:xb(function(t,e,r,i,s){t=n(t,Zv),o.refreshMemory();var a=c.readdirSync(t.path,{withFileTypes:!0}),u=e;for(i=Number(i);i<a.length;i+=1){var l=a[i],f=uv.byteLength(l.name);if(e-u>r)break;if(o.view.setBigUint64(e,v_(i+1),!0),(e+=8)-u>r)break;var p=c.statSync(h.resolve(t.path,l.name));if(o.view.setBigUint64(e,v_(p.ino),!0),(e+=8)-u>r)break;if(o.view.setUint32(e,f,!0),(e+=4)-u>r)break;switch(!0){case p.isBlockDevice():p=1;break;case p.isCharacterDevice():p=2;break;case p.isDirectory():p=3;break;case p.isFIFO():p=6;break;case p.isFile():p=4;break;case p.isSocket():p=6;break;case p.isSymbolicLink():p=7;break;default:p=0}if(o.view.setUint8(e,p),e+=1,(e+=3)+f>=u+r)break;uv.from(o.memory.buffer).write(l.name,e),e+=f}return o.view.setUint32(s,Math.min(e-u,r),!0),0}),fd_renumber:xb(function(t,e){return n(t,v_(0)),n(e,v_(0)),c.closeSync(o.FD_MAP.get(t).real),o.FD_MAP.set(t,o.FD_MAP.get(e)),o.FD_MAP.delete(e),0}),fd_seek:xb(function(t,e,r,i){switch(t=n(t,Nv),o.refreshMemory(),r){case 1:t.offset=(t.offset?t.offset:v_(0))+v_(e);break;case 2:r=c.fstatSync(t.real).size,t.offset=v_(r)+v_(e);break;case 0:t.offset=v_(e)}return o.view.setBigUint64(i,t.offset,!0),0}),fd_tell:xb(function(t,e){return t=n(t,Bv),o.refreshMemory(),t.offset||(t.offset=v_(0)),o.view.setBigUint64(e,t.offset,!0),0}),fd_sync:xb(function(t){return t=n(t,Fv),c.fsyncSync(t.real),0}),path_create_directory:xb(function(t,e,r){return(t=n(t,Uv)).path?(o.refreshMemory(),e=uv.from(o.memory.buffer,e,r).toString(),c.mkdirSync(h.resolve(t.path,e)),0):28}),path_filestat_get:xb(function(t,e,r,i,s){return(t=n(t,Kv)).path?(o.refreshMemory(),r=uv.from(o.memory.buffer,r,i).toString(),r=c.statSync(h.resolve(t.path,r)),o.view.setBigUint64(s,v_(r.dev),!0),o.view.setBigUint64(s+=8,v_(r.ino),!0),o.view.setUint8(s+=8,Cb(o,void 0,r).filetype),o.view.setBigUint64(s+=8,v_(r.nlink),!0),o.view.setBigUint64(s+=8,v_(r.size),!0),o.view.setBigUint64(s+=8,bb(r.atimeMs),!0),o.view.setBigUint64(s+=8,bb(r.mtimeMs),!0),o.view.setBigUint64(s+8,bb(r.ctimeMs),!0),0):28}),path_filestat_set_times:xb(function(t,r,i,s,a,u,l){if(!(t=n(t,Qv)).path)return 28;o.refreshMemory();var f=c.fstatSync(t.real);r=f.atime,f=f.mtime;var p=wb(e(0));return 3==(3&l)||12==(12&l)?28:(1==(1&l)?r=wb(a):2==(2&l)&&(r=p),4==(4&l)?f=wb(u):8==(8&l)&&(f=p),i=uv.from(o.memory.buffer,i,s).toString(),c.utimesSync(h.resolve(t.path,i),new Date(r),new Date(f)),0)}),path_link:xb(function(t,e,r,i,s,a,u){return t=n(t,Gv),s=n(s,Hv),t.path&&s.path?(o.refreshMemory(),r=uv.from(o.memory.buffer,r,i).toString(),a=uv.from(o.memory.buffer,a,u).toString(),c.linkSync(h.resolve(t.path,r),h.resolve(s.path,a)),0):28}),path_open:xb(function(t,e,r,i,s,a,u,l,f){e=n(t,Yv),a=v_(a),u=v_(u),t=(a&(Lv|Zv))!==v_(0);var p=(a&(Pv|jv|Vv|eb))!==v_(0);if(p&&t)var d=c.constants.O_RDWR;else t?d=c.constants.O_RDONLY:p&&(d=c.constants.O_WRONLY);if(t=a|Yv,a|=u,0!=(1&s)&&(d|=c.constants.O_CREAT,t|=qv),0!=(2&s)&&(d|=c.constants.O_DIRECTORY),0!=(4&s)&&(d|=c.constants.O_EXCL),0!=(8&s)&&(d|=c.constants.O_TRUNC,t|=Jv),0!=(1&l)&&(d|=c.constants.O_APPEND),0!=(2&l)&&(d=c.constants.O_DSYNC?d|c.constants.O_DSYNC:d|c.constants.O_SYNC,a|=Pv),0!=(4&l)&&(d|=c.constants.O_NONBLOCK),0!=(8&l)&&(d=c.constants.O_RSYNC?d|c.constants.O_RSYNC:d|c.constants.O_SYNC,a|=Fv),0!=(16&l)&&(d|=c.constants.O_SYNC,a|=Fv),p&&0==(d&(c.constants.O_APPEND|c.constants.O_TRUNC))&&(a|=Nv),o.refreshMemory(),r=uv.from(o.memory.buffer,r,i).toString(),r=h.resolve(e.path,r),h.relative(e.path,r).startsWith(".."))return 76;try{var m=c.realpathSync(r);if(h.relative(e.path,m).startsWith(".."))return 76}catch(y){if("ENOENT"!==y.code)throw y;m=r}try{var g=c.statSync(m).isDirectory()}catch(y){}return d=c.openSync(m,!p&&g?c.constants.O_RDONLY:d),g=y_(o.FD_MAP.keys()).reverse()[0]+1,o.FD_MAP.set(g,{real:d,filetype:void 0,rights:{base:t,inheriting:a},path:m}),Eb(o,g),o.view.setUint32(f,g,!0),0}),path_readlink:xb(function(t,e,r,i,s,a){return(t=n(t,Wv)).path?(o.refreshMemory(),e=uv.from(o.memory.buffer,e,r).toString(),e=h.resolve(t.path,e),e=c.readlinkSync(e),i=uv.from(o.memory.buffer).write(e,i,s),o.view.setUint32(a,i,!0),0):28}),path_remove_directory:xb(function(t,e,r){return(t=n(t,ib)).path?(o.refreshMemory(),e=uv.from(o.memory.buffer,e,r).toString(),c.rmdirSync(h.resolve(t.path,e)),0):28}),path_rename:xb(function(t,e,r,i,s,a){return t=n(t,$v),i=n(i,Xv),t.path&&i.path?(o.refreshMemory(),e=uv.from(o.memory.buffer,e,r).toString(),s=uv.from(o.memory.buffer,s,a).toString(),c.renameSync(h.resolve(t.path,e),h.resolve(i.path,s)),0):28}),path_symlink:xb(function(t,e,r,i,s){return(r=n(r,rb)).path?(o.refreshMemory(),t=uv.from(o.memory.buffer,t,e).toString(),i=uv.from(o.memory.buffer,i,s).toString(),c.symlinkSync(t,h.resolve(r.path,i)),0):28}),path_unlink_file:xb(function(t,e,r){return(t=n(t,ob)).path?(o.refreshMemory(),e=uv.from(o.memory.buffer,e,r).toString(),c.unlinkSync(h.resolve(t.path,e)),0):28}),poll_oneoff:function(t,n,r,i){var s=0,a=0;o.refreshMemory();for(var u=0;u<r;u+=1){var c=o.view.getBigUint64(t,!0),h=o.view.getUint8(t+=8);switch(t+=1,h){case 0:o.view.getBigUint64(t+=7,!0);var f=o.view.getUint32(t+=8,!0);t+=4,h=o.view.getBigUint64(t+=4,!0),o.view.getBigUint64(t+=8,!0);var p=o.view.getUint16(t+=8,!0);t+=2,t+=6;var d=1===p;p=0,null===(f=v_(e(f)))?p=28:a=(h=d?h:f+h)>a?h:a,o.view.setBigUint64(n,c,!0),o.view.setUint16(n+=8,p,!0),o.view.setUint8(n+=2,0),n+=1,n+=5,s+=1;break;case 1:case 2:o.view.getUint32(t+=3,!0),t+=4,o.view.setBigUint64(n,c,!0),o.view.setUint16(n+=8,52,!0),o.view.setUint8(n+=2,h),n+=1,n+=5,s+=1;break;default:return 28}}for(o.view.setUint32(i,s,!0);l.hrtime()<a;);return 0},proc_exit:function(t){return l.exit(t),0},proc_raise:function(t){return t in yb?(l.kill(yb[t]),0):28},random_get:function(t,e){return o.refreshMemory(),l.randomFillSync(new Uint8Array(o.memory.buffer),t,e),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},t.traceSyscalls&&Object.keys(this.wasiImport).forEach(function(t){var e=o.wasiImport[t];o.wasiImport[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];console.log("WASI: wasiImport called: "+t+" ("+n+")");try{var i=e.apply(void 0,y_(n));return console.log("WASI:  => "+i),i}catch(lx){throw console.log("Catched error: "+lx),lx}}})}return t.prototype.refreshMemory=function(){this.view&&0!==this.view.buffer.byteLength||(this.view=new b_(this.memory.buffer))},t.prototype.setMemory=function(t){this.memory=t},t.prototype.start=function(t){if(null===(t=t.exports)||"object"!=typeof t)throw Error("instance.exports must be an Object. Received "+t+".");var e=t.memory;if(!(e instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+e+".");this.setMemory(e),t._start&&t._start()},t.prototype.getImportNamespace=function(t){var e,n=null;try{for(var r=m_(WebAssembly.Module.imports(t)),i=r.next();!i.done;i=r.next()){var o=i.value;if("function"===o.kind&&o.module.startsWith("wasi_"))if(n){if(n!==o.module)throw Error("Multiple namespaces detected.")}else n=o.module}}catch(Rb){var s={error:Rb}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return n},t.prototype.getImports=function(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can't detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=Rv,t}();function kb(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function Ob(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var r,i=[];try{for(;(void 0===e||0<e--)&&!(r=t.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function Tb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ob(arguments[e]));return t}var Rb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Pb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lb(t,e){return t(e={exports:{}},e.exports),e.exports}var Nb=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}});Pb(Nb);var Mb=Lb(function(t,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}}),Fb=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Nb.constants.S_IFMT,r=Nb.constants.S_IFDIR,i=Nb.constants.S_IFREG,o=Nb.constants.S_IFBLK,s=Nb.constants.S_IFCHR,a=Nb.constants.S_IFLNK,u=Nb.constants.S_IFIFO,l=Nb.constants.S_IFSOCK;t=function(){function t(){}return t.build=function(e,n){void 0===n&&(n=!1);var r=new t,i=e.gid,o=e.atime,s=e.mtime,a=e.ctime;return r.uid=(n=n?Mb.default:function(t){return t})(e.uid),r.gid=n(i),r.rdev=n(0),r.blksize=n(4096),r.ino=n(e.ino),r.size=n(e.getSize()),r.blocks=n(1),r.atime=o,r.mtime=s,r.ctime=a,r.birthtime=a,r.atimeMs=n(o.getTime()),r.mtimeMs=n(s.getTime()),i=n(a.getTime()),r.ctimeMs=i,r.birthtimeMs=i,r.dev=n(0),r.mode=n(e.mode),r.nlink=n(e.nlink),r},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&n)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(r)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(u)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}(),e.Stats=t,e.default=t});Pb(Fb);var Bb="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},jb=[],zb=[],Vb="undefined"!=typeof Uint8Array?Uint8Array:Array,Ub=!1;function qb(){Ub=!0;for(var t=0;64>t;++t)jb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],zb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;zb[45]=62,zb[95]=63}function Gb(t,e,n){for(var r=[],i=e;i<n;i+=3)r.push(jb[(e=(t[i]<<16)+(t[i+1]<<8)+t[i+2])>>18&63]+jb[e>>12&63]+jb[e>>6&63]+jb[63&e]);return r.join("")}function Hb(t){Ub||qb();for(var e=t.length,n=e%3,r="",i=[],o=0,s=e-n;o<s;o+=16383)i.push(Gb(t,o,o+16383>s?s:o+16383));return 1===n?(r+=jb[(t=t[e-1])>>2],r+=jb[t<<4&63],r+="=="):2===n&&(r+=jb[(t=(t[e-2]<<8)+t[e-1])>>10],r+=jb[t>>4&63],r+=jb[t<<2&63],r+="="),i.push(r),i.join("")}function Yb(t,e,n,r,i){var o=8*i-r-1,s=(1<<o)-1,a=s>>1,u=-7,l=n?-1:1,c=t[e+(i=n?i-1:0)];for(i+=l,n=c&(1<<-u)-1,c>>=-u,u+=o;0<u;n=256*n+t[e+i],i+=l,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=r;0<u;o=256*o+t[e+i],i+=l,u-=8);if(0===n)n=1-a;else{if(n===s)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,r),n-=a}return(c?-1:1)*o*Math.pow(2,n-r)}function Zb(t,e,n,r,i,o){var s,a=8*o-i-1,u=(1<<a)-1,l=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var h=r?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-r))&&(r--,s*=2),2<=(e=1<=r+l?e+c/s:e+c*Math.pow(2,1-l))*s&&(r++,s/=2),r+l>=u?(e=0,r=u):1<=r+l?(e=(e*s-1)*Math.pow(2,i),r+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,i),r=0));8<=i;t[n+o]=255&e,o+=h,e/=256,i-=8);for(r=r<<i|e,a+=i;0<a;t[n+o]=255&r,o+=h,r/=256,a-=8);t[n+o-h]|=128*f}var Wb={}.toString,$b=Array.isArray||function(t){return"[object Array]"==Wb.call(t)},Xb=(Jb.TYPED_ARRAY_SUPPORT=void 0===Bb.TYPED_ARRAY_SUPPORT||Bb.TYPED_ARRAY_SUPPORT)?2147483647:1073741823;function Kb(t,e){if((Jb.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return Jb.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Jb.prototype:(null===t&&(t=new Jb(e)),t.length=e),t}function Jb(t,e,n){if(!(Jb.TYPED_ARRAY_SUPPORT||this instanceof Jb))return new Jb(t,e,n);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return ew(this,t)}return Qb(this,t,e,n)}function Qb(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Jb.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Jb.prototype:t=nw(t,e),t}if("string"==typeof e){if(r=t,"string"==typeof(t=n)&&""!==t||(t="utf8"),!Jb.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(r=Kb(r,n=0|ow(e,t))).write(e,t))!==n&&(r=r.slice(0,e)),r}return function(t,e){if(iw(e)){var n=0|rw(e.length);return 0===(t=Kb(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(n="number"!=typeof e.length)||(n=(n=e.length)!=n),n?Kb(t,0):nw(t,e);if("Buffer"===e.type&&$b(e.data))return nw(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function tw(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function ew(t,e){if(tw(e),t=Kb(t,0>e?0:0|rw(e)),!Jb.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function nw(t,e){var n=0>e.length?0:0|rw(e.length);t=Kb(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function rw(t){if(t>=(Jb.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(Jb.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function iw(t){return!(null==t||!t._isBuffer)}function ow(t,e){if(iw(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return _w(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return bw(t).length;default:if(r)return _w(t).length;e=(""+e).toLowerCase(),r=!0}}function sw(t,e,n){var r=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=n,n=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n),r="",n=t;n<e;++n)r=(t=r)+(r=16>(r=this[n])?"0"+r.toString(16):r.toString(16));return r;case"utf8":case"utf-8":return cw(this,e,n);case"ascii":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return Hb(0===e&&n===this.length?this:this.slice(e,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,n),n="",t=0;t<e.length;t+=2)n+=String.fromCharCode(e[t]+256*e[t+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function aw(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function uw(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof e&&(e=Jb.from(e,r)),iw(e))return 0===e.length?-1:lw(t,e,n,r,i);if("number"==typeof e)return e&=255,Jb.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):lw(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function lw(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>t.length||2>e.length)return-1;s=2,a/=2,u/=2,n/=2}if(i)for(r=-1;n<a;n++)if(o(t,n)===o(e,-1===r?0:n-r)){if(-1===r&&(r=n),n-r+1===u)return r*s}else-1!==r&&(n-=n-r),r=-1;else for(n+u>a&&(n=a-u);0<=n;n--){for(a=!0,r=0;r<u;r++)if(o(t,n+r)!==o(e,r)){a=!1;break}if(a)return n}return-1}function cw(t,e,n){n=Math.min(t.length,n);for(var r=[];e<n;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:var u=t[e+2];128==(192&(a=t[e+1]))&&128==(192&u)&&2047<(i=(15&i)<<12|(63&a)<<6|63&u)&&(55296>i||57343<i)&&(o=i);break;case 4:u=t[e+2];var l=t[e+3];128==(192&(a=t[e+1]))&&128==(192&u)&&128==(192&l)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&l)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(r.push((o-=65536)>>>10&1023|55296),o=56320|1023&o),r.push(o),e+=s}if((t=r.length)<=hw)r=String.fromCharCode.apply(String,r);else{for(n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=hw));r=n}return r}Jb.poolSize=8192,Jb._augment=function(t){return t.__proto__=Jb.prototype,t},Jb.from=function(t,e,n){return Qb(null,t,e,n)},Jb.TYPED_ARRAY_SUPPORT&&(Jb.prototype.__proto__=Uint8Array.prototype,Jb.__proto__=Uint8Array),Jb.alloc=function(t,e,n){return tw(t),0>=t?Kb(null,t):void 0!==e?"string"==typeof n?Kb(null,t).fill(e,n):Kb(null,t).fill(e):Kb(null,t)},Jb.allocUnsafe=function(t){return ew(null,t)},Jb.allocUnsafeSlow=function(t){return ew(null,t)},Jb.isBuffer=xw,Jb.compare=function(t,e){if(!iw(t)||!iw(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},Jb.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Jb.concat=function(t,e){if(!$b(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Jb.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;e=Jb.allocUnsafe(e);var r=0;for(n=0;n<t.length;++n){var i=t[n];if(!iw(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e},Jb.byteLength=ow,Jb.prototype._isBuffer=!0,Jb.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)aw(this,e,e+1);return this},Jb.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)aw(this,e,e+3),aw(this,e+1,e+2);return this},Jb.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)aw(this,e,e+7),aw(this,e+1,e+6),aw(this,e+2,e+5),aw(this,e+3,e+4);return this},Jb.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?cw(this,0,t):sw.apply(this,arguments)},Jb.prototype.equals=function(t){if(!iw(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Jb.compare(this,t)},Jb.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},Jb.prototype.compare=function(t,e,n,r,i){if(!iw(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s);for(r=this.slice(r,i),t=t.slice(e,n),e=0;e<a;++e)if(r[e]!==t[e]){o=r[e],s=t[e];break}return o<s?-1:s<o?1:0},Jb.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Jb.prototype.indexOf=function(t,e,n){return uw(this,t,e,n,!0)},Jb.prototype.lastIndexOf=function(t,e,n){return uw(this,t,e,n,!1)},Jb.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":t:{if(e=Number(e)||0,r=this.length-e,n?(n=Number(n))>r&&(n=r):n=r,0!=(r=t.length)%2)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(t.substr(2*r,2),16),isNaN(i)){t=r;break t}this[e+r]=i}t=r}return t;case"utf8":case"utf-8":return ww(_w(t,this.length-e),this,e,n);case"ascii":return ww(vw(t),this,e,n);case"latin1":case"binary":return ww(vw(t),this,e,n);case"base64":return ww(bw(t),this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=t,i=this.length-e;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var a=r.charCodeAt(s);t=a>>8,o.push(a%=256),o.push(t)}return ww(o,this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Jb.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var hw=4096;function fw(t,e,n){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function pw(t,e,n,r,i,o){if(!iw(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function dw(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function mw(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function gw(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}Jb.prototype.slice=function(t,e){var n=this.length;if(0>(t=~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),0>(e=void 0===e?n:~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),e<t&&(e=t),Jb.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=Jb.prototype;else{e=new Jb(n=e-t,void 0);for(var r=0;r<n;++r)e[r]=this[r+t]}return e},Jb.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||fw(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n},Jb.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||fw(t,e,this.length),n=this[t+--e];for(var r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},Jb.prototype.readUInt8=function(t,e){return e||fw(t,1,this.length),this[t]},Jb.prototype.readUInt16LE=function(t,e){return e||fw(t,2,this.length),this[t]|this[t+1]<<8},Jb.prototype.readUInt16BE=function(t,e){return e||fw(t,2,this.length),this[t]<<8|this[t+1]},Jb.prototype.readUInt32LE=function(t,e){return e||fw(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Jb.prototype.readUInt32BE=function(t,e){return e||fw(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Jb.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||fw(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n>=128*r&&(n-=Math.pow(2,8*e)),n},Jb.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||fw(t,e,this.length),n=e;for(var r=1,i=this[t+--n];0<n&&(r*=256);)i+=this[t+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*e)),i},Jb.prototype.readInt8=function(t,e){return e||fw(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Jb.prototype.readInt16LE=function(t,e){return e||fw(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},Jb.prototype.readInt16BE=function(t,e){return e||fw(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},Jb.prototype.readInt32LE=function(t,e){return e||fw(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Jb.prototype.readInt32BE=function(t,e){return e||fw(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Jb.prototype.readFloatLE=function(t,e){return e||fw(t,4,this.length),Yb(this,t,!0,23,4)},Jb.prototype.readFloatBE=function(t,e){return e||fw(t,4,this.length),Yb(this,t,!1,23,4)},Jb.prototype.readDoubleLE=function(t,e){return e||fw(t,8,this.length),Yb(this,t,!0,52,8)},Jb.prototype.readDoubleBE=function(t,e){return e||fw(t,8,this.length),Yb(this,t,!1,52,8)},Jb.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||pw(this,t,e,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},Jb.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||pw(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},Jb.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,1,255,0),Jb.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Jb.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,2,65535,0),Jb.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):dw(this,t,e,!0),e+2},Jb.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,2,65535,0),Jb.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):dw(this,t,e,!1),e+2},Jb.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,4,4294967295,0),Jb.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):mw(this,t,e,!0),e+4},Jb.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,4,4294967295,0),Jb.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):mw(this,t,e,!1),e+4},Jb.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||pw(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r),r=0;var i=1,o=0;for(this[e]=255&t;++r<n&&(i*=256);)0>t&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},Jb.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||pw(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=1,o=0;for(this[e+(r=n-1)]=255&t;0<=--r&&(i*=256);)0>t&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},Jb.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,1,127,-128),Jb.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},Jb.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,2,32767,-32768),Jb.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):dw(this,t,e,!0),e+2},Jb.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,2,32767,-32768),Jb.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):dw(this,t,e,!1),e+2},Jb.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,4,2147483647,-2147483648),Jb.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):mw(this,t,e,!0),e+4},Jb.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||pw(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),Jb.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):mw(this,t,e,!1),e+4},Jb.prototype.writeFloatLE=function(t,e,n){return n||gw(this,0,e,4),Zb(this,t,e,!0,23,4),e+4},Jb.prototype.writeFloatBE=function(t,e,n){return n||gw(this,0,e,4),Zb(this,t,e,!1,23,4),e+4},Jb.prototype.writeDoubleLE=function(t,e,n){return n||gw(this,0,e,8),Zb(this,t,e,!0,52,8),e+8},Jb.prototype.writeDoubleBE=function(t,e,n){return n||gw(this,0,e,8),Zb(this,t,e,!1,52,8),e+8},Jb.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&n<e&&e<r)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(1e3>i||!Jb.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},Jb.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Jb.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else for(i=(t=iw(t)?t:_w(new Jb(t,r).toString())).length,r=0;r<n-e;++r)this[r+e]=t[r%i];return this};var yw=/[^+\/0-9A-Za-z-_]/g;function _w(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=t.charCodeAt(s))&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--e)break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(n>>6|192,63&n|128)}else if(65536>n){if(0>(e-=3))break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw Error("Invalid code point");if(0>(e-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function vw(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function bw(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(yw,"")).length)t="";else for(;0!=t.length%4;)t+="=";Ub||qb();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var n="="===t[e-2]?2:"="===t[e-1]?1:0,r=new Vb(3*e/4-n),i=0<n?e-4:e,o=0;for(e=0;e<i;e+=4){var s=zb[t.charCodeAt(e)]<<18|zb[t.charCodeAt(e+1)]<<12|zb[t.charCodeAt(e+2)]<<6|zb[t.charCodeAt(e+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=255&s}return 2===n?(s=zb[t.charCodeAt(e)]<<2|zb[t.charCodeAt(e+1)]>>4,r[o++]=255&s):1===n&&(s=zb[t.charCodeAt(e)]<<10|zb[t.charCodeAt(e+1)]<<4|zb[t.charCodeAt(e+2)]>>2,r[o++]=s>>8&255,r[o++]=255&s),r}function ww(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function xw(t){return null!=t&&(!!t._isBuffer||Ew(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Ew(t.slice(0,0)))}function Ew(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Cw=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:Xb,Buffer:Jb,SlowBuffer:function(t){return+t!=t&&(t=0),Jb.alloc(+t)},isBuffer:xw}),Sw=Lb(function(t,e){function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new(Cw.Buffer.bind.apply(Cw.Buffer,r([void 0,t],e)))}var r=Rb&&Rb.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;t=Array(t);var r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,r++)t[r]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=Cw.Buffer,e.bufferAllocUnsafe=Cw.Buffer.allocUnsafe||n,e.bufferFrom=Cw.Buffer.from||n});function Dw(){throw Error("setTimeout has not been defined")}function Iw(){throw Error("clearTimeout has not been defined")}Pb(Sw);var Aw=Dw,kw=Iw;function Ow(t){if(Aw===setTimeout)return setTimeout(t,0);if((Aw===Dw||!Aw)&&setTimeout)return Aw=setTimeout,setTimeout(t,0);try{return Aw(t,0)}catch(e){try{return Aw.call(null,t,0)}catch(n){return Aw.call(this,t,0)}}}"function"==typeof Bb.setTimeout&&(Aw=setTimeout),"function"==typeof Bb.clearTimeout&&(kw=clearTimeout);var Tw,Rw=[],Pw=!1,Lw=-1;function Nw(){Pw&&Tw&&(Pw=!1,Tw.length?Rw=Tw.concat(Rw):Lw=-1,Rw.length&&Mw())}function Mw(){if(!Pw){var t=Ow(Nw);Pw=!0;for(var e=Rw.length;e;){for(Tw=Rw,Rw=[];++Lw<e;)Tw&&Tw[Lw].run();Lw=-1,e=Rw.length}Tw=null,Pw=!1,function(t){if(kw===clearTimeout)return clearTimeout(t);if((kw===Iw||!kw)&&clearTimeout)return kw=clearTimeout,clearTimeout(t);try{kw(t)}catch(e){try{return kw.call(null,t)}catch(n){return kw.call(this,t)}}}(t)}}function Fw(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Rw.push(new Bw(t,e)),1!==Rw.length||Pw||Ow(Mw)}function Bw(t,e){this.fun=t,this.array=e}function jw(){}Bw.prototype.run=function(){this.fun.apply(null,this.array)};var zw=Bb.performance||{},Vw=zw.now||zw.mozNow||zw.msNow||zw.oNow||zw.webkitNow||function(){return(new Date).getTime()},Uw=new Date,qw={nextTick:Fw,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:jw,addListener:jw,once:jw,off:jw,removeListener:jw,removeAllListeners:jw,emit:jw,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Vw.call(zw),n=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(n-=t[0],0>(e-=t[1])&&(n--,e+=1e9)),[n,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Uw)/1e3}},Gw="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Hw=/%[sdj%]/g;function Yw(t){if(!sx(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(Kw(arguments[n]));return e.join(" ")}n=1;var r=arguments,i=r.length;e=String(t).replace(Hw,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}});for(var o=r[n];n<i;o=r[++n])e=null!==o&&lx(o)?e+" "+Kw(o):e+" "+o;return e}function Zw(t,e){if(ax(Bb.process))return function(){return Zw(t,e).apply(this,arguments)};if(!0===qw.noDeprecation)return t;var n=!1;return function(){if(!n){if(qw.throwDeprecation)throw Error(e);qw.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var Ww,$w={};function Xw(t){return ax(Ww)&&(Ww=qw.env.NODE_DEBUG||""),t=t.toUpperCase(),$w[t]||($w[t]=new RegExp("\\b"+t+"\\b","i").test(Ww)?function(){var e=Yw.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:function(){}),$w[t]}function Kw(t,e){var n={seen:[],stylize:Qw};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),ix(e)?n.showHidden=e:e&&yx(n,e),ax(n.showHidden)&&(n.showHidden=!1),ax(n.depth)&&(n.depth=2),ax(n.colors)&&(n.colors=!1),ax(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Jw),tx(n,t,n.depth)}function Jw(t,e){return(e=Kw.styles[e])?"\x1b["+Kw.colors[e][0]+"m"+t+"\x1b["+Kw.colors[e][1]+"m":t}function Qw(t){return t}function tx(t,e,n){if(t.customInspect&&e&&fx(e.inspect)&&e.inspect!==Kw&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return sx(r)||(r=tx(t,r,n)),r}if(r=function(t,e){return ax(e)?t.stylize("undefined","undefined"):sx(e)?(e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(e,"string")):ox(e)?t.stylize(""+e,"number"):ix(e)?t.stylize(""+e,"boolean"):null===e?t.stylize("null","null"):void 0}(t,e))return r;var i=Object.keys(e),o=function(t){var e={};return t.forEach(function(t){e[t]=!0}),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),hx(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return ex(e);if(0===i.length){if(fx(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(ux(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(cx(e))return t.stylize(Date.prototype.toString.call(e),"date");if(hx(e))return ex(e)}r="";var s=!1,a=["{","}"];return rx(e)&&(s=!0,a=["[","]"]),fx(e)&&(r=" [Function"+(e.name?": "+e.name:"")+"]"),ux(e)&&(r=" "+RegExp.prototype.toString.call(e)),cx(e)&&(r=" "+Date.prototype.toUTCString.call(e)),hx(e)&&(r=" "+ex(e)),0!==i.length||s&&0!=e.length?0>n?ux(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(nx(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(nx(t,e,n,r,i,!0))}),o}(t,e,n,o,i):i.map(function(r){return nx(t,e,n,o,r,s)}),t.seen.pop(),function(t,e,n){return 60<t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(i,r,a)):a[0]+r+a[1]}function ex(t){return"["+Error.prototype.toString.call(t)+"]"}function nx(t,e,n,r,i,o){var s,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(e.set?"[Getter/Setter]":"[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(r,i)||(s="["+i+"]"),a||(0>t.seen.indexOf(e.value)?-1<(a=tx(t,e.value,null===n?null:n-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),ax(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function rx(t){return Array.isArray(t)}function ix(t){return"boolean"==typeof t}function ox(t){return"number"==typeof t}function sx(t){return"string"==typeof t}function ax(t){return void 0===t}function ux(t){return lx(t)&&"[object RegExp]"===Object.prototype.toString.call(t)}function lx(t){return"object"==typeof t&&null!==t}function cx(t){return lx(t)&&"[object Date]"===Object.prototype.toString.call(t)}function hx(t){return lx(t)&&("[object Error]"===Object.prototype.toString.call(t)||t instanceof Error)}function fx(t){return"function"==typeof t}function px(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function dx(t){return 10>t?"0"+t.toString(10):t.toString(10)}Kw.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Kw.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var mx="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function gx(){var t=new Date,e=[dx(t.getHours()),dx(t.getMinutes()),dx(t.getSeconds())].join(":");return[t.getDate(),mx[t.getMonth()],e].join(" ")}function yx(t,e){if(!e||!lx(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}var _x={inherits:Gw,_extend:yx,log:function(){console.log("%s - %s",gx(),Yw.apply(null,arguments))},isBuffer:function(t){return xw(t)},isPrimitive:px,isFunction:fx,isError:hx,isDate:cx,isObject:lx,isRegExp:ux,isUndefined:ax,isSymbol:function(t){return"symbol"==typeof t},isString:sx,isNumber:ox,isNullOrUndefined:function(t){return null==t},isNull:function(t){return null===t},isBoolean:ix,isArray:rx,inspect:Kw,deprecate:Zw,format:Yw,debuglog:Xw};function vx(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}var bx,wx=Object.prototype.hasOwnProperty,xx=Object.keys||function(t){var e,n=[];for(e in t)wx.call(t,e)&&n.push(e);return n},Ex=Array.prototype.slice;function Cx(){return void 0!==bx?bx:bx="foo"===(function(){}).name}function Sx(t){return!xw(t)&&"function"==typeof Bb.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer))}function Dx(t,e){t||Rx(t,!0,e,"==",Px)}var Ix=/\s*function\s+([^\(\s]*)\s*/;function Ax(t){if(fx(t))return Cx()?t.name:(t=t.toString().match(Ix))&&t[1]}function kx(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Ox(Tx(this.actual),128)+" "+this.operator+" "+Ox(Tx(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||Rx;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error()).stack&&(t=t.stack,e=Ax(e),0<=(e=t.indexOf("\n"+e))&&(e=t.indexOf("\n",e+1),t=t.substring(e+1)),this.stack=t)}function Ox(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function Tx(t){return Cx()||!fx(t)?Kw(t):"[Function"+((t=Ax(t))?": "+t:"")+"]"}function Rx(t,e,n,r,i){throw new kx({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function Px(t,e){t||Rx(t,!0,e,"==",Px)}function Lx(t,e,n,r){if(t===e)return!0;if(xw(t)&&xw(e))return 0===vx(t,e);if(cx(t)&&cx(e))return t.getTime()===e.getTime();if(ux(t)&&ux(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(!Sx(t)||!Sx(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(xw(t)!==xw(e))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(px(t)||px(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=Nx(t),o=Nx(e);if(i&&!o||!i&&o)return!1;if(i)return Lx(t=Ex.call(t),e=Ex.call(e),n);i=xx(t);var s=xx(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(!Lx(t[s=i[o]],e[s],n,r))return!1;return!0}(t,e,n,r))}return 0===vx(new Uint8Array(t.buffer),new Uint8Array(e.buffer))}return n?t===e:t==e}function Nx(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function Mx(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function Fx(t,e,n,r){if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null);try{e()}catch(s){var i=s}e=i,r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!e&&Rx(e,n,"Missing expected exception"+r),i="string"==typeof r;var o=!t&&e&&!n;if((!t&&hx(e)&&i&&Mx(e,n)||o)&&Rx(e,n,"Got unwanted exception"+r),t&&e&&n&&!Mx(e,n)||!t&&e)throw e}Dx.AssertionError=kx,Gw(kx,Error),Dx.fail=Rx,Dx.ok=Px,Dx.equal=function t(e,n,r){e!=n&&Rx(e,n,r,"==",t)},Dx.notEqual=function t(e,n,r){e==n&&Rx(e,n,r,"!=",t)},Dx.deepEqual=function t(e,n,r){Lx(e,n,!1)||Rx(e,n,r,"deepEqual",t)},Dx.deepStrictEqual=function t(e,n,r){Lx(e,n,!0)||Rx(e,n,r,"deepStrictEqual",t)},Dx.notDeepEqual=function t(e,n,r){Lx(e,n,!1)&&Rx(e,n,r,"notDeepEqual",t)},Dx.notDeepStrictEqual=function t(e,n,r){Lx(e,n,!0)&&Rx(e,n,r,"notDeepStrictEqual",t)},Dx.strictEqual=function t(e,n,r){e!==n&&Rx(e,n,r,"===",t)},Dx.notStrictEqual=function t(e,n,r){e===n&&Rx(e,n,r,"!==",t)},Dx.throws=function(t,e,n){Fx(!0,t,e,n)},Dx.doesNotThrow=function(t,e,n){Fx(!1,t,e,n)},Dx.ifError=function(t){if(t)throw t};var Bx=Lb(function(t,e){function n(t){return function(t){function e(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(n=t.call(this,r(e,n))||this).code=e,n[a]=e,n.name=t.prototype.name+" ["+n[a]+"]",n}return s(e,t),e}(t)}function r(t,e){Dx.strictEqual(typeof t,"string");var n=u[t];if(Dx(n,"An invalid error message key was used: "+t+"."),"function"==typeof n)t=n;else{if(t=_x.format,void 0===e||0===e.length)return n;e.unshift(n)}return String(t.apply(null,e))}function i(t,e){u[t]="function"==typeof e?e:String(e)}function o(t,e){if(Dx(t,"expected is required"),Dx("string"==typeof e,"thing is required"),Array.isArray(t)){var n=t.length;return Dx(0<n,"At least one expected value needs to be specified"),t=t.map(function(t){return String(t)}),2<n?"one of "+e+" "+t.slice(0,n-1).join(", ")+", or "+t[n-1]:2===n?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}var s=Rb&&Rb.__extends||function(){function t(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"==typeof Symbol?"_kCode":Symbol("code"),u={};t=function(t){function n(n){if("object"!=typeof n||null===n)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var r=n.message?t.call(this,n.message)||this:t.call(this,_x.inspect(n.actual).slice(0,128)+" "+n.operator+" "+_x.inspect(n.expected).slice(0,128))||this;return r.generatedMessage=!n.message,r.name="AssertionError [ERR_ASSERTION]",r.code="ERR_ASSERTION",r.actual=n.actual,r.expected=n.expected,r.operator=n.operator,e.Error.captureStackTrace(r,n.stackStartFunction),r}return s(n,t),n}(Rb.Error),e.AssertionError=t,e.message=r,e.E=i,e.Error=n(Rb.Error),e.TypeError=n(Rb.TypeError),e.RangeError=n(Rb.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'}),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"}),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",function(t){return'The "'+t+'" encoding is not supported'}),i("ERR_ENCODING_INVALID_ENCODED_DATA",function(t){return"The encoded data was not valid for encoding "+t}),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",function(t,e,n){if(Dx(t,"name is required"),e.includes("not ")){var r="must not be";e=e.split("not ")[1]}else r="must be";if(Array.isArray(t))r="The "+t.map(function(t){return'"'+t+'"'}).join(", ")+" arguments "+r+" "+o(e,"type");else if(t.includes(" argument"))r="The "+t+" "+r+" "+o(e,"type");else{var i=t.includes(".")?"property":"argument";r='The "'+t+'" '+i+" "+r+" "+o(e,"type")}return 3<=arguments.length&&(r+=". Received type "+(null!==n?typeof n:"null")),r}),i("ERR_INVALID_ARRAY_LENGTH",function(t,e,n){return Dx.strictEqual(typeof n,"number"),'The array "'+t+'" (length '+n+") must be of length "+e+"."}),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'}),i("ERR_INVALID_OPT_VALUE_ENCODING",function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'}),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",function(t){return"The URL must be "+o(t,"scheme")}),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Dx(0<t.length,"At least one arg needs to be specified"),e="The ";var n=t.length;switch(t=t.map(function(t){return'"'+t+'"'}),n){case 1:e+=t[0]+" argument";break;case 2:e+=t[0]+" and "+t[1]+" arguments";break;default:e+=t.slice(0,n-1).join(", "),e+=", and "+t[n-1]+" arguments"}return e+" must be specified"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",function(t){return"DH parameter size "+t+" is less than 2048"}),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")});Pb(Bx);var jx=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!Sw.Buffer.isEncoding(t))throw new Bx.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,n){return n&&n!==e.ENCODING_UTF8?"buffer"===n?new Sw.Buffer(t):new Sw.Buffer(t).toString(n):t}});Pb(jx);var zx=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Nb.constants.S_IFMT,r=Nb.constants.S_IFDIR,i=Nb.constants.S_IFREG,o=Nb.constants.S_IFBLK,s=Nb.constants.S_IFCHR,a=Nb.constants.S_IFLNK,u=Nb.constants.S_IFIFO,l=Nb.constants.S_IFSOCK;t=function(){function t(){this.name="",this.mode=0}return t.build=function(e,n){var r=new t,i=e.getNode().mode;return r.name=jx.strToEncoding(e.getName(),n),r.mode=i,r},t.prototype._checkModeProperty=function(t){return(this.mode&n)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(r)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(u)},t.prototype.isSocket=function(){return this._checkModeProperty(l)},t}(),e.Dirent=t,e.default=t});function Vx(t,e){for(var n=0,r=t.length-1;0<=r;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function Ux(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var r=0<=n?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=Vx(Yx(t.split("/"),function(t){return!!t}),!e).join("/"))||"."}function qx(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=Ux(t).substr(1),e=Ux(e).substr(1),t=n(t.split("/")),e=n(e.split("/"));for(var r=Math.min(t.length,e.length),i=r,o=0;o<r;o++)if(t[o]!==e[o]){i=o;break}for(r=[],o=i;o<t.length;o++)r.push("..");return(r=r.concat(e.slice(i))).join("/")}Pb(zx);var Gx=qx,Hx=Ux;function Yx(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var Zx=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t="function"==typeof setImmediate?setImmediate.bind(Rb):setTimeout.bind(Rb),e.default=t});Pb(Zx);var Wx=Lb(function(t,e){function n(){var t=qw||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=Zx.default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=n,e.default=n()});function $x(){}function Xx(){Xx.init.call(this)}function Kx(t,e,n,r){var i;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(i=t._events){i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events);var o=i[e]}else i=t._events=new $x,t._eventsCount=0;return o?("function"==typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(n=void 0===t._maxListeners?Xx.defaultMaxListeners:t._maxListeners)&&0<n&&o.length>n&&(o.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=o.length,"function"==typeof console.warn?console.warn(n):console.log(n))):(i[e]=n,++t._eventsCount),t}function Jx(t,e,n){function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}var i=!1;return r.listener=n,r}function Qx(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function tE(t,e){for(var n=Array(e);e--;)n[e]=t[e];return n}Pb(Wx),$x.prototype=Object.create(null),Xx.EventEmitter=Xx,Xx.usingDomains=!1,Xx.prototype.domain=void 0,Xx.prototype._events=void 0,Xx.prototype._maxListeners=void 0,Xx.defaultMaxListeners=10,Xx.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new $x,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Xx.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Xx.prototype.getMaxListeners=function(){return void 0===this._maxListeners?Xx.defaultMaxListeners:this._maxListeners},Xx.prototype.emit=function(t){var e,n,r="error"===t;if(e=this._events)r=r&&null==e.error;else if(!r)return!1;var i=this.domain;if(r){if(e=arguments[1],!i){if(e instanceof Error)throw e;throw(i=Error('Uncaught, unspecified "error" event. ('+e+")")).context=e,i}return e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(i=e[t]))return!1;e="function"==typeof i;var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(i=tE(i,e=i.length),r=0;r<e;++r)i[r].call(this);break;case 2:if(r=arguments[1],e)i.call(this,r);else for(i=tE(i,e=i.length),o=0;o<e;++o)i[o].call(this,r);break;case 3:if(r=arguments[1],o=arguments[2],e)i.call(this,r,o);else for(i=tE(i,e=i.length),n=0;n<e;++n)i[n].call(this,r,o);break;case 4:if(r=arguments[1],o=arguments[2],n=arguments[3],e)i.call(this,r,o,n);else{i=tE(i,e=i.length);for(var s=0;s<e;++s)i[s].call(this,r,o,n)}break;default:for(r=Array(o-1),n=1;n<o;n++)r[n-1]=arguments[n];if(e)i.apply(this,r);else for(i=tE(i,e=i.length),o=0;o<e;++o)i[o].apply(this,r)}return!0},Xx.prototype.on=Xx.prototype.addListener=function(t,e){return Kx(this,t,e,!1)},Xx.prototype.prependListener=function(t,e){return Kx(this,t,e,!0)},Xx.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Jx(this,t,e)),this},Xx.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Jx(this,t,e)),this},Xx.prototype.removeListener=function(t,e){var n;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');var r=this._events;if(!r)return this;var i=r[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)0==--this._eventsCount?this._events=new $x:(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){var o=-1;for(n=i.length;0<n--;)if(i[n]===e||i[n].listener&&i[n].listener===e){var s=i[n].listener;o=n;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new $x,this;delete r[t]}else{n=o+1;for(var a=i.length;n<a;o+=1,n+=1)i[o]=i[n];i.pop()}r.removeListener&&this.emit("removeListener",t,s||e)}return this},Xx.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new $x,this._eventsCount=0):e[t]&&(0==--this._eventsCount?this._events=new $x:delete e[t]),this;if(0===arguments.length){e=Object.keys(e);for(var n,r=0;r<e.length;++r)"removeListener"!==(n=e[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new $x,this._eventsCount=0,this}if("function"==typeof(e=e[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Xx.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var n=0;n<e.length;++n)e[n]=t[n].listener||t[n];t=e}else t=[];else t=[];return t},Xx.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Qx.call(t,e)},Xx.prototype.listenerCount=Qx,Xx.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var eE=Lb(function(t,e){var n=Rb&&Rb.__extends||function(){function t(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=Nb.constants.S_IFMT,i=Nb.constants.S_IFDIR,o=Nb.constants.S_IFREG,s=Nb.constants.S_IFLNK,a=Nb.constants.O_APPEND;e.SEP="/",t=function(t){function e(e,n){void 0===n&&(n=438);var r=t.call(this)||this;return r.uid=Wx.default.getuid(),r.gid=Wx.default.getgid(),r.atime=new Date,r.mtime=new Date,r.ctime=new Date,r.perm=438,r.mode=o,r.nlink=1,r.perm=n,r.mode|=n,r.ino=e,r}return n(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=Sw.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(Sw.bufferAllocUnsafe(0)),Sw.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=Sw.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~r|t},e.prototype.setIsFile=function(){this.setModeProperty(o)},e.prototype.setIsDirectory=function(){this.setModeProperty(i)},e.prototype.setIsSymlink=function(){this.setModeProperty(s)},e.prototype.isFile=function(){return(this.mode&r)===o},e.prototype.isDirectory=function(){return(this.mode&r)===i},e.prototype.isSymlink=function(){return(this.mode&r)===s},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,n,r){if(void 0===e&&(e=0),void 0===n&&(n=t.length),void 0===r&&(r=0),this.buf||(this.buf=Sw.bufferAllocUnsafe(0)),r+n>this.buf.length){var i=Sw.bufferAllocUnsafe(r+n);this.buf.copy(i,0,0,this.buf.length),this.buf=i}return t.copy(this.buf,r,e,e+n),this.touch(),n},e.prototype.read=function(t,e,n,r){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),void 0===r&&(r=0),this.buf||(this.buf=Sw.bufferAllocUnsafe(0)),n>t.byteLength&&(n=t.byteLength),n+r>this.buf.length&&(n=this.buf.length-r),this.buf.copy(t,e,r,r+n),n},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=Sw.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=Sw.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=Sw.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=Wx.default.getuid()),void 0===e&&(e=Wx.default.getgid()),!!(4&this.perm||e===this.gid&&32&this.perm||t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=Wx.default.getuid()),void 0===e&&(e=Wx.default.getgid()),!!(2&this.perm||e===this.gid&&16&this.perm||t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(Xx.EventEmitter),e.Node=t,t=function(t){function r(e,n,r){var i=t.call(this)||this;return i.children={},i.steps=[],i.ino=0,i.length=0,i.vol=e,i.parent=n,i.steps=n?n.steps.concat([r]):[r],i}return n(r,t),r.prototype.setNode=function(t){this.node=t,this.ino=t.ino},r.prototype.getNode=function(){return this.node},r.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var n=new r(this.vol,this,t);return n.setNode(e),e.isDirectory(),this.setChild(t,n),n},r.prototype.setChild=function(t,e){return void 0===e&&(e=new r(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},r.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},r.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},r.prototype.getPath=function(){return this.steps.join(e.SEP)},r.prototype.getName=function(){return this.steps[this.steps.length-1]},r.prototype.walk=function(t,e,n){if(void 0===e&&(e=t.length),void 0===n&&(n=0),n>=t.length||n>=e)return this;var r=this.getChild(t[n]);return r?r.walk(t,e,n+1):null},r.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},r}(Xx.EventEmitter),e.Link=t,t=function(){function t(t,e,n,r){this.position=0,this.link=t,this.node=e,this.flags=n,this.fd=r}return t.prototype.getString=function(){return this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return Fb.default.build(this.node)},t.prototype.write=function(t,e,n,r){return void 0===e&&(e=0),void 0===n&&(n=t.length),"number"!=typeof r&&(r=this.position),this.flags&a&&(r=this.getSize()),t=this.node.write(t,e,n,r),this.position=r+t,t},t.prototype.read=function(t,e,n,r){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),"number"!=typeof r&&(r=this.position),t=this.node.read(t,e,n,r),this.position=r+t,t},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}(),e.File=t});Pb(eE);var nE=eE.Node,rE=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r=setTimeout.apply(null,arguments);return r&&"object"==typeof r&&"function"==typeof r.unref&&r.unref(),r}});function iE(){this.tail=this.head=null,this.length=0}Pb(rE),iE.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},iE.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},iE.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},iE.prototype.clear=function(){this.head=this.tail=null,this.length=0},iE.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},iE.prototype.concat=function(t){if(0===this.length)return Jb.alloc(0);if(1===this.length)return this.head.data;t=Jb.allocUnsafe(t>>>0);for(var e=this.head,n=0;e;)e.data.copy(t,n),n+=e.data.length,e=e.next;return t};var oE=Jb.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function sE(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!oE(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=uE;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=lE;break;default:return void(this.write=aE)}this.charBuffer=new Jb(6),this.charLength=this.charReceived=0}function aE(t){return t.toString(this.encoding)}function uE(t){this.charLength=(this.charReceived=t.length%2)?2:0}function lE(t){this.charLength=(this.charReceived=t.length%3)?3:0}sE.prototype.write=function(t){for(var e="";this.charLength;){if(t.copy(this.charBuffer,this.charReceived,0,e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length);var n=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=n&&56319>=n)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),55296<=(n=(e+=t.toString(this.encoding,0,r)).charCodeAt(r=e.length-1))&&56319>=n?(this.charLength+=n=this.surrogateSize,this.charReceived+=n,this.charBuffer.copy(this.charBuffer,n,0,n),t.copy(this.charBuffer,0,0,n),e.substring(0,r)):e},sE.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var n=t[t.length-e];if(1==e&&6==n>>5){this.charLength=2;break}if(2>=e&&14==n>>4){this.charLength=3;break}if(3>=e&&30==n>>3){this.charLength=4;break}}this.charReceived=e},sE.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e},fE.ReadableState=hE;var cE=Xw("stream");function hE(t,e){this.objectMode=!!(t=t||{}).objectMode,e instanceof BE&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=(e=t.highWaterMark)||0===e?e:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new iE,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new sE(t.encoding),this.encoding=t.encoding)}function fE(t){if(!(this instanceof fE))return new fE(t);this._readableState=new hE(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Xx.call(this)}function pE(t,e,n,r,i){var o=n,s=null;if(xw(o)||"string"==typeof o||null==o||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(null===n)e.reading=!1,e.ended||(e.decoder&&(n=e.decoder.end())&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length),e.ended=!0,mE(t));else if(e.objectMode||n&&0<n.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!r){n=e.decoder.write(n);var a=!e.objectMode&&0===n.length}i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&mE(t))),e.readingMore||(e.readingMore=!0,Fw(yE,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function dE(t,e){if(0>=t||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var n=t;8388608<=n?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),e.highWaterMark=n}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function mE(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(cE("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Fw(gE,t):gE(t))}function gE(t){cE("emit readable"),t.emit("readable"),bE(t)}function yE(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(cE("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _E(t){cE("readable nexttick read 0"),t.read(0)}function vE(t,e){e.reading||(cE("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),bE(t),e.flowing&&!e.reading&&t.read(0)}function bE(t){var e=t._readableState;for(cE("flow",e.flowing);e.flowing&&null!==t.read(););}function wE(t,e){if(0===e.length)return null;if(e.objectMode)var n=e.buffer.shift();else if(!t||t>=e.length)n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(n=e.buffer,e=e.decoder,t<n.head.data.length)e=n.head.data.slice(0,t),n.head.data=n.head.data.slice(t);else{if(t===n.head.data.length)n=n.shift();else if(e){var r=1,i=(e=n.head).data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),0==(t-=s)){s===o.length?(++r,n.head=e.next?e.next:n.tail=null):(n.head=e,e.data=o.slice(s));break}++r}n.length-=r,n=i}else{for(e=Jb.allocUnsafe(t),i=1,(r=n.head).data.copy(e),t-=r.data.length;r=r.next;){if((o=r.data).copy(e,e.length-t,0,s=t>o.length?o.length:t),0==(t-=s)){s===o.length?(++i,n.head=r.next?r.next:n.tail=null):(n.head=r,r.data=o.slice(s));break}++i}n.length-=i,n=e}e=n}n=e}return n}function xE(t){var e=t._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Fw(EE,e,t))}function EE(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function CE(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function SE(){}function DE(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function IE(t,e){Object.defineProperty(this,"buffer",{get:Zw(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),this.objectMode=!!(t=t||{}).objectMode,e instanceof BE&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==t.decodeStrings,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var n=e._writableState,r=n.sync,i=n.writecb;n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(--n.pendingcb,r?Fw(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t)):((t=RE(n))||n.corked||n.bufferProcessing||!n.bufferedRequest||TE(e,n),r?Fw(OE,e,n,t,i):OE(e,n,t,i))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new LE(this)}function AE(t){if(!(this instanceof AE||this instanceof BE))return new AE(t);this._writableState=new IE(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),Xx.call(this)}function kE(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function OE(t,e,n,r){!n&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,r(),PE(t,e)}function TE(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=n;for(var o=0;n;)r[o]=n,n=n.next,o+=1;kE(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new LE(e)}else{for(;n&&(r=n.chunk,kE(t,e,!1,e.objectMode?1:r.length,r,n.encoding,n.callback),n=n.next,!e.writing););null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function RE(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function PE(t,e){var n=RE(e);return n&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),n}function LE(t){var e=this;this.entry=this.next=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Gw(fE,Xx),fE.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=Jb.from(t,e),e=""),pE(this,n,t,e,!1)},fE.prototype.unshift=function(t){return pE(this,this._readableState,t,"",!0)},fE.prototype.isPaused=function(){return!1===this._readableState.flowing},fE.prototype.setEncoding=function(t){return this._readableState.decoder=new sE(t),this._readableState.encoding=t,this},fE.prototype.read=function(t){cE("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return cE("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?xE(this):mE(this),null;if(0===(t=dE(t,e))&&e.ended)return 0===e.length&&xE(this),null;var r=e.needReadable;return cE("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&cE("length less than watermark",r=!0),e.ended||e.reading?cE("reading or ended",!1):r&&(cE("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=dE(n,e))),null===(r=0<t?wE(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&xE(this)),null!==r&&this.emit("data",r),r},fE.prototype._read=function(){this.emit("error",Error("not implemented"))},fE.prototype.pipe=function(t,e){function n(t){cE("onunpipe"),t===c&&i()}function r(){cE("onend"),t.end()}function i(){cE("cleanup"),t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("drain",f),t.removeListener("error",s),t.removeListener("unpipe",n),c.removeListener("end",r),c.removeListener("end",i),c.removeListener("data",o),p=!0,!h.awaitDrain||t._writableState&&!t._writableState.needDrain||f()}function o(e){cE("ondata"),d=!1,!1!==t.write(e)||d||((1===h.pipesCount&&h.pipes===t||1<h.pipesCount&&-1!==CE(h.pipes,t))&&!p&&(cE("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,d=!0),c.pause())}function s(e){cE("onerror",e),l(),t.removeListener("error",s),0===t.listeners("error").length&&t.emit("error",e)}function a(){t.removeListener("finish",u),l()}function u(){cE("onfinish"),t.removeListener("close",a),l()}function l(){cE("unpipe"),c.unpipe(t)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,cE("pipe count=%d opts=%j",h.pipesCount,e),e=e&&!1===e.end?i:r,h.endEmitted?Fw(e):c.once("end",e),t.on("unpipe",n);var f=function(t){return function(){var e=t._readableState;cE("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,bE(t))}}(c);t.on("drain",f);var p=!1,d=!1;return c.on("data",o),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",s),t.once("close",a),t.once("finish",u),t.emit("pipe",c),h.flowing||(cE("pipe resume"),c.resume()),t},fE.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){t=e.pipes;var n=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<n;e++)t[e].emit("unpipe",this);return this}return-1===(n=CE(e.pipes,t))||(e.pipes.splice(n,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},fE.prototype.addListener=fE.prototype.on=function(t,e){return e=Xx.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&mE(this):Fw(_E,this))),e},fE.prototype.resume=function(){var t=this._readableState;return t.flowing||(cE("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,Fw(vE,this,t))),this},fE.prototype.pause=function(){return cE("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(cE("pause"),this._readableState.flowing=!1,this.emit("pause")),this},fE.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;for(var i in t.on("end",function(){if(cE("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){cE("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||!(e.objectMode||i&&i.length)||r.push(i)||(n=!0,t.pause())}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n])}(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){cE("wrapped _read",e),n&&(n=!1,t.resume())},r},fE._fromList=wE,AE.WritableState=IE,Gw(AE,Xx),IE.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},AE.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},AE.prototype.write=function(t,e,n){var r=this._writableState,i=!1;if("function"==typeof e&&(n=e,e=null),Jb.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=SE),r.ended)r=n,t=Error("write after end"),this.emit("error",t),Fw(r,t);else{var o=n,s=!0,a=!1;null===t?a=new TypeError("May not write null values to stream"):Jb.isBuffer(t)||"string"==typeof t||void 0===t||r.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),Fw(o,a),s=!1),s&&(r.pendingcb++,i=e,r.objectMode||!1===r.decodeStrings||"string"!=typeof t||(t=Jb.from(t,i)),Jb.isBuffer(t)&&(i="buffer"),r.length+=o=r.objectMode?1:t.length,(e=r.length<r.highWaterMark)||(r.needDrain=!0),r.writing||r.corked?(o=r.lastBufferedRequest,r.lastBufferedRequest=new DE(t,i,n),o?o.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1):kE(this,r,!1,o,t,i,n),i=e)}return i},AE.prototype.cork=function(){this._writableState.corked++},AE.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||TE(this,t))},AE.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},AE.prototype._write=function(t,e,n){n(Error("not implemented"))},AE.prototype._writev=null,AE.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||(t=n,r.ending=!0,PE(this,r),t&&(r.finished?Fw(t):this.once("finish",t)),r.ended=!0,this.writable=!1)},Gw(BE,fE);for(var NE=Object.keys(AE.prototype),ME=0;ME<NE.length;ME++){var FE=NE[ME];BE.prototype[FE]||(BE.prototype[FE]=AE.prototype[FE])}function BE(t){if(!(this instanceof BE))return new BE(t);fE.call(this,t),AE.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",jE)}function jE(){this.allowHalfOpen||this._writableState.ended||Fw(zE,this)}function zE(t){t.end()}function VE(t){this.afterTransform=function(e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;return i?(r.writechunk=null,r.writecb=null,null!=n&&t.push(n),i(e),(e=t._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function UE(t){if(!(this instanceof UE))return new UE(t);BE.call(this,t),this._transformState=new VE(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){qE(e,t)}):qE(e)})}function qE(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}function GE(t){if(!(this instanceof GE))return new GE(t);UE.call(this,t)}function HE(){Xx.call(this)}Gw(UE,BE),UE.prototype.push=function(t,e){return this._transformState.needTransform=!1,BE.prototype.push.call(this,t,e)},UE.prototype._transform=function(){throw Error("Not implemented")},UE.prototype._write=function(t,e,n){var r=this._transformState;r.writecb=n,r.writechunk=t,r.writeencoding=e,r.transforming||(t=this._readableState,(r.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},UE.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Gw(GE,UE),GE.prototype._transform=function(t,e,n){n(null,t)},Gw(HE,Xx),HE.Readable=fE,HE.Writable=AE,HE.Duplex=BE,HE.Transform=UE,HE.PassThrough=GE,HE.Stream=HE,HE.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function i(){l||(l=!0,t.end())}function o(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(a(),0===Xx.listenerCount(this,"error"))throw t}function a(){u.removeListener("data",n),t.removeListener("drain",r),u.removeListener("end",i),u.removeListener("close",o),u.removeListener("error",s),t.removeListener("error",s),u.removeListener("end",a),u.removeListener("close",a),t.removeListener("close",a)}var u=this;u.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(u.on("end",i),u.on("close",o));var l=!1;return u.on("error",s),t.on("error",s),u.on("end",a),u.on("close",a),t.on("close",a),t.emit("pipe",u),t};var YE=Array.prototype.slice,ZE=function t(e,n){for(var r in n)e[r]=n[r];return 3>arguments.length?e:t.apply(null,[e].concat(YE.call(arguments,2)))},WE=Lb(function(t,e){function n(t,e,n){return void 0===n&&(n=function(t){return t}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Promise(function(o,s){t[e].bind(t).apply(void 0,r(i,[function(t,e){return t?s(t):o(n(e))}]))})}}var r=Rb&&Rb.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;t=Array(t);var r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,r++)t[r]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return n(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return n(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return n(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return n(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return n(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,r,i){return n(this.vol,"read",function(e){return{bytesRead:e,buffer:t}})(this.fd,t,e,r,i)},t.prototype.readFile=function(t){return n(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return n(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return n(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return n(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return n(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,r,i){return n(this.vol,"write",function(e){return{bytesWritten:e,buffer:t}})(this.fd,t,e,r,i)},t.prototype.writeFile=function(t,e){return n(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=i,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(e,r){return n(t,"access")(e,r)},appendFile:function(e,r,o){return n(t,"appendFile")(e instanceof i?e.fd:e,r,o)},chmod:function(e,r){return n(t,"chmod")(e,r)},chown:function(e,r,i){return n(t,"chown")(e,r,i)},copyFile:function(e,r,i){return n(t,"copyFile")(e,r,i)},lchmod:function(e,r){return n(t,"lchmod")(e,r)},lchown:function(e,r,i){return n(t,"lchown")(e,r,i)},link:function(e,r){return n(t,"link")(e,r)},lstat:function(e,r){return n(t,"lstat")(e,r)},mkdir:function(e,r){return n(t,"mkdir")(e,r)},mkdtemp:function(e,r){return n(t,"mkdtemp")(e,r)},open:function(e,r,o){return n(t,"open",function(e){return new i(t,e)})(e,r,o)},readdir:function(e,r){return n(t,"readdir")(e,r)},readFile:function(e,r){return n(t,"readFile")(e instanceof i?e.fd:e,r)},readlink:function(e,r){return n(t,"readlink")(e,r)},realpath:function(e,r){return n(t,"realpath")(e,r)},rename:function(e,r){return n(t,"rename")(e,r)},rmdir:function(e){return n(t,"rmdir")(e)},stat:function(e,r){return n(t,"stat")(e,r)},symlink:function(e,r,i){return n(t,"symlink")(e,r,i)},truncate:function(e,r){return n(t,"truncate")(e,r)},unlink:function(e){return n(t,"unlink")(e)},utimes:function(e,r,i){return n(t,"utimes")(e,r,i)},writeFile:function(e,r,o){return n(t,"writeFile")(e instanceof i?e.fd:e,r,o)}}}});Pb(WE);var $E=/[^\x20-\x7E]/,XE=/[\x2E\u3002\uFF0E\uFF61]/g,KE="Overflow: input needs wider integers to process",JE=Math.floor,QE=String.fromCharCode;function tC(t,e){return t+22+75*(26>t)-((0!=e)<<5)}var eC=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function nC(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function rC(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var iC=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n};function oC(t,e,n,r){n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;for(t=t.split(e||"&"),e=1e3,r&&"number"==typeof r.maxKeys&&(e=r.maxKeys),r=t.length,0<e&&r>e&&(r=e),e=0;e<r;++e){var s=t[e].replace(o,"%20"),a=s.indexOf(n);if(0<=a){var u=s.substr(0,a);s=s.substr(a+1)}else u=s,s="";u=decodeURIComponent(u),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,u)?eC(i[u])?i[u].push(s):i[u]=[i[u],s]:i[u]=s}return i}var sC={parse:bC,resolve:function(t,e){return bC(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?bC(t,!1,!0).resolveObject(e):e},format:function(t){return sx(t)&&(t=wC({},t)),xC(t)},Url:aC};function aC(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var uC=/^([a-z0-9.+-]+:)/i,lC=/:[0-9]*$/,cC=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,hC="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),fC=["'"].concat(hC),pC=["%","/","?",";","#"].concat(fC),dC=["/","?","#"],mC=/^[+a-z0-9A-Z_-]{0,63}$/,gC=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yC={javascript:!0,"javascript:":!0},_C={javascript:!0,"javascript:":!0},vC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function bC(t,e,n){if(t&&lx(t)&&t instanceof aC)return t;var r=new aC;return r.parse(t,e,n),r}function wC(t,e,n,r){if(!sx(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=-1!==i&&i<e.indexOf("#")?"?":"#",(e=e.split(i))[0]=e[0].replace(/\\/g,"/"),i=(e=e.join(i)).trim(),!r&&1===e.split("#").length&&(e=cC.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=n?oC(t.search.substr(1)):t.search.substr(1)):n&&(t.search="",t.query={}),t;if(e=uC.exec(i)){var o=(e=e[0]).toLowerCase();t.protocol=o,i=i.substr(e.length)}if(r||e||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||e&&_C[e]||(i=i.substr(2),t.slashes=!0)}if(!_C[e]&&(s||e&&!vC[e])){for(e=-1,r=0;r<dC.length;r++)-1!==(s=i.indexOf(dC[r]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?i.lastIndexOf("@"):i.lastIndexOf("@",e))&&(r=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(r)),e=-1,r=0;r<pC.length;r++)-1!==(s=i.indexOf(pC[r]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),EC(t),t.hostname=t.hostname||"",!(s="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1])){var a=t.hostname.split(/\./);for(r=0,e=a.length;r<e;r++){var u=a[r];if(u&&!u.match(mC)){for(var l="",c=0,h=u.length;c<h;c++)l=127<u.charCodeAt(c)?l+"x":l+u[c];if(!l.match(mC)){e=a.slice(0,r),r=a.slice(r+1),(u=u.match(gC))&&(e.push(u[1]),r.unshift(u[2])),r.length&&(i="/"+r.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>255?"":t.hostname.toLowerCase(),s||(t.hostname=function(t){return function(t,e){var n=t.split("@"),r="";1<n.length&&(r=n[0]+"@",t=n[1]),n=(t=(t=t.replace(XE,".")).split(".")).length;for(var i=[];n--;)i[n]=e(t[n]);return r+i.join(".")}(t,function(t){if($E.test(t)){var e,n=[],r=[],i=0;for(e=t.length;i<e;){var o=t.charCodeAt(i++);if(55296<=o&&56319>=o&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?r.push(((1023&o)<<10)+(1023&s)+65536):(r.push(o),i--)}else r.push(o)}s=(t=r).length,r=128;var a=0,u=72;for(o=0;o<s;++o){var l=t[o];128>l&&n.push(QE(l))}for((i=e=n.length)&&n.push("-");i<s;){var c=2147483647;for(o=0;o<s;++o)(l=t[o])>=r&&l<c&&(c=l);var h=i+1;if(c-r>JE((2147483647-a)/h))throw new RangeError(KE);for(a+=(c-r)*h,r=c,o=0;o<s;++o){if((l=t[o])<r&&2147483647<++a)throw new RangeError(KE);if(l==r){var f=a;for(c=36;!(f<(l=c<=u?1:c>=u+26?26:c-u));c+=36){var p=f-l;n.push(QE(tC(l+p%(f=36-l),0))),f=JE(p/f)}for(n.push(QE(tC(f,0))),u=h,c=0,a=i==e?JE(a/700):a>>1,a+=JE(a/u);455<a;c+=36)a=JE(a/35);u=JE(c+36*a/(a+38)),a=0,++i}}++a,++r}n="xn--"+n.join("")}else n=t;return n})}(t.hostname)),t.host=(t.hostname||"")+(r=t.port?":"+t.port:""),t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!yC[o])for(r=0,e=fC.length;r<e;r++)-1!==i.indexOf(s=fC[r])&&((u=encodeURIComponent(s))===s&&(u=escape(s)),i=i.split(s).join(u));return-1!==(r=i.indexOf("#"))&&(t.hash=i.substr(r),i=i.slice(0,r)),-1!==(r=i.indexOf("?"))?(t.search=i.substr(r),t.query=i.substr(r+1),n&&(t.query=oC(t.query)),i=i.slice(0,r)):n&&(t.search="",t.query={}),i&&(t.pathname=i),vC[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(t.path=(r=t.pathname||"")+(t.search||"")),t.href=xC(t),t}function xC(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var n=t.protocol||"",r=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&lx(t.query)&&Object.keys(t.query).length&&(s=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?rC(iC(t),function(r){var i=encodeURIComponent(nC(r))+n;return eC(t[r])?rC(t[r],function(t){return i+encodeURIComponent(nC(t))}).join(e):i+encodeURIComponent(nC(t[r]))}).join(e):""}(t.query)),e=t.search||s&&"?"+s||"",n&&":"!==n.substr(-1)&&(n+=":"),t.slashes||(!n||vC[n])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),n+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(e=e.replace("#","%23"))+i}function EC(t){var e=t.host,n=lC.exec(e);n&&(":"!==(n=n[0])&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e)}aC.prototype.parse=function(t,e,n){return wC(this,t,e,n)},aC.prototype.format=function(){return xC(this)},aC.prototype.resolve=function(t){return this.resolveObject(bC(t,!1,!0)).format()},aC.prototype.resolveObject=function(t){if(sx(t)){var e=new aC;e.parse(t,!1,!0),t=e}e=new aC;for(var n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(n=Object.keys(t),r=0;r<n.length;r++)"protocol"!==(i=n[r])&&(e[i]=t[i]);return vC[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!vC[t.protocol]){for(n=Object.keys(t),r=0;r<n.length;r++)e[i=n[r]]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||_C[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}n=e.pathname&&"/"===e.pathname.charAt(0);var s=t.host||t.pathname&&"/"===t.pathname.charAt(0),a=n=s||n||e.host&&t.pathname;if(r=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!vC[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),n=n&&(""===o[0]||""===r[0])),s)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,r=o;else if(o.length)r||(r=[]),r.pop(),r=r.concat(o),e.search=t.search,e.query=t.query;else if(null!=t.search)return i&&(e.hostname=e.host=r.shift(),i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!r.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=r.slice(-1)[0],o=(e.host||t.host||1<r.length)&&("."===s||".."===s)||""===s;for(var u=0,l=r.length;0<=l;l--)"."===(s=r[l])?r.splice(l,1):".."===s?(r.splice(l,1),u++):u&&(r.splice(l,1),u--);if(!n&&!a)for(;u--;u)r.unshift("..");return!n||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift(""),o&&"/"!==r.join("/").substr(-1)&&r.push(""),a=""===r[0]||r[0]&&"/"===r[0].charAt(0),i&&(e.hostname=e.host=a?"":r.length?r.shift():"",i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(n=n||e.host&&r.length)&&!a&&r.unshift(""),r.length?e.pathname=r.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},aC.prototype.parseHost=function(){return EC(this)};var CC=Lb(function(t,e){function n(t,e){return t=t[e],0<e&&("/"===t||i&&"\\"===t)}function r(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var r=t;if("string"!=typeof r)throw new TypeError("expected a string");if(r=r.replace(/[\\\/]+/g,"/"),!1!==e)if(2>(r=(e=r).length-1))r=e;else{for(;n(e,r);)r--;r=e.substr(0,r+1)}return r.replace(/^([a-zA-Z]+:|\.\/)/,"")}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=r,e.correctPath=function(t){return r(t.replace(/^\\\\\?\\.:\\/,"\\"))};var i="win32"===qw.platform});Pb(CC);var SC=Lb(function(t,e){function n(t,e){return void 0===e&&(e=Wx.default.cwd()),T(e,t)}function r(t,e){return"function"==typeof t?[i(),t]:[i(t),c(e)]}function i(t){return void 0===t&&(t={}),O({},ut,t)}function o(t){return O({},it,"number"==typeof t?{mode:t}:t)}function s(t,e,n,r,i){return void 0===e&&(e=""),void 0===n&&(n=""),void 0===r&&(r=""),void 0===i&&(i=Error),(e=new i(function(t,e,n,r){void 0===e&&(e=""),void 0===n&&(n=""),void 0===r&&(r="");var i="";switch(n&&(i=" '"+n+"'"),r&&(i+=" -> '"+r+"'"),t){case"ENOENT":return"ENOENT: no such file or directory, "+e+i;case"EBADF":return"EBADF: bad file descriptor, "+e+i;case"EINVAL":return"EINVAL: invalid argument, "+e+i;case"EPERM":return"EPERM: operation not permitted, "+e+i;case"EPROTO":return"EPROTO: protocol error, "+e+i;case"EEXIST":return"EEXIST: file already exists, "+e+i;case"ENOTDIR":return"ENOTDIR: not a directory, "+e+i;case"EISDIR":return"EISDIR: illegal operation on a directory, "+e+i;case"EACCES":return"EACCES: permission denied, "+e+i;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+e+i;case"EMFILE":return"EMFILE: too many open files, "+e+i;case"ENOSYS":return"ENOSYS: function not implemented, "+e+i;default:return t+": error occurred, "+e+i}}(t,e,n,r))).code=t,e}function a(t){if("number"==typeof t)return t;if("string"==typeof t){var e=k[t];if(void 0!==e)return e}throw new Bx.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function u(t,e){if(!e)return t;var n=typeof e;switch(n){case"string":t=O({},t,{encoding:e});break;case"object":t=O({},t,e);break;default:throw TypeError("Expected options to be either an object or a string, but got "+n+" instead")}return"buffer"!==t.encoding&&jx.assertEncoding(t.encoding),t}function l(t){return function(e){return u(t,e)}}function c(t){if("function"!=typeof t)throw TypeError(Z.CB);return t}function h(t){return function(e,n){return"function"==typeof e?[t(),e]:[t(e),c(n)]}}function f(t){if("string"!=typeof t&&!Sw.Buffer.isBuffer(t)){try{if(!(t instanceof sC.URL))throw new TypeError(Z.PATH_STR)}catch(r){throw new TypeError(Z.PATH_STR)}if(""!==t.hostname)throw new Bx.TypeError("ERR_INVALID_FILE_URL_HOST",Wx.default.platform);t=t.pathname;for(var e=0;e<t.length;e++)if("%"===t[e]){var n=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===n)throw new Bx.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}t=decodeURIComponent(t)}return y(t=String(t)),t}function p(t,e){return(t=n(t,e).substr(1))?t.split(G):[]}function d(t){return p(f(t))}function m(t,e){return void 0===e&&(e=jx.ENCODING_UTF8),Sw.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Sw.bufferFrom(t):Sw.bufferFrom(String(t),e)}function g(t,e){return e&&"buffer"!==e?t.toString(e):t}function y(t,e){if(-1!==(""+t).indexOf("\0")){if((t=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof e)throw t;return Wx.default.nextTick(e,t),!1}return!0}function _(t,e){if("number"!=typeof(t="number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?_(e):void 0)||isNaN(t))throw new TypeError(Z.MODE_INT);return t}function v(t){if(t>>>0!==t)throw TypeError(Z.FD)}function b(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return 0>t?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function w(t){if("number"!=typeof t)throw TypeError(Z.UID)}function x(t){if("number"!=typeof t)throw TypeError(Z.GID)}function E(t){t.emit("stop")}function C(t,e,n){if(!(this instanceof C))return new C(t,e,n);if(this._vol=t,void 0===(n=O({},u(n,{}))).highWaterMark&&(n.highWaterMark=65536),HE.Readable.call(this,n),this.path=f(e),this.fd=void 0===n.fd?null:n.fd,this.flags=void 0===n.flags?"r":n.flags,this.mode=void 0===n.mode?438:n.mode,this.start=n.start,this.end=n.end,this.autoClose=void 0===n.autoClose||n.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function S(){this.close()}function D(t,e,n){if(!(this instanceof D))return new D(t,e,n);if(this._vol=t,n=O({},u(n,{})),HE.Writable.call(this,n),this.path=f(e),this.fd=void 0===n.fd?null:n.fd,this.flags=void 0===n.flags?"w":n.flags,this.mode=void 0===n.mode?438:n.mode,this.start=n.start,this.autoClose=void 0===n.autoClose||!!n.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}n.encoding&&this.setDefaultEncoding(n.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}var I=Rb&&Rb.__extends||function(){function t(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=Rb&&Rb.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;t=Array(t);var r=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,r++)t[r]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var k,O=ZE,T=Hx,R=Nb.constants.O_RDONLY,P=Nb.constants.O_WRONLY,L=Nb.constants.O_RDWR,N=Nb.constants.O_CREAT,M=Nb.constants.O_EXCL,F=Nb.constants.O_TRUNC,B=Nb.constants.O_APPEND,j=Nb.constants.O_SYNC,z=Nb.constants.O_DIRECTORY,V=Nb.constants.F_OK,U=Nb.constants.COPYFILE_EXCL,q=Nb.constants.COPYFILE_FICLONE_FORCE,G="/",H=Gx,Y="win32"===Wx.default.platform,Z={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};!function(t){t[t.r=R]="r",t[t["r+"]=L]="r+",t[t.rs=R|j]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=L|j]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=P|N|F]="w",t[t.wx=P|N|F|M]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=L|N|F]="w+",t[t["wx+"]=L|N|F|M]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=P|B|N]="a",t[t.ax=P|B|N|M]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=L|B|N]="a+",t[t["ax+"]=L|B|N|M]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(k=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=a;var W=l(t={encoding:"utf8"}),$=h(W),X=l({flag:"r"}),K={encoding:"utf8",mode:438,flag:k[k.w]},J=l(K),Q={encoding:"utf8",mode:438,flag:k[k.a]},tt=l(Q),et=h(tt),nt=l(t),rt=h(nt),it={mode:511,recursive:!1},ot={recursive:!1},st=l({encoding:"utf8",withFileTypes:!1}),at=h(st),ut={bigint:!1};if(e.pathToFilename=f,Y){var lt=n,ct=CC.unixify;n=function(t,e){return ct(lt(t,e))}}e.filenameToSteps=p,e.pathToSteps=d,e.dataToStr=function(t,e){return void 0===e&&(e=jx.ENCODING_UTF8),Sw.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?Sw.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=m,e.bufferToEncoding=g,e.toUnixTimestamp=b,t=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=WE.default(this),this.statWatchers={},this.props=O({Node:eE.Node,Link:eE.Link,File:eE.File},t),(t=this.createLink()).setNode(this.createNode(!0));var e=this;this.StatWatcher=function(t){function n(){return t.call(this,e)||this}return I(n,t),n}(ft),this.ReadStream=function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,A([e],n))||this}return I(n,t),n}(C),this.WriteStream=function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,A([e],n))||this}return I(n,t),n}(D),this.FSWatcher=function(t){function n(){return t.call(this,e)||this}return I(n,t),n}(pt),this.root=t}return t.fromJSON=function(e,n){var r=new t;return r.fromJSON(e,n),r},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,n,r){if(void 0===n&&(n=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(n,r))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){return void 0===t&&(t=!1),e=new this.props.Node(this.newInoNumber(),e),t&&e.setIsDirectory(),this.inodes[e.ino]=e},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var n=p(t);if(!(n=this.getLink(n)))throw s("ENOENT",e,t);return n},t.prototype.getResolvedLink=function(t){t="string"==typeof t?p(t):t;for(var e=this.root,n=0;n<t.length;){if(!(e=e.getChild(t[n])))return null;var r=e.getNode();r.isSymlink()?(t=r.symlink.concat(t.slice(n+1)),e=this.root,n=0):n++}return e},t.prototype.getResolvedLinkOrThrow=function(t,e){var n=this.getResolvedLink(t);if(!n)throw s("ENOENT",e,t);return n},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var n=this.getLinkOrThrow(t,e);if(!n.getNode().isDirectory())throw s("ENOTDIR",e,t);return n},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){t=t instanceof Array?t:p(t);var n=this.getLinkParent(t);if(!n)throw s("ENOENT",e,G+t.join(G));if(!n.getNode().isDirectory())throw s("ENOTDIR",e,G+t.join(G));return n},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(t>>>0!==t)throw TypeError(Z.FD);if(!(t=this.getFileByFd(t)))throw s("EBADF",e);return t},t.prototype.getNodeByIdOrCreate=function(t,e,n){if("number"==typeof t){if(!(t=this.getFileByFd(t)))throw Error("File nto found");return t.node}var r=d(t),i=this.getLink(r);if(i)return i.getNode();if(e&N&&(e=this.getLinkParent(r)))return(i=this.createLink(e,r[r.length-1],!1,n)).getNode();throw s("ENOENT","getNodeByIdOrCreate",f(t))},t.prototype.wrapAsync=function(t,e,n){var r=this;c(n),Zx.default(function(){try{n(null,t.apply(r,e))}catch(B_){n(B_)}})},t.prototype._toJSON=function(t,e,n){var r;void 0===t&&(t=this.root),void 0===e&&(e={});var i=!0,o=t.children;for(var s in t.getNode().isFile()&&((r={})[t.getName()]=t.parent.getChild(t.getName()),o=r,t=t.parent),o){if(i=!1,!(o=t.getChild(s)))throw Error("_toJSON: unexpected undefined");(r=o.getNode()).isFile()?(o=o.getPath(),n&&(o=H(n,o)),e[o]=r.getString()):r.isDirectory()&&this._toJSON(o,e,n)}return t=t.getPath(),n&&(t=H(n,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!1);var r=[];if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=f(t[i]);(o=this.getResolvedLink(o))&&r.push(o)}}else r.push(this.root);if(!r.length)return e;for(i=0;i<r.length;i++)this._toJSON(o=r[i],e,n?o.getPath():"");return e},t.prototype.fromJSON=function(t,e){for(var r in void 0===e&&(e=Wx.default.cwd()),t){var i=t[r];if("string"==typeof i){var o=p(r=n(r,e));1<o.length&&(o=G+o.slice(0,o.length-1).join(G),this.mkdirpBase(o,511)),this.writeFileSync(r,i)}else this.mkdirpBase(r,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,n){if(void 0===n&&(n=!0),this.openFiles>=this.maxFiles)throw s("EMFILE","open",t.getPath());var r=t;if(n&&(r=this.resolveSymlinks(t)),!r)throw s("ENOENT","open",t.getPath());if((n=r.getNode()).isDirectory()){if((e&(R|L|P))!==R)throw s("EISDIR","open",t.getPath())}else if(e&z)throw s("ENOTDIR","open",t.getPath());if(!(e&P||n.canRead()))throw s("EACCES","open",t.getPath());return t=new this.props.File(t,n,e,this.newFdNumber()),this.fds[t.fd]=t,this.openFiles++,e&F&&t.truncate(),t},t.prototype.openFile=function(t,e,n,r){void 0===r&&(r=!0);var i=p(t),o=r?this.getResolvedLink(i):this.getLink(i);if(!o&&e&N){var a=this.getResolvedLink(i.slice(0,i.length-1));if(!a)throw s("ENOENT","open",G+i.join(G));e&N&&"number"==typeof n&&(o=this.createLink(a,i[i.length-1],!1,n))}if(o)return this.openLink(o,e,r);throw s("ENOENT","open",t)},t.prototype.openBase=function(t,e,n,r){if(void 0===r&&(r=!0),!(e=this.openFile(t,e,n,r)))throw s("ENOENT","open",t);return e.fd},t.prototype.openSync=function(t,e,n){return void 0===n&&(n=438),n=_(n),t=f(t),e=a(e),this.openBase(t,e,n)},t.prototype.open=function(t,e,n,r){var i=n;"function"==typeof n&&(i=438,r=n),n=_(i||438),t=f(t),e=a(e),this.wrapAsync(this.openBase,[t,e,n],r)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){v(t),t=this.getFileByFdOrThrow(t,"close"),this.closeFile(t)},t.prototype.close=function(t,e){v(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,n){if("number"==typeof t){if(!(t=this.fds[t]))throw s("ENOENT");return t}return this.openFile(f(t),e,n)},t.prototype.readBase=function(t,e,n,r,i){return this.getFileByFdOrThrow(t).read(e,Number(n),Number(r),i)},t.prototype.readSync=function(t,e,n,r,i){return v(t),this.readBase(t,e,n,r,i)},t.prototype.read=function(t,e,n,r,i,o){var s=this;if(c(o),0===r)return Wx.default.nextTick(function(){o&&o(null,0,e)});Zx.default(function(){try{var a=s.readBase(t,e,n,r,i);o(null,a,e)}catch(u){o(u)}})},t.prototype.readFileBase=function(t,e,n){var r="number"==typeof t&&t>>>0===t;if(!r){var i=f(t);if(i=p(i),(i=this.getResolvedLink(i))&&i.getNode().isDirectory())throw s("EISDIR","open",i.getPath());t=this.openSync(t,e)}try{var o=g(this.getFileByFdOrThrow(t).getBuffer(),n)}finally{r||this.closeSync(t)}return o},t.prototype.readFileSync=function(t,e){var n=a((e=X(e)).flag);return this.readFileBase(t,n,e.encoding)},t.prototype.readFile=function(t,e,n){e=(n=h(X)(e,n))[0],n=n[1];var r=a(e.flag);this.wrapAsync(this.readFileBase,[t,r,e.encoding],n)},t.prototype.writeBase=function(t,e,n,r,i){return this.getFileByFdOrThrow(t,"write").write(e,n,r,i)},t.prototype.writeSync=function(t,e,n,r,i){v(t);var o="string"!=typeof e;if(o){var s=0|(n||0),a=r;n=i}else var u=r;return e=m(e,u),o?void 0===a&&(a=e.length):(s=0,a=e.length),this.writeBase(t,e,s,a,n)},t.prototype.write=function(t,e,n,r,i,o){var s=this;v(t);var a=typeof e,u=typeof n,l=typeof r,h=typeof i;if("string"!==a)if("function"===u)var f=n;else if("function"===l){var p=0|n;f=r}else if("function"===h){p=0|n;var d=r;f=i}else{p=0|n,d=r;var g=i;f=o}else if("function"===u)f=n;else if("function"===l)g=n,f=r;else if("function"===h){g=n;var y=r;f=i}var _=m(e,y);"string"!==a?void 0===d&&(d=_.length):(p=0,d=_.length);var b=c(f);Zx.default(function(){try{var n=s.writeBase(t,_,p,d,g);b(null,n,"string"!==a?_:e)}catch(r){b(r)}})},t.prototype.writeFileBase=function(t,e,n,r){var i="number"==typeof t;t=i?t:this.openBase(f(t),n,r),r=0;var o=e.length;n=n&B?void 0:0;try{for(;0<o;){var s=this.writeSync(t,e,r,o,n);r+=s,o-=s,void 0!==n&&(n+=s)}}finally{i||this.closeSync(t)}},t.prototype.writeFileSync=function(t,e,n){var r=J(n);n=a(r.flag);var i=_(r.mode);e=m(e,r.encoding),this.writeFileBase(t,e,n,i)},t.prototype.writeFile=function(t,e,n,r){var i=n;"function"==typeof n&&(i=K,r=n),n=c(r);var o=J(i);i=a(o.flag),r=_(o.mode),e=m(e,o.encoding),this.wrapAsync(this.writeFileBase,[t,e,i,r],n)},t.prototype.linkBase=function(t,e){var n=p(t),r=this.getLink(n);if(!r)throw s("ENOENT","link",t,e);var i=p(e);if(!(n=this.getLinkParent(i)))throw s("ENOENT","link",t,e);if(n.getChild(i=i[i.length-1]))throw s("EEXIST","link",t,e);(t=r.getNode()).nlink++,n.createChild(i,t)},t.prototype.copyFileBase=function(t,e,n){var r=this.readFileSync(t);if(n&U&&this.existsSync(e))throw s("EEXIST","copyFile",t,e);if(n&q)throw s("ENOSYS","copyFile",t,e);this.writeFileBase(e,r,k.w,438)},t.prototype.copyFileSync=function(t,e,n){return t=f(t),e=f(e),this.copyFileBase(t,e,0|(n||0))},t.prototype.copyFile=function(t,e,n,r){if(t=f(t),e=f(e),"function"==typeof n)var i=0;else i=n,n=r;c(n),this.wrapAsync(this.copyFileBase,[t,e,i],n)},t.prototype.linkSync=function(t,e){t=f(t),e=f(e),this.linkBase(t,e)},t.prototype.link=function(t,e,n){t=f(t),e=f(e),this.wrapAsync(this.linkBase,[t,e],n)},t.prototype.unlinkBase=function(t){var e=p(t);if(!(e=this.getLink(e)))throw s("ENOENT","unlink",t);if(e.length)throw Error("Dir not empty...");this.deleteLink(e),(t=e.getNode()).nlink--,0>=t.nlink&&this.deleteNode(t)},t.prototype.unlinkSync=function(t){t=f(t),this.unlinkBase(t)},t.prototype.unlink=function(t,e){t=f(t),this.wrapAsync(this.unlinkBase,[t],e)},t.prototype.symlinkBase=function(t,e){var n=p(e),r=this.getLinkParent(n);if(!r)throw s("ENOENT","symlink",t,e);if(r.getChild(n=n[n.length-1]))throw s("EEXIST","symlink",t,e);return(e=r.createChild(n)).getNode().makeSymlink(p(t)),e},t.prototype.symlinkSync=function(t,e){t=f(t),e=f(e),this.symlinkBase(t,e)},t.prototype.symlink=function(t,e,n,r){n=c("function"==typeof n?n:r),t=f(t),e=f(e),this.wrapAsync(this.symlinkBase,[t,e],n)},t.prototype.realpathBase=function(t,e){var n=p(t);if(!(n=this.getResolvedLink(n)))throw s("ENOENT","realpath",t);return jx.strToEncoding(n.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(f(t),nt(e).encoding)},t.prototype.realpath=function(t,e,n){e=(n=rt(e,n))[0],n=n[1],t=f(t),this.wrapAsync(this.realpathBase,[t,e.encoding],n)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var n=this.getLink(p(t));if(!n)throw s("ENOENT","lstat",t);return Fb.default.build(n.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(f(t),i(e).bigint)},t.prototype.lstat=function(t,e,n){e=(n=r(e,n))[0],n=n[1],this.wrapAsync(this.lstatBase,[f(t),e.bigint],n)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var n=this.getResolvedLink(p(t));if(!n)throw s("ENOENT","stat",t);return Fb.default.build(n.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(f(t),i(e).bigint)},t.prototype.stat=function(t,e,n){e=(n=r(e,n))[0],n=n[1],this.wrapAsync(this.statBase,[f(t),e.bigint],n)},t.prototype.fstatBase=function(t,e){if(void 0===e&&(e=!1),!(t=this.getFileByFd(t)))throw s("EBADF","fstat");return Fb.default.build(t.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,i(e).bigint)},t.prototype.fstat=function(t,e,n){e=r(e,n),this.wrapAsync(this.fstatBase,[t,e[0].bigint],e[1])},t.prototype.renameBase=function(t,e){var n=this.getLink(p(t));if(!n)throw s("ENOENT","rename",t,e);var r=p(e),i=this.getLinkParent(r);if(!i)throw s("ENOENT","rename",t,e);(t=n.parent)&&t.deleteChild(n),n.steps=A(i.steps,[r[r.length-1]]),i.setChild(n.getName(),n)},t.prototype.renameSync=function(t,e){t=f(t),e=f(e),this.renameBase(t,e)},t.prototype.rename=function(t,e,n){t=f(t),e=f(e),this.wrapAsync(this.renameBase,[t,e],n)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(f(t))}catch(Xm){return!1}},t.prototype.exists=function(t,e){var n=this,r=f(t);if("function"!=typeof e)throw Error(Z.CB);Zx.default(function(){try{e(n.existsBase(r))}catch(B_){e(!1)}})},t.prototype.accessBase=function(t){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=V),t=f(t),this.accessBase(t,0|e)},t.prototype.access=function(t,e,n){var r=V;"function"!=typeof e&&(r=0|e,e=c(n)),t=f(t),this.wrapAsync(this.accessBase,[t,r],e)},t.prototype.appendFileSync=function(t,e,n){void 0===n&&(n=Q),(n=tt(n)).flag&&t>>>0!==t||(n.flag="a"),this.writeFileSync(t,e,n)},t.prototype.appendFile=function(t,e,n,r){n=(r=et(n,r))[0],r=r[1],n.flag&&t>>>0!==t||(n.flag="a"),this.writeFile(t,e,n,r)},t.prototype.readdirBase=function(t,e){var n=p(t);if(!(n=this.getResolvedLink(n)))throw s("ENOENT","readdir",t);if(!n.getNode().isDirectory())throw s("ENOTDIR","scandir",t);if(e.withFileTypes){var r=[];for(i in n.children)(t=n.getChild(i))&&r.push(zx.default.build(t,e.encoding));return Y||"buffer"===e.encoding||r.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}),r}var i=[];for(r in n.children)i.push(jx.strToEncoding(r,e.encoding));return Y||"buffer"===e.encoding||i.sort(),i},t.prototype.readdirSync=function(t,e){return e=st(e),t=f(t),this.readdirBase(t,e)},t.prototype.readdir=function(t,e,n){e=(n=at(e,n))[0],n=n[1],t=f(t),this.wrapAsync(this.readdirBase,[t,e],n)},t.prototype.readlinkBase=function(t,e){var n=this.getLinkOrThrow(t,"readlink").getNode();if(!n.isSymlink())throw s("EINVAL","readlink",t);return t=G+n.symlink.join(G),jx.strToEncoding(t,e)},t.prototype.readlinkSync=function(t,e){return e=W(e),t=f(t),this.readlinkBase(t,e.encoding)},t.prototype.readlink=function(t,e,n){e=(n=$(e,n))[0],n=n[1],t=f(t),this.wrapAsync(this.readlinkBase,[t,e.encoding],n)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,n){var r="number"==typeof e?e:0;e=c("number"==typeof e?n:e),this.wrapAsync(this.ftruncateBase,[t,r],e)},t.prototype.truncateBase=function(t,e){t=this.openSync(t,"r+");try{this.ftruncateSync(t,e)}finally{this.closeSync(t)}},t.prototype.truncateSync=function(t,e){if(t>>>0===t)return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,n){var r="number"==typeof e?e:0;if(e=c("number"==typeof e?n:e),t>>>0===t)return this.ftruncate(t,r,e);this.wrapAsync(this.truncateBase,[t,r],e)},t.prototype.futimesBase=function(t,e,n){(t=this.getFileByFdOrThrow(t,"futimes").node).atime=new Date(1e3*e),t.mtime=new Date(1e3*n)},t.prototype.futimesSync=function(t,e,n){this.futimesBase(t,b(e),b(n))},t.prototype.futimes=function(t,e,n,r){this.wrapAsync(this.futimesBase,[t,b(e),b(n)],r)},t.prototype.utimesBase=function(t,e,n){t=this.openSync(t,"r+");try{this.futimesBase(t,e,n)}finally{this.closeSync(t)}},t.prototype.utimesSync=function(t,e,n){this.utimesBase(f(t),b(e),b(n))},t.prototype.utimes=function(t,e,n,r){this.wrapAsync(this.utimesBase,[f(t),b(e),b(n)],r)},t.prototype.mkdirBase=function(t,e){var n=p(t);if(!n.length)throw s("EISDIR","mkdir",t);var r=this.getLinkParentAsDirOrThrow(t,"mkdir");if(r.getChild(n=n[n.length-1]))throw s("EEXIST","mkdir",t);r.createChild(n,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){t=p(t);for(var n=this.root,r=0;r<t.length;r++){var i=t[r];if(!n.getNode().isDirectory())throw s("ENOTDIR","mkdir",n.getPath());var o=n.getChild(i);if(o){if(!o.getNode().isDirectory())throw s("ENOTDIR","mkdir",o.getPath());n=o}else n=n.createChild(i,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var n=_((e=o(e)).mode,511);t=f(t),e.recursive?this.mkdirpBase(t,n):this.mkdirBase(t,n)},t.prototype.mkdir=function(t,e,n){var r=o(e);e=c("function"==typeof e?e:n),n=_(r.mode,511),t=f(t),this.wrapAsync(r.recursive?this.mkdirpBase:this.mkdirBase,[t,n],e)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,n){var r="function"==typeof e?void 0:e;e=c("function"==typeof e?e:n),this.mkdir(t,{mode:r,recursive:!0},e)},t.prototype.mkdtempBase=function(t,e,n){void 0===n&&(n=5);var r=t+this.genRndStr();try{return this.mkdirBase(r,511),jx.strToEncoding(r,e)}catch(B_){if("EEXIST"===B_.code){if(1<n)return this.mkdtempBase(t,e,n-1);throw Error("Could not create temp dir.")}throw B_}},t.prototype.mkdtempSync=function(t,e){if(e=W(e).encoding,!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return y(t),this.mkdtempBase(t,e)},t.prototype.mkdtemp=function(t,e,n){if(e=(n=$(e,n))[0].encoding,n=n[1],!t||"string"!=typeof t)throw new TypeError("filename prefix is required");y(t)&&this.wrapAsync(this.mkdtempBase,[t,e],n)},t.prototype.rmdirBase=function(t,e){e=O({},ot,e);var n=this.getLinkAsDirOrThrow(t,"rmdir");if(n.length&&!e.recursive)throw s("ENOTEMPTY","rmdir",t);this.deleteLink(n)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(f(t),e)},t.prototype.rmdir=function(t,e,n){var r=O({},ot,e);e=c("function"==typeof e?e:n),this.wrapAsync(this.rmdirBase,[f(t),r],e)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,_(e))},t.prototype.fchmod=function(t,e,n){this.wrapAsync(this.fchmodBase,[t,_(e)],n)},t.prototype.chmodBase=function(t,e){t=this.openSync(t,"r+");try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.chmodSync=function(t,e){e=_(e),t=f(t),this.chmodBase(t,e)},t.prototype.chmod=function(t,e,n){e=_(e),t=f(t),this.wrapAsync(this.chmodBase,[t,e],n)},t.prototype.lchmodBase=function(t,e){t=this.openBase(t,L,0,!1);try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.lchmodSync=function(t,e){e=_(e),t=f(t),this.lchmodBase(t,e)},t.prototype.lchmod=function(t,e,n){e=_(e),t=f(t),this.wrapAsync(this.lchmodBase,[t,e],n)},t.prototype.fchownBase=function(t,e,n){this.getFileByFdOrThrow(t,"fchown").chown(e,n)},t.prototype.fchownSync=function(t,e,n){w(e),x(n),this.fchownBase(t,e,n)},t.prototype.fchown=function(t,e,n,r){w(e),x(n),this.wrapAsync(this.fchownBase,[t,e,n],r)},t.prototype.chownBase=function(t,e,n){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,n)},t.prototype.chownSync=function(t,e,n){w(e),x(n),this.chownBase(f(t),e,n)},t.prototype.chown=function(t,e,n,r){w(e),x(n),this.wrapAsync(this.chownBase,[f(t),e,n],r)},t.prototype.lchownBase=function(t,e,n){this.getLinkOrThrow(t,"lchown").getNode().chown(e,n)},t.prototype.lchownSync=function(t,e,n){w(e),x(n),this.lchownBase(f(t),e,n)},t.prototype.lchown=function(t,e,n,r){w(e),x(n),this.wrapAsync(this.lchownBase,[f(t),e,n],r)},t.prototype.watchFile=function(t,e,n){t=f(t);var r=e;if("function"==typeof r&&(n=e,r=null),"function"!=typeof n)throw Error('"watchFile()" requires a listener function');e=5007;var i=!0;return r&&"object"==typeof r&&("number"==typeof r.interval&&(e=r.interval),"boolean"==typeof r.persistent&&(i=r.persistent)),(r=this.statWatchers[t])||((r=new this.StatWatcher).start(t,i,e),this.statWatchers[t]=r),r.addListener("change",n),r},t.prototype.unwatchFile=function(t,e){t=f(t);var n=this.statWatchers[t];n&&("function"==typeof e?n.removeListener("change",e):n.removeAllListeners("change"),0===n.listenerCount("change")&&(n.stop(),delete this.statWatchers[t]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,n){t=f(t);var r=e;"function"==typeof e&&(n=e,r=null);var i=W(r);e=i.persistent,r=i.recursive,i=i.encoding,void 0===e&&(e=!0),void 0===r&&(r=!1);var o=new this.FSWatcher;return o.start(t,e,r,i),n&&o.addListener("change",n),o},t.fd=2147483647,t}(),e.Volume=t;var ht,ft=function(t){function e(e){var n=t.call(this)||this;return n.onInterval=function(){try{var t=n.vol.statSync(n.filename);n.hasChanged(t)&&(n.emit("change",t,n.prev),n.prev=t)}finally{n.loop()}},n.vol=e,n}return I(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=5007),this.filename=f(t),this.setTimeout=e?setTimeout:rE.default,this.interval=n,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),Wx.default.nextTick(E,this)},e}(Xx.EventEmitter);e.StatWatcher=ft,_x.inherits(C,HE.Readable),e.ReadStream=C,C.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,function(e,n){e?(t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())})},C.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",function(){this._read(t)});if(!this.destroyed){(!ht||128>ht.length-ht.used)&&((ht=Sw.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var e=ht,n=Math.min(ht.length-ht.used,t),r=ht.used;if(void 0!==this.pos&&(n=Math.min(this.end-this.pos+1,n)),0>=n)return this.push(null);var i=this;this._vol.read(this.fd,ht,ht.used,n,this.pos,function(t,n){t?(i.autoClose&&i.destroy&&i.destroy(),i.emit("error",t)):(t=null,0<n&&(i.bytesRead+=n,t=e.slice(r,r+n)),i.push(t))}),void 0!==this.pos&&(this.pos+=n),ht.used+=n}},C.prototype._destroy=function(t,e){this.close(function(n){e(t||n)})},C.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",S):Wx.default.nextTick(function(){return e.emit("close")});this.closed=!0,this._vol.close(this.fd,function(t){t?e.emit("error",t):e.emit("close")}),this.fd=null},_x.inherits(D,HE.Writable),e.WriteStream=D,D.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,(function(t,e){t?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t)):(this.fd=e,this.emit("open",e))}).bind(this))},D.prototype._write=function(t,e,n){if(!(t instanceof Sw.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",function(){this._write(t,e,n)});var r=this;this._vol.write(this.fd,t,0,t.length,this.pos,function(t,e){if(t)return r.autoClose&&r.destroy&&r.destroy(),n(t);r.bytesWritten+=e,n()}),void 0!==this.pos&&(this.pos+=t.length)},D.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",function(){this._writev(t,e)});for(var n=this,r=t.length,i=Array(r),o=0,s=0;s<r;s++){var a=t[s].chunk;i[s]=a,o+=a.length}r=Sw.Buffer.concat(i),this._vol.write(this.fd,r,0,r.length,this.pos,function(t,r){if(t)return n.destroy&&n.destroy(),e(t);n.bytesWritten+=r,e()}),void 0!==this.pos&&(this.pos+=o)},D.prototype._destroy=C.prototype._destroy,D.prototype.close=C.prototype.close,D.prototype.destroySoon=D.prototype.end;var pt=function(t){function e(e){var n=t.call(this)||this;return n._filename="",n._filenameEncoded="",n._recursive=!1,n._encoding=jx.ENCODING_UTF8,n._onNodeChange=function(){n._emit("change")},n._onParentChild=function(t){t.getName()===n._getName()&&n._emit("rename")},n._emit=function(t){n.emit("change",t,n._filenameEncoded)},n._persist=function(){n._timer=setTimeout(n._persist,1e6)},n._vol=e,n}return I(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,n,r){void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===r&&(r=jx.ENCODING_UTF8),this._filename=f(t),this._steps=p(this._filename),this._filenameEncoded=jx.strToEncoding(this._filename),this._recursive=n,this._encoding=r;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(gb){throw(e=Error("watch "+this._filename+" "+gb.code)).code=gb.code,e.errno=gb.code,e}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(t=this._link.parent)&&(t.setMaxListeners(t.getMaxListeners()+1),t.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(Xx.EventEmitter);e.FSWatcher=pt});Pb(SC);var DC=SC.pathToFilename,IC=SC.filenameToSteps,AC=SC.Volume,kC=Lb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")});Pb(kC);var OC=Lb(function(t,e){function n(t){for(var e={F_OK:s,R_OK:a,W_OK:u,X_OK:l,constants:Nb.constants,Stats:Fb.default,Dirent:zx.default},n=0,r=i;n<r.length;n++){var c=r[n];"function"==typeof t[c]&&(e[c]=t[c].bind(t))}for(n=0,r=o;n<r.length;n++)"function"==typeof t[c=r[n]]&&(e[c]=t[c].bind(t));return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=SC.toUnixTimestamp,e}var r=Rb&&Rb.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=kC.fsSyncMethods,o=kC.fsAsyncMethods,s=Nb.constants.F_OK,a=Nb.constants.R_OK,u=Nb.constants.W_OK,l=Nb.constants.X_OK;e.Volume=SC.Volume,e.vol=new SC.Volume,e.createFsFromVolume=n,e.fs=n(e.vol),t.exports=r(r({},t.exports),e.fs),t.exports.semantic=!0});Pb(OC);var TC=OC.createFsFromVolume;nE.prototype.emit=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];i=this.listeners(t);try{for(var o=kb(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.apply(void 0,Tb(r))}catch(v_){console.error(v_)}}}catch(v_){e={error:v_}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0<i.length};var RC=function(){function t(){this.volume=new AC,this.fs=TC(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(t,e,n){void 0===e&&(e={});var r,i=!0;for(r in t.children){i=!1;var o=t.getChild(r);if(o){var s=o.getNode();s&&s.isFile()?(o=o.getPath(),n&&(o=qx(n,o)),e[o]=s.getBuffer()):s&&s.isDirectory()&&this._toJSON(o,e,n)}}return t=t.getPath(),n&&(t=qx(n,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,n){var r,i;void 0===e&&(e={}),void 0===n&&(n=!1);var o=[];if(t){t instanceof Array||(t=[t]);try{for(var s=kb(t),a=s.next();!a.done;a=s.next()){var u=DC(a.value),l=this.volume.getResolvedLink(u);l&&o.push(l)}}catch(j_){var c={error:j_}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(c)throw c.error}}}else o.push(this.volume.root);if(!o.length)return e;try{for(var h=kb(o),f=h.next();!f.done;f=h.next())this._toJSON(l=f.value,e,n?l.getPath():"")}catch(j_){var p={error:j_}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(p)throw p.error}}return e},t.prototype.fromJSONFixed=function(t,e){for(var n in e){var r=e[n];if(r?null!==Object.getPrototypeOf(r):null!==r){var i=IC(n);1<i.length&&(i="/"+i.slice(0,i.length-1).join("/"),t.mkdirpBase(i,511)),t.writeFileSync(n,r||"")}else t.mkdirpBase(n,511)}},t.prototype.fromJSON=function(t){this.volume=new AC,this.fromJSONFixed(this.volume,t),this.fs=TC(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var e=this.volume.openSync("/dev/stdout","w"),n=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==e)throw Error("invalid handle for stdout: "+e);if(0!==n)throw Error("invalid handle for stdin: "+n)},t.prototype.getStdOut=function(){return function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(t){t.done?e(t.value):new n(function(e){e(t.value)}).then(o,s)}a((r=r.apply(t,[])).next())})}(this,0,void 0,function(){var t=this;return function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(!((s=0<(s=u.trys).length&&s[s.length-1])||6!==n[0]&&2!==n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3]))u.label=n[1];else if(6===n[0]&&u.label<s[1])u.label=s[1],s=n;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(n)}}n=e.call(t,u)}catch(r){n=[6,r],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,function(){return[2,new Promise(function(e){e(t.fs.readFileSync("/dev/stdout","utf8"))})]})})},t}(),PC=n(784),LC=n(183),NC=n.n(LC);function MC(...t){if(1===t.length){const e=t[0];if(u(e))return FC(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return FC(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return FC(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(D(t=>e(...t)))}return FC(t,null)}function FC(t,e){return new _(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=N(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let BC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Ra),vs(ka))},t.\u0275dir=Wt({type:t}),t})(),jC=(()=>{class t extends BC{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,features:[os]}),t})();const zC=new Yn("NgValueAccessor"),VC={provide:zC,useExisting:it(()=>qC),multi:!0},UC=new Yn("CompositionEventMode");let qC=(()=>{class t extends BC{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Xl()?Xl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(Ra),vs(ka),vs(UC,8))},t.\u0275dir=Wt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ts("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[xa([VC]),os]}),t})();function GC(t){return null==t||0===t.length}function HC(t){return null!=t&&"number"==typeof t.length}const YC=new Yn("NgValidators"),ZC=new Yn("NgAsyncValidators"),WC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $C{static min(t){return function(t){return e=>{if(GC(e.value)||GC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(GC(e.value)||GC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return GC(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return GC(t.value)||WC.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>GC(e.value)||!HC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>HC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return XC;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(GC(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return nS(t)}static composeAsync(t){return iS(t)}}function XC(t){return null}function KC(t){return null!=t}function JC(t){const e=ks(t)?N(t):t;return Os(e),e}function QC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tS(t,e){return e.map(e=>e(t))}function eS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function nS(t){if(!t)return null;const e=t.filter(KC);return 0==e.length?null:function(t){return QC(tS(t,e))}}function rS(t){return null!=t?nS(eS(t)):null}function iS(t){if(!t)return null;const e=t.filter(KC);return 0==e.length?null:function(t){return MC(tS(t,e).map(JC)).pipe(D(QC))}}function oS(t){return null!=t?iS(eS(t)):null}function sS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aS(t){return t._rawValidators}function uS(t){return t._rawAsyncValidators}let lS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=oS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t}),t})(),cS=(()=>{class t extends lS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,features:[os]}),t})();class hS extends lS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fS{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let pS=(()=>{class t extends fS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(hS,2))},t.\u0275dir=Wt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Hs("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[os]}),t})(),dS=(()=>{class t extends fS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(cS,10))},t.\u0275dir=Wt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&Hs("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[os]}),t})();function mS(t,e){return[...e.path,t]}function gS(t,e){vS(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wS(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wS(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function yS(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bS(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function _S(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vS(t,e){const n=aS(t);null!==e.validator?t.setValidators(sS(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=uS(t);null!==e.asyncValidator?t.setAsyncValidators(sS(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();_S(e._rawValidators,i),_S(e._rawAsyncValidators,i)}function bS(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=aS(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=uS(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return _S(e._rawValidators,r),_S(e._rawAsyncValidators,r),n}function wS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xS(t,e){vS(t,e)}function ES(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function CS(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function SS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===qC?n=t:Object.getPrototypeOf(t.constructor)===jC?r=t:i=t}),i||r||n||null}function DS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const IS="VALID",AS="INVALID",kS="PENDING",OS="DISABLED";function TS(t){return(NS(t)?t.validators:t)||null}function RS(t){return Array.isArray(t)?rS(t):t||null}function PS(t,e){return(NS(e)?e.asyncValidators:t)||null}function LS(t){return Array.isArray(t)?oS(t):t||null}function NS(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class MS{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=RS(this._rawValidators),this._composedAsyncValidatorFn=LS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===IS}get invalid(){return this.status===AS}get pending(){return this.status==kS}get disabled(){return this.status===OS}get enabled(){return this.status!==OS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=RS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=LS(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=kS,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=OS,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=IS,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==IS&&this.status!==kS||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?OS:IS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=kS,this._hasOwnPendingAsyncValidator=!0;const e=JC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof BS?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof jS&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ku,this.statusChanges=new ku}_calculateStatus(){return this._allControlsDisabled()?OS:this.errors?AS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kS)?kS:this._anyControlsHaveStatus(AS)?AS:IS}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){NS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class FS extends MS{constructor(t=null,e,n){super(TS(e),PS(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){DS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){DS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class BS extends MS{constructor(t,e,n){super(TS(e),PS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof FS?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class jS extends MS{constructor(t,e,n){super(TS(e),PS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof FS?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const zS={provide:cS,useExisting:it(()=>US)},VS=(()=>Promise.resolve(null))();let US=(()=>{class t extends cS{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ku,this.form=new BS({},rS(t),oS(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){VS.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),gS(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){VS.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),DS(this._directives,t)})}addFormGroup(t){VS.then(()=>{const e=this._findContainer(t.path),n=new BS({});xS(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){VS.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){VS.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,CS(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(vs(YC,10),vs(ZC,10))},t.\u0275dir=Wt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ts("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xa([zS]),os]}),t})();const qS={provide:hS,useExisting:it(()=>HS)},GS=(()=>Promise.resolve(null))();let HS=(()=>{class t extends hS{constructor(t,e,n,r){super(),this.control=new FS,this._registered=!1,this.update=new ku,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=SS(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ES(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?mS(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gS(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){GS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;GS.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(vs(cS,9),vs(YC,10),vs(ZC,10),vs(zC,10))},t.\u0275dir=Wt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xa([qS]),os,ae]}),t})(),YS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ZS={provide:zC,useExisting:it(()=>WS),multi:!0};let WS=(()=>{class t extends jC{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ts("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[xa([ZS]),os]}),t})(),$S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})();const XS=new Yn("NgModelWithFormControlWarning"),KS={provide:cS,useExisting:it(()=>JS)};let JS=(()=>{class t extends cS{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ku,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return gS(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){yS(t.control||null,t,!1),DS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,CS(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(yS(e||null,t),n instanceof FS&&(gS(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);xS(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return bS(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vS(this.form,this),this._oldForm&&bS(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(vs(YC,10),vs(ZC,10))},t.\u0275dir=Wt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ts("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xa([KS]),os,ae]}),t})();const QS={provide:hS,useExisting:it(()=>tD)};let tD=(()=>{class t extends hS{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new ku,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=SS(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ES(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return mS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(vs(cS,13),vs(YC,10),vs(ZC,10),vs(zC,10),vs(XS,8))},t.\u0275dir=Wt({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xa([QS]),os,ae]}),t._ngModelWarningSentOnce=!1,t})(),eD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[$S]]}),t})(),nD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[eD]}),t})(),rD=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:XS,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[eD]}),t})(),iD=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new BS(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new FS(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new jS(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof FS||t instanceof BS||t instanceof jS?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:rD}),t})();var oD=n(216);function sD(t){return null!=t&&"false"!=`${t}`}function aD(t,e=0){return uD(t)?Number(t):e}function uD(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function lD(t){return Array.isArray(t)?t:[t]}function cD(t){return null==t?"":"string"==typeof t?t:`${t}px`}function hD(t){return t instanceof ka?t.nativeElement:t}function fD(t){return t&&"function"==typeof t.connect}n(286);class pD{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,o)=>{let s,a;if(null==t.previousIndex){const i=n(t,r,o);s=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==o?(e.remove(r),a=3):(s=e.get(r),e.move(s,o),a=2);i&&i({context:null==s?void 0:s.context,operation:a,record:t})})}detach(){}}class dD{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new E,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const mD=new Yn("_ViewRepeater"),gD=new Yn("cdk-dir-doc",{providedIn:"root",factory:function(){return hr(Kl)}});let yD,_D=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new ku,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(cr(gD,8))},t.\u0275prov=ht({factory:function(){return new t(cr(gD,8))},token:t,providedIn:"root"}),t})(),vD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})();try{yD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(GF){yD=!1}let bD,wD=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Rc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(cr(rl))},t.\u0275prov=ht({factory:function(){return new t(cr(rl))},token:t,providedIn:"root"}),t})(),xD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})();const ED=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function CD(){if(bD)return bD;if("object"!=typeof document||!document)return bD=new Set(ED),bD;let t=document.createElement("input");return bD=new Set(ED.filter(e=>(t.setAttribute("type",e),t.type===e))),bD}let SD,DD,ID;function AD(t){return function(){if(null==SD&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>SD=!0}))}finally{SD=SD||!1}return SD}()?t:!!t.capture}function kD(){if(null==DD){if("object"!=typeof document||!document)return DD=!1,DD;if("scrollBehavior"in document.documentElement.style)DD=!0;else{const t=Element.prototype.scrollTo;DD=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return DD}function OD(t){if(function(){if(null==ID){const t="undefined"!=typeof document?document.head:null;ID=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ID}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function TD(t,e,n,i){return r(n)&&(i=n,n=void 0),i?TD(t,e,n).pipe(D(t=>u(t)?i(...t):i(t))):new _(r=>{RD(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function RD(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)RD(t[o],e,n,r,i)}r.add(o)}class PD extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class LD extends PD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let ND=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class MD extends ND{constructor(t,e=ND.now){super(t,()=>MD.delegate&&MD.delegate!==this?MD.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return MD.delegate&&MD.delegate!==this?MD.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}new class extends MD{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends LD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let FD=1;const BD=Promise.resolve(),jD={};function zD(t){return t in jD&&(delete jD[t],!0)}const VD={setImmediate(t){const e=FD++;return jD[e]=!0,BD.then(()=>zD(e)&&t()),e},clearImmediate(t){zD(t)}};function UD(t,e){return n=>n.lift(new qD(t,e))}new class extends MD{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends LD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=VD.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(VD.clearImmediate(e),t.scheduled=void 0)}});class qD{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new GD(t,this.compare,this.keySelector))}}class GD extends d{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const HD=new MD(LD);class YD{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ZD(t,this.durationSelector))}}class ZD extends F{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=B(n,new M(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function WD(t){return!u(t)&&t-parseFloat(t)+1>=0}function $D(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function XD(t,e=HD){return n=()=>function(t=0,e,n){let r=-1;return WD(e)?r=Number(e)<1?1:Number(e):S(e)&&(n=e),S(n)||(n=HD),new _(e=>{const i=WD(t)?t:+t-n.now();return n.schedule($D,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new YD(n))};var n}function KD(t){return e=>e.lift(new JD(t))}class JD{constructor(t){this.notifier=t}call(t,e){const n=new QD(t),r=B(this.notifier,new M(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class QD extends F{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function tI(t,e){return new _(e?n=>e.schedule(eI,0,{error:t,subscriber:n}):e=>e.error(t))}function eI({error:t,subscriber:e}){e.error(t)}new class extends MD{}(class extends LD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});class nI{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return gh(this.value);case"E":return tI(this.error);case"C":return hf()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new nI("N",t):nI.undefinedValueNotification}static createError(t){return new nI("E",void 0,t)}static createComplete(){return nI.completeNotification}}nI.completeNotification=new nI("C"),nI.undefinedValueNotification=new nI("N",void 0);let rI=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(XD(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(_h(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=hD(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>TD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(cr(_l),cr(wD),cr(Kl,8))},t.\u0275prov=ht({factory:function(){return new t(cr(_l),cr(wD),cr(Kl,8))},token:t,providedIn:"root"}),t})(),iI=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new E,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(XD(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(cr(wD),cr(_l),cr(Kl,8))},t.\u0275prov=ht({factory:function(){return new t(cr(wD),cr(_l),cr(Kl,8))},token:t,providedIn:"root"}),t})(),oI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})(),sI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[vD,xD,oI],vD,oI]}),t})();const aI=[[["caption"]],[["colgroup"],["col"]]],uI=["caption","colgroup, col"];function lI(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=sD(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const cI=new Yn("CDK_TABLE");let hI=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(vs(su))},t.\u0275dir=Wt({type:t,selectors:[["","cdkCellDef",""]]}),t})(),fI=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(vs(su))},t.\u0275dir=Wt({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),pI=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(vs(su))},t.\u0275dir=Wt({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class dI{}const mI=lI(dI);let gI=(()=>{class t extends mI{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=sD(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(vs(cI,8))},t.\u0275dir=Wt({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(qu(n,hI,5),qu(n,fI,5),qu(n,pI,5)),2&t){let t;Vu(t=Gu())&&(e.cell=t.first),Vu(t=Gu())&&(e.headerCell=t.first),Vu(t=Gu())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[xa([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),os]}),t})();class yI{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let _I=(()=>{class t extends yI{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(vs(gI),vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[os]}),t})(),vI=(()=>{class t extends yI{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(vs(gI),vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[os]}),t})();class bI{constructor(){this.tasks=[],this.endTasks=[]}}const wI=new Yn("_COALESCED_STYLE_SCHEDULER");let xI=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new E}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new bI,this._getScheduleObservable().pipe(KD(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new bI;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?N(Promise.resolve(void 0)):this._ngZone.onStable.pipe(yf(1))}}return t.\u0275fac=function(e){return new(e||t)(cr(_l))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),EI=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof DI?t.headerCell.template:this instanceof kI?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(vs(su),vs(Wa))},t.\u0275dir=Wt({type:t,features:[ae]}),t})();class CI extends EI{}const SI=lI(CI);let DI=(()=>{class t extends SI{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(su),vs(Wa),vs(cI,8))},t.\u0275dir=Wt({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[os,ae]}),t})();class II extends EI{}const AI=lI(II);let kI=(()=>{class t extends AI{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(su),vs(Wa),vs(cI,8))},t.\u0275dir=Wt({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[os,ae]}),t})(),OI=(()=>{class t extends EI{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(vs(su),vs(Wa),vs(cI,8))},t.\u0275dir=Wt({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[os]}),t})(),TI=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(vs(pu))},t.\u0275dir=Wt({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),RI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Is(0,0)},directives:[TI],encapsulation:2}),t})(),PI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Is(0,0)},directives:[TI],encapsulation:2}),t})(),LI=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(vs(su))},t.\u0275dir=Wt({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const NI=["top","bottom","left","right"];class MI{constructor(t,e,n,r,i=!0,o=!0,s){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=o,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const i=t[0],o=i.children.length,s=this._getCellWidths(i,r),a=this._getStickyStartColumnPositions(s,e),u=this._getStickyEndColumnPositions(s,n),l=e.lastIndexOf(!0),c=n.indexOf(!0);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,i=r?"right":"left",h=r?"left":"right";for(const s of t)for(let t=0;t<o;t++){const r=s.children[t];e[t]&&this._addStickyStyle(r,i,a[t],t===l),n[t]&&this._addStickyStyle(r,h,u[t],t===c)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===l?[]:s.slice(0,l+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===c?[]:s.slice(c).map((t,e)=>n[e+c]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,o=[],s=[],a=[];for(let l=0,c=0;l<r.length;l++){if(o[l]=c,!i[l])continue;const t=r[l];a[l]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;c+=e,s[l]=e}const u=i.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var t,e;for(let s=0;s<r.length;s++){if(!i[s])continue;const t=o[s],e=s===u;for(const r of a[s])this._addStickyStyle(r,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:s,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:s,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);NI.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of NI)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}const FI=new Yn("CDK_SPL");let BI=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["","rowOutlet",""]]}),t})(),jI=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),zI=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),VI=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(vs(pu),vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),UI=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,l,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=s,this._viewRepeater=a,this._coalescedStyleScheduler=u,this._stickyPositioningListener=l,this._viewportRuler=c,this._onDestroy=new E,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new Qh({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=sD(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=sD(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(KD(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),fD(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),qI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=qI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],fD(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;fD(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof _||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=gh(this.dataSource)),this._renderChangeSubscription=t.pipe(KD(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))TI.mostRecentCellOutlet&&TI.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new MI(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:gh()).pipe(KD(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(vs(Wa),vs(eu),vs(ka),zn("role"),vs(_D,8),vs(Kl),vs(wD),vs(mD,8),vs(wI,8),vs(FI,12),vs(iI,8))},t.\u0275cmp=Ut({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(qu(n,LI,5),qu(n,gI,5),qu(n,OI,5),qu(n,DI,5),qu(n,kI,5)),2&t){let t;Vu(t=Gu())&&(e._noDataRow=t.first),Vu(t=Gu())&&(e._contentColumnDefs=t),Vu(t=Gu())&&(e._contentRowDefs=t),Vu(t=Gu())&&(e._contentHeaderRowDefs=t),Vu(t=Gu())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(Uu(BI,7),Uu(jI,7),Uu(zI,7),Uu(VI,7)),2&t){let t;Vu(t=Gu())&&(e._rowOutlet=t.first),Vu(t=Gu())&&(e._headerRowOutlet=t.first),Vu(t=Gu())&&(e._footerRowOutlet=t.first),Vu(t=Gu())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&Hs("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[xa([{provide:cI,useExisting:t},{provide:mD,useClass:pD},{provide:wI,useClass:xI},{provide:FI,useValue:null}])],ngContentSelectors:uI,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Ms(aI),Fs(0),Fs(1,1),Is(2,0),Is(3,1),Is(4,2),Is(5,3))},directives:[jI,BI,VI,zI],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function qI(t,e){return t.concat(Array.from(e))}let GI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[sI]]}),t})();function HI(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function YI(t,e=HD){return n=>n.lift(new ZI(t,e))}class ZI{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new WI(t,this.dueTime,this.scheduler))}}class WI extends d{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($I,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function $I(t){t.debouncedNext()}let XI=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),KI=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=hD(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new E,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(cr(XI))},t.\u0275prov=ht({factory:function(){return new t(cr(XI))},token:t,providedIn:"root"}),t})(),JI=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new ku,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=sD(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=aD(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(YI(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(vs(KI),vs(ka),vs(_l))},t.\u0275dir=Wt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),QI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[XI]}),t})();class tA{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new E,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new E,this.change=new E,t instanceof Tu&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(jf(t=>this._pressedLetters.push(t)),YI(t),_h(()=>this._pressedLetters.length>0),D(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||HI(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Tu?this._items.toArray():this._items}}class eA extends tA{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class nA extends tA{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const rA=new Yn("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),iA=new Yn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let oA=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(cr(rA,8),cr(_l),cr(Kl),cr(iA,8))},t.\u0275prov=ht({factory:function(){return new t(cr(rA,8),cr(_l),cr(Kl),cr(iA,8))},token:t,providedIn:"root"}),t})();function sA(t){return 0===t.buttons}function aA(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const uA=new Yn("cdk-focus-monitor-default-options"),lA=AD({passive:!0,capture:!0});let cA=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=sA(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{aA(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=hA(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=hA(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=hD(t);if(!this._platform.isBrowser||1!==n.nodeType)return gh(null);const r=OD(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new E,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=hD(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=hD(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=hA(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===hA(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,lA),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,lA)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,lA),t.addEventListener("mousedown",this._documentMousedownListener,lA),t.addEventListener("touchstart",this._documentTouchstartListener,lA),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lA),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lA),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,lA),t.removeEventListener("mousedown",this._documentMousedownListener,lA),t.removeEventListener("touchstart",this._documentTouchstartListener,lA),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(cr(_l),cr(wD),cr(Kl,8),cr(uA,8))},t.\u0275prov=ht({factory:function(){return new t(cr(_l),cr(wD),cr(Kl,8),cr(uA,8))},token:t,providedIn:"root"}),t})();function hA(t){return t.composedPath?t.composedPath()[0]:t.target}const fA="cdk-high-contrast-black-on-white",pA="cdk-high-contrast-white-on-black",dA="cdk-high-contrast-active";let mA=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(dA),t.remove(fA),t.remove(pA);const e=this.getHighContrastMode();1===e?(t.add(dA),t.add(fA)):2===e&&(t.add(dA),t.add(pA))}}}return t.\u0275fac=function(e){return new(e||t)(cr(wD),cr(Kl))},t.\u0275prov=ht({factory:function(){return new t(cr(wD),cr(Kl))},token:t,providedIn:"root"}),t})();const gA=new Na("11.2.5");class yA{}const _A="*";function vA(t,e){return{type:7,name:t,definitions:e,options:{}}}function bA(t,e=null){return{type:4,styles:e,timings:t}}function wA(t,e=null){return{type:2,steps:t,options:e}}function xA(t){return{type:6,styles:t,offset:null}}function EA(t,e,n){return{type:0,name:t,styles:e,options:n}}function CA(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function SA(t=null){return{type:9,options:t}}function DA(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function IA(t){Promise.resolve(null).then(t)}class AA{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){IA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class kA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?IA(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function OA(){return"undefined"!=typeof window&&void 0!==window.document}function TA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function RA(t){switch(t.length){case 0:return new AA;case 1:return t[0];default:return new kA(t)}}function PA(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case _A:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),l=c,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function LA(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&NA(n,"start",t)));break;case"done":t.onDone(()=>r(n&&NA(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&NA(n,"destroy",t)))}}function NA(t,e,n){const r=n.totalTime,i=MA(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function MA(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function FA(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function BA(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let jA=(t,e)=>!1,zA=(t,e)=>!1,VA=(t,e,n)=>[];const UA=TA();(UA||"undefined"!=typeof Element)&&(jA=OA()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),zA=(()=>{if(UA||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):zA}})(),VA=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let qA=null,GA=!1;function HA(t){qA||(qA=("undefined"!=typeof document?document.body:null)||{},GA=!!qA.style&&"WebkitAppearance"in qA.style);let e=!0;return qA.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in qA.style,!e&&GA)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in qA.style),e}const YA=zA,ZA=jA,WA=VA;function $A(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let XA=(()=>{class t{validateStyleProperty(t){return HA(t)}matchesElement(t,e){return YA(t,e)}containsElement(t,e){return ZA(t,e)}query(t,e,n){return WA(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new AA(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class KA{}KA.NOOP=new XA;const JA="ng-enter",QA="ng-leave",tk="ng-trigger",ek=".ng-trigger",nk="ng-animating",rk=".ng-animating";function ik(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ok(parseFloat(e[1]),e[2])}function ok(t,e){switch(e){case"s":return 1e3*t;default:return t}}function sk(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=ok(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=ok(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function ak(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function uk(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ak(t,n);return n}function lk(t,e,n){return n?e+":"+n+";":""}function ck(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=lk(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=lk(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function hk(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=vk(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),TA()&&ck(t))}function fk(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=vk(e);t.style[n]=""}),TA()&&ck(t))}function pk(t){return Array.isArray(t)?1==t.length?t[0]:wA(t):t}const dk=new RegExp("{{\\s*(.+?)\\s*}}","g");function mk(t){let e=[];if("string"==typeof t){let n;for(;n=dk.exec(t);)e.push(n[1]);dk.lastIndex=0}return e}function gk(t,e,n){const r=t.toString(),i=r.replace(dk,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function yk(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const _k=/-+([a-z0-9])/g;function vk(t){return t.replace(_k,(...t)=>t[1].toUpperCase())}function bk(t,e){return 0===t||0===e}function wk(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=Ek(t,e)})}}return e}function xk(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ek(t,e){return window.getComputedStyle(t)[e]}const Ck="*";function Sk(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Ak(i,s)),"<"!=o[0]||i==Ck&&s==Ck||e.push(Ak(s,i))}(t,n,e)):n.push(t),n}const Dk=new Set(["true","1"]),Ik=new Set(["false","0"]);function Ak(t,e){const n=Dk.has(t)||Ik.has(t),r=Dk.has(e)||Ik.has(e);return(i,o)=>{let s=t==Ck||t==i,a=e==Ck||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Dk.has(t):Ik.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Dk.has(e):Ik.has(e)),s&&a}}const kk=new RegExp("s*:selfs*,?","g");function Ok(t,e,n){return new Tk(t).build(e,n)}class Tk{constructor(t){this._driver=t}build(t,e){const n=new Rk(e);return this._resetContextStyleTimingState(n),xk(this,pk(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Pk(t)){const e=t;Object.keys(e).forEach(t=>{mk(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=yk(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=xk(this,pk(t.animation),e);return{type:1,matchers:Sk(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Lk(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>xk(this,t,e)),options:Lk(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=xk(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Lk(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Nk(sk(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Nk(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||sk(r,e),Nk(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:xA({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=xA(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==_A?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Pk(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=mk(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Pk(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Pk(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,f=e.currentTime,p=e.currentAnimateTimings,d=p.duration;return u.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*d;e.currentTime=f+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:xk(this,pk(t.animation),e),options:Lk(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Lk(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Lk(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(kk,"")),[t=t.replace(/@\*/g,ek).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,rk),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,FA(e.collectedStyles,e.currentQuerySelector,{});const s=xk(this,pk(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Lk(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:sk(t.timings,e.errors,!0);return{type:12,animation:xk(this,pk(t.animation),e),timings:n,options:null}}}class Rk{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Pk(t){return!Array.isArray(t)&&"object"==typeof t}function Lk(t){var e;return t?(t=ak(t)).params&&(t.params=(e=t.params)?ak(e):null):t={},t}function Nk(t,e,n){return{duration:t,delay:e,easing:n}}function Mk(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Fk{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bk=new RegExp(":enter","g"),jk=new RegExp(":leave","g");function zk(t,e,n,r,i,o={},s={},a,u,l=[]){return(new Vk).buildKeyframes(t,e,n,r,i,o,s,a,u,l)}class Vk{buildKeyframes(t,e,n,r,i,o,s,a,u,l=[]){u=u||new Fk;const c=new qk(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),xk(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Mk(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ik(n.duration):null,o=null!=n.delay?ik(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),xk(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Uk);const t=ik(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>xk(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ik(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),xk(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return sk(e.params?gk(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ik(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Uk);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),xk(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;xk(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const Uk={};class qk{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Gk(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ik(n.duration)),null!=n.delay&&(r.delay=ik(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=gk(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new qk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Uk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Hk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Bk,"."+this._enterClassName)).replace(jk,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Gk{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Gk(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||_A,this._currentKeyframe[t]=_A}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=_A})):uk(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=gk(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:_A),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=uk(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==_A&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?yk(t.values()):[],o=e.size?yk(e.values()):[];if(n){const t=r[0],e=ak(t);t.offset=0,e.offset=1,r=[t,e]}return Mk(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Hk extends Gk{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=uk(t[0],!1);a.offset=0,i.push(a);const u=uk(t[0],!1);u.offset=Yk(s),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let s=uk(t[r],!1);s.offset=Yk((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Mk(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Yk(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Zk{}class Wk extends Zk{normalizePropertyName(t,e){return vk(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if($k[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const $k=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Xk(t,e,n,r,i,o,s,a,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}const Kk={};class Jk{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||Kk,f=this.buildStyles(n,s&&s.params||Kk,c),p=a&&a.params||Kk,d=this.buildStyles(r,p,c),m=new Set,g=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),p)},b=l?[]:zk(t,e,this.ast.animation,i,o,f,d,v,u,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return Xk(e,this._triggerName,n,r,_,f,d,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,r=FA(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=FA(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const x=yk(m.values());return Xk(e,this._triggerName,n,r,_,f,d,b,x,g,y,w)}}class Qk{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ak(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=gk(o,r,e)),n[t]=o})}}),n}}class tO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Qk(t.style,t.options&&t.options.params||{})}),eO(this.states,"true","1"),eO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Jk(t,e,this.states))}),this.fallbackTransition=new Jk(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function eO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const nO=new Fk;class rO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ok(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=PA(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=zk(this._driver,e,i,JA,QA,{},{},n,nO,r),o.forEach(t=>{const e=FA(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,_A)})});const a=RA(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=MA(e,"","","");return LA(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const iO="ng-animate-queued",oO="ng-animate-disabled",sO=".ng-animate-disabled",aO=[],uO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class cO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ak(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const hO="void",fO=new cO(hO);class pO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=FA(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=FA(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(bO(t,tk),bO(t,"ng-trigger-"+e),a[e]=fO),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new mO(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(bO(t,tk),bO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new cO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=fO),u.value!==hO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{fk(t,n),hk(t,r)})}return}const l=FA(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(bO(t,iO),o.onStart(()=>{wO(t,iO)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ek,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,hO,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&RA(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||fO,a=new cO(hO),u=new mO(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==uO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){bO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=MA(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,LA(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class dO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new pO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(gO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!gO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bO(t,oO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wO(t,oO))}removeNode(t,e,n,r){if(gO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return gO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,ek,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,rk,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return RA(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=uO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,sO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)bO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?RA(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Fk,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=vO(h,this.collectedEnterElements),p=new Map;let d=0;f.forEach((t,e)=>{const n=JA+d++;p.set(e,n),t.forEach(t=>bO(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=vO(h,Array.from(g));v.forEach((t,e)=>{const n=QA+d++;_.set(e,n),t.forEach(t=>bO(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>wO(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>wO(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=_.get(i),f=p.get(i),d=this._buildInstruction(t,n,f,h,l);if(d.errors&&d.errors.length)w.push(d);else{if(l)return e.onStart(()=>fk(i,d.fromStyles)),e.onDestroy(()=>hk(i,d.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>fk(i,d.fromStyles)),e.onDestroy(()=>hk(i,d.toStyles)),void r.push(e);d.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,d.timelines),o.push({instruction:d,player:e,element:i}),d.queriedElements.forEach(t=>FA(s,t,[]).push(e)),d.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),d.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{FA(x,e,[]).push(t),t.destroy()})});const C=m.filter(t=>CO(t,a,u)),S=new Map;_O(S,this.driver,y,u,_A).forEach(t=>{CO(t,a,u)&&C.push(t)});const D=new Map;f.forEach((t,e)=>{_O(D,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=S.get(t),n=D.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>hk(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,x,i,D,S);if(o.setRealPlayer(n),t===k)I.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=RA(e)),r.push(o)}}else fk(e,s.fromStyles),o.onDestroy(()=>hk(e,s.toStyles)),A.push(o),l.has(e)&&r.push(o)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=RA(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t.__ng_removed;if(wO(t,QA),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,rk,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?xO(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==hO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=FA(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}fk(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new AA(e.duration,e.delay);const p=h!==a,d=function(t){const e=[];return EO(t,e),e}((n.get(h)||aO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=PA(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,d);if(e.subTimeline&&r&&c.add(h),p){const e=new mO(t,s,h);e.setRealPlayer(_),u.push(e)}return _});u.forEach(t=>{FA(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>bO(t,nk));const f=RA(h);return f.onDestroy(()=>{l.forEach(t=>wO(t,nk)),hk(a,e.toStyles)}),c.forEach(t=>{FA(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new AA(t.duration,t.delay)}}class mO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new AA,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>LA(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){FA(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gO(t){return t&&1===t.nodeType}function yO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function _O(t,e,n,r,i){const o=[];n.forEach(t=>o.push(yO(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=lO,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>yO(t,o[a++])),s}function vO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function bO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function wO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function xO(t,e,n){RA(n).onDone(()=>t.processLeaveNode(e))}function EO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof kA?EO(r.players,e):e.push(r)}}function CO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class SO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new dO(t,e,n),this._timelineEngine=new rO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Ok(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new tO(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=BA(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=BA(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function DO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=AO(e[0]),e.length>1&&(r=AO(e[e.length-1]))):e&&(n=AO(e)),n||r?new IO(t,n,r):null}class IO{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=IO.initialStylesByElement.get(t);r||IO.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hk(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hk(this._element,this._initialStyles),this._endStyles&&(hk(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(IO.initialStylesByElement.delete(this._element),this._startStyles&&(fk(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fk(this._element,this._endStyles),this._endStyles=null),hk(this._element,this._initialStyles),this._state=3)}}function AO(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];kO(i)&&(e=e||{},e[i]=t[i])}return e}function kO(t){return"display"===t||"position"===t}IO.initialStylesByElement=new WeakMap;const OO="animation",TO="animationend";class RO{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=BO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),FO(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),MO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){PO(this._element,this._name,"paused")}resume(){PO(this._element,this._name,"running")}setPosition(t){const e=LO(this._element,this._name);this._position=t*this._duration,FO(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),MO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=BO(t,"").split(","),r=NO(n,e);r>=0&&(n.splice(r,1),FO(t,"",n.join(",")))}(this._element,this._name))}}function PO(t,e,n){FO(t,"PlayState",n,LO(t,e))}function LO(t,e){const n=BO(t,"");return n.indexOf(",")>0?NO(n.split(","),e):NO([n],e)}function NO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function MO(t,e,n){n?t.removeEventListener(TO,e):t.addEventListener(TO,e)}function FO(t,e,n,r){const i=OO+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function BO(t,e){return t.style[OO+e]||""}class jO{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new RO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ek(this.element,n))})}this.currentSnapshot=t}}class zO extends AA{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=$A(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class VO{constructor(){this._count=0}validateStyleProperty(t){return HA(t)}matchesElement(t,e){return YA(t,e)}containsElement(t,e){return ZA(t,e)}query(t,e,n){return WA(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>$A(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof jO),u={};bk(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=wk(t,e,u));if(0==n)return new zO(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const f=DO(t,e),p=new jO(t,e,c,n,r,i,l,f);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class UO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ek(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class qO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(GO().toString()),this._cssKeyframesDriver=new VO}validateStyleProperty(t){return HA(t)}matchesElement(t,e){return YA(t,e)}containsElement(t,e){return ZA(t,e)}query(t,e,n){return WA(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=o.filter(t=>t instanceof UO);bk(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=DO(t,e=wk(t,e=e.map(t=>uk(t,!1)),u));return new UO(t,e,a,c)}}function GO(){return OA()&&Element.prototype.animate||{}}let HO=(()=>{class t extends yA{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Dt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?wA(t):t;return WO(this._renderer,null,e,"register",[n]),new YO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(cr(Ta),cr(Kl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class YO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ZO(this._id,t,e||{},this._renderer)}}class ZO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return WO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function WO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const $O="@",XO="@.disabled";let KO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new JO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new QO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(cr(Ta),cr(SO),cr(_l))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class JO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==$O&&e==XO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class QO extends JO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==$O?"."==e.charAt(1)&&e==XO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==$O){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=$O&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let tT=(()=>{class t extends SO{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl),cr(KA),cr(Zk))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const eT=new Yn("AnimationModuleType"),nT=[{provide:yA,useClass:HO},{provide:Zk,useFactory:function(){return new Wk}},{provide:SO,useClass:tT},{provide:Ta,useFactory:function(t,e,n){return new KO(t,e,n)},deps:[th,SO,_l]}],rT=[{provide:KA,useFactory:function(){return"function"==typeof GO()?new qO:new VO}},{provide:eT,useValue:"BrowserAnimations"},...nT],iT=[{provide:KA,useClass:XA},{provide:eT,useValue:"NoopAnimations"},...nT];let oT=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?iT:rT}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:rT,imports:[mh]}),t})();function sT(t,e){if(1&t&&Cs(0,"mat-pseudo-checkbox",4),2&t){const t=Ls();bs("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function aT(t,e){if(1&t&&(xs(0,"span",5),na(1),Es()),2&t){const t=Ls();Yi(1),ia("(",t.group.label,")")}}const uT=["*"],lT=new Na("11.2.5"),cT=new Yn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let hT,fT=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Rl()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&lT.full!==gA.full&&console.warn("The Angular Material version ("+lT.full+") does not match the Angular CDK version ("+gA.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(cr(mA),cr(cT,8),cr(Kl))},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[vD],vD]}),t})();function pT(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=sD(t)}}}function dT(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function mT(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=sD(t)}}}function gT(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?aD(t):this.defaultTabIndex}}}function yT(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new E}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{hT="undefined"!=typeof Intl}catch(GF){hT=!1}let _T=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),vT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT],fT]}),t})();class bT{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wT={enterDuration:450,exitDuration:400},xT=AD({passive:!0}),ET=["mousedown","touchstart"],CT=["mouseup","mouseleave","touchend","touchcancel"];class ST{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=hD(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},wT),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-o+"px",l.style.top=a-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new bT(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},wT),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=hD(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ET))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(CT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=sA(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!aA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,xT)})})}_removeTriggerEvents(){this._triggerElement&&(ET.forEach(t=>{this._triggerElement.removeEventListener(t,this,xT)}),this._pointerUpEventsRegistered&&CT.forEach(t=>{this._triggerElement.removeEventListener(t,this,xT)}))}}const DT=new Yn("mat-ripple-global-options");let IT=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ST(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(_l),vs(wD),vs(DT,8),vs(eT,8))},t.\u0275dir=Wt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Hs("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),AT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT,xD],fT]}),t})(),kT=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(vs(eT,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&Hs("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),OT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT]]}),t})();const TT=new Yn("MAT_OPTION_PARENT_COMPONENT");class RT{}const PT=pT(RT);let LT=0,NT=(()=>{class t extends PT{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+LT++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(vs(TT,8))},t.\u0275dir=Wt({type:t,inputs:{label:"label"},features:[os]}),t})();const MT=new Yn("MatOptgroup");let FT=0;class BT{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let jT=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+FT++,this.onSelectionChange=new ku,this._stateChanges=new E}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=sD(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||HI(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new BT(this,t))}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(eu),vs(void 0),vs(NT))},t.\u0275dir=Wt({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),zT=(()=>{class t extends jT{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(eu),vs(TT,8),vs(MT,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Ts("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(sa("id",e.id),ms("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),Hs("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[os],ngContentSelectors:uT,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(Ms(),ys(0,sT,1,2,"mat-pseudo-checkbox",0),xs(1,"span",1),Fs(2),Es(),ys(3,aT,2,1,"span",2),Cs(4,"div",3)),2&t&&(bs("ngIf",e.multiple),Yi(3),bs("ngIf",e.group&&e.group._inert),Yi(1),bs("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Ec,IT,kT],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function VT(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}let UT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[AT,Tc,fT,OT]]}),t})();const qT=[[["caption"]],[["colgroup"],["col"]]],GT=["caption","colgroup, col"];let HT=(()=>{class t extends UI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275cmp=Ut({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&Hs("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[xa([{provide:mD,useClass:pD},{provide:UI,useExisting:t},{provide:cI,useExisting:t},{provide:wI,useClass:xI}]),os],ngContentSelectors:GT,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Ms(qT),Fs(0),Fs(1,1),Is(2,0),Is(3,1),Is(4,2),Is(5,3))},directives:[jI,BI,VI,zI],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})(),YT=(()=>{class t extends hI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matCellDef",""]],features:[xa([{provide:hI,useExisting:t}]),os]}),t})(),ZT=(()=>{class t extends fI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matHeaderCellDef",""]],features:[xa([{provide:fI,useExisting:t}]),os]}),t})(),WT=(()=>{class t extends gI{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[xa([{provide:gI,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),os]}),t})(),$T=(()=>{class t extends _I{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[os]}),t})(),XT=(()=>{class t extends vI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[os]}),t})(),KT=(()=>{class t extends DI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[xa([{provide:DI,useExisting:t}]),os]}),t})(),JT=(()=>{class t extends OI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[xa([{provide:OI,useExisting:t}]),os]}),t})(),QT=(()=>{class t extends RI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275cmp=Ut({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[xa([{provide:RI,useExisting:t}]),os],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Is(0,0)},directives:[TI],encapsulation:2}),t})(),tR=(()=>{class t extends PI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275cmp=Ut({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[xa([{provide:PI,useExisting:t}]),os],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Is(0,0)},directives:[TI],encapsulation:2}),t})(),eR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[GI,fT],fT]}),t})();class nR extends class extends class{}{constructor(t=[]){super(),this._renderData=new Qh([]),this._filter=new Qh(""),this._internalPageChanges=new E,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(uD(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),o=this.sortingDataAccessor(e,n);const s=typeof i,a=typeof o;s!==a&&("number"===s&&(i+=""),"number"===a&&(o+=""));let u=0;return null!=i&&null!=o?i>o?u=1:i<o&&(u=-1):null!=i?u=1:null!=o&&(u=-1),u*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new Qh(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?G(this._sort.sortChange,this._sort.initialized):gh(null),n=this._paginator?G(this._paginator.page,this._internalPageChanges,this._paginator.initialized):gh(null),r=of([this._data,this._filter]).pipe(D(([t])=>this._filterData(t))),i=of([r,e]).pipe(D(([t])=>this._orderData(t))),o=of([i,n]).pipe(D(([t])=>this._pageData(t)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=o.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}var rR=n(457);let iR=(()=>{class t{constructor(t){this.http=t,this.httpOptions={headers:new Eh({Accept:"plain/text"})}}getLAU(){console.log("GEO");try{return this.http.get("https://gisco-services.ec.europa.eu/distribution/v2/lau/geojson/LAU_RG_01M_2019_4326.geojson")}catch(t){alert(t)}}getPopulation(){console.log("POP");try{return this.http.get("./../assets/LAU_Population.json")}catch(t){}}getCodes(){try{return this.http.get("./../assets/register_norway.json")}catch(t){}}getPostal(t){console.log("Postal");try{return this.http.get("./../assets/postalcodes_"+t.toLowerCase()+".json",this.httpOptions)}catch(e){alert(e)}}}return t.\u0275fac=function(e){return new(e||t)(cr(jh))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const oR=["*",[["mat-toolbar-row"]]],sR=["*","mat-toolbar-row"];class aR{constructor(t){this._elementRef=t}}const uR=dT(aR);let lR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),cR=(()=>{class t extends uR{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(wD),vs(Kl))},t.\u0275cmp=Ut({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&qu(n,lR,5),2&t){let t;Vu(t=Gu())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&Hs("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[os],ngContentSelectors:sR,decls:2,vars:0,template:function(t,e){1&t&&(Ms(oR),Fs(0),Fs(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),hR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT],fT]}),t})();const fR=["*"],pR=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n";class dR{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new mR(this.rowIndex,e)}_findMatchingGap(t){let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class mR{constructor(t,e){this.row=t,this.col=e}}const gR=new Yn("MAT_GRID_LIST");let yR=(()=>{class t{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(aD(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(aD(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(gR,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&ms("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:fR,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(Ms(),xs(0,"figure",0),Fs(1),Es())},styles:[pR],encapsulation:2,changeDetection:0}),t})();const _R=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class vR{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,r){this._gutterSize=CR(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":ER(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let r=100/this._cols,i=(this._cols-1)/this._cols;this.setColStyles(t,n,r,i),this.setRowStyles(t,e,r,i)}setColStyles(t,e,n,r){let i=this.getBaseTileSize(n,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(i,e)),t._setStyle("width",ER(this.getTileSize(i,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class bR extends vR{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,r){super.init(t,e,n,r),this.fixedRowHeight=CR(this.fixedRowHeight),_R.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",ER(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",ER(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class wR extends vR{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,r){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",ER(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",ER(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class xR extends vR{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",ER(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function ER(t){return`calc(${t})`}function CR(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let SR=(()=>{class t{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(aD(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new xR:t&&t.indexOf(":")>-1?new wR(t):new bR(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new dR);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const r=t.positions[n];this._tileStyler.setStyle(e,r.row,r.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(_D,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){if(1&t&&qu(n,yR,5),2&t){let t;Vu(t=Gu())&&(e._tiles=t)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&ms("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[xa([{provide:gR,useExisting:t}])],ngContentSelectors:fR,decls:2,vars:0,template:function(t,e){1&t&&(Ms(),xs(0,"div"),Fs(1),Es())},styles:[pR],encapsulation:2,changeDetection:0}),t})(),DR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[vT,fT],vT,fT]}),t})();const IR=["*",[["mat-card-footer"]]],AR=["*","mat-card-footer"];let kR=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(vs(eT,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&Hs("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:AR,decls:2,vars:0,template:function(t,e){1&t&&(Ms(IR),Fs(0),Fs(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),OR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT],fT]}),t})();class TR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class RR extends TR{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class PR extends TR{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class LR extends TR{constructor(t){super(),this.element=t instanceof ka?t.nativeElement:t}}class NR extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof RR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof PR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof LR?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let MR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})();function FR(t,e){1&t&&Fs(0)}const BR=["*"];let jR=(()=>{class t{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t})(),zR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(vs(su))},t.\u0275dir=Wt({type:t,selectors:[["","cdkStepLabel",""]]}),t})(),VR=0;const UR="edit",qR="done",GR="error",HR=new Yn("STEPPER_GLOBAL_OPTIONS");let YR=(()=>{class t{constructor(t,e){this._stepper=t,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(t){this._editable=sD(t)}get optional(){return this._optional}set optional(t){this._optional=sD(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=sD(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=sD(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}return t.\u0275fac=function(e){return new(e||t)(vs(it(()=>ZR)),vs(HR,8))},t.\u0275cmp=Ut({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,n){if(1&t&&qu(n,zR,5),2&t){let t;Vu(t=Gu())&&(e.stepLabel=t.first)}},viewQuery:function(t,e){if(1&t&&Uu(su,7),2&t){let t;Vu(t=Gu())&&(e.content=t.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[ae],ngContentSelectors:BR,decls:1,vars:0,template:function(t,e){1&t&&(Ms(),ys(0,FR,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),ZR=(()=>{class t{constructor(t,e,n,r){this._dir=t,this._changeDetectorRef=e,this._elementRef=n,this._destroyed=new E,this.steps=new Tu,this._linear=!1,this._selectedIndex=0,this.selectionChange=new ku,this._orientation="horizontal",this._groupId=VR++,this._document=r}get linear(){return this._linear}set linear(t){this._linear=sD(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const e=aD(t);if(this.steps&&this._steps){this._isValidIndex(t);const n=this.selected;n&&(n.interacted=!0),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(t)}else this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=this.steps?this.steps.toArray().indexOf(t):-1}ngAfterContentInit(){this._steps.changes.pipe(bf(this._steps),KD(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(t=>t._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._keyManager=new nA(this._stepHeader).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:gh()).pipe(bf(this._layoutDirection()),KD(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,e="number"){const n=this.steps.toArray()[t],r=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,r):this._getGuidelineLogic(n,r,e)}_getDefaultIndicatorLogic(t,e){return t._showError&&t.hasError&&!e?GR:!t.completed||e?"number":t.editable?UR:qR}_getGuidelineLogic(t,e,n="number"){return t._showError&&t.hasError&&!e?GR:t.completed&&!e?qR:t.completed&&e?n:t.editable&&e?UR:n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const e=HI(t),n=t.keyCode,r=this._keyManager;null==r.activeItemIndex||e||32!==n&&13!==n?r.onKeydown(t):(this.selectedIndex=r.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(t=>{const e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){if(!this._document||!this._elementRef)return!1;const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return t.\u0275fac=function(e){return new(e||t)(vs(_D,8),vs(eu),vs(ka),vs(Kl))},t.\u0275dir=Wt({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,n){if(1&t&&(qu(n,YR,5),qu(n,jR,5)),2&t){let t;Vu(t=Gu())&&(e._steps=t),Vu(t=Gu())&&(e._stepHeader=t)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t})(),WR=(()=>{class t{constructor(t){this._stepper=t,this.type="submit"}_handleClick(){this._stepper.next()}}return t.\u0275fac=function(e){return new(e||t)(vs(ZR))},t.\u0275dir=Wt({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&Ts("click",function(){return e._handleClick()}),2&t&&sa("type",e.type)},inputs:{type:"type"}}),t})(),$R=(()=>{class t{constructor(t){this._stepper=t,this.type="button"}_handleClick(){this._stepper.previous()}}return t.\u0275fac=function(e){return new(e||t)(vs(ZR))},t.\u0275dir=Wt({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&Ts("click",function(){return e._handleClick()}),2&t&&sa("type",e.type)},inputs:{type:"type"}}),t})(),XR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[vD]]}),t})();const KR=["mat-button",""],JR=["*"],QR=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class tP{constructor(t){this._elementRef=t}}const eP=dT(pT(mT(tP)));let nP=(()=>{class t extends eP{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of QR)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(cA),vs(eT,8))},t.\u0275cmp=Ut({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&Uu(IT,5),2&t){let t;Vu(t=Gu())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(ms("disabled",e.disabled||null),Hs("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[os],attrs:KR,ngContentSelectors:JR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Ms(),xs(0,"span",0),Fs(1),Es(),Cs(2,"span",1),Cs(3,"span",2)),2&t&&(Yi(2),Hs("mat-button-ripple-round",e.isRoundButton||e.isIconButton),bs("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[IT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),rP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[AT,fT],fT]}),t})();const iP=["*"];function oP(t){return Error(`Unable to find icon with the name "${t}"`)}function sP(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function aP(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class uP{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let lP=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new uP(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(Xr.HTML,n);if(!i)throw aP(n);return this._addSvgIconConfig(t,e,new uP("",i,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new uP(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Xr.HTML,e);if(!r)throw aP(e);return this._addSvgIconSetConfig(t,new uP("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Xr.RESOURCE_URL,t);if(!e)throw sP(t);const n=this._cachedIconsByUrl.get(e);return n?gh(cP(n)):this._loadSvgIconFromConfig(new uP(t,null)).pipe(jf(t=>this._cachedIconsByUrl.set(e,t)),D(t=>cP(t)))}getNamedSvgIcon(t,e=""){const n=hP(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):tI(oP(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?gh(cP(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(D(t=>cP(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?gh(n):MC(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Cf(e=>{const n=this._sanitizer.sanitize(Xr.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),gh(null)})))).pipe(D(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw oP(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(jf(e=>t.svgText=e),D(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?gh(null):this._fetchIcon(t).pipe(jf(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,i=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Xr.RESOURCE_URL,n);if(!o)throw sP(n);const s=this._inProgressUrlFetches.get(o);if(s)return s;const a=this._httpClient.get(o,{responseType:"text",withCredentials:i}).pipe(Uf(()=>this._inProgressUrlFetches.delete(o)),J());return this._inProgressUrlFetches.set(o,a),a}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(hP(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new uP(i.url,null,i.options):new uP(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(cr(jh,8),cr(ch),cr(Kl,8),cr(ei))},t.\u0275prov=ht({factory:function(){return new t(cr(jh,8),cr(ch),cr(Kl,8),cr(ei))},token:t,providedIn:"root"}),t})();function cP(t){return t.cloneNode(!0)}function hP(t,e){return t+":"+e}class fP{constructor(t){this._elementRef=t}}const pP=dT(fP),dP=new Yn("mat-icon-location",{providedIn:"root",factory:function(){const t=hr(Kl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),mP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gP=mP.map(t=>`[${t}]`).join(", "),yP=/^url\(['"]?#(.*?)['"]?\)$/;let _P=(()=>{class t extends pP{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=sD(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(gP),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)mP.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(yP):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(yf(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(lP),zn("aria-hidden"),vs(dP),vs(ei))},t.\u0275cmp=Ut({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(ms("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),Hs("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[os],ngContentSelectors:iP,decls:1,vars:0,template:function(t,e){1&t&&(Ms(),Fs(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),vP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT],fT]}),t})();function bP(t,e){if(1&t&&Is(0,8),2&t){const t=Ls();bs("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function wP(t,e){if(1&t&&(xs(0,"span"),na(1),Es()),2&t){const t=Ls(2);Yi(1),ra(t._getDefaultTextForState(t.state))}}function xP(t,e){if(1&t&&(xs(0,"mat-icon"),na(1),Es()),2&t){const t=Ls(2);Yi(1),ra(t._getDefaultTextForState(t.state))}}function EP(t,e){1&t&&(Ss(0,9),ys(1,wP,2,1,"span",10),ys(2,xP,2,1,"mat-icon",11),Ds()),2&t&&(bs("ngSwitch",Ls().state),Yi(1),bs("ngSwitchCase","number"))}function CP(t,e){if(1&t&&(xs(0,"div",12),Is(1,13),Es()),2&t){const t=Ls();Yi(1),bs("ngTemplateOutlet",t._templateLabel().template)}}function SP(t,e){if(1&t&&(xs(0,"div",12),na(1),Es()),2&t){const t=Ls();Yi(1),ra(t.label)}}function DP(t,e){if(1&t&&(xs(0,"div",14),na(1),Es()),2&t){const t=Ls();Yi(1),ra(t._intl.optionalLabel)}}function IP(t,e){if(1&t&&(xs(0,"div",15),na(1),Es()),2&t){const t=Ls();Yi(1),ra(t.errorMessage)}}function AP(t,e){1&t&&Fs(0)}const kP=["*"];function OP(t,e){if(1&t){const t=As();xs(0,"div",1),xs(1,"mat-step-header",2),Ts("click",function(){return Oe(t).$implicit.select()})("keydown",function(e){return Oe(t),Ls()._onKeydown(e)}),Es(),xs(2,"div",3),xs(3,"div",4),Ts("@stepTransition.done",function(e){return Oe(t),Ls()._animationDone.next(e)}),xs(4,"div",5),Is(5,6),Es(),Es(),Es(),Es()}if(2&t){const t=e.$implicit,n=e.index,r=e.last,i=Ls();Yi(1),bs("tabIndex",i._getFocusIndex()==n?0:-1)("id",i._getStepLabelId(n))("index",n)("state",i._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",i.selectedIndex===n)("active",t.completed||i.selectedIndex===n||!i.linear)("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple)("color",t.color||i.color),ms("aria-posinset",n+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(n))("aria-selected",i.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),Yi(1),Hs("mat-stepper-vertical-line",!r),Yi(1),bs("@stepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),ms("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),Yi(2),bs("ngTemplateOutlet",t.content)}}let TP=(()=>{class t extends zR{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matStepLabel",""]],features:[os]}),t})(),RP=(()=>{class t{constructor(){this.changes=new E,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();const PP={provide:RP,deps:[[new mr,new gr,RP]],useFactory:function(t){return t||new RP}};class LP extends jR{constructor(t){super(t)}}const NP=dT(LP,"primary");let MP=(()=>{class t extends NP{constructor(t,e,n,r){super(n),this._intl=t,this._focusMonitor=e,this._intlSubscription=t.changes.subscribe(()=>r.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._elementRef,t,e):this._elementRef.nativeElement.focus(e)}_stringLabel(){return this.label instanceof TP?null:this.label}_templateLabel(){return this.label instanceof TP?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return t.\u0275fac=function(e){return new(e||t)(vs(RP),vs(cA),vs(ka),vs(eu))},t.\u0275cmp=Ut({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[os],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(Cs(0,"div",0),xs(1,"div"),xs(2,"div",1),ys(3,bP,1,2,"ng-container",2),ys(4,EP,3,2,"ng-container",3),Es(),Es(),xs(5,"div",4),ys(6,CP,2,1,"div",5),ys(7,SP,2,1,"div",5),ys(8,DP,2,1,"div",6),ys(9,IP,2,1,"div",7),Es()),2&t&&(bs("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),Yi(1),oa("mat-step-icon-state-",e.state," mat-step-icon"),Hs("mat-step-icon-selected",e.selected),Yi(1),bs("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),Yi(1),bs("ngSwitchCase",!0),Yi(2),Hs("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),Yi(1),bs("ngIf",e._templateLabel()),Yi(1),bs("ngIf",e._stringLabel()),Yi(1),bs("ngIf",e.optional&&"error"!=e.state),Yi(1),bs("ngIf","error"==e.state))},directives:[IT,Ic,Ac,kc,Ec,Oc,_P],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const FP={horizontalStepTransition:vA("stepTransition",[EA("previous",xA({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),EA("current",xA({transform:"none",visibility:""})),EA("next",xA({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),CA("* => *",bA("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:vA("stepTransition",[EA("previous",xA({height:"0px",visibility:"hidden"})),EA("next",xA({height:"0px",visibility:"hidden"})),EA("current",xA({height:"*",visibility:""})),CA("* <=> current",bA("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let BP=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(vs(su))},t.\u0275dir=Wt({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t})(),jP=(()=>{class t extends YR{constructor(t,e,n){super(t,n),this._errorStateMatcher=e}isErrorState(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}return t.\u0275fac=function(e){return new(e||t)(vs(it(()=>zP)),vs(_T,4),vs(HR,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-step"]],contentQueries:function(t,e,n){if(1&t&&qu(n,TP,5),2&t){let t;Vu(t=Gu())&&(e.stepLabel=t.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[xa([{provide:_T,useExisting:t},{provide:YR,useExisting:t}]),os],ngContentSelectors:kP,decls:1,vars:0,template:function(t,e){1&t&&(Ms(),ys(0,AP,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),zP=(()=>{class t extends ZR{constructor(){super(...arguments),this.steps=new Tu,this.animationDone=new ku,this._iconOverrides={},this._animationDone=new E}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this.steps.changes.pipe(KD(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(UD((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),KD(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["","matStepper",""]],contentQueries:function(t,e,n){if(1&t&&(qu(n,jP,5),qu(n,BP,5)),2&t){let t;Vu(t=Gu())&&(e._steps=t),Vu(t=Gu())&&(e._icons=t)}},viewQuery:function(t,e){if(1&t&&Uu(MP,5),2&t){let t;Vu(t=Gu())&&(e._stepHeader=t)}},inputs:{disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},features:[xa([{provide:ZR,useExisting:t}]),os]}),t})(),VP=(()=>{class t extends zP{constructor(t,e,n,r){super(t,e,n,r),this._orientation="vertical"}}return t.\u0275fac=function(e){return new(e||t)(vs(_D,8),vs(eu),vs(ka),vs(Kl))},t.\u0275cmp=Ut({type:t,selectors:[["mat-vertical-stepper"]],hostAttrs:["aria-orientation","vertical","role","tablist",1,"mat-stepper-vertical"],inputs:{selectedIndex:"selectedIndex"},exportAs:["matVerticalStepper"],features:[xa([{provide:zP,useExisting:t},{provide:ZR,useExisting:t}]),os],decls:1,vars:1,consts:[["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&ys(0,OP,6,25,"div",0),2&t&&bs("ngForOf",e.steps)},directives:[wc,MP,Oc],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[FP.verticalStepTransition]},changeDetection:0}),t})(),UP=(()=>{class t extends WR{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,e){2&t&&sa("type",e.type)},inputs:{type:"type"},features:[os]}),t})(),qP=(()=>{class t extends $R{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Wt({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,e){2&t&&sa("type",e.type)},inputs:{type:"type"},features:[os]}),t})(),GP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[PP,_T],imports:[[fT,Tc,MR,rP,XR,vP,AT],fT]}),t})();const HP=["underline"],YP=["connectionContainer"],ZP=["inputContainer"],WP=["label"];function $P(t,e){1&t&&(Ss(0),xs(1,"div",14),Cs(2,"div",15),Cs(3,"div",16),Cs(4,"div",17),Es(),xs(5,"div",18),Cs(6,"div",15),Cs(7,"div",16),Cs(8,"div",17),Es(),Ds())}function XP(t,e){1&t&&(xs(0,"div",19),Fs(1,1),Es())}function KP(t,e){if(1&t&&(Ss(0),Fs(1,2),xs(2,"span"),na(3),Es(),Ds()),2&t){const t=Ls(2);Yi(3),ra(t._control.placeholder)}}function JP(t,e){1&t&&Fs(0,3,["*ngSwitchCase","true"])}function QP(t,e){1&t&&(xs(0,"span",23),na(1," *"),Es())}function tL(t,e){if(1&t){const t=As();xs(0,"label",20,21),Ts("cdkObserveContent",function(){return Oe(t),Ls().updateOutlineGap()}),ys(2,KP,4,1,"ng-container",12),ys(3,JP,1,0,"ng-content",12),ys(4,QP,2,0,"span",22),Es()}if(2&t){const t=Ls();Hs("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),bs("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ms("for",t._control.id)("aria-owns",t._control.id),Yi(2),bs("ngSwitchCase",!1),Yi(1),bs("ngSwitchCase",!0),Yi(1),bs("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function eL(t,e){1&t&&(xs(0,"div",24),Fs(1,4),Es())}function nL(t,e){if(1&t&&(xs(0,"div",25,26),Cs(2,"span",27),Es()),2&t){const t=Ls();Yi(2),Hs("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function rL(t,e){1&t&&(xs(0,"div"),Fs(1,5),Es()),2&t&&bs("@transitionMessages",Ls()._subscriptAnimationState)}function iL(t,e){if(1&t&&(xs(0,"div",31),na(1),Es()),2&t){const t=Ls(2);bs("id",t._hintLabelId),Yi(1),ra(t.hintLabel)}}function oL(t,e){if(1&t&&(xs(0,"div",28),ys(1,iL,2,2,"div",29),Fs(2,6),Cs(3,"div",30),Fs(4,7),Es()),2&t){const t=Ls();bs("@transitionMessages",t._subscriptAnimationState),Yi(1),bs("ngIf",t.hintLabel)}}const sL=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],aL=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],uL=new Yn("MatError"),lL={transitionMessages:vA("transitionMessages",[EA("enter",xA({opacity:1,transform:"translateY(0%)"})),CA("void => enter",[xA({opacity:0,transform:"translateY(-5px)"}),bA("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let cL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t}),t})();const hL=new Yn("MatHint");let fL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t,selectors:[["mat-label"]]}),t})(),pL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Wt({type:t,selectors:[["mat-placeholder"]]}),t})();const dL=new Yn("MatPrefix"),mL=new Yn("MatSuffix");let gL=0;class yL{constructor(t){this._elementRef=t}}const _L=dT(yL,"primary"),vL=new Yn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),bL=new Yn("MatFormField");let wL=(()=>{class t extends _L{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new E,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gL++,this._labelId="mat-form-field-label-"+gL++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=sD(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(bf(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(KD(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(KD(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),G(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(bf(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(bf(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(KD(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,TD(this._label.nativeElement,"transitionend").pipe(yf(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let u=0;for(let t=0;t<s.length;t++)u+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=u>0?.75*u+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(eu),vs(ka),vs(_D,8),vs(vL,8),vs(wD),vs(_l),vs(eT,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(qu(n,cL,5),qu(n,cL,7),qu(n,fL,5),qu(n,fL,7),qu(n,pL,5),qu(n,uL,5),qu(n,hL,5),qu(n,dL,5),qu(n,mL,5)),2&t){let t;Vu(t=Gu())&&(e._controlNonStatic=t.first),Vu(t=Gu())&&(e._controlStatic=t.first),Vu(t=Gu())&&(e._labelChildNonStatic=t.first),Vu(t=Gu())&&(e._labelChildStatic=t.first),Vu(t=Gu())&&(e._placeholderChild=t.first),Vu(t=Gu())&&(e._errorChildren=t),Vu(t=Gu())&&(e._hintChildren=t),Vu(t=Gu())&&(e._prefixChildren=t),Vu(t=Gu())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(Uu(HP,5),Uu(YP,7),Uu(ZP,5),Uu(WP,5)),2&t){let t;Vu(t=Gu())&&(e.underlineRef=t.first),Vu(t=Gu())&&(e._connectionContainerRef=t.first),Vu(t=Gu())&&(e._inputContainerRef=t.first),Vu(t=Gu())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&Hs("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[xa([{provide:bL,useExisting:t}]),os],ngContentSelectors:aL,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Ms(sL),xs(0,"div",0),xs(1,"div",1,2),Ts("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),ys(3,$P,9,0,"ng-container",3),ys(4,XP,2,0,"div",4),xs(5,"div",5,6),Fs(7),xs(8,"span",7),ys(9,tL,5,16,"label",8),Es(),Es(),ys(10,eL,2,0,"div",9),Es(),ys(11,nL,3,4,"div",10),xs(12,"div",11),ys(13,rL,2,1,"div",12),ys(14,oL,5,2,"div",13),Es(),Es()),2&t&&(Yi(3),bs("ngIf","outline"==e.appearance),Yi(1),bs("ngIf",e._prefixChildren.length),Yi(5),bs("ngIf",e._hasFloatingLabel()),Yi(1),bs("ngIf",e._suffixChildren.length),Yi(1),bs("ngIf","outline"!=e.appearance),Yi(1),bs("ngSwitch",e._getDisplayedMessages()),Yi(1),bs("ngSwitchCase","error"),Yi(1),bs("ngSwitchCase","hint"))},directives:[Ec,Ic,Ac,JI],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[lL.transitionMessages]},changeDetection:0}),t})(),xL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[Tc,fT,QI],fT]}),t})();const EL=AD({passive:!0});let CL=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return cf;const e=hD(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new E,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,EL),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,EL)}}),r}stopMonitoring(t){const e=hD(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(cr(wD),cr(_l))},t.\u0275prov=ht({factory:function(){return new t(cr(wD),cr(_l))},token:t,providedIn:"root"}),t})(),SL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[xD]]}),t})();const DL=new Yn("MAT_INPUT_VALUE_ACCESSOR"),IL=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let AL=0;class kL{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const OL=yT(kL);let TL=(()=>{class t extends OL{constructor(t,e,n,r,i,o,s,a,u,l){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+AL++,this.focused=!1,this.stateChanges=new E,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>CD().has(t));const c=this._elementRef.nativeElement,h=c.nodeName.toLowerCase();this._inputValueAccessor=s||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=sD(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=sD(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&CD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=sD(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){IL.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(wD),vs(hS,10),vs(US,8),vs(JS,8),vs(_T),vs(DL,10),vs(CL),vs(_l),vs(bL,8))},t.\u0275dir=Wt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&Ts("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(sa("disabled",e.disabled)("required",e.required),ms("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),Hs("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[xa([{provide:cL,useExisting:t}]),os,ae]}),t})(),RL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[_T],imports:[[SL,xL,fT],SL,xL]}),t})();const PL=["button"],LL=["*"],NL=new Yn("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),ML=new Yn("MatButtonToggleGroup"),FL={provide:zC,useExisting:it(()=>zL),multi:!0};let BL=0;class jL{constructor(t,e){this.source=t,this.value=e}}let zL=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+BL++,this.valueChange=new ku,this.change=new ku,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=sD(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=sD(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=sD(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new dD(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new jL(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,r=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):r=!0,r?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(vs(eu),vs(NL,8))},t.\u0275dir=Wt({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&qu(n,qL,5),2&t){let t;Vu(t=Gu())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(ms("aria-disabled",e.disabled),Hs("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[xa([FL,{provide:ML,useExisting:t}])]}),t})();class VL{}const UL=mT(VL);let qL=(()=>{class t extends UL{constructor(t,e,n,r,i,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=r,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new ku;const s=Number(i);this.tabIndex=s||0===s?s:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=sD(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=sD(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+BL++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new jL(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(vs(ML,8),vs(eu),vs(ka),vs(cA),zn("tabindex"),vs(NL,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&Uu(PL,5),2&t){let t;Vu(t=Gu())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&Ts("focus",function(){return e.focus()}),2&t&&(ms("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),Hs("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[os],ngContentSelectors:LL,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(Ms(),xs(0,"button",0,1),Ts("click",function(){return e._onButtonClick()}),xs(2,"span",2),Fs(3),Es(),Es(),Cs(4,"span",3),Cs(5,"span",4)),2&t){const t=_s(1);bs("id",e.buttonId)("disabled",e.disabled||null),ms("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),Yi(5),bs("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[IT],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),GL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT,AT],fT]}),t})();function HL(t,e){if(1&t&&(en(),Cs(0,"circle",3)),2&t){const t=Ls();Gs("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ms("r",t._getCircleRadius())}}function YL(t,e){if(1&t&&(en(),Cs(0,"circle",3)),2&t){const t=Ls();Gs("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ms("r",t._getCircleRadius())}}function ZL(t,e){if(1&t&&(en(),Cs(0,"circle",3)),2&t){const t=Ls();Gs("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ms("r",t._getCircleRadius())}}function WL(t,e){if(1&t&&(en(),Cs(0,"circle",3)),2&t){const t=Ls();Gs("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ms("r",t._getCircleRadius())}}const $L=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class XL{constructor(t){this._elementRef=t}}const KL=dT(XL,"primary"),JL=new Yn("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class QL extends KL{constructor(t,e,n,r,i){super(t),this._elementRef=t,this._document=n,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=QL._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(n.head)||o.set(n.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=aD(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=aD(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,aD(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=OD(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,n=QL._diameters;let r=n.get(t);if(!r||!r.has(e)){const i=this._document.createElement("style");i.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),i.textContent=this._getAnimationText(),t.appendChild(i),r||(r=new Set,n.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}QL.\u0275fac=function(t){return new(t||QL)(vs(ka),vs(wD),vs(Kl,8),vs(eT,8),vs(JL))},QL.\u0275cmp=Ut({type:QL,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(ms("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Gs("width",e.diameter,"px")("height",e.diameter,"px"),Hs("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[os],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(en(),xs(0,"svg",0),ys(1,HL,1,9,"circle",1),ys(2,YL,1,7,"circle",2),Es()),2&t&&(Gs("width",e.diameter,"px")("height",e.diameter,"px"),bs("ngSwitch","indeterminate"===e.mode),ms("viewBox",e._getViewBox()),Yi(1),bs("ngSwitchCase",!0),Yi(1),bs("ngSwitchCase",!1))},directives:[Ic,Ac],styles:[$L],encapsulation:2,changeDetection:0}),QL._diameters=new WeakMap;let tN=(()=>{class t extends QL{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(wD),vs(Kl,8),vs(eT,8),vs(JL))},t.\u0275cmp=Ut({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(Gs("width",e.diameter,"px")("height",e.diameter,"px"),Hs("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[os],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(en(),xs(0,"svg",0),ys(1,ZL,1,9,"circle",1),ys(2,WL,1,7,"circle",2),Es()),2&t&&(Gs("width",e.diameter,"px")("height",e.diameter,"px"),bs("ngSwitch","indeterminate"===e.mode),ms("viewBox",e._getViewBox()),Yi(1),bs("ngSwitchCase",!0),Yi(1),bs("ngSwitchCase",!1))},directives:[Ic,Ac],styles:[$L],encapsulation:2,changeDetection:0}),t})(),eN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[fT,Tc],fT]}),t})();class nN{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new rN(t,this.predicate,this.inclusive))}}class rN extends d{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const iN=kD();class oN{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cD(-this._previousScrollPosition.left),t.style.top=cD(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),iN&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),iN&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class sN{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aN{enable(){}disable(){}attach(){}}function uN(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function lN(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class cN{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();uN(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hN=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new aN,this.close=t=>new sN(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new oN(this._viewportRuler,this._document),this.reposition=t=>new cN(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(cr(rI),cr(iI),cr(_l),cr(Kl))},t.\u0275prov=ht({factory:function(){return new t(cr(rI),cr(iI),cr(_l),cr(Kl))},token:t,providedIn:"root"}),t})();class fN{constructor(t){if(this.scrollStrategy=new aN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class pN{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class dN{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let mN=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({factory:function(){return new t(cr(Kl))},token:t,providedIn:"root"}),t})(),gN=(()=>{class t extends mN{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl))},t.\u0275prov=ht({factory:function(){return new t(cr(Kl))},token:t,providedIn:"root"}),t})(),yN=(()=>{class t extends mN{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl),cr(wD))},t.\u0275prov=ht({factory:function(){return new t(cr(Kl),cr(wD))},token:t,providedIn:"root"}),t})();const _N=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let vN=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_N){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),_N?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(cr(Kl),cr(wD))},t.\u0275prov=ht({factory:function(){return new t(cr(Kl),cr(wD))},token:t,providedIn:"root"}),t})();class bN{constructor(t,e,n,r,i,o,s,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new E,this._outsidePointerEvents=new E,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yf(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=cD(this._config.width),t.height=cD(this._config.height),t.minWidth=cD(this._config.minWidth),t.minHeight=cD(this._config.minHeight),t.maxWidth=cD(this._config.maxWidth),t.maxHeight=cD(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;lD(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(KD(G(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const wN="cdk-overlay-connected-position-bounding-box",xN=/([A-Za-z%]+)$/;class EN{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(wN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),u=this._getOverlayFit(a,e,n,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&CN(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=DN(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(o+=a),u&&(s+=u);let l=0-s,c=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),f=this._subtractOverflows(i.height,l,c),p=h*f;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:f===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=SN(this._overlayRef.getConfig().minHeight),s=SN(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=DN(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=r.width<=i.width?u||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new dN(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,u,l;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:o,left:u,bottom:s,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=cD(n.height),r.top=cD(n.top),r.bottom=cD(n.bottom),r.width=cD(n.width),r.left=cD(n.left),r.right=cD(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=cD(t)),i&&(r.maxWidth=cD(i))}this._lastBoundingBoxSize=n,CN(this._boundingBox.style,r)}_resetBoundingBoxStyles(){CN(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){CN(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();CN(n,this._getExactOverlayY(e,t,r)),CN(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),u&&(s+=`translateY(${u}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=cD(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=cD(o.maxWidth):i&&(n.maxWidth="")),CN(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=cD(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=cD(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lN(t,n),isOriginOutsideView:uN(t,n),isOverlayClipped:lN(e,n),isOverlayOutsideView:uN(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&lD(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ka)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function CN(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function SN(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(xN);return n&&"px"!==n?null:parseFloat(e)}return t||null}function DN(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class IN{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new EN(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new pN(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const AN="cdk-global-overlay-wrapper";class kN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(AN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(AN),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ON=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new kN}connectedTo(t,e,n){return new IN(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new EN(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(cr(iI),cr(Kl),cr(wD),cr(vN))},t.\u0275prov=ht({factory:function(){return new t(cr(iI),cr(Kl),cr(wD),cr(vN))},token:t,providedIn:"root"}),t})(),TN=0,RN=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=u,this._location=l,this._outsideClickDispatcher=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new fN(t);return i.direction=i.direction||this._directionality.value,new bN(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+TN++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(jl)),new NR(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(cr(hN),cr(vN),cr(Sa),cr(ON),cr(gN),cr(rs),cr(_l),cr(Kl),cr(_D),cr(fc),cr(yN))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const PN=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],LN=new Yn("cdk-connected-overlay-scroll-strategy");let NN=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(vs(ka))},t.\u0275dir=Wt({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),MN=(()=>{class t{constructor(t,e,n,r,i){this._overlay=t,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this._attachSubscription=h.EMPTY,this._detachSubscription=h.EMPTY,this._positionSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ku,this.positionChange=new ku,this.attach=new ku,this.detach=new ku,this.overlayKeydown=new ku,this.overlayOutsideClick=new ku,this._templatePortal=new PR(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=sD(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=sD(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=sD(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=sD(t)}get push(){return this._push}set push(t){this._push=sD(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=PN);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||HI(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new fN({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new nN(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(vs(RN),vs(su),vs(pu),vs(LN),vs(_D,8))},t.\u0275dir=Wt({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ae]}),t})();const FN={provide:LN,deps:[RN],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let BN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[RN,FN],imports:[[vD,MR,sI],sI]}),t})();const jN=["trigger"],zN=["panel"];function VN(t,e){if(1&t&&(xs(0,"span",8),na(1),Es()),2&t){const t=Ls();Yi(1),ra(t.placeholder)}}function UN(t,e){if(1&t&&(xs(0,"span",12),na(1),Es()),2&t){const t=Ls(2);Yi(1),ra(t.triggerValue)}}function qN(t,e){1&t&&Fs(0,0,["*ngSwitchCase","true"])}function GN(t,e){1&t&&(xs(0,"span",9),ys(1,UN,2,1,"span",10),ys(2,qN,1,0,"ng-content",11),Es()),2&t&&(bs("ngSwitch",!!Ls().customTrigger),Yi(2),bs("ngSwitchCase",!0))}function HN(t,e){if(1&t){const t=As();xs(0,"div",13),xs(1,"div",14,15),Ts("@transformPanel.done",function(e){return Oe(t),Ls()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return Oe(t),Ls()._handleKeydown(e)}),Fs(3,1),Es(),Es()}if(2&t){const t=Ls();bs("@transformPanelWrap",void 0),Yi(1),oa("mat-select-panel ",t._getPanelTheme(),""),Gs("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),bs("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),ms("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const YN=[[["mat-select-trigger"]],"*"],ZN=["mat-select-trigger","*"],WN={transformPanelWrap:vA("transformPanelWrap",[CA("* => void",DA("@transformPanel",[SA()],{optional:!0}))]),transformPanel:vA("transformPanel",[EA("void",xA({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),EA("showing",xA({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),EA("showing-multiple",xA({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),CA("void => *",bA("120ms cubic-bezier(0, 0, 0.2, 1)")),CA("* => void",bA("100ms 25ms linear",xA({opacity:0})))])};let $N=0;const XN=256,KN=new Yn("mat-select-scroll-strategy"),JN=new Yn("MAT_SELECT_CONFIG"),QN={provide:KN,deps:[RN],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class tM{constructor(t,e){this.source=t,this.value=e}}class eM{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const nM=mT(gT(pT(yT(eM)))),rM=new Yn("MatSelectTrigger");let iM=(()=>{class t extends nM{constructor(t,e,n,r,i,o,s,a,u,l,c,h,f,p){var d,m,g;super(i,r,s,a,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+$N++,this._triggerAriaLabelledBy=null,this._destroy=new E,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$N++,this._panelDoneAnimatingStream=new E,this._overlayPanelClass=(null===(d=this._defaultOptions)||void 0===d?void 0:d.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(g=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==g&&g,this.ariaLabel="",this.optionSelectionChanges=ff(()=>{const t=this.options;return t?t.changes.pipe(bf(t),pf(()=>G(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(yf(1),pf(()=>this.optionSelectionChanges))}),this.openedChange=new ku,this._openedStream=this.openedChange.pipe(_h(t=>t),D(()=>{})),this._closedStream=this.openedChange.pipe(_h(t=>!t),D(()=>{})),this.selectionChange=new ku,this.valueChange=new ku,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(c)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=sD(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=sD(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=sD(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=aD(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new dD(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(UD(),KD(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(KD(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(bf(null),KD(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!HI(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||HI(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(yf(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new eA(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(KD(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(KD(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=G(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(KD(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),G(...this.options.map(t=>t._stateChanges)).pipe(KD(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(vs(iI),vs(eu),vs(_l),vs(_T),vs(ka),vs(_D,8),vs(US,8),vs(JS,8),vs(bL,8),vs(hS,10),zn("tabindex"),vs(KN),vs(oA),vs(JN,8))},t.\u0275dir=Wt({type:t,viewQuery:function(t,e){if(1&t&&(Uu(jN,5),Uu(zN,5),Uu(MN,5)),2&t){let t;Vu(t=Gu())&&(e.trigger=t.first),Vu(t=Gu())&&(e.panel=t.first),Vu(t=Gu())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[os,ae]}),t})(),oM=(()=>{class t extends iM{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(KD(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(yf(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=VT(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,o;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(o=this.panel.nativeElement.scrollTop)?r:r+i>o+256?Math.max(0,r-256+i):o)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new tM(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);o>0?i+=o+8:s>0&&(i-=s+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(XN/r);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-XN)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,XN)-o-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,XN),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=VT(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275cmp=Ut({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(qu(n,rM,5),qu(n,zT,5),qu(n,MT,5)),2&t){let t;Vu(t=Gu())&&(e.customTrigger=t.first),Vu(t=Gu())&&(e.options=t),Vu(t=Gu())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&Ts("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(ms("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),Hs("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[xa([{provide:cL,useExisting:t},{provide:TT,useExisting:t}]),os],ngContentSelectors:ZN,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(Ms(YN),xs(0,"div",0,1),Ts("click",function(){return e.toggle()}),xs(3,"div",2),ys(4,VN,2,1,"span",3),ys(5,GN,3,2,"span",4),Es(),xs(6,"div",5),Cs(7,"div",6),Es(),Es(),ys(8,HN,4,14,"ng-template",7),Ts("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=_s(1);ms("aria-owns",e.panelOpen?e.id+"-panel":null),Yi(3),bs("ngSwitch",e.empty),ms("id",e._valueId),Yi(1),bs("ngSwitchCase",!0),Yi(1),bs("ngSwitchCase",!1),Yi(3),bs("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[NN,Ic,Ac,MN,kc,vc],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[WN.transformPanelWrap,WN.transformPanel]},changeDetection:0}),t})(),sM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[QN],imports:[[Tc,BN,UT,fT],oI,xL,UT,fT]}),t})();var aM=function(){function t(){}return t.mapToArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},t.handleEvent=function(t,e,n){0<e.observers.length&&t.run(function(){e.emit(n)})},t}(),uM=function(){function t(t,e){this.element=t,this.zone=e,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,oD.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new ku,this.zoomChange=new ku,this.centerChange=new ku,this.onClick=new ku,this.onDoubleClick=new ku,this.onMouseDown=new ku,this.onMouseUp=new ku,this.onMouseMove=new ku,this.onMouseOver=new ku,this.onMouseOut=new ku,this.onMapMove=new ku,this.onMapMoveStart=new ku,this.onMapMoveEnd=new ku,this.onMapZoom=new ku,this.onMapZoomStart=new ku,this.onMapZoomEnd=new ku,this.mapEventHandlers={}}return t.prototype.ngOnInit=function(){var t=this;this.zone.runOutsideAngular(function(){t.map=(0,oD.map)(t.element.nativeElement,t.options),t.addMapEventListeners()}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),null!=this.maxBounds&&this.setMaxBounds(this.maxBounds),null!=this.minZoom&&this.setMinZoom(this.minZoom),null!=this.maxZoom&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)},t.prototype.ngOnChanges=function(t){t.zoom&&t.center&&null!=this.zoom&&null!=this.center?this.setView(t.center.currentValue,t.zoom.currentValue):t.zoom?this.setZoom(t.zoom.currentValue):t.center&&this.setCenter(t.center.currentValue),t.fitBounds&&this.setFitBounds(t.fitBounds.currentValue),t.maxBounds&&this.setMaxBounds(t.maxBounds.currentValue),t.minZoom&&this.setMinZoom(t.minZoom.currentValue),t.maxZoom&&this.setMaxZoom(t.maxZoom.currentValue)},t.prototype.ngOnDestroy=function(){this.map.remove()},t.prototype.getMap=function(){return this.map},t.prototype.onResize=function(){this.delayResize()},t.prototype.addMapEventListeners=function(){var t=this,e=function(e,n){t.mapEventHandlers[e]=n,t.map.on(e,n)};e("click",function(e){return aM.handleEvent(t.zone,t.onClick,e)}),e("dblclick",function(e){return aM.handleEvent(t.zone,t.onDoubleClick,e)}),e("mousedown",function(e){return aM.handleEvent(t.zone,t.onMouseDown,e)}),e("mouseup",function(e){return aM.handleEvent(t.zone,t.onMouseUp,e)}),e("mouseover",function(e){return aM.handleEvent(t.zone,t.onMouseOver,e)}),e("mouseout",function(e){return aM.handleEvent(t.zone,t.onMouseOut,e)}),e("mousemove",function(e){return aM.handleEvent(t.zone,t.onMouseMove,e)}),e("zoomstart",function(e){return aM.handleEvent(t.zone,t.onMapZoomStart,e)}),e("zoom",function(e){return aM.handleEvent(t.zone,t.onMapZoom,e)}),e("zoomend",function(e){return aM.handleEvent(t.zone,t.onMapZoomEnd,e)}),e("movestart",function(e){return aM.handleEvent(t.zone,t.onMapMoveStart,e)}),e("move",function(e){return aM.handleEvent(t.zone,t.onMapMove,e)}),e("moveend",function(e){return aM.handleEvent(t.zone,t.onMapMoveEnd,e)});var n=function(){var e=t.map.getZoom();e!==t.zoom&&(t.zoom=e,aM.handleEvent(t.zone,t.zoomChange,e));var n=t.map.getCenter();null==n&&null==t.center||(null!=n&&null!=t.center||n===t.center)&&n.lat===t.center.lat&&n.lng===t.center.lng||(t.center=n,aM.handleEvent(t.zone,t.centerChange,n))};e("moveend",n),e("zoomend",n)},t.prototype.doResize=function(){var t=this;this.zone.runOutsideAngular(function(){t.map.invalidateSize({})})},t.prototype.delayResize=function(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)},t.prototype.setView=function(t,e){this.map&&null!=t&&null!=e&&this.map.setView(t,e,this.zoomPanOptions)},t.prototype.setZoom=function(t){this.map&&null!=t&&this.map.setZoom(t,this.zoomOptions)},t.prototype.setCenter=function(t){this.map&&null!=t&&this.map.panTo(t,this.panOptions)},t.prototype.setFitBounds=function(t){this.map&&null!=t&&this.map.fitBounds(t,this.fitBoundsOptions)},t.prototype.setMaxBounds=function(t){this.map&&null!=t&&this.map.setMaxBounds(t)},t.prototype.setMinZoom=function(t){this.map&&null!=t&&this.map.setMinZoom(t)},t.prototype.setMaxZoom=function(t){this.map&&null!=t&&this.map.setMaxZoom(t)},t.ctorParameters=function(){return[{type:ka},{type:_l}]},t.propDecorators={fitBoundsOptions:[{type:Wu,args:["leafletFitBoundsOptions"]}],panOptions:[{type:Wu,args:["leafletPanOptions"]}],zoomOptions:[{type:Wu,args:["leafletZoomOptions"]}],zoomPanOptions:[{type:Wu,args:["leafletZoomPanOptions"]}],options:[{type:Wu,args:["leafletOptions"]}],mapReady:[{type:$u,args:["leafletMapReady"]}],zoom:[{type:Wu,args:["leafletZoom"]}],zoomChange:[{type:$u,args:["leafletZoomChange"]}],center:[{type:Wu,args:["leafletCenter"]}],centerChange:[{type:$u,args:["leafletCenterChange"]}],fitBounds:[{type:Wu,args:["leafletFitBounds"]}],maxBounds:[{type:Wu,args:["leafletMaxBounds"]}],minZoom:[{type:Wu,args:["leafletMinZoom"]}],maxZoom:[{type:Wu,args:["leafletMaxZoom"]}],onClick:[{type:$u,args:["leafletClick"]}],onDoubleClick:[{type:$u,args:["leafletDoubleClick"]}],onMouseDown:[{type:$u,args:["leafletMouseDown"]}],onMouseUp:[{type:$u,args:["leafletMouseUp"]}],onMouseMove:[{type:$u,args:["leafletMouseMove"]}],onMouseOver:[{type:$u,args:["leafletMouseOver"]}],onMouseOut:[{type:$u,args:["leafletMouseOut"]}],onMapMove:[{type:$u,args:["leafletMapMove"]}],onMapMoveStart:[{type:$u,args:["leafletMapMoveStart"]}],onMapMoveEnd:[{type:$u,args:["leafletMapMoveEnd"]}],onMapZoom:[{type:$u,args:["leafletMapZoom"]}],onMapZoomStart:[{type:$u,args:["leafletMapZoomStart"]}],onMapZoomEnd:[{type:$u,args:["leafletMapZoomEnd"]}],onResize:[{type:Xu,args:["window:resize",[]]}]},t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(_l))},t.\u0275dir=Wt({type:t,selectors:[["","leaflet",""]],hostBindings:function(t,e){1&t&&Ts("resize",function(){return e.onResize()},!1,ri)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[ae]}),t}(),lM=function(){function t(t){this.leafletDirective=t}return t.prototype.init=function(){},t.prototype.getMap=function(){return this.leafletDirective.getMap()},t}(),cM=(function(){function t(t,e){this.zone=e,this.onAdd=new ku,this.onRemove=new ku,this.leafletDirective=new lM(t)}t.prototype.ngOnInit=function(){this.leafletDirective.init()},t.prototype.ngOnDestroy=function(){null!=this.layer&&(this.removeLayerEventListeners(this.layer),this.layer.remove())},t.prototype.ngOnChanges=function(t){var e=this;if(t.layer){var n=t.layer.previousValue,r=t.layer.currentValue;this.zone.runOutsideAngular(function(){null!=n&&(e.removeLayerEventListeners(n),n.remove()),null!=r&&(e.addLayerEventListeners(r),e.leafletDirective.getMap().addLayer(r))})}},t.prototype.addLayerEventListeners=function(t){var e=this;this.onAddLayerHandler=function(t){return aM.handleEvent(e.zone,e.onAdd,t)},t.on("add",this.onAddLayerHandler),this.onRemoveLayerHandler=function(t){return aM.handleEvent(e.zone,e.onRemove,t)},t.on("remove",this.onRemoveLayerHandler)},t.prototype.removeLayerEventListeners=function(t){t.off("add",this.onAddLayerHandler),t.off("remove",this.onRemoveLayerHandler)},t.ctorParameters=function(){return[{type:uM},{type:_l}]},t.propDecorators={layer:[{type:Wu,args:["leafletLayer"]}],onAdd:[{type:$u,args:["leafletLayerAdd"]}],onRemove:[{type:$u,args:["leafletLayerRemove"]}]},t.\u0275fac=function(e){return new(e||t)(vs(uM),vs(_l))},t.\u0275dir=Wt({type:t,selectors:[["","leafletLayer",""]],inputs:{layer:["leafletLayer","layer"]},outputs:{onAdd:"leafletLayerAdd",onRemove:"leafletLayerRemove"},features:[ae]})}(),function(){function t(t,e,n){this.differs=e,this.zone=n,this.leafletDirective=new lM(t),this.layersDiffer=this.differs.find([]).create()}return Object.defineProperty(t.prototype,"layers",{get:function(){return this.layersValue},set:function(t){this.layersValue=t,this.updateLayers()},enumerable:!1,configurable:!0}),t.prototype.ngDoCheck=function(){this.updateLayers()},t.prototype.ngOnInit=function(){this.leafletDirective.init(),this.updateLayers()},t.prototype.ngOnDestroy=function(){this.layers=[]},t.prototype.updateLayers=function(){var t=this.leafletDirective.getMap();if(null!=t&&null!=this.layersDiffer){var e=this.layersDiffer.diff(this.layersValue);null!=e&&this.zone.runOutsideAngular(function(){e.forEachRemovedItem(function(e){t.removeLayer(e.item)}),e.forEachAddedItem(function(e){t.addLayer(e.item)})})}},t.ctorParameters=function(){return[{type:uM},{type:Wa},{type:_l}]},t.propDecorators={layers:[{type:Wu,args:["leafletLayers"]}]},t.\u0275fac=function(e){return new(e||t)(vs(uM),vs(Wa),vs(_l))},t.\u0275dir=Wt({type:t,selectors:[["","leafletLayers",""]],inputs:{layers:["leafletLayers","layers"]}}),t}()),hM=function(){function t(){this.layersRemoved=0,this.layersChanged=0,this.layersAdded=0}return t.prototype.changed=function(){return!(0===this.layersRemoved&&0===this.layersChanged&&0===this.layersAdded)},t}(),fM=function(){function t(t,e){this.zone=t,this.layersControlReady=e}return t.prototype.getLayersControl=function(){return this.layersControl},t.prototype.init=function(t,e){var n=this,r=t.baseLayers||{},i=t.overlays||{};return this.zone.runOutsideAngular(function(){n.layersControl=oD.control.layers(r,i,e)}),this.layersControlReady.emit(this.layersControl),this.layersControl},t.prototype.applyBaseLayerChanges=function(t){var e=new hM;return null!=this.layersControl&&(e=this.applyChanges(t,this.layersControl.addBaseLayer)),e},t.prototype.applyOverlayChanges=function(t){var e=new hM;return null!=this.layersControl&&(e=this.applyChanges(t,this.layersControl.addOverlay)),e},t.prototype.applyChanges=function(t,e){var n=this,r=new hM;return null!=t&&this.zone.runOutsideAngular(function(){t.forEachChangedItem(function(t){n.layersControl.removeLayer(t.previousValue),e.call(n.layersControl,t.currentValue,t.key),r.layersChanged++}),t.forEachRemovedItem(function(t){n.layersControl.removeLayer(t.previousValue),r.layersRemoved++}),t.forEachAddedItem(function(t){e.call(n.layersControl,t.currentValue,t.key),r.layersAdded++})}),r},t}(),pM=function(){this.baseLayers={},this.overlays={}},dM=function(){function t(t,e,n){this.differs=e,this.zone=n,this.layersControlReady=new ku,this.leafletDirective=new lM(t),this.controlLayers=new fM(this.zone,this.layersControlReady),this.baseLayersDiffer=this.differs.find({}).create(),this.overlaysDiffer=this.differs.find({}).create()}return Object.defineProperty(t.prototype,"layersControlConfig",{get:function(){return this.layersControlConfigValue},set:function(t){null==t&&(t=new pM),null==t.baseLayers&&(t.baseLayers={}),null==t.overlays&&(t.overlays={}),this.layersControlConfigValue=t,this.updateLayers()},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.leafletDirective.init(),this.zone.runOutsideAngular(function(){t.controlLayers.init({},t.layersControlOptions).addTo(t.leafletDirective.getMap())}),this.updateLayers()},t.prototype.ngOnDestroy=function(){this.layersControlConfig={baseLayers:{},overlays:{}},this.controlLayers.getLayersControl().remove()},t.prototype.ngDoCheck=function(){this.updateLayers()},t.prototype.updateLayers=function(){var t=this.leafletDirective.getMap(),e=this.controlLayers.getLayersControl();if(null!=t&&null!=e){if(null!=this.baseLayersDiffer&&null!=this.layersControlConfigValue.baseLayers){var n=this.baseLayersDiffer.diff(this.layersControlConfigValue.baseLayers);this.controlLayers.applyBaseLayerChanges(n)}null!=this.overlaysDiffer&&null!=this.layersControlConfigValue.overlays&&(n=this.overlaysDiffer.diff(this.layersControlConfigValue.overlays),this.controlLayers.applyOverlayChanges(n))}},t.ctorParameters=function(){return[{type:uM},{type:Xa},{type:_l}]},t.propDecorators={layersControlConfig:[{type:Wu,args:["leafletLayersControl"]}],layersControlOptions:[{type:Wu,args:["leafletLayersControlOptions"]}],layersControlReady:[{type:$u,args:["leafletLayersControlReady"]}]},t.\u0275fac=function(e){return new(e||t)(vs(uM),vs(Xa),vs(_l))},t.\u0275dir=Wt({type:t,selectors:[["","leafletLayersControl",""]],inputs:{layersControlConfig:["leafletLayersControl","layersControlConfig"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]},outputs:{layersControlReady:"leafletLayersControlReady"}}),t}(),mM=(function(){function t(t,e,n){this.differs=e,this.zone=n,this.layersControlReady=new ku,this.leafletDirective=new lM(t),this.controlLayers=new fM(this.zone,this.layersControlReady),this.baseLayersDiffer=this.differs.find({}).create()}Object.defineProperty(t.prototype,"baseLayers",{get:function(){return this.baseLayersValue},set:function(t){this.baseLayersValue=t,this.updateBaseLayers()},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this.baseLayers={},this.controlLayers.getLayersControl().remove()},t.prototype.ngOnInit=function(){var t=this;this.leafletDirective.init(),this.zone.runOutsideAngular(function(){t.controlLayers.init({},t.layersControlOptions).addTo(t.leafletDirective.getMap())}),this.updateBaseLayers()},t.prototype.ngDoCheck=function(){this.updateBaseLayers()},t.prototype.updateBaseLayers=function(){var t=this.leafletDirective.getMap(),e=this.controlLayers.getLayersControl();if(null!=t&&null!=e&&null!=this.baseLayersDiffer){var n=this.baseLayersDiffer.diff(this.baseLayersValue);this.controlLayers.applyBaseLayerChanges(n).changed()&&this.syncBaseLayer()}},t.prototype.syncBaseLayer=function(){var t,e=this,n=this.leafletDirective.getMap(),r=aM.mapToArray(this.baseLayers);n.eachLayer(function(e){t=r.find(function(t){return e===t})}),null!=t?this.baseLayer=t:r.length>0&&(this.baseLayer=r[0],this.zone.runOutsideAngular(function(){e.baseLayer.addTo(n)}))},t.ctorParameters=function(){return[{type:uM},{type:Xa},{type:_l}]},t.propDecorators={baseLayers:[{type:Wu,args:["leafletBaseLayers"]}],layersControlOptions:[{type:Wu,args:["leafletLayersControlOptions"]}],layersControlReady:[{type:$u,args:["leafletLayersControlReady"]}]},t.\u0275fac=function(e){return new(e||t)(vs(uM),vs(Xa),vs(_l))},t.\u0275dir=Wt({type:t,selectors:[["","leafletBaseLayers",""]],inputs:{baseLayers:["leafletBaseLayers","baseLayers"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]},outputs:{layersControlReady:"leafletLayersControlReady"}})}(),function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t}());!function(){function t(t,e,n){this.type=t,this.url=e,this.options=n}t.createTileLayer=function(t){var e;switch(t.type){case"xyz":e=(0,oD.tileLayer)(t.url,t.options);break;case"wms":default:e=oD.tileLayer.wms(t.url,t.options)}return e},t.createTileLayers=function(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.createTileLayer(e[r]));return n},t.prototype.createTileLayer=function(){return t.createTileLayer(this)}}();const gM=["input"],yM=function(){return{enterDuration:150}},_M=["*"],vM=new Yn("mat-checkbox-default-options",{providedIn:"root",factory:bM});function bM(){return{color:"accent",clickAction:"check-indeterminate"}}let wM=0;const xM=bM(),EM={provide:zC,useExisting:it(()=>IM),multi:!0};class CM{}class SM{constructor(t){this._elementRef=t}}const DM=gT(dT(mT(pT(SM))));let IM=(()=>{class t extends DM{constructor(t,e,n,r,i,o,s){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=r,this._animationMode=o,this._options=s,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++wM,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new ku,this.indeterminateChange=new ku,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||xM,this.color=this.defaultColor=this._options.color||xM.color,this.tabIndex=parseInt(i)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=sD(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=sD(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=sD(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new CM;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,e){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(vs(ka),vs(eu),vs(cA),vs(_l),zn("tabindex"),vs(eT,8),vs(vM,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(Uu(gM,5),Uu(IT,5)),2&t){let t;Vu(t=Gu())&&(e._inputElement=t.first),Vu(t=Gu())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(sa("id",e.id),ms("tabindex",null),Hs("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[xa([EM]),os],ngContentSelectors:_M,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Ms(),xs(0,"label",0,1),xs(2,"span",2),xs(3,"input",3,4),Ts("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),Es(),xs(5,"span",5),Cs(6,"span",6),Es(),Cs(7,"span",7),xs(8,"span",8),en(),xs(9,"svg",9),Cs(10,"path",10),Es(),De.lFrame.currentNamespace=null,Cs(11,"span",11),Es(),Es(),xs(12,"span",12,13),Ts("cdkObserveContent",function(){return e._onLabelTextChange()}),xs(14,"span",14),na(15,"\xa0"),Es(),Fs(16),Es(),Es()),2&t){const t=_s(1),n=_s(13);ms("for",e.inputId),Yi(2),Hs("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),Yi(1),bs("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),ms("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),Yi(2),bs("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(t,e,n){const r=function(){const t=De.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=Ae();return i[r]===Hi?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}(19,yM))}},directives:[IT,JI],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),AM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({}),t})(),kM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[AT,fT,QI,AM],fT,AM]}),t})();function OM(t,e){1&t&&na(0,"Read Case Files")}function TM(t,e){1&t&&na(0,"Read Product Files")}function RM(t,e){1&t&&na(0,"Provide Durability Helper File (optional)")}function PM(t,e){1&t&&na(0,"Define Model Parameters")}function LM(t,e){1&t&&na(0,"Result")}function NM(t,e){1&t&&(xs(0,"th",41),na(1," Productnumber "),Es())}function MM(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.productnumber," ")}}function FM(t,e){1&t&&(xs(0,"th",41),na(1," Variant "),Es())}function BM(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.variant," ")}}function jM(t,e){1&t&&(xs(0,"th",41),na(1," Name "),Es())}function zM(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.name," ")}}function VM(t,e){1&t&&Cs(0,"tr",43)}function UM(t,e){1&t&&Cs(0,"tr",44)}function qM(t,e){if(1&t&&(xs(0,"div"),xs(1,"div",32),xs(2,"table",33),Ss(3,34),ys(4,NM,2,0,"th",35),ys(5,MM,2,1,"td",36),Ds(),Ss(6,37),ys(7,FM,2,0,"th",35),ys(8,BM,2,1,"td",36),Ds(),Ss(9,38),ys(10,jM,2,0,"th",35),ys(11,zM,2,1,"td",36),Ds(),ys(12,VM,1,0,"tr",39),ys(13,UM,1,0,"tr",40),Es(),Es(),Es()),2&t){const t=Ls(2);Yi(2),bs("dataSource",t.dataSourceResult),Yi(10),bs("matHeaderRowDef",t.displayedColumnsResult),Yi(1),bs("matRowDefColumns",t.displayedColumnsResult)}}function GM(t,e){if(1&t){const t=As();xs(0,"mat-vertical-stepper",8,9),xs(2,"mat-step",10),xs(3,"form",11),ys(4,OM,1,0,"ng-template",12),xs(5,"div",13),xs(6,"label",14),na(7,"Choose Case File:"),Es(),xs(8,"input",15),Ts("change",function(e){return Oe(t),Ls().handleCaseInput(e)}),Es(),Es(),xs(9,"div"),xs(10,"button",16),Ts("click",function(){Oe(t);const e=_s(1);return Ls().goForward(e)}),na(11,"Next"),Es(),Es(),Es(),Es(),xs(12,"mat-step",10),xs(13,"form",11),ys(14,TM,1,0,"ng-template",12),xs(15,"div",13),xs(16,"label",14),na(17,"Choose Product Files:"),Es(),xs(18,"input",15),Ts("change",function(e){return Oe(t),Ls().handleProductInput(e)}),Es(),Es(),xs(19,"div"),xs(20,"button",16),Ts("click",function(){Oe(t);const e=_s(1);return Ls().goBack(e)}),na(21,"Back"),Es(),xs(22,"button",16),Ts("click",function(){Oe(t);const e=_s(1),n=Ls();return n.goForward(e),n.removeProducts()}),na(23,"Next"),Es(),Es(),Es(),Es(),xs(24,"mat-step",10),xs(25,"form",11),ys(26,RM,1,0,"ng-template",12),xs(27,"div",13),xs(28,"label",14),na(29,"Choose Durability Help file:"),Es(),xs(30,"input",15),Ts("change",function(e){return Oe(t),Ls().handleHelpExpiaryInput(e)}),Es(),Es(),xs(31,"div"),xs(32,"button",16),Ts("click",function(){Oe(t);const e=_s(1);return Ls().goBack(e)}),na(33,"Back"),Es(),xs(34,"button",16),Ts("click",function(){Oe(t);const e=_s(1);return Ls().goForward(e)}),na(35,"Next"),Es(),Es(),Es(),Es(),xs(36,"mat-step",10),xs(37,"form",11),ys(38,PM,1,0,"ng-template",12),xs(39,"p"),xs(40,"mat-form-field"),xs(41,"mat-label"),na(42,"Default durability"),Es(),Cs(43,"input",17),Es(),xs(44,"mat-form-field"),xs(45,"mat-label"),na(46,"Cutoff"),Es(),Cs(47,"input",18),Es(),Es(),xs(48,"p"),xs(49,"mat-form-field"),xs(50,"mat-label"),na(51,"Consume after expiary date"),Es(),Cs(52,"input",19),Es(),xs(53,"mat-form-field"),xs(54,"mat-label"),na(55,"Longest potential incubation time (days)"),Es(),Cs(56,"input",20),Es(),Es(),xs(57,"p"),xs(58,"mat-form-field"),xs(59,"mat-label"),na(60,"Shortest potential incubation time (days)"),Es(),Cs(61,"input",21),Es(),xs(62,"mat-form-field"),xs(63,"mat-label"),na(64,"Constant for multiplying zeroes in likelihood calkulations "),Es(),Cs(65,"input",22),Es(),Es(),xs(66,"p"),na(67," Unselect Random Cases? "),xs(68,"mat-button-toggle-group",23),xs(69,"mat-button-toggle",24),na(70,"true"),Es(),xs(71,"mat-button-toggle",25),na(72,"false"),Es(),Es(),Es(),xs(73,"p"),xs(74,"mat-button-toggle-group",26),xs(75,"mat-button-toggle",27),na(76,"Centroid"),Es(),xs(77,"mat-button-toggle",28),na(78,"Center of Mass"),Es(),Es(),Es(),xs(79,"div"),xs(80,"button",29),na(81,"Back"),Es(),xs(82,"button",30),Ts("click",function(){return Oe(t),Ls().toggleLoading()}),na(83,"Run Model"),Es(),Es(),Es(),Es(),xs(84,"mat-step"),ys(85,LM,1,0,"ng-template",12),ys(86,qM,14,3,"div",7),xs(87,"div"),xs(88,"button",29),na(89,"Back"),Es(),xs(90,"button",31),Ts("click",function(){return Oe(t),_s(1).reset()}),na(91,"Reset Model"),Es(),xs(92,"button",31),Ts("click",function(){return Oe(t),Ls().saveAsJSON()}),na(93,"Save as JSON"),Es(),Es(),Es(),Es()}if(2&t){const t=Ls();bs("linear",t.isLinear)("selectedIndex",t.stepIndex),Yi(2),bs("stepControl",t.firstFormGroup),Yi(1),bs("formGroup",t.firstFormGroup),Yi(9),bs("stepControl",t.secondFormGroup),Yi(1),bs("formGroup",t.secondFormGroup),Yi(11),bs("stepControl",t.thirdFormGroup),Yi(1),bs("formGroup",t.thirdFormGroup),Yi(11),bs("stepControl",t.forthFromGroup),Yi(1),bs("formGroup",t.forthFromGroup),Yi(49),bs("ngIf",t.calculationResult)}}function HM(t,e){if(1&t&&(xs(0,"div",45),Cs(1,"mat-spinner"),xs(2,"div",46),na(3),Es(),Es()),2&t){const t=Ls();Yi(3),ra(t.message)}}function YM(t,e){if(1&t&&(xs(0,"mat-option",53),na(1),Es()),2&t){const t=e.$implicit;bs("value",t),Yi(1),ia(" ",t," ")}}function ZM(t,e){if(1&t){const t=As();xs(0,"div"),na(1," On this website you can calculate the likelihood for multiple products to be the cause of a foodborne outbreak. To calculate model results we need following data: "),xs(2,"ul"),xs(3,"li"),na(4,"Cases data: containing the postal code of each case, the pathogen, the municipality of the case and the date of infection"),Es(),xs(5,"li"),na(6,"Wholesalers data: containing the name of the product, variant, delivery date, postal code of the desitantion"),Es(),xs(7,"li"),na(8,"Durability data: containing the days a product is durable. This is not neccessary however highly recomended. If not given a default durability for a product will be assumed"),Es(),Es(),na(9," Please choose the country you are interested in and follow the steps on the left site of the screen to execute the model. "),xs(10,"mat-form-field",48),xs(11,"mat-label"),na(12,"Select Country"),Es(),xs(13,"mat-select",49),Ts("ngModelChange",function(e){return Oe(t),Ls(2).country=e}),ys(14,YM,2,2,"mat-option",50),Es(),Es(),xs(15,"div",51),xs(16,"button",52),Ts("click",function(){return Oe(t),Ls(2).onStart()}),na(17,"Start"),Es(),Es(),Es()}if(2&t){const t=Ls(2);Yi(13),bs("ngModel",t.country),Yi(1),bs("ngForOf",t.countryarray)}}function WM(t,e){if(1&t){const t=As();xs(0,"div"),na(1," The case data is the information on the patient of a foodborne disease. The case data consists of: "),xs(2,"ul"),xs(3,"li"),na(4,"zip: Postal code of the patient or the LAU identification code from EUROSTAT for the year 2018"),Es(),xs(5,"li"),na(6,"pathogen: Pathogen of each case"),Es(),xs(7,"li"),na(8,"municipality: Name of the municipality the outbreak occurred"),Es(),xs(9,"li"),na(10,"dateofinfection: Date the foodborne disease case was discovered"),Es(),Es(),xs(11,"div",54),Ts("leafletMapReady",function(e){return Oe(t),Ls(2).onMapReady(e)}),Es(),Es()}if(2&t){const t=Ls(2);Yi(11),bs("leafletLayers",t.layers)("leafletLayersControl",t.layersControl)("leafletCenter",t.center)("leafletFitBounds",t.fitBounds)}}function $M(t,e){if(1&t){const t=As();xs(0,"th",41),xs(1,"mat-checkbox",59),Ts("change",function(e){Oe(t);const n=Ls(3);return e?n.masterToggle():null}),Es(),Es()}if(2&t){const t=Ls(3);Yi(1),bs("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function XM(t,e){if(1&t){const t=As();xs(0,"td",42),xs(1,"mat-checkbox",60),Ts("click",function(t){return t.stopPropagation()})("change",function(e){const n=Oe(t).$implicit,r=Ls(3);return e?r.selection.toggle(n):null}),Es(),Es()}if(2&t){const t=e.$implicit,n=Ls(3);Yi(1),bs("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function KM(t,e){1&t&&(xs(0,"th",41),na(1," Postal Code "),Es())}function JM(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.zip," ")}}function QM(t,e){1&t&&(xs(0,"th",41),na(1," Pathogen "),Es())}function tF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.pathogen," ")}}function eF(t,e){1&t&&(xs(0,"th",41),na(1," Municipality "),Es())}function nF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.municipality," ")}}function rF(t,e){1&t&&(xs(0,"th",41),na(1," Date of Infection "),Es())}function iF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.dateofinfection," ")}}function oF(t,e){1&t&&Cs(0,"tr",43)}function sF(t,e){if(1&t){const t=As();xs(0,"tr",61),Ts("click",function(){const e=Oe(t).$implicit;return Ls(3).selection.toggle(e)}),Es()}}function aF(t,e){if(1&t){const t=As();xs(0,"div"),xs(1,"p"),na(2,"Choose the cases you want to include or exclude:"),Es(),xs(3,"div",55),xs(4,"table",33),Ss(5,56),ys(6,$M,2,3,"th",35),ys(7,XM,2,2,"td",36),Ds(),Ss(8,34),ys(9,KM,2,0,"th",35),ys(10,JM,2,1,"td",36),Ds(),Ss(11,37),ys(12,QM,2,0,"th",35),ys(13,tF,2,1,"td",36),Ds(),Ss(14,38),ys(15,eF,2,0,"th",35),ys(16,nF,2,1,"td",36),Ds(),Ss(17,57),ys(18,rF,2,0,"th",35),ys(19,iF,2,1,"td",36),Ds(),ys(20,oF,1,0,"tr",39),ys(21,sF,1,0,"tr",58),Es(),Es(),xs(22,"div",54),Ts("leafletMapReady",function(e){return Oe(t),Ls(2).onMapReady(e)}),Es(),Es()}if(2&t){const t=Ls(2);Yi(4),bs("dataSource",t.dataSource),Yi(16),bs("matHeaderRowDef",t.displayedColumns),Yi(1),bs("matRowDefColumns",t.displayedColumns),Yi(1),bs("leafletLayers",t.layers)("leafletLayersControl",t.layersControl)("leafletCenter",t.center)("leafletFitBounds",t.fitBounds)}}function uF(t,e){1&t&&(xs(0,"div"),na(1," Wholesalers data is needed to execute the model. It can be splited in multiple files. The Wholesalers data consists of the following information: "),xs(2,"ul"),xs(3,"li"),na(4,"deliverydate: Date of delivery given as a String"),Es(),xs(5,"li"),na(6,"deliverypostcode: Postal code or municipality code of the desitantion"),Es(),xs(7,"li"),na(8,"id: Individual ID for each element"),Es(),xs(9,"li"),na(10,"name: Name of the product shipped"),Es(),xs(11,"li"),na(12,"numberofsalesunits: The number of unit that have been saved"),Es(),xs(13,"li"),na(14,"productnumber: Identifiable number for each product"),Es(),xs(15,"li"),na(16,"variant: Identifiable variant of each product. Among with the productnumber this defines a product"),Es(),xs(17,"li"),na(18,"variantname: Name for the variant"),Es(),Es(),Es())}function lF(t,e){if(1&t){const t=As();xs(0,"th",41),xs(1,"mat-checkbox",59),Ts("change",function(e){Oe(t);const n=Ls(3);return e?n.masterToggleProducts():null}),Es(),Es()}if(2&t){const t=Ls(3);Yi(1),bs("checked",t.selectionProduct.hasValue()&&t.isAllSelectedProducts())("indeterminate",t.selectionProduct.hasValue()&&!t.isAllSelectedProducts())("aria-label",t.checkboxLabelProducts())}}function cF(t,e){if(1&t){const t=As();xs(0,"td",42),xs(1,"mat-checkbox",60),Ts("click",function(t){return t.stopPropagation()})("change",function(e){const n=Oe(t).$implicit,r=Ls(3);return e?r.selectionProduct.toggle(n):null}),Es(),Es()}if(2&t){const t=e.$implicit,n=Ls(3);Yi(1),bs("checked",n.selectionProduct.isSelected(t))("aria-label",n.checkboxLabelProducts(t))}}function hF(t,e){1&t&&(xs(0,"th",41),na(1," Product "),Es())}function fF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.product," ")}}function pF(t,e){1&t&&Cs(0,"tr",43)}function dF(t,e){if(1&t){const t=As();xs(0,"tr",61),Ts("click",function(){const e=Oe(t).$implicit;return Ls(3).selectionProduct.toggle(e)}),Es()}}function mF(t,e){if(1&t){const t=As();xs(0,"div"),xs(1,"p"),na(2,"The Wholesalers data was grouped by the product name. This allows to exclude products from the model calculation by simply disselecting a product:"),Es(),xs(3,"div",55),xs(4,"table",33),Ss(5,62),ys(6,lF,2,3,"th",35),ys(7,cF,2,2,"td",36),Ds(),Ss(8,63),ys(9,hF,2,0,"th",35),ys(10,fF,2,1,"td",36),Ds(),ys(11,pF,1,0,"tr",39),ys(12,dF,1,0,"tr",58),Es(),Es(),xs(13,"div",54),Ts("leafletMapReady",function(e){return Oe(t),Ls(2).onMapReady(e)}),Es(),Es()}if(2&t){const t=Ls(2);Yi(4),bs("dataSource",t.dataSourceProduct),Yi(7),bs("matHeaderRowDef",t.displayedColumnsProducts),Yi(1),bs("matRowDefColumns",t.displayedColumnsProducts),Yi(1),bs("leafletLayers",t.layers)("leafletLayersControl",t.layersControl)("leafletCenter",t.center)("leafletFitBounds",t.fitBounds)}}function gF(t,e){1&t&&(xs(0,"div"),xs(1,"p"),na(2,"Durability data is optional for the execution of the model. However, it is highly recomended to provide a durability file for a better estimation. If for a product no information on the durability can be provided, the model will asume default number of day. This can also be definded in the next step. A durability file consists of: "),Es(),xs(3,"ul"),xs(4,"li"),na(5,"durability: Number of days a product is consumable"),Es(),xs(6,"li"),na(7,"name: Name of the product"),Es(),xs(8,"li"),na(9,"productnumber: Identifiable number for each product"),Es(),xs(10,"li"),na(11,"variant: Identifiable variant of each product. Among with the productnumber this defines a product"),Es(),Es(),Es())}function yF(t,e){1&t&&(xs(0,"th",41),na(1," Productnumber "),Es())}function _F(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.productnumber," ")}}function vF(t,e){1&t&&(xs(0,"th",41),na(1," Variant "),Es())}function bF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.variant," ")}}function wF(t,e){1&t&&(xs(0,"th",41),na(1," Name "),Es())}function xF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.name," ")}}function EF(t,e){1&t&&(xs(0,"th",41),na(1," Durability "),Es())}function CF(t,e){if(1&t&&(xs(0,"td",42),na(1),Es()),2&t){const t=e.$implicit;Yi(1),ia(" ",t.durability," ")}}function SF(t,e){1&t&&Cs(0,"tr",43)}function DF(t,e){1&t&&Cs(0,"tr",44)}function IF(t,e){if(1&t&&(xs(0,"div"),xs(1,"div",55),xs(2,"table",33),Ss(3,34),ys(4,yF,2,0,"th",35),ys(5,_F,2,1,"td",36),Ds(),Ss(6,37),ys(7,vF,2,0,"th",35),ys(8,bF,2,1,"td",36),Ds(),Ss(9,38),ys(10,wF,2,0,"th",35),ys(11,xF,2,1,"td",36),Ds(),Ss(12,57),ys(13,EF,2,0,"th",35),ys(14,CF,2,1,"td",36),Ds(),ys(15,SF,1,0,"tr",39),ys(16,DF,1,0,"tr",40),Es(),Es(),Es()),2&t){const t=Ls(2);Yi(2),bs("dataSource",t.dataSourceDurability),Yi(13),bs("matHeaderRowDef",t.displayedColumnsDurability),Yi(1),bs("matRowDefColumns",t.displayedColumnsDurability)}}function AF(t,e){1&t&&(xs(0,"div"),na(1," The model also allow various parameter to improve the model results: "),xs(2,"ul"),xs(3,"li"),na(4,"Default durability: If a durability cannot be assigned to a product, the product get a default durability. The default value is 7 days."),Es(),xs(5,"li"),na(6,"Cutoff: Assumed maximal km a customer is willing to drive for getting groceries. Default is 500 km."),Es(),xs(7,"li"),na(8,"Consume after expiary datee: Assumption that customers will eat products after the durability has expired. Default is 0.1."),Es(),xs(9,"li"),na(10,"Shortest incubation interval: Shortest potential incubation time (days) between consumption and being registered as sick. Value depends on the pathogen."),Es(),xs(11,"li"),na(12,"Longest incubation interval: Longest potential incubation time (days) between consumption and being registered as sick. Value depends on the pathogen."),Es(),xs(13,"li"),na(14,"Epsilon: Constant for multiplying zeroes in likelihood calculations. Default is 100."),Es(),xs(15,"li"),na(16,"Unselect Random: Decision if the cases should be selected random from the list, or by the date of infection. Default is false."),Es(),xs(17,"li"),na(18,"Centroid vs. Center of Mass: There are two approaches to calculate the ceneter of a municipality. Centroid or Center of Mass. It is currently not clear which method is more relieable."),Es(),Es(),Es())}function kF(t,e){if(1&t){const t=As();xs(0,"div",64),Ts("leafletMapReady",function(e){return Oe(t),Ls(2).onMapReady(e)}),Es()}if(2&t){const t=Ls(2);bs("leafletLayers",t.layers)("leafletLayersControl",t.layersControl)("leafletCenter",t.center)("leafletFitBounds",t.fitBounds)}}function OF(t,e){if(1&t&&(xs(0,"div"),ys(1,ZM,18,2,"div",7),ys(2,WM,12,4,"div",7),ys(3,aF,23,7,"div",7),ys(4,uF,19,0,"div",7),ys(5,mF,14,7,"div",7),ys(6,gF,12,0,"div",7),ys(7,IF,17,3,"div",7),ys(8,AF,19,0,"div",7),ys(9,kF,1,4,"div",47),Es()),2&t){const t=Ls();Yi(1),bs("ngIf",!t.stepIndex&&!t.cases&&!t.afterloading),Yi(1),bs("ngIf",!t.cases&&t.afterloading),Yi(1),bs("ngIf",0==t.stepIndex&&t.cases),Yi(1),bs("ngIf",1==t.stepIndex&&!t.products),Yi(1),bs("ngIf",1==t.stepIndex&&t.products),Yi(1),bs("ngIf",2==t.stepIndex&&!t.helpExipiary),Yi(1),bs("ngIf",2==t.stepIndex&&t.helpExipiary),Yi(1),bs("ngIf",3==t.stepIndex&&!t.calculationResult),Yi(1),bs("ngIf",t.calculationResult)}}let TF=(()=>{class t{constructor(t,e,n){this.api=t,this.zone=e,this._formBuilder=n,this.title="nova",this.distancematrixmode="centroid",this.fontStyleControl=new FS,this.defaultdurability=7,this.cutoff=500,this.afterconsume=.1,this.incubationmax=4,this.incubationmin=1,this.epsilon=100,this.unselectrandom=!1,this.mincases=5,this.nrplots=5,this.options={layers:[oD.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:4,center:oD.latLng(0,0)},this.layers=[],this.fitBounds=[[50,0],[80,25]],this.regions=[],this.center=[0,0],this.clicked="",this.isLinear=!1,this.stepIndex=0,this.displayedColumns=["select","position","name","weight","symbol"],this.dataSource=new nR,this.selection=new dD(!0,[]),this.displayedColumnsProducts=["select","product"],this.dataSourceProduct=new nR,this.selectionProduct=new dD(!0,[]),this.displayedColumnsDurability=["position","name","weight","symbol"],this.dataSourceDurability=new nR,this.selectionDurability=new dD(!0,[]),this.displayedColumnsResult=["position","name","weight"],this.dataSourceResult=new nR,this.loading=!1,this.afterloading=!1,this.message="Fetching data from the web. Please wait.",this.start=!1,this.country="NO",this.countryarray=["ES","DK","IT","LU","PT","CZ","EE","NL","CH","IS","NO","DE","AT","BE","SI","SK","PL","FR","RO","IE","FI","CY","RS","EL","UK","BG","SE","MT","HR","HU","LT","LV","TR"]}onStart(){this.loading=!0,this.afterloading=!0,console.log(this.country),this.api.getLAU().subscribe(t=>{var e;this.handleFileInput(),this.geojson=(e=t.features,new Jy(Object.keys(e).map(function(t){return{Field:t,Value:e[t]}}))),this.geojson=this.geojson.toArray(),this.api.getPopulation().subscribe(e=>{this.population=e;let n=t,r=[],i=[],o=Array.of(e)[0];console.log("pop",Array.of(e)[0]),console.log("pos",o),console.log("laus",n);for(let t=0;t<o.length;t++)o[t].giscoid.includes(this.country)&&i.push(o[t]);console.log("pope",i);for(let u=0;u<t.features.length;u++)t.features[u].properties.CNTR_CODE.includes(this.country)&&r.push(t.features[u]);for(let t=0;t<r.length;t++)for(let e=0;e<i.length;e++)i[e].giscoid.includes(r[t].properties.GISCO_ID)&&(r[t].properties.density=i[e].population/PC.area(r[t].geometry)*1e7,delete r[t].properties.POP_2019,delete r[t].properties.POP_DENS_2019,delete r[t].properties.AREA_KM2,delete r[t].properties.YEAR);console.log("Y",r),n.features=r,console.log("LA0",n),this.countryGeoJson=n;const s=oD.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."});let a=oD.geoJSON(n,{onEachFeature:this.onPopUp.bind(this),style:function(t){return{fillColor:(e=t.properties.density,e>1e3?"#800026":e>500?"#BD0026":e>200?"#E31A1C":e>100?"#FC4E2A":e>50?"#FD8D3C":e>20?"#FEB24C":e>10?"#FED976":"#FFEDA0"),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7};var e}});this.layers=[s,a],this.layersControl={baseLayers:{"OpenStreetMap Mapnik":s},overlays:{Norway:a}}})})}ngOnInit(){this.firstFormGroup=this._formBuilder.group({firstCtrl:["",$C.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",$C.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",$C.required]}),this.forthFromGroup=this._formBuilder.group({defaultdurability:[7,$C.required],cutoff:[500,$C.required],afterconsume:[.1,$C.required],incubationmax:[4,$C.required],incubationmin:[1,$C.required],epsilon:[100,$C.required],unselectrandom:[!1,$C.required],mincases:[5,$C.required],nrplots:[5,$C.required],distancematrixmode:["centroid",$C.required]})}onMapReady(t){setTimeout(()=>{t.invalidateSize(),this.map=t})}onPopUp(t,e){this.zone.run(()=>{this.regions.push(t.properties.name),e.on("click",t=>{this.zone.run(()=>{this.fitBounds=t.target.getBounds(),this.clicked=t.target.feature.properties.name})})})}handleFileInput(){console.log("GO"),this.message="Processing data. Please wait.",this.api.getCodes().subscribe(t=>{this.post=t}),this.api.getPostal(this.country).subscribe(t=>{let e=[];JSON.parse(JSON.stringify(t)).forEach(t=>{t.CNTR_ID==this.country&&e.push(t)}),this.postalcodes=e,this.start=!0,this.loading=!1})}calculateDistanceMatrix(){let t=[];"centerofmass"==this.distancematrixmode?(console.log("Mass"),this.geojson.forEach(e=>{if(e.Value.properties.GISCO_ID.includes(this.country)){let n={LAU:e.Value.properties.GISCO_ID,center:PC.centerOfMass(e.Value.geometry),area:PC.area(e.Value.geometry)};t.push(n)}})):(console.log("centrod"),this.geojson.forEach(e=>{if(e.Value.properties.GISCO_ID.includes(this.country)){let n={LAU:e.Value.properties.GISCO_ID,center:PC.centroid(e.Value.geometry),area:PC.area(e.Value.geometry)};t.push(n)}})),console.log("Centers",t);let e=[];t.forEach(n=>{let r=[];t.forEach(t=>{let e=PC.distance(n.center,t.center);r.push({lau:t.LAU,distance:e})}),e.push({lau:n.LAU,area:n.area,distances:r})}),console.log("Matrix",e),this.distancematrix=e}handleCaseInput(t){this.loading=!0,this.file=t.target.files[0];const e=new FileReader;e.addEventListener("load",t=>{this.cases=t.target.result,this.cases=function(t){if(!Zy(t))throw new Error("Expected 'jsonTextString' parameter to 'dataForge.fromJSON' to be a string containing data encoded in the JSON format.");return new Jy({values:JSON.parse(t)})}(this.cases),this.cases=this.cases.toArray(),console.log(this.cases),this.dataSource=new nR(this.cases);let e=[];this.cases.forEach(t=>{this.countryGeoJson.features.forEach(n=>{n.properties.LAU_ID==t.zip.toLowerCase()&&e.push(n)})}),e.forEach(t=>{let n=0;e.forEach(e=>{t.properties.LAU_ID==e.properties.LAU_ID&&n++}),t.properties.casenumbers=n}),console.log(e);let n=this.countryGeoJson;n.features=e;let r=oD.geoJSON(n,{onEachFeature:this.onPopUp.bind(this),style:function(t){return{fillColor:(e=t.properties.casenumbers,e>8?"#081c15":e>7?"#1b4332":e>6?"#2d6a4f":e>5?"#40916c":e>4?"#52b788":e>3?"#74c69d":e>2?"#95d5b2":e>1?"#b7e4c7":e>0?"#d8f3dc":"#FFEDA0"),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7};var e}});this.layers.push(r),this.layersControl.overlays.cases=r,this.masterToggle(),this.loading=!1}),e.readAsText(this.file)}handleProductInput(t){this.loading=!0,this.file=t.target.files[0];const e=new FileReader;e.addEventListener("load",t=>{this.products=t.target.result,this.products=c_(this.products),this.productsGrouped=this.products.groupBy(t=>t.variantname).select(t=>({product:t.first().variantname})),this.productsGrouped=this.productsGrouped.toArray(),this.dataSourceProduct=new nR(this.productsGrouped),this.masterToggleProducts(),this.loading=!1}),e.readAsText(this.file)}removeProducts(){}handleHelpExpiaryInput(t){console.log("products",this.productsGroupedMuni),this.file=t.target.files[0],this.loading=!0;const e=new FileReader;e.addEventListener("load",t=>{this.helpExipiary=t.target.result,this.helpExipiary=c_(this.helpExipiary),this.helpExipiary=this.helpExipiary.toArray(),this.dataSourceDurability=new nR(this.helpExipiary),console.log("help",this.helpExipiary),this.loading=!1}),e.readAsText(this.file)}goBack(t){t.previous(),this.stepIndex=t.selectedIndex,console.log(this.stepIndex)}goForward(t){t.next(),this.stepIndex=t.selectedIndex,console.log(this.stepIndex)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.zip+1}`:(this.isAllSelected()?"select":"deselect")+" all"}isAllSelectedProducts(){return this.selectionProduct.selected.length===this.dataSourceProduct.data.length}masterToggleProducts(){this.isAllSelectedProducts()?this.selectionProduct.clear():this.dataSourceProduct.data.forEach(t=>this.selectionProduct.select(t))}checkboxLabelProducts(t){return t?`${this.selectionProduct.isSelected(t)?"deselect":"select"} row ${t.product+1}`:(this.isAllSelectedProducts()?"select":"deselect")+" all"}checkboxLabelDurability(t){return t?`${this.selectionDurability.isSelected(t)?"deselect":"select"} row ${t.productnumber+1}`:(this.isAllSelectedProducts()?"select":"deselect")+" all"}isAllSelectedDurability(){return this.selectionDurability.selected.length===this.dataSourceDurability.data.length}masterToggleDurability(){this.isAllSelected()?this.selectionDurability.clear():this.dataSourceDurability.data.forEach(t=>this.selectionDurability.select(t))}toggleLoading(){this.message="Calculating model. Please wait.",this.loading=!0,setTimeout(()=>{this.runWasi()})}saveAsJSON(){const t=new Blob([JSON.stringify(this.calculationResult)],{type:"text/plain;charset=utf-8"});console.log("file",t),(0,rR.saveAs)(t,"result.json")}runWasi2(t){if("undefined"!=typeof Worker){console.log("Worker GO");const e=new Worker(n.tu(new URL(n.p+n.u(164),n.b)));e.onmessage=({data:t})=>{this.calculationResult=JSON.parse(JSON.parse(t));let e=[];this.calculationResult.forEach(t=>{e.push({productnumber:t.productnumber,variant:t.variant,name:t.name})}),this.dataSourceResult=new nR(this.calculationResult),this.loading=!1},e.postMessage(t)}else console.log("NO worker")}runWasi(){console.log("cases",this.cases),this.helpExipiary=this.dataSourceDurability.filteredData,this.cases=this.dataSource.data,this.products=this.products.toArray();let t=[],e=[];this.cases.forEach((n,r)=>{let i=1;this.cases.forEach((t,o)=>{n.dateofinfection!=t.dateofinfection||n.municipality!=t.municipality||r==o||e.includes(r)||e.includes(o)||(i++,e.push(o))}),t.push({zip:n.zip,pathogen:n.pathogen,municipality:n.municipality,dateofinfection:n.dateofinfection,count:i})}),console.log("Help",t),t.forEach(t=>{this.postalcodes.forEach(e=>{e.GISCO_ID.includes("NO_"+t.zip)&&(t.zip=e.GISCO_ID)})}),console.log("Help",t),this.products.forEach(t=>{t.deliverydate=NC().transform(t.deliverydate,"YYYYMMDD","YYYY-MM-DD")}),console.log("Prod",this.products),t.forEach(t=>{t.dateofinfection=NC().transform(t.dateofinfection,"DD.MM.YYYY","YYYY-MM-DD")}),this.calculateDistanceMatrix();let n=[];this.population.forEach(t=>{t.country===this.country&&n.push(t)}),console.log(this.postalcodes,"Codes");for(let i=0;i<this.products.length;i++)for(let t=0;t<this.postalcodes.length;t++)this.postalcodes[t].PC_CNTR.includes(this.products[i].deliverypostcode)&&(this.products[i].deliverypostcode=this.postalcodes[t].GISCO_ID);console.log("product with lau",this.products);let r=[];n.forEach(t=>{this.distancematrix.forEach(e=>{t.giscoid.includes(e.lau)&&(e.populationdensity=Number.parseFloat(t.population)/(Number.parseInt(e.area)/1e6),r.push(e))})}),console.log("Arguments",t,this.products,this.helpExipiary,r,this.incubationmax,this.incubationmin),this.runWasi2({casesaggregated:t,products:this.products,helpExipiary:this.helpExipiary,populationdensity:r,incubationmax:this.incubationmax,incubationmin:this.incubationmin}),this.wasmFilePath="./worker.wasm",this.echoStr="This assembly",this.wasmFs=new RC,this.wasi=new Ab({args:[this.wasmFilePath,JSON.stringify(t),JSON.stringify(this.products),JSON.stringify(this.helpExipiary),JSON.stringify(r),this.incubationmax,this.incubationmin],env:{},bindings:Object.assign(Object.assign({},Ab.defaultBindings),{fs:this.wasmFs.fs})})}startWasiTask(t){return function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(t,[])).next())})}(this,0,void 0,function*(){let e=yield fetch(t),n=new Uint8Array(yield e.arrayBuffer()),r=yield WebAssembly.compile(n),i=yield WebAssembly.instantiate(r,Object.assign({},this.wasi.getImports(r)));this.wasi.start(i);let o=yield this.wasmFs.getStdOut();return String(o)})}}return t.\u0275fac=function(e){return new(e||t)(vs(iR),vs(_l),vs(iD))},t.\u0275cmp=Ut({type:t,selectors:[["app-root"]],decls:12,vars:3,consts:[["color","primary"],[1,"example-spacer"],["cols","2","rowHeight","100%"],[2,"height","fit-content","width","fit-content"],[2,"height","95%","width","95%"],[3,"linear","selectedIndex",4,"ngIf"],["class","center1",4,"ngIf"],[4,"ngIf"],[3,"linear","selectedIndex"],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"form-group"],["for","file"],["type","file",3,"change"],["mat-raised-button","","type","button",3,"click"],["matInput","","type","number","formControlName","defaultdurability"],["matInput","","type","number","formControlName","cutoff"],["matInput","","type","number","formControlName","afterconsume","standalone",""],["matInput","","type","number","formControlName","incubationmax","standalone",""],["matInput","","type","number","formControlName","incubationmin","standalone",""],["matInput","","type","number","formControlName","epsilon","standalone",""],["aria-label","Font Style","formControlName","unselectrandom","standalone",""],["value","true"],["value","false"],["aria-label","Font Style","formControlName","distancematrixmode","standalone",""],["value","centroid"],["value","centerofmass"],["mat-raised-button","","matStepperPrevious",""],["mat-raised-button","","matStepperNext","",3,"click"],["mat-raised-button","",3,"click"],[1,"example-container2"],["mat-table","",3,"dataSource"],["matColumnDef","position","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"center1"],[1,"message"],["style","height: 900px; width: 900px;","leaflet","",3,"leafletLayers","leafletLayersControl","leafletCenter","leafletFitBounds","leafletMapReady",4,"ngIf"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"center2"],["center","","mat-raised-button","","color","primary",3,"click"],[3,"value"],["leaflet","",2,"height","450px","width","725px",3,"leafletLayers","leafletLayersControl","leafletCenter","leafletFitBounds","leafletMapReady"],[1,"example-container"],["matColumnDef","select"],["matColumnDef","symbol","stickyEnd",""],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[3,"checked","indeterminate","aria-label","change"],[3,"checked","aria-label","click","change"],["mat-row","",3,"click"],["matColumnDef","select","sticky",""],["matColumnDef","product","stickyEnd",""],["leaflet","",2,"height","900px","width","900px",3,"leafletLayers","leafletLayersControl","leafletCenter","leafletFitBounds","leafletMapReady"]],template:function(t,e){1&t&&(xs(0,"mat-toolbar",0),xs(1,"span"),na(2,"EJP NOVA"),Es(),Cs(3,"span",1),Es(),xs(4,"mat-grid-list",2),xs(5,"mat-grid-tile",3),xs(6,"mat-card",4),ys(7,GM,94,11,"mat-vertical-stepper",5),Es(),Es(),xs(8,"mat-grid-tile"),xs(9,"mat-card",4),ys(10,HM,4,1,"div",6),ys(11,OF,10,9,"div",7),Es(),Es(),Es()),2&t&&(Yi(7),bs("ngIf",e.start),Yi(3),bs("ngIf",e.loading),Yi(1),bs("ngIf",!e.loading))},directives:[cR,SR,yR,kR,Ec,VP,jP,YS,dS,JS,TP,nP,wL,fL,TL,WS,qC,pS,tD,zL,qL,qP,UP,HT,WT,ZT,YT,KT,JT,$T,XT,QT,tR,tN,oM,HS,wc,zT,uM,cM,dM,IM],styles:[".center1[_ngcontent-%COMP%]{height:300px}.center1[_ngcontent-%COMP%], .center2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.message[_ngcontent-%COMP%]{position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%)}.tp-radio-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.tp-radio-button[_ngcontent-%COMP%]{margin:5px}.tp-selected-value[_ngcontent-%COMP%]{margin:15px 0}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-stepper-vertical[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}.mat-table[_ngcontent-%COMP%]{height:20px;overflow:auto;width:100%}.example-container[_ngcontent-%COMP%]{height:400px}.example-container[_ngcontent-%COMP%], .example-container2[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow:auto}.example-container2[_ngcontent-%COMP%]{height:450px}table[_ngcontent-%COMP%]{width:100%}td.mat-column-star[_ngcontent-%COMP%]{width:20px;padding-right:8px}td.mat-column-position[_ngcontent-%COMP%], th.mat-column-position[_ngcontent-%COMP%]{padding-left:8px}.mat-table-sticky-border-elem-right[_ngcontent-%COMP%]{border-left:1px solid #e0e0e0}.mat-table-sticky-border-elem-left[_ngcontent-%COMP%]{border-right:1px solid #e0e0e0}"]}),t})();const RF={provide:il,useFactory:function(t,e){return()=>{if(Rc(e)){const e=Array.from(t.querySelectorAll(`[class*=${PF}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${PF}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[Kl,rl],multi:!0},PF="flex-layout-";let LF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({providers:[RF]}),t})();const NF={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},MF=new Yn("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>NF}),FF=new Yn("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),BF=new Yn("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});let jF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[LF]]}),t})(),zF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[LF,vD]]}),t})(),VF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[LF]]}),t})(),UF=(()=>{class t{constructor(t,e){(function(t){return"server"===t})(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:MF,useValue:Object.assign(Object.assign({},NF),e)},{provide:BF,useValue:n,multi:!0},{provide:FF,useValue:!0}]:[{provide:MF,useValue:Object.assign(Object.assign({},NF),e)},{provide:BF,useValue:n,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(cr(FF),cr(rl))},t.\u0275mod=Yt({type:t}),t.\u0275inj=ft({imports:[[zF,jF,VF],zF,jF,VF]}),t})(),qF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yt({type:t,bootstrap:[TF]}),t.\u0275inj=ft({providers:[],imports:[[mh,Vm,Jh,oT,kM,nD,rD,GL,SL,RL,mM,hR,vP,DR,GP,eR,OR,UF,eN,rP,sM]]}),t})();(function(){if(Tl)throw new Error("Cannot enable prod mode after platform setup.");Ol=!1})(),ph().bootstrapModule(qF).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=211)}]);