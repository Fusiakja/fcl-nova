(()=>{"use strict";var e,g={615:(e,s,o)=>{var f=o(183),c=o.n(f),n=o(784);addEventListener("message",({data:a})=>{console.log("Preprcessworker ");let u=[],_=[];a.cases.forEach((r,i)=>{let l=1;a.cases.forEach((h,y)=>{r.dateofinfection==h.dateofinfection&&r.municipality==h.municipality&&i!=y&&!_.includes(i)&&!_.includes(y)&&(l++,_.push(y))}),u.push({zip:r.zip,pathogen:r.pathogen,municipality:r.municipality,dateofinfection:r.dateofinfection,count:l})}),u.forEach(r=>{a.postalcodes.forEach(i=>{i.GISCO_ID.includes("NO_"+r.zip)&&(r.zip=i.GISCO_ID)})}),a.products.forEach(r=>{r.deliverydate=c().transform(r.deliverydate,"YYYYMMDD","YYYY-MM-DD")}),u.forEach(r=>{r.dateofinfection=c().transform(r.dateofinfection,"DD.MM.YYYY","YYYY-MM-DD")});let d=[];a.geojson.forEach("centerofmass"==a.distancematrixmode?r=>{if(r.Value.properties.GISCO_ID.includes(a.country)){let i={LAU:r.Value.properties.GISCO_ID,center:n.centerOfMass(r.Value.geometry),area:n.area(r.Value.geometry)};d.push(i)}}:r=>{if(r.Value.properties.GISCO_ID.includes(a.country)){let i={LAU:r.Value.properties.GISCO_ID,center:n.centroid(r.Value.geometry),area:n.area(r.Value.geometry)};d.push(i)}});let O=[];d.forEach(r=>{let i=[];d.forEach(l=>{let h=n.distance(r.center,l.center);i.push({lau:l.LAU,distance:h})}),O.push({lau:r.LAU,area:r.area,distances:i})});let D=[];a.population.forEach(r=>{r.country===a.country&&D.push(r)});for(let r=0;r<a.products.length;r++)for(let i=0;i<a.postalcodes.length;i++)a.postalcodes[i].PC_CNTR.includes(a.products[r].deliverypostcode)&&(a.products[r].deliverypostcode=a.postalcodes[i].GISCO_ID);let M=[];D.forEach(r=>{O.forEach(i=>{r.giscoid.includes(i.lau)&&(i.populationdensity=Number.parseFloat(r.population)/(Number.parseInt(i.area)/1e6),M.push(i))})}),postMessage({casesaggregated:u,products:a.products,helpExipiary:a.helpExipiary,populationdensity:M})})}},E={};function t(e){var s=E[e];if(void 0!==s)return s.exports;var o=E[e]={exports:{}};return g[e].call(o.exports,o,o.exports,t),o.exports}t.m=g,t.x=()=>{var e=t.O(void 0,[722],()=>t(615));return t.O(e)},e=[],t.O=(s,o,f,c)=>{if(!o){var p=1/0;for(n=0;n<e.length;n++){for(var[o,f,c]=e[n],a=!0,u=0;u<o.length;u++)(!1&c||p>=c)&&Object.keys(t.O).every(v=>t.O[v](o[u]))?o.splice(u--,1):(a=!1,c<p&&(p=c));if(a){e.splice(n--,1);var _=f();void 0!==_&&(s=_)}}return s}c=c||0;for(var n=e.length;n>0&&e[n-1][2]>c;n--)e[n]=e[n-1];e[n]=[o,f,c]},t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((s,o)=>(t.f[o](e,s),s),[])),t.u=e=>e+".js",t.miniCssF=e=>{},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e;t.tu=s=>(void 0===e&&(e={createScriptURL:o=>o},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e.createScriptURL(s))})(),t.p="",(()=>{var e={615:1};t.f.i=(c,n)=>{e[c]||importScripts(t.tu(t.p+t.u(c)))};var o=self.webpackChunknova=self.webpackChunknova||[],f=o.push.bind(o);o.push=c=>{var[n,p,a]=c;for(var u in p)t.o(p,u)&&(t.m[u]=p[u]);for(a&&a(t);n.length;)e[n.pop()]=1;f(c)}})(),(()=>{var e=t.x;t.x=()=>t.e(722).then(e)})(),t.x()})();